<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"harmonyostech.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next&#96;s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoo">
<meta property="og:type" content="website">
<meta property="og:title" content="HarmonyOS NEXT Knowledge Charging Station">
<meta property="og:url" content="https://harmonyostech.github.io/index.html">
<meta property="og:site_name" content="HarmonyOS NEXT Knowledge Charging Station">
<meta property="og:description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next&#96;s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Qingkouwei">
<meta property="article:tag" content="HarmonyOSNext, HarmonyOS NEXT, HarmonyOS, Cangjie">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://harmonyostech.github.io/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>HarmonyOS NEXT Knowledge Charging Station</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">HarmonyOS NEXT Knowledge Charging Station</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Analysis of Core Technologies and Application Scenarios of HarmonyOS NEXT</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/30/630%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Recommended-Project-Structure-Global-Popup-Background-Image-Filling-Indicator-Component-Issues-Semi-Modal-Transition-Layer/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/30/630%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Recommended-Project-Structure-Global-Popup-Background-Image-Filling-Indicator-Component-Issues-Semi-Modal-Transition-Layer/" class="post-title-link" itemprop="url">【Daily HarmonyOS Next Knowledge】Recommended Project Structure, Global Popup, Background Image Filling, Indicator Component Issues, Semi-Modal Transition Layer</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-30 08:45:27 / Modified: 08:45:55" itemprop="dateCreated datePublished" datetime="2025-06-30T08:45:27+08:00">2025-06-30</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="【Daily-HarmonyOS-Next-Knowledge】Recommended-Project-Structure-Global-Popup-Background-Image-Filling-Indicator-Component-Issues-Semi-Modal-Transition-Layer"><a href="#【Daily-HarmonyOS-Next-Knowledge】Recommended-Project-Structure-Global-Popup-Background-Image-Filling-Indicator-Component-Issues-Semi-Modal-Transition-Layer" class="headerlink" title="【Daily HarmonyOS Next Knowledge】Recommended Project Structure, Global Popup, Background Image Filling, Indicator Component Issues, Semi-Modal Transition Layer"></a>【Daily HarmonyOS Next Knowledge】Recommended Project Structure, Global Popup, Background Image Filling, Indicator Component Issues, Semi-Modal Transition Layer</h3><h4 id="1-How-many-UIAbilities-are-recommended-for-a-HarmonyOS-project"><a href="#1-How-many-UIAbilities-are-recommended-for-a-HarmonyOS-project" class="headerlink" title="1. How many UIAbilities are recommended for a HarmonyOS project?"></a>1. How many UIAbilities are recommended for a HarmonyOS project?</h4><p>What are the main scenarios for using one UIAbility versus multiple UIAbilities?  </p>
<ol>
<li>Regarding project structure design, whether to use <strong>one UIAbility + multiple pages</strong> or <strong>multiple UIAbilities + multiple pages</strong>: If mini-programs are not involved, it is recommended to use one UIAbility. Multiple UIAbilities will appear as separate entries in the task list, so the choice should be determined by actual requirements. For development cases, refer to best practices on layered architecture design: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/best-practices-V5/bpta-layered-architecture-design-V5">https://developer.huawei.com/consumer/cn/doc/best-practices-V5/bpta-layered-architecture-design-V5</a>  </li>
<li>Scenarios mainly involve interaction; refer to this document: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/uiability-intra-device-interaction-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/uiability-intra-device-interaction-V5</a></li>
</ol>
<h4 id="2-HarmonyOS-global-popup-demo"><a href="#2-HarmonyOS-global-popup-demo" class="headerlink" title="2. HarmonyOS global popup demo?"></a>2. HarmonyOS global popup demo?</h4><p>Requirement for mutual logout by phone number: When logging in with a phone number on device A, if the same number is logged in on device B, a dialog should pop up on device A to inform the user that the number is logged in on another device and this device has been logged out. The dialog must be visible on any page of the app on device A.  </p>
<p>Refer to the following demo:  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">index.ets</span><br><span class="line">import &#123; GlobalContext &#125; from &#x27;./GlobalContext&#x27;;</span><br><span class="line">import &#123; testPromptDialog &#125; from &#x27;./HttpUtil&#x27;;</span><br><span class="line">import &#123; promptAction &#125; from &#x27;@kit.ArkUI&#x27;;</span><br><span class="line"></span><br><span class="line">@Entry</span><br><span class="line">@Component</span><br><span class="line">struct Index &#123;</span><br><span class="line">  aboutToAppear(): void &#123;</span><br><span class="line">    GlobalContext.getContext().setObject(&#x27;UIContext&#x27;, this)</span><br><span class="line">  &#125;</span><br><span class="line">  build() &#123;</span><br><span class="line">    Row() &#123;</span><br><span class="line">      Column() &#123;</span><br><span class="line">        Button(&quot;promptAction Popup&quot;)</span><br><span class="line">          .onClick(() =&gt; &#123;</span><br><span class="line">            testPromptDialog()</span><br><span class="line">          &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">      .width(&#x27;100%&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">    .height(&#x27;100%&#x27;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">GlobalContext.ets</span><br><span class="line"></span><br><span class="line">export class GlobalContext &#123;</span><br><span class="line">  private constructor() &#123;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  private static instance: GlobalContext;</span><br><span class="line">  private _objects = new Map&lt;string, Object&gt;();</span><br><span class="line">  public static getContext(): GlobalContext &#123;</span><br><span class="line">    if (!GlobalContext.instance) &#123;</span><br><span class="line">      GlobalContext.instance = new GlobalContext();</span><br><span class="line">    &#125;</span><br><span class="line">    return GlobalContext.instance;</span><br><span class="line">  &#125;</span><br><span class="line">  getObject(value: string): Object | undefined &#123;</span><br><span class="line">    return this._objects.get(value);</span><br><span class="line">  &#125;</span><br><span class="line">  setObject(key: string, objectClass: Object): void &#123;</span><br><span class="line">    this._objects.set(key, objectClass);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">HttpUtil.ets</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">let customDialogId: number = 0</span><br><span class="line">@Builder</span><br><span class="line">export function customDialogBuilder(content: String) &#123;</span><br><span class="line">  Column() &#123;</span><br><span class="line">    Text(`Tip: $&#123;content&#125;`).fontSize(20).height(&quot;30%&quot;)</span><br><span class="line">    Text(&#x27;Failure Reason: Failure!&#x27;).fontSize(16).height(&quot;30%&quot;)</span><br><span class="line">    Row() &#123;</span><br><span class="line">      Button(&quot;Confirm&quot;).onClick(() =&gt; &#123;</span><br><span class="line">        promptAction.closeCustomDialog(customDialogId)</span><br><span class="line">      &#125;)</span><br><span class="line">      Blank().width(50)</span><br><span class="line">      Button(&quot;Cancel&quot;).onClick(() =&gt; &#123;</span><br><span class="line">        promptAction.closeCustomDialog(customDialogId)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    .margin(&#123; top: 30 &#125;)</span><br><span class="line">  &#125;.height(200).padding(5)</span><br><span class="line">&#125;</span><br><span class="line">export function testPromptDialog() &#123;</span><br><span class="line">  const that = GlobalContext.getContext().getObject(&#x27;UIContext&#x27;) as UIContext;</span><br><span class="line">  if (that) &#123;</span><br><span class="line">    promptAction.openCustomDialog(&#123;</span><br><span class="line">      builder: customDialogBuilder.bind(that, &quot;Network Request Failed!&quot;)</span><br><span class="line">    &#125;).then((dialogId: number) =&gt; &#123;</span><br><span class="line">      customDialogId = dialogId;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### 3. How to make the background or image fill the entire phone screen in HarmonyOS?  </span><br><span class="line">Refer to immersive development: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-develop-apply-immersive-effects-V5  </span><br><span class="line">Typical full-screen UI elements include the status bar, app interface, and bottom navigation bar. The status bar and navigation bar are usually called避让区 (avoidance areas) in immersive layouts, while the area outside is the安全区 (safe area). Developing immersive effects mainly involves adjusting the display of the status bar, app interface, and navigation bar to reduce the abruptness of system UI elements like the status bar and navigation bar, thereby enhancing the user&#x27;s UI experience.  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### 4. Issues modifying the indicator in HarmonyOS Swiper?  </span><br><span class="line">The built-in properties of Swiper do not support setting indicator spacing. To set spacing, custom UI is required. Example code:  </span><br></pre></td></tr></table></figure>
<p>class MyDataSource implements IDataSource {<br>  private list: number[] &#x3D; []</p>
<p>  constructor(list: number[]) {<br>    this.list &#x3D; list<br>  }</p>
<p>  totalCount(): number {<br>    return this.list.length<br>  }</p>
<p>  getData(index: number): number {<br>    return this.list[index]<br>  }</p>
<p>  registerDataChangeListener(listener: DataChangeListener): void {<br>  }</p>
<p>  unregisterDataChangeListener() {<br>  }<br>}</p>
<p>@Entry<br>@Component<br>struct SwiperExample {<br>  private swiperController: SwiperController &#x3D; new SwiperController()<br>  private data: MyDataSource &#x3D; new MyDataSource([])<br>  @State widthLength: number &#x3D; 0<br>  @State heightLength: number &#x3D; 0<br>  @State currentIndex: number &#x3D; 0<br>  &#x2F;&#x2F; Implement custom animation for navigation dots</p>
<p>  private swiperWidth: number &#x3D; 0</p>
<p>  private getTextInfo(index: number): Record&lt;string, number&gt; {<br>    let strJson &#x3D; getInspectorByKey(index.toString())<br>    try {<br>      let obj: Record&lt;string, string&gt; &#x3D; JSON.parse(strJson)<br>      let rectInfo: number[][] &#x3D; JSON.parse(‘[‘ + obj.$rect + ‘]’)<br>      return { ‘left’: px2vp(rectInfo[0][0]), ‘width’: px2vp(rectInfo[1][0] - rectInfo[0][0]) }<br>    } catch (error) {<br>      return { ‘left’: 0, ‘width’: 0 }<br>    }<br>  }</p>
<p>  private getCurrentIndicatorInfo(index: number, event: TabsAnimationEvent): Record&lt;string, number&gt; {<br>    let nextIndex &#x3D; index<br>    if (index &gt; 0 &amp;&amp; event.currentOffset &gt; 0) {<br>      nextIndex–<br>    } else if (index &lt; 3 &amp;&amp; event.currentOffset &lt; 0) {<br>      nextIndex++<br>    }<br>    let indexInfo &#x3D; this.getTextInfo(index)<br>    let nextIndexInfo &#x3D; this.getTextInfo(nextIndex)<br>    let swipeRatio &#x3D; Math.abs(event.currentOffset &#x2F; this.swiperWidth)<br>    let currentIndex &#x3D; swipeRatio &gt; 0.5 ? nextIndex : index &#x2F;&#x2F; Switch to the next page when swiped over half.<br>    let currentLeft &#x3D; indexInfo.left + (nextIndexInfo.left - indexInfo.left) * swipeRatio<br>    let currentWidth &#x3D; indexInfo.width + (nextIndexInfo.width - indexInfo.width) * swipeRatio<br>    return { ‘index’: currentIndex, ‘left’: currentLeft, ‘width’: currentWidth }<br>  }</p>
<p>  aboutToAppear(): void {<br>    let list: number[] &#x3D; []<br>    for (let i &#x3D; 1; i &lt;&#x3D; 6; i++) {<br>      list.push(i);<br>    }<br>    this.data &#x3D; new MyDataSource(list)<br>  }</p>
<p>  build() {<br>    Column({ space: 5 }) {<br>      Stack({ alignContent: Alignment.Bottom }) {<br>        Swiper(this.swiperController) {<br>          Image($r(‘app.media.background’))<br>            .backgroundColor(Color.Red)<br>          Image($r(‘app.media.startIcon’))<br>            .backgroundColor(Color.Red)<br>          Image($r(‘app.media.background’))<br>            .backgroundColor(Color.Red)<br>          Image($r(‘app.media.startIcon’))<br>            .backgroundColor(Color.Red)<br>          Image($r(‘app.media.background’))<br>            .backgroundColor(Color.Red)<br>          Image($r(‘app.media.startIcon’))<br>            .backgroundColor(Color.Red)<br>        }<br>        .width(‘100%’)<br>        .height(‘100%’)<br>        .cachedCount(2)<br>        .index(0)<br>        .autoPlay(false)<br>        .interval(4000)<br>        .loop(true)<br>        .duration(1000)<br>        .itemSpace(0)<br>        .indicator(false)<br>        .curve(Curve.Linear)<br>        .onChange((index: number) &#x3D;&gt; {<br>          console.info(index.toString())<br>          this.currentIndex &#x3D; index<br>        })<br>        .onGestureSwipe((index: number, extraInfo: SwiperAnimationEvent) &#x3D;&gt; {<br>          console.info(“index: “ + index)<br>          console.info(“current offset: “ + extraInfo.currentOffset)</p>
<pre><code>      let currentIndicatorInfo = this.getCurrentIndicatorInfo(index, extraInfo)
      this.currentIndex = currentIndicatorInfo.index
    &#125;)
    .onAnimationStart((index: number, targetIndex: number, extraInfo: SwiperAnimationEvent) =&gt; &#123;
      console.info(&quot;index: &quot; + index)
      console.info(&quot;targetIndex: &quot; + targetIndex)
      console.info(&quot;current offset: &quot; + extraInfo.currentOffset)
      console.info(&quot;target offset: &quot; + extraInfo.targetOffset)
      console.info(&quot;velocity: &quot; + extraInfo.velocity)
      this.currentIndex = targetIndex
    &#125;)
    .onAnimationEnd((index: number, extraInfo: SwiperAnimationEvent) =&gt; &#123;
      console.info(&quot;index: &quot; + index)
      console.info(&quot;current offset: &quot; + extraInfo.currentOffset)
    &#125;)


    Row() &#123;
      LazyForEach(this.data, (item: string, index: number) =&gt; &#123;
        Column()
          .width(this.currentIndex === index ? 15 : 15)
          .height(5)
          .margin(0)
          .borderRadius(5)
          .backgroundColor(this.currentIndex === index ? Color.Red : Color.Gray)
      &#125;, (item: string) =&gt; item)
    &#125;
    .margin(&#123; bottom: 4 &#125;)
  &#125;
&#125;.width(&#39;100%&#39;)
.margin(&#123; top: 5 &#125;)
</code></pre>
<p>  }<br>}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">#### 5. Does HarmonyOS have an API to customize the corner radius of semi-modal transition layers?  </span><br></pre></td></tr></table></figure>
<p>@Entry<br>@Component<br>struct Index {<br>  @State isShow: boolean &#x3D; false<br>  @State isShow2: boolean &#x3D; false<br>  @State sheetHeight: number &#x3D; 300;</p>
<p>  @Builder<br>  myBuilder() {<br>    Column() {<br>      Button(“change height”)<br>        .margin(10)<br>        .fontSize(20)<br>        .onClick(() &#x3D;&gt; {<br>          this.sheetHeight &#x3D; 500;<br>        })</p>
<pre><code>  Button(&quot;Set Illegal height&quot;)
    .margin(10)
    .fontSize(20)
    .onClick(() =&gt; &#123;
      this.sheetHeight = -1;
    &#125;)

  Button(&quot;close modal 1&quot;)
    .margin(10)
    .fontSize(20)
    .onClick(() =&gt; &#123;
      this.isShow = false;
    &#125;)
&#125;
.width(&#39;100%&#39;)
.height(&#39;100%&#39;)
.backgroundColor(&quot;#36D&quot;)
.border(&#123; width: 20, color: &quot;#36D&quot;, radius: &quot;200px&quot; &#125;)
</code></pre>
<p>  }</p>
<p>  build() {<br>    Column() {<br>      Button(“transition modal 1”)<br>        .onClick(() &#x3D;&gt; {<br>          this.isShow &#x3D; true<br>        })<br>        .fontSize(20)<br>        .margin(10)<br>        .bindSheet($$this.isShow, this.myBuilder(), {<br>          height: this.sheetHeight,<br>          maskColor: Color.Red,<br>          backgroundColor: Color.Red,<br>          onAppear: () &#x3D;&gt; {<br>            console.log(“BindSheet onAppear.”)<br>          },<br>          onDisappear: () &#x3D;&gt; {<br>            console.log(“BindSheet onDisappear.”)<br>          }<br>        })<br>    }.justifyContent(FlexAlign.Center).width(‘100%’).height(‘100%’)<br>  }<br>}<br>&#96;&#96;&#96;</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/30/629%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Dark-Mode-Status-Bar-Span-Combination-with-Different-Font-Sizes-Font-Modification-Image-Component-Color-Adjustment-Founder-Fonts/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/30/629%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Dark-Mode-Status-Bar-Span-Combination-with-Different-Font-Sizes-Font-Modification-Image-Component-Color-Adjustment-Founder-Fonts/" class="post-title-link" itemprop="url">【Daily HarmonyOS Next Knowledge】Dark Mode Status Bar, Span Combination with Different Font Sizes, Font Modification, Image Component Color Adjustment, Founder Fonts</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-30 08:44:20 / Modified: 08:44:45" itemprop="dateCreated datePublished" datetime="2025-06-30T08:44:20+08:00">2025-06-30</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="【Daily-HarmonyOS-Next-Knowledge】Dark-Mode-Status-Bar-Span-Combination-with-Different-Font-Sizes-Font-Modification-Image-Component-Color-Adjustment-Founder-Fonts"><a href="#【Daily-HarmonyOS-Next-Knowledge】Dark-Mode-Status-Bar-Span-Combination-with-Different-Font-Sizes-Font-Modification-Image-Component-Color-Adjustment-Founder-Fonts" class="headerlink" title="【Daily HarmonyOS Next Knowledge】Dark Mode Status Bar, Span Combination with Different Font Sizes, Font Modification, Image Component Color Adjustment, Founder Fonts"></a>【Daily HarmonyOS Next Knowledge】Dark Mode Status Bar, Span Combination with Different Font Sizes, Font Modification, Image Component Color Adjustment, Founder Fonts</h3><h4 id="1-HarmonyOS-Status-bar-information-time-battery-etc-invisible-after-enabling-dark-mode"><a href="#1-HarmonyOS-Status-bar-information-time-battery-etc-invisible-after-enabling-dark-mode" class="headerlink" title="1. HarmonyOS Status bar information (time, battery, etc.) invisible after enabling dark mode?"></a>1. HarmonyOS Status bar information (time, battery, etc.) invisible after enabling dark mode?</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">AbilityConstant</span>, <span class="title class_">Configuration</span>, <span class="title class_">UIAbility</span>, <span class="title class_">Want</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@kit.AbilityKit&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; hilog &#125; <span class="keyword">from</span> <span class="string">&#x27;@kit.PerformanceAnalysisKit&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="variable language_">window</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@kit.ArkUI&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">BusinessError</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@kit.BasicServicesKit&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">EntryAbility</span> <span class="keyword">extends</span> <span class="title class_ inherited__">UIAbility</span> &#123;</span><br><span class="line">  <span class="attr">colorMode</span>: <span class="built_in">number</span> | <span class="literal">undefined</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">  <span class="title function_">onConfigurationUpdate</span>(<span class="attr">newConfig</span>: <span class="title class_">Configuration</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">colorMode</span> = newConfig.<span class="property">colorMode</span></span><br><span class="line">    <span class="keyword">let</span> <span class="attr">windowStage</span>: <span class="variable language_">window</span>.<span class="property">WindowStage</span> | <span class="literal">undefined</span> = <span class="title class_">AppStorage</span>.<span class="title function_">get</span>(<span class="string">&#x27;windowStage&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> (windowStage !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">changeColor</span>(windowStage)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="title function_">onCreate</span>(<span class="attr">want</span>: <span class="title class_">Want</span>, <span class="attr">launchParam</span>: <span class="title class_">AbilityConstant</span>.<span class="property">LaunchParam</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    hilog.<span class="title function_">info</span>(<span class="number">0x0000</span>, <span class="string">&#x27;testTag&#x27;</span>, <span class="string">&#x27;%&#123;public&#125;s&#x27;</span>, <span class="string">&#x27;Ability onCreate&#x27;</span>);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">colorMode</span> = <span class="variable language_">this</span>.<span class="property">context</span>.<span class="property">config</span>.<span class="property">colorMode</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">onDestroy</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    hilog.<span class="title function_">info</span>(<span class="number">0x0000</span>, <span class="string">&#x27;testTag&#x27;</span>, <span class="string">&#x27;%&#123;public&#125;s&#x27;</span>, <span class="string">&#x27;Ability onDestroy&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">changeColor</span>(<span class="params"><span class="attr">windowStage</span>: <span class="variable language_">window</span>.<span class="title class_">WindowStage</span></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="attr">windowClass</span>: <span class="variable language_">window</span>.<span class="property">Window</span> | <span class="literal">null</span></span><br><span class="line">    windowStage.<span class="title function_">getMainWindow</span>(<span class="function">(<span class="params"><span class="attr">err</span>: <span class="title class_">BusinessError</span>, data</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> <span class="attr">errCode</span>: <span class="built_in">number</span> = err.<span class="property">code</span>;</span><br><span class="line">      <span class="keyword">if</span> (errCode) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;Failed to obtain the main window. Cause: &#x27;</span> + <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(err));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      windowClass = data;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&#x27;Succeeded in obtaining the main window. Data: &#x27;</span> + <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data));</span><br><span class="line"></span><br><span class="line">      <span class="keyword">let</span> <span class="attr">sysBarProps</span>: <span class="variable language_">window</span>.<span class="property">SystemBarProperties</span> = &#123;</span><br><span class="line">        <span class="attr">statusBarColor</span>: <span class="variable language_">this</span>.<span class="property">colorMode</span> === <span class="number">0</span> ? <span class="string">&#x27;#aa00ff0b&#x27;</span> : <span class="string">&#x27;#ff00ff&#x27;</span>,</span><br><span class="line">        <span class="attr">navigationBarColor</span>: <span class="string">&#x27;#00ff00&#x27;</span>,</span><br><span class="line">        <span class="comment">// The following two properties are supported from API Version 8</span></span><br><span class="line">        <span class="attr">statusBarContentColor</span>: <span class="variable language_">this</span>.<span class="property">colorMode</span> === <span class="number">0</span> ? <span class="string">&#x27;#aaff0000&#x27;</span> : <span class="string">&#x27;#ff002aff&#x27;</span>,</span><br><span class="line">        <span class="attr">navigationBarContentColor</span>: <span class="string">&#x27;#ffffff&#x27;</span></span><br><span class="line">      &#125;;</span><br><span class="line">      windowClass.<span class="title function_">setWindowSystemBarProperties</span>(sysBarProps, <span class="function">(<span class="params"><span class="attr">err</span>: <span class="title class_">BusinessError</span></span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> <span class="attr">errCode</span>: <span class="built_in">number</span> = err.<span class="property">code</span>;</span><br><span class="line">        <span class="keyword">if</span> (errCode) &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;Failed to set the system bar properties. Cause: &#x27;</span> + <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(err));</span><br><span class="line">          <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&#x27;Succeeded in setting the system bar properties.&#x27;</span>);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="title function_">onWindowStageCreate</span>(<span class="attr">windowStage</span>: <span class="variable language_">window</span>.<span class="property">WindowStage</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="comment">// Main window is created, set main page for this ability</span></span><br><span class="line">    hilog.<span class="title function_">info</span>(<span class="number">0x0000</span>, <span class="string">&#x27;testTag&#x27;</span>, <span class="string">&#x27;%&#123;public&#125;s&#x27;</span>, <span class="string">&#x27;Ability onWindowStageCreate&#x27;</span>);</span><br><span class="line">    <span class="title class_">AppStorage</span>.<span class="title function_">setOrCreate</span>(<span class="string">&#x27;windowStage&#x27;</span>, windowStage)</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">changeColor</span>(windowStage)</span><br><span class="line"></span><br><span class="line">    windowStage.<span class="title function_">loadContent</span>(<span class="string">&#x27;pages/Index&#x27;</span>, <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (err.<span class="property">code</span>) &#123;</span><br><span class="line">        hilog.<span class="title function_">error</span>(<span class="number">0x0000</span>, <span class="string">&#x27;testTag&#x27;</span>, <span class="string">&#x27;Failed to load the content. Cause: %&#123;public&#125;s&#x27;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(err) ?? <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      hilog.<span class="title function_">info</span>(<span class="number">0x0000</span>, <span class="string">&#x27;testTag&#x27;</span>, <span class="string">&#x27;Succeeded in loading the content.&#x27;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">onWindowStageDestroy</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="comment">// Main window is destroyed, release UI related resources</span></span><br><span class="line">    hilog.<span class="title function_">info</span>(<span class="number">0x0000</span>, <span class="string">&#x27;testTag&#x27;</span>, <span class="string">&#x27;%&#123;public&#125;s&#x27;</span>, <span class="string">&#x27;Ability onWindowStageDestroy&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">onForeground</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="comment">// Ability has brought to foreground</span></span><br><span class="line"></span><br><span class="line">    hilog.<span class="title function_">info</span>(<span class="number">0x0000</span>, <span class="string">&#x27;testTag&#x27;</span>, <span class="string">&#x27;%&#123;public&#125;s&#x27;</span>, <span class="string">&#x27;Ability onForeground&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">onBackground</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="comment">// Ability has back to background</span></span><br><span class="line">    hilog.<span class="title function_">info</span>(<span class="number">0x0000</span>, <span class="string">&#x27;testTag&#x27;</span>, <span class="string">&#x27;%&#123;public&#125;s&#x27;</span>, <span class="string">&#x27;Ability onBackground&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 2. How to align multiple Spans with different font sizes to the top in HarmonyOS?  </span></span><br><span class="line"><span class="string">When handling complex text scenarios, multiple Spans and ImageSpans need to be combined. However, consecutive Spans with different font sizes are currently aligned to the bottom. How to set top alignment?  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Currently, the Span in Text does not support alignment properties. If this requirement exists, you can use a Row containing multiple Text components and set alignment. Refer to the example below:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="title class_">Row</span>() &#123;</span><br><span class="line">  <span class="title class_">Text</span>() &#123;</span><br><span class="line">    <span class="title class_">Span</span>(<span class="string">&#x27;Span1，&#x27;</span>).<span class="title function_">fontSize</span>(<span class="number">50</span>).<span class="title function_">fontColor</span>(<span class="title class_">Color</span>.<span class="property">Grey</span>)</span><br><span class="line">      .<span class="title function_">decoration</span>(&#123; <span class="attr">type</span>: <span class="title class_">TextDecorationType</span>.<span class="property">LineThrough</span>, <span class="attr">color</span>: <span class="title class_">Color</span>.<span class="property">Red</span> &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title class_">Text</span>() &#123;</span><br><span class="line">    <span class="title class_">Span</span>(<span class="string">&#x27;Span2&#x27;</span>).<span class="title function_">fontColor</span>(<span class="title class_">Color</span>.<span class="property">Blue</span>).<span class="title function_">fontSize</span>(<span class="number">30</span>)</span><br><span class="line">      .<span class="title function_">fontStyle</span>(<span class="title class_">FontStyle</span>.<span class="property">Italic</span>)</span><br><span class="line">      .<span class="title function_">decoration</span>(&#123; <span class="attr">type</span>: <span class="title class_">TextDecorationType</span>.<span class="property">Underline</span>, <span class="attr">color</span>: <span class="title class_">Color</span>.<span class="property">Black</span> &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title class_">Text</span>() &#123;</span><br><span class="line">    <span class="title class_">Span</span>(<span class="string">&#x27;Span3&#x27;</span>).<span class="title function_">fontSize</span>(<span class="number">20</span>).<span class="title function_">fontColor</span>(<span class="title class_">Color</span>.<span class="property">Grey</span>)</span><br><span class="line">      .<span class="title function_">decoration</span>(&#123; <span class="attr">type</span>: <span class="title class_">TextDecorationType</span>.<span class="property">Overline</span>, <span class="attr">color</span>: <span class="title class_">Color</span>.<span class="property">Green</span> &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">.<span class="title function_">alignItems</span>(<span class="title class_">VerticalAlign</span>.<span class="property">Top</span>)</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 3. Does HarmonyOS Text support modifying fontFamily?  </span></span><br><span class="line"><span class="string">Text supports modifying fontFamily. After registering custom fonts, directly set the fontFamily property for Text. Refer to the documentation: https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-font-V5  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 4. Does HarmonyOS Image component have a method to change the color of icons in PNG images?  </span></span><br><span class="line"><span class="string">To modify the color of PNG images, use colorFilter: https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-image-V5  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 5. Founder fonts missing on HarmonyOS phones?  </span></span><br><span class="line"><span class="string">Check if registering custom fonts meets the requirement: https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-font-V5  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="title function_">registerFont</span>(<span class="attr">options</span>: <span class="title class_">FontOptions</span>): <span class="built_in">void</span><span class="string">`  </span></span><br><span class="line"><span class="string">Registers a custom font in the font management system.  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="comment">// xxx.ets</span></span><br><span class="line"><span class="keyword">import</span> &#123; font &#125; <span class="keyword">from</span> <span class="string">&#x27;@kit.ArkUI&#x27;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">FontExample</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">message</span>: <span class="built_in">string</span> = <span class="string">&#x27;Hello World&#x27;</span>;</span><br><span class="line">  <span class="comment">// IconFont example, assuming \u0000 is the specified icon&#x27;s Unicode (actual Unicode should be obtained from the registered iconFont&#x27;s TTF file)</span></span><br><span class="line">  <span class="meta">@State</span> <span class="attr">unicode</span>: <span class="built_in">string</span> = <span class="string">&#x27;\u0000&#x27;</span>;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">codePoint</span>: <span class="built_in">string</span> = <span class="title class_">String</span>.<span class="title function_">fromCharCode</span>(<span class="number">0x0000</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="title function_">aboutToAppear</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// Both familyName and familySrc support system Resources</span></span><br><span class="line">    font.<span class="title function_">registerFont</span>(&#123;</span><br><span class="line">      <span class="comment">// It is recommended to use this.getUIContext().getFont().registerFont() interface</span></span><br><span class="line">      <span class="attr">familyName</span>: $r(<span class="string">&#x27;app.string.font_name&#x27;</span>),</span><br><span class="line">      <span class="attr">familySrc</span>: $r(<span class="string">&#x27;app.string.font_src&#x27;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// familySrc supports RawFile</span></span><br><span class="line">    font.<span class="title function_">registerFont</span>(&#123;</span><br><span class="line">      <span class="attr">familyName</span>: <span class="string">&#x27;mediumRawFile&#x27;</span>,</span><br><span class="line">      <span class="attr">familySrc</span>: $rawfile(<span class="string">&#x27;font/medium.ttf&#x27;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Register iconFont</span></span><br><span class="line">    font.<span class="title function_">registerFont</span>(&#123;</span><br><span class="line">      <span class="attr">familyName</span>: <span class="string">&#x27;iconFont&#x27;</span>,</span><br><span class="line">      <span class="attr">familySrc</span>: <span class="string">&#x27;/font/iconFont.ttf&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Both familyName and familySrc support strings</span></span><br><span class="line">    font.<span class="title function_">registerFont</span>(&#123;</span><br><span class="line">      <span class="attr">familyName</span>: <span class="string">&#x27;medium&#x27;</span>,</span><br><span class="line">      <span class="attr">familySrc</span>: <span class="string">&#x27;/font/medium.ttf&#x27;</span> <span class="comment">// The font folder is at the same level as the pages directory</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">message</span>)</span><br><span class="line">        .<span class="title function_">align</span>(<span class="title class_">Alignment</span>.<span class="property">Center</span>)</span><br><span class="line">        .<span class="title function_">fontSize</span>(<span class="number">20</span>)</span><br><span class="line">        .<span class="title function_">fontFamily</span>(<span class="string">&#x27;medium&#x27;</span>) <span class="comment">// &#x27;medium&#x27; is the name of the registered custom font ($r(&#x27;app.string.mediumFamilyName&#x27;), &#x27;mediumRawFile&#x27;, etc., can also be used)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      <span class="comment">// Two ways to use iconFont</span></span><br><span class="line">      <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">unicode</span>)</span><br><span class="line">        .<span class="title function_">align</span>(<span class="title class_">Alignment</span>.<span class="property">Center</span>)</span><br><span class="line">        .<span class="title function_">fontSize</span>(<span class="number">20</span>)</span><br><span class="line">        .<span class="title function_">fontFamily</span>(<span class="string">&#x27;iconFont&#x27;</span>)</span><br><span class="line">      <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">codePoint</span>)</span><br><span class="line">        .<span class="title function_">align</span>(<span class="title class_">Alignment</span>.<span class="property">Center</span>)</span><br><span class="line">        .<span class="title function_">fontSize</span>(<span class="number">20</span>)</span><br><span class="line">        .<span class="title function_">fontFamily</span>(<span class="string">&#x27;iconFont&#x27;</span>)</span><br><span class="line">    &#125;.<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/30/628%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Component-Offset-Popup-Arrow-Color-Bubble-Radius-Dynamic-Attributes-Scan-UI-Implementation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/30/628%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Component-Offset-Popup-Arrow-Color-Bubble-Radius-Dynamic-Attributes-Scan-UI-Implementation/" class="post-title-link" itemprop="url">【Daily HarmonyOS Next Knowledge】Component Offset, Popup Arrow Color & Bubble Radius, Dynamic Attributes, Scan UI Implementation</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-30 08:41:40 / Modified: 08:44:37" itemprop="dateCreated datePublished" datetime="2025-06-30T08:41:40+08:00">2025-06-30</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="【Daily-HarmonyOS-Next-Knowledge】Component-Offset-Popup-Arrow-Color-Bubble-Radius-Dynamic-Attributes-Scan-UI-Implementation"><a href="#【Daily-HarmonyOS-Next-Knowledge】Component-Offset-Popup-Arrow-Color-Bubble-Radius-Dynamic-Attributes-Scan-UI-Implementation" class="headerlink" title="【Daily HarmonyOS Next Knowledge】Component Offset, Popup Arrow Color &amp; Bubble Radius, Dynamic Attributes, Scan UI Implementation"></a>【Daily HarmonyOS Next Knowledge】Component Offset, Popup Arrow Color &amp; Bubble Radius, Dynamic Attributes, Scan UI Implementation</h3><h4 id="1-HarmonyOS-popup-component-offset-after-page-content-switching"><a href="#1-HarmonyOS-popup-component-offset-after-page-content-switching" class="headerlink" title="1. HarmonyOS popup component offset after page content switching?"></a>1. HarmonyOS popup component offset after page content switching?</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> dataItem &#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">price</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">price2</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Index</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">dataSource</span>: <span class="title class_">Array</span>&lt;dataItem&gt; = [</span><br><span class="line">    &#123; <span class="attr">title</span>: <span class="string">&#x27;AAAAAA&#x27;</span>, <span class="attr">price</span>: <span class="number">100</span>, <span class="attr">price2</span>: <span class="number">111</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">title</span>: <span class="string">&#x27;BBBBBB&#x27;</span>, <span class="attr">price</span>: <span class="number">299</span>, <span class="attr">price2</span>: <span class="number">398</span> &#125;</span><br><span class="line">  ];</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">index</span>: <span class="built_in">number</span> = <span class="number">0</span>;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">qty</span>: <span class="built_in">number</span> = <span class="number">0</span>;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">qty2</span>: <span class="built_in">number</span> = <span class="number">0</span>;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">total</span>: <span class="built_in">number</span> = <span class="number">0</span>;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">total2</span>: <span class="built_in">number</span> = <span class="number">0</span>;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">showModal</span>: <span class="built_in">boolean</span> = <span class="literal">false</span>;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">showPopup</span>: <span class="built_in">boolean</span> = <span class="literal">false</span>;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">showPopup2</span>: <span class="built_in">boolean</span> = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">handleClick</span>(<span class="params"><span class="attr">type</span>: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">type</span> === <span class="string">&#x27;minus&#x27;</span> &amp;&amp; <span class="variable language_">this</span>.<span class="property">qty</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">qty</span> -= <span class="number">1</span>;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">total</span> = <span class="variable language_">this</span>.<span class="property">qty</span> * <span class="variable language_">this</span>.<span class="property">dataSource</span>[<span class="variable language_">this</span>.<span class="property">index</span>].<span class="property">price</span>;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">showPopup</span> = <span class="variable language_">this</span>.<span class="property">qty</span> &gt; <span class="number">0</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">type</span> === <span class="string">&#x27;add&#x27;</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">qty</span> += <span class="number">1</span>;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">total</span> = <span class="variable language_">this</span>.<span class="property">qty</span> * <span class="variable language_">this</span>.<span class="property">dataSource</span>[<span class="variable language_">this</span>.<span class="property">index</span>].<span class="property">price</span>;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">showPopup</span> = <span class="variable language_">this</span>.<span class="property">qty</span> &gt; <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">handleClick2</span>(<span class="params"><span class="attr">type</span>: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">type</span> === <span class="string">&#x27;minus&#x27;</span> &amp;&amp; <span class="variable language_">this</span>.<span class="property">qty2</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">qty2</span> -= <span class="number">1</span>;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">total2</span> = <span class="variable language_">this</span>.<span class="property">qty2</span> * <span class="variable language_">this</span>.<span class="property">dataSource</span>[<span class="variable language_">this</span>.<span class="property">index</span>].<span class="property">price2</span>;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">showPopup2</span> = <span class="variable language_">this</span>.<span class="property">qty2</span> &gt; <span class="number">0</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">type</span> === <span class="string">&#x27;add&#x27;</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">qty2</span> += <span class="number">1</span>;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">total2</span> = <span class="variable language_">this</span>.<span class="property">qty2</span> * <span class="variable language_">this</span>.<span class="property">dataSource</span>[<span class="variable language_">this</span>.<span class="property">index</span>].<span class="property">price2</span>;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">showPopup2</span> = <span class="variable language_">this</span>.<span class="property">qty2</span> &gt; <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Builder</span></span><br><span class="line">  <span class="title function_">modalBuilder</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">ForEach</span>(<span class="variable language_">this</span>.<span class="property">dataSource</span>, <span class="function">(<span class="params"><span class="attr">item</span>: dataItem, <span class="attr">index</span>: <span class="built_in">number</span></span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="title class_">Text</span>(item.<span class="property">title</span>)</span><br><span class="line">          .<span class="title function_">width</span>(<span class="string">&#x27;90%&#x27;</span>)</span><br><span class="line">          .<span class="title function_">height</span>(<span class="number">50</span>)</span><br><span class="line">          .<span class="title function_">textAlign</span>(<span class="title class_">TextAlign</span>.<span class="property">Center</span>)</span><br><span class="line">          .<span class="title function_">border</span>(&#123; <span class="attr">width</span>: <span class="number">1</span> &#125;)</span><br><span class="line">          .<span class="title function_">margin</span>(&#123; <span class="attr">bottom</span>: <span class="number">10</span> &#125;)</span><br><span class="line">          .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">index</span> = index;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">total</span> = <span class="variable language_">this</span>.<span class="property">qty</span> * <span class="variable language_">this</span>.<span class="property">dataSource</span>[<span class="variable language_">this</span>.<span class="property">index</span>].<span class="property">price</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">total2</span> = <span class="variable language_">this</span>.<span class="property">qty2</span> * <span class="variable language_">this</span>.<span class="property">dataSource</span>[<span class="variable language_">this</span>.<span class="property">index</span>].<span class="property">price2</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">showModal</span> = <span class="literal">false</span>;</span><br><span class="line">          &#125;)</span><br><span class="line">      &#125;, <span class="function">(<span class="params"><span class="attr">item</span>: dataItem, <span class="attr">index</span>: <span class="built_in">number</span></span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> item.<span class="property">title</span>;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">padding</span>(&#123; <span class="attr">top</span>: <span class="number">100</span> &#125;)</span><br><span class="line">    .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">backgroundColor</span>(<span class="title class_">Color</span>.<span class="property">White</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Builder</span></span><br><span class="line">  <span class="title function_">popupBuilder</span>(<span class="params"><span class="attr">type</span>: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Text</span>(<span class="title class_">String</span>(<span class="keyword">type</span> === <span class="number">1</span> ? <span class="variable language_">this</span>.<span class="property">total</span> : <span class="variable language_">this</span>.<span class="property">total2</span>))</span><br><span class="line">        .<span class="title function_">fontSize</span>(<span class="number">11</span>)</span><br><span class="line">        .<span class="title function_">fontColor</span>(<span class="title class_">Color</span>.<span class="property">White</span>)</span><br><span class="line">        .<span class="title function_">padding</span>(&#123;</span><br><span class="line">          <span class="attr">top</span>: <span class="number">1</span>,</span><br><span class="line">          <span class="attr">bottom</span>: <span class="number">1</span>,</span><br><span class="line">          <span class="attr">left</span>: <span class="number">12</span>,</span><br><span class="line">          <span class="attr">right</span>: <span class="number">12</span></span><br><span class="line">        &#125;)</span><br><span class="line">        .<span class="title function_">backgroundColor</span>(<span class="title class_">Color</span>.<span class="property">Black</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Row</span>() &#123;</span><br><span class="line">        <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">dataSource</span>[<span class="variable language_">this</span>.<span class="property">index</span>].<span class="property">title</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">height</span>(<span class="number">50</span>)</span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&#x27;90%&#x27;</span>)</span><br><span class="line">      .<span class="title function_">justifyContent</span>(<span class="title class_">FlexAlign</span>.<span class="property">Center</span>)</span><br><span class="line">      .<span class="title function_">border</span>(&#123; <span class="attr">width</span>: <span class="number">1</span> &#125;)</span><br><span class="line">      .<span class="title function_">bindSheet</span>(<span class="variable language_">this</span>.<span class="property">showModal</span>, <span class="variable language_">this</span>.<span class="title function_">modalBuilder</span>(), &#123;</span><br><span class="line">        <span class="attr">height</span>: <span class="number">300</span>,</span><br><span class="line">        <span class="attr">dragBar</span>: <span class="literal">false</span></span><br><span class="line">      &#125;)</span><br><span class="line">      .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">showModal</span> = !<span class="variable language_">this</span>.<span class="property">showModal</span>;</span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">Row</span>() &#123;</span><br><span class="line">          <span class="title class_">Text</span>(<span class="string">&#x27;-&#x27;</span>)</span><br><span class="line">            .<span class="title function_">width</span>(<span class="number">30</span>)</span><br><span class="line">            .<span class="title function_">height</span>(<span class="number">30</span>)</span><br><span class="line">            .<span class="title function_">backgroundColor</span>(<span class="title class_">Color</span>.<span class="property">Red</span>)</span><br><span class="line">            .<span class="title function_">fontColor</span>(<span class="title class_">Color</span>.<span class="property">White</span>)</span><br><span class="line">            .<span class="title function_">textAlign</span>(<span class="title class_">TextAlign</span>.<span class="property">Center</span>)</span><br><span class="line">            .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">handleClick</span>(<span class="string">&#x27;minus&#x27;</span>))</span><br><span class="line">          <span class="title class_">Text</span>(<span class="title class_">String</span>(<span class="variable language_">this</span>.<span class="property">total</span>))</span><br><span class="line">            .<span class="title function_">height</span>(<span class="number">30</span>)</span><br><span class="line">            .<span class="title function_">border</span>(&#123; <span class="attr">width</span>: <span class="number">1</span>, <span class="attr">color</span>: <span class="title class_">Color</span>.<span class="property">Red</span> &#125;)</span><br><span class="line">            .<span class="title function_">width</span>(<span class="number">60</span>)</span><br><span class="line">            .<span class="title function_">textAlign</span>(<span class="title class_">TextAlign</span>.<span class="property">Center</span>)</span><br><span class="line">          <span class="title class_">Text</span>(<span class="string">&#x27;+&#x27;</span>)</span><br><span class="line">            .<span class="title function_">width</span>(<span class="number">30</span>)</span><br><span class="line">            .<span class="title function_">height</span>(<span class="number">30</span>)</span><br><span class="line">            .<span class="title function_">backgroundColor</span>(<span class="title class_">Color</span>.<span class="property">Red</span>)</span><br><span class="line">            .<span class="title function_">fontColor</span>(<span class="title class_">Color</span>.<span class="property">White</span>)</span><br><span class="line">            .<span class="title function_">textAlign</span>(<span class="title class_">TextAlign</span>.<span class="property">Center</span>)</span><br><span class="line">            .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">handleClick</span>(<span class="string">&#x27;add&#x27;</span>))</span><br><span class="line">        &#125;</span><br><span class="line">        .<span class="title function_">margin</span>(&#123; <span class="attr">bottom</span>: <span class="number">20</span> &#125;)</span><br><span class="line">        .<span class="title function_">bindPopup</span>(<span class="variable language_">this</span>.<span class="property">showPopup</span>, &#123;</span><br><span class="line">          <span class="attr">builder</span>: <span class="variable language_">this</span>.<span class="title function_">popupBuilder</span>(<span class="number">1</span>),</span><br><span class="line">          <span class="attr">popupColor</span>: <span class="title class_">Color</span>.<span class="property">Black</span>,</span><br><span class="line">          <span class="attr">placement</span>: <span class="title class_">Placement</span>.<span class="property">Top</span>,</span><br><span class="line">          <span class="attr">autoCancel</span>: <span class="literal">false</span>,</span><br><span class="line">          <span class="attr">radius</span>: <span class="number">1</span>,</span><br><span class="line">          <span class="attr">mask</span>: <span class="literal">false</span>,</span><br><span class="line">          <span class="attr">arrowWidth</span>: <span class="number">8</span>,</span><br><span class="line">          <span class="attr">arrowHeight</span>: <span class="number">6</span>,</span><br><span class="line">          <span class="attr">shadow</span>: <span class="title class_">ShadowStyle</span>.<span class="property">OUTER_DEFAULT_XS</span></span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="title class_">Row</span>() &#123;</span><br><span class="line">          <span class="title class_">Text</span>(<span class="string">&#x27;-&#x27;</span>)</span><br><span class="line">            .<span class="title function_">width</span>(<span class="number">30</span>)</span><br><span class="line">            .<span class="title function_">height</span>(<span class="number">30</span>)</span><br><span class="line">            .<span class="title function_">backgroundColor</span>(<span class="title class_">Color</span>.<span class="property">Red</span>)</span><br><span class="line">            .<span class="title function_">fontColor</span>(<span class="title class_">Color</span>.<span class="property">White</span>)</span><br><span class="line">            .<span class="title function_">textAlign</span>(<span class="title class_">TextAlign</span>.<span class="property">Center</span>)</span><br><span class="line">            .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">handleClick2</span>(<span class="string">&#x27;minus&#x27;</span>))</span><br><span class="line">          <span class="title class_">Text</span>(<span class="title class_">String</span>(<span class="variable language_">this</span>.<span class="property">total2</span>))</span><br><span class="line">            .<span class="title function_">height</span>(<span class="number">30</span>)</span><br><span class="line">            .<span class="title function_">border</span>(&#123; <span class="attr">width</span>: <span class="number">1</span>, <span class="attr">color</span>: <span class="title class_">Color</span>.<span class="property">Red</span> &#125;)</span><br><span class="line">            .<span class="title function_">width</span>(<span class="number">60</span>)</span><br><span class="line">            .<span class="title function_">textAlign</span>(<span class="title class_">TextAlign</span>.<span class="property">Center</span>)</span><br><span class="line">          <span class="title class_">Text</span>(<span class="string">&#x27;+&#x27;</span>)</span><br><span class="line">            .<span class="title function_">width</span>(<span class="number">30</span>)</span><br><span class="line">            .<span class="title function_">height</span>(<span class="number">30</span>)</span><br><span class="line">            .<span class="title function_">backgroundColor</span>(<span class="title class_">Color</span>.<span class="property">Red</span>)</span><br><span class="line">            .<span class="title function_">fontColor</span>(<span class="title class_">Color</span>.<span class="property">White</span>)</span><br><span class="line">            .<span class="title function_">textAlign</span>(<span class="title class_">TextAlign</span>.<span class="property">Center</span>)</span><br><span class="line">            .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">handleClick2</span>(<span class="string">&#x27;add&#x27;</span>))</span><br><span class="line">        &#125;</span><br><span class="line">        .<span class="title function_">bindPopup</span>(<span class="variable language_">this</span>.<span class="property">showPopup2</span>, &#123;</span><br><span class="line">          <span class="attr">builder</span>: <span class="variable language_">this</span>.<span class="title function_">popupBuilder</span>(<span class="number">2</span>),</span><br><span class="line">          <span class="attr">popupColor</span>: <span class="title class_">Color</span>.<span class="property">Black</span>,</span><br><span class="line">          <span class="attr">placement</span>: <span class="title class_">Placement</span>.<span class="property">Top</span>,</span><br><span class="line">          <span class="attr">autoCancel</span>: <span class="literal">false</span>,</span><br><span class="line">          <span class="attr">radius</span>: <span class="number">1</span>,</span><br><span class="line">          <span class="attr">mask</span>: <span class="literal">false</span>,</span><br><span class="line">          <span class="attr">arrowWidth</span>: <span class="number">8</span>,</span><br><span class="line">          <span class="attr">arrowHeight</span>: <span class="number">6</span>,</span><br><span class="line">          <span class="attr">shadow</span>: <span class="title class_">ShadowStyle</span>.<span class="property">OUTER_DEFAULT_XS</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">alignItems</span>(<span class="title class_">HorizontalAlign</span>.<span class="property">Start</span>)</span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">      .<span class="title function_">padding</span>(<span class="number">20</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">padding</span>(&#123; <span class="attr">top</span>: <span class="number">50</span> &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="2-How-to-set-arrow-color-and-bubble-content-radius-when-using-HarmonyOS-bindPopup"><a href="#2-How-to-set-arrow-color-and-bubble-content-radius-when-using-HarmonyOS-bindPopup" class="headerlink" title="2. How to set arrow color and bubble content radius when using HarmonyOS bindPopup?"></a>2. How to set arrow color and bubble content radius when using HarmonyOS bindPopup?</h4><ul>
<li><code>radius: &#39;10vp&#39;</code> &#x2F;&#x2F; Set bubble corner radius  </li>
<li><code>backgroundBlurStyle: BlurStyle.NONE</code> &#x2F;&#x2F; Set arrow color, associated with the <code>popupColor</code> attribute</li>
</ul>
<p><strong>Demo reference</strong>:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">BindPopupDemo</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">customPopup</span>: <span class="built_in">boolean</span> = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Builder</span></span><br><span class="line">  <span class="title function_">popupBuilder</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>(&#123; <span class="attr">space</span>: <span class="number">2</span> &#125;) &#123;</span><br><span class="line">      <span class="title class_">Row</span>().<span class="title function_">width</span>(<span class="number">64</span>)</span><br><span class="line">        .<span class="title function_">height</span>(<span class="number">64</span>)</span><br><span class="line">        .<span class="title function_">backgroundColor</span>(<span class="number">0x409eff</span>)</span><br><span class="line">      <span class="title class_">Text</span>(<span class="string">&#x27;Popup&#x27;</span>)</span><br><span class="line">        .<span class="title function_">fontSize</span>(<span class="number">10</span>)</span><br><span class="line">        .<span class="title function_">fontColor</span>(<span class="title class_">Color</span>.<span class="property">White</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">justifyContent</span>(<span class="title class_">FlexAlign</span>.<span class="property">SpaceAround</span>)</span><br><span class="line">    .<span class="title function_">width</span>(<span class="number">100</span>)</span><br><span class="line">    .<span class="title function_">height</span>(<span class="number">100</span>)</span><br><span class="line">    .<span class="title function_">padding</span>(<span class="number">5</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Builder</span></span><br><span class="line">  <span class="title function_">customBubbleInstructionBuilder</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Stack</span>() &#123;</span><br><span class="line">      <span class="title class_">Text</span>() &#123;</span><br><span class="line">        <span class="title class_">Span</span>(<span class="string">&quot;2021年12月20日-2022月1日30日每人限购8件  已购买3件，还可购5件&quot;</span>).<span class="title function_">fontSize</span>(<span class="number">12</span>)</span><br><span class="line">        <span class="title class_">Span</span>(<span class="string">&quot; 已购买3件，还可购5件&quot;</span>).<span class="title function_">fontSize</span>(<span class="number">14</span>)</span><br><span class="line">      &#125;.<span class="title function_">fontColor</span>(<span class="title class_">Color</span>.<span class="property">White</span>)</span><br><span class="line">      .<span class="title function_">maxLines</span>(<span class="number">2</span>).<span class="title function_">textOverflow</span>(&#123; <span class="attr">overflow</span>: <span class="title class_">TextOverflow</span>.<span class="property">Ellipsis</span> &#125;).<span class="title function_">ellipsisMode</span>(<span class="title class_">EllipsisMode</span>.<span class="property">END</span>)</span><br><span class="line">    &#125;.<span class="title function_">backgroundColor</span>(<span class="number">0x409eff</span>)</span><br><span class="line">    .<span class="title function_">width</span>(<span class="number">100</span>)</span><br><span class="line">    .<span class="title function_">padding</span>(&#123;</span><br><span class="line">      <span class="attr">left</span>: <span class="number">12</span>,</span><br><span class="line">      <span class="attr">right</span>: <span class="number">12</span>,</span><br><span class="line">      <span class="attr">top</span>: <span class="number">18</span>,</span><br><span class="line">      <span class="attr">bottom</span>: <span class="number">8</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Button</span>(<span class="string">&#x27;click&#x27;</span>)</span><br><span class="line">        .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">customPopup</span> = !<span class="variable language_">this</span>.<span class="property">customPopup</span>;</span><br><span class="line">        &#125;)</span><br><span class="line">        .<span class="title function_">backgroundColor</span>(<span class="number">0xf56c6c</span>)</span><br><span class="line">        .<span class="title function_">bindPopup</span>(<span class="variable language_">this</span>.<span class="property">customPopup</span>, &#123;</span><br><span class="line">          <span class="attr">builder</span>: <span class="variable language_">this</span>.<span class="property">customBubbleInstructionBuilder</span>,</span><br><span class="line">          <span class="attr">placement</span>: <span class="title class_">Placement</span>.<span class="property">Top</span>,</span><br><span class="line">          <span class="attr">maskColor</span>: <span class="number">0x33000000</span>,</span><br><span class="line">          <span class="attr">popupColor</span>: <span class="number">0xf56c6c</span>,</span><br><span class="line">          <span class="attr">enableArrow</span>: <span class="literal">true</span>,</span><br><span class="line">          <span class="attr">radius</span>: <span class="string">&#x27;10vp&#x27;</span>,</span><br><span class="line">          <span class="attr">backgroundBlurStyle</span>: <span class="title class_">BlurStyle</span>.<span class="property">NONE</span>,</span><br><span class="line">          <span class="attr">onStateChange</span>: <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (!e.<span class="property">isVisible</span>) &#123;</span><br><span class="line">              <span class="variable language_">this</span>.<span class="property">customPopup</span> = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">justifyContent</span>(<span class="title class_">FlexAlign</span>.<span class="property">Center</span>)</span><br><span class="line">    .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">height</span>(<span class="number">437</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="3-Usage-of-HarmonyOS-NativeXComponent"><a href="#3-Usage-of-HarmonyOS-NativeXComponent" class="headerlink" title="3. Usage of HarmonyOS NativeXComponent?"></a>3. Usage of HarmonyOS NativeXComponent?</h4><p><strong>Reference document</strong>: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/_o_h___native_x_component-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/_o_h___native_x_component-V5</a>  </p>
<p>Native XComponent describes the surface and touch events held by ArkUI XComponent, which can be used for EGL&#x2F;OpenGLES and media data input, and displayed on ArkUI XComponent.  </p>
<h4 id="4-HarmonyOS-new-TextAttribute-causes-a-crash-with-the-error-“TextAttribute-is-not-defined”"><a href="#4-HarmonyOS-new-TextAttribute-causes-a-crash-with-the-error-“TextAttribute-is-not-defined”" class="headerlink" title="4. HarmonyOS new TextAttribute() causes a crash with the error “TextAttribute is not defined”?"></a>4. HarmonyOS new TextAttribute() causes a crash with the error “TextAttribute is not defined”?</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">export</span> struct <span class="title class_">IconFontView</span> &#123;</span><br><span class="line">  <span class="meta">@Prop</span> <span class="attr">content</span>: <span class="built_in">string</span> | <span class="literal">null</span> = <span class="literal">null</span>;</span><br><span class="line">  <span class="meta">@Prop</span> <span class="attr">iconModifier</span>: <span class="title class_">TextAttribute</span> = <span class="keyword">new</span> <span class="title class_">TextAttribute</span>();</span><br><span class="line"> <span class="keyword">private</span> <span class="attr">textModifier</span>: <span class="title class_">TextModifier</span> = <span class="keyword">new</span> <span class="title class_">TextModifier</span>(<span class="variable language_">this</span>.<span class="property">iconModifier</span>);</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string">The above code compiles successfully but errors at runtime.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Incorrect usage of TextAttribute. Modify as follows (refer to documentation for usage):**  </span></span><br><span class="line"><span class="string">Document link: https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-attributes-attribute-modifier-V5  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Refer to the usage of buttonAttribute:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyButtonModifier</span> <span class="keyword">implements</span> <span class="title class_">AttributeModifier</span>&lt;<span class="title class_">ButtonAttribute</span>&gt; &#123;</span><br><span class="line">  <span class="attr">isDark</span>: <span class="built_in">boolean</span> = <span class="literal">false</span></span><br><span class="line">  <span class="title function_">applyNormalAttribute</span>(<span class="attr">instance</span>: <span class="title class_">ButtonAttribute</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">isDark</span>) &#123;</span><br><span class="line">      instance.<span class="title function_">backgroundColor</span>(<span class="title class_">Color</span>.<span class="property">Black</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      instance.<span class="title function_">backgroundColor</span>(<span class="title class_">Color</span>.<span class="property">Red</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct attributeDemo &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">modifier</span>: <span class="title class_">MyButtonModifier</span> = <span class="keyword">new</span> <span class="title class_">MyButtonModifier</span>()</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Row</span>() &#123;</span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">Button</span>(<span class="string">&quot;Button&quot;</span>)</span><br><span class="line">          .<span class="title function_">attributeModifier</span>(<span class="variable language_">this</span>.<span class="property">modifier</span>)</span><br><span class="line">          .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">modifier</span>.<span class="property">isDark</span> = !<span class="variable language_">this</span>.<span class="property">modifier</span>.<span class="property">isDark</span></span><br><span class="line">          &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="5-How-to-implement-HarmonyOS-ArkTS-scan-UI"><a href="#5-How-to-implement-HarmonyOS-ArkTS-scan-UI" class="headerlink" title="5. How to implement HarmonyOS ArkTS scan UI?"></a>5. How to implement HarmonyOS ArkTS scan UI?</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Page240419172038091</span>_bak &#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">settings</span>: <span class="title class_">RenderingContextSettings</span> = <span class="keyword">new</span> <span class="title class_">RenderingContextSettings</span>(<span class="literal">true</span>)</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">context</span>: <span class="title class_">CanvasRenderingContext2D</span> = <span class="keyword">new</span> <span class="title class_">CanvasRenderingContext2D</span>(<span class="variable language_">this</span>.<span class="property">settings</span>)</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">screenCenterX</span>: <span class="built_in">number</span> = <span class="number">0</span></span><br><span class="line">  <span class="keyword">private</span> <span class="attr">screenCenterY</span>: <span class="built_in">number</span> = <span class="number">0</span></span><br><span class="line">  <span class="meta">@State</span> <span class="attr">sCanLineY</span>: <span class="built_in">number</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Stack</span>(&#123; <span class="attr">alignContent</span>: <span class="title class_">Alignment</span>.<span class="property">Center</span> &#125;) &#123;</span><br><span class="line">      <span class="title class_">Image</span>($r(<span class="string">&quot;app.media.bg&quot;</span>)).<span class="title function_">width</span>(<span class="number">200</span>)</span><br><span class="line">      <span class="title class_">Canvas</span>(<span class="variable language_">this</span>.<span class="property">context</span>).<span class="title function_">width</span>(<span class="string">&quot;100%&quot;</span>).<span class="title function_">height</span>(<span class="string">&quot;100%&quot;</span>).<span class="title function_">backgroundColor</span>(<span class="title class_">Color</span>.<span class="property">Transparent</span>).<span class="title function_">onReady</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> canvasWidth = <span class="variable language_">this</span>.<span class="property">context</span>.<span class="property">width</span></span><br><span class="line">        <span class="keyword">let</span> canvasHeight = <span class="variable language_">this</span>.<span class="property">context</span>.<span class="property">height</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">screenCenterX</span> = canvasWidth / <span class="number">2</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">screenCenterY</span> = canvasHeight / <span class="number">2</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">context</span>.<span class="property">fillStyle</span> = <span class="string">&quot;#80000000&quot;</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">context</span>.<span class="title function_">beginPath</span>()</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">context</span>.<span class="title function_">moveTo</span>(<span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">context</span>.<span class="title function_">lineTo</span>(<span class="number">0</span>, <span class="variable language_">this</span>.<span class="property">context</span>.<span class="property">height</span>)</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">context</span>.<span class="title function_">lineTo</span>(<span class="variable language_">this</span>.<span class="property">context</span>.<span class="property">width</span>, <span class="variable language_">this</span>.<span class="property">context</span>.<span class="property">height</span>)</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">context</span>.<span class="title function_">lineTo</span>(<span class="variable language_">this</span>.<span class="property">context</span>.<span class="property">width</span>, <span class="number">0</span>)</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">context</span>.<span class="title function_">lineTo</span>(<span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">context</span>.<span class="title function_">fill</span>()</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">context</span>.<span class="title function_">clearRect</span>(<span class="variable language_">this</span>.<span class="property">screenCenterX</span> - <span class="number">100</span>, <span class="variable language_">this</span>.<span class="property">screenCenterY</span> - <span class="number">100</span>, <span class="number">200</span>, <span class="number">200</span>)</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">context</span>.<span class="title function_">beginPath</span>();</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">context</span>.<span class="title function_">moveTo</span>(<span class="variable language_">this</span>.<span class="property">screenCenterX</span>, <span class="variable language_">this</span>.<span class="property">screenCenterY</span>)</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">context</span>.<span class="property">fillStyle</span> = <span class="string">&quot;#802ac327&quot;</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">context</span>.<span class="title function_">fillRect</span>(<span class="variable language_">this</span>.<span class="property">screenCenterX</span> - <span class="number">100</span>, <span class="variable language_">this</span>.<span class="property">screenCenterY</span> - <span class="number">100</span>, <span class="number">200</span>, <span class="number">2</span>)</span><br><span class="line">        <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">context</span>.<span class="title function_">clearRect</span>(<span class="variable language_">this</span>.<span class="property">screenCenterX</span> - <span class="number">100</span>, <span class="variable language_">this</span>.<span class="property">screenCenterY</span> - <span class="number">100</span>, <span class="number">200</span>, <span class="number">200</span>)</span><br><span class="line">          <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">sCanLineY</span> &gt; <span class="number">197</span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">sCanLineY</span> = <span class="number">0</span></span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">sCanLineY</span>++</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">context</span>.<span class="title function_">fillRect</span>(<span class="variable language_">this</span>.<span class="property">screenCenterX</span> - <span class="number">100</span>, <span class="variable language_">this</span>.<span class="property">screenCenterY</span> - <span class="number">100</span> + <span class="variable language_">this</span>.<span class="property">sCanLineY</span>, <span class="number">200</span>, <span class="number">2</span>)</span><br><span class="line">        &#125;, <span class="number">8</span>)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;.<span class="title function_">width</span>(<span class="string">&quot;100%&quot;</span>).<span class="title function_">height</span>(<span class="string">&quot;100%&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/30/627%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91-Area-Change-Issues-Navigation-Jumps-Input-Box-Special-Symbol-Filtering-Inserting-Builders-in-Constructors/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/30/627%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91-Area-Change-Issues-Navigation-Jumps-Input-Box-Special-Symbol-Filtering-Inserting-Builders-in-Constructors/" class="post-title-link" itemprop="url">【Daily HarmonyOS Next Knowledge】 Area Change Issues, Navigation Jumps, Input Box Special Symbol Filtering, Inserting Builders in Constructors</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-30 08:40:49 / Modified: 08:41:03" itemprop="dateCreated datePublished" datetime="2025-06-30T08:40:49+08:00">2025-06-30</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="【Daily-HarmonyOS-Next-Knowledge】-Area-Change-Issues-Navigation-Jumps-Input-Box-Special-Symbol-Filtering-Inserting-Builders-in-Constructors"><a href="#【Daily-HarmonyOS-Next-Knowledge】-Area-Change-Issues-Navigation-Jumps-Input-Box-Special-Symbol-Filtering-Inserting-Builders-in-Constructors" class="headerlink" title="【Daily HarmonyOS Next Knowledge】 Area Change Issues, Navigation Jumps, Input Box Special Symbol Filtering, Inserting Builders in Constructors"></a>【Daily HarmonyOS Next Knowledge】 Area Change Issues, Navigation Jumps, Input Box Special Symbol Filtering, Inserting Builders in Constructors</h3><h4 id="1-Issues-with-HarmonyOS-getInspectorByKey-id-Method"><a href="#1-Issues-with-HarmonyOS-getInspectorByKey-id-Method" class="headerlink" title="1. Issues with HarmonyOS getInspectorByKey(id) Method?"></a>1. Issues with HarmonyOS getInspectorByKey(id) Method?</h4><p>You can try using onAreaChange to obtain it.  </p>
<p><strong>Reference</strong>: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-component-area-change-event-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-component-area-change-event-V5</a><br>The component area change event refers to an event triggered when changes occur in the component’s displayed size, position, etc.  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">onAreaChange</span>(<span class="attr">event</span>: <span class="function">(<span class="params"><span class="attr">oldValue</span>: <span class="title class_">Area</span>, <span class="attr">newValue</span>: <span class="title class_">Area</span></span>) =&gt;</span> <span class="built_in">void</span>): T</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string">This callback is triggered when the component area changes. It only responds to callbacks caused by layout changes that lead to changes in the component&#x27;s size or position.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Rendering property changes caused by drawing changes (such as translate, offset) will not trigger the callback. If the component&#x27;s position is determined by drawing changes (such as bindSheet), it will also not respond to the callback.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 2. How to Localize Text for the value Parameter Passed in HarmonyOS Navigation&#x27;s .menus() Method (Menu Name)?  </span></span><br><span class="line"><span class="string">Currently, attempting to use string resources for the value parameter in Navigation&#x27;s .menus() method.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Code**: `</span><span class="attr">value</span>: $r(<span class="string">&#x27;app.string.Page_close&#x27;</span>)<span class="string">`  </span></span><br><span class="line"><span class="string">**Error**: `</span><span class="title class_">Type</span> ‘<span class="title class_">Resource</span>’ is not assignable to <span class="keyword">type</span> ‘<span class="built_in">string</span>’. &lt;<span class="title class_">ArkTSCheck</span>&gt;<span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Example Code**:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title class_">Navigation</span>() &#123;</span><br><span class="line">    <span class="title class_">Web</span>(&#123; <span class="attr">src</span>: <span class="variable language_">this</span>.<span class="property">webUrl</span>, <span class="attr">controller</span>: <span class="variable language_">this</span>.<span class="property">controller</span> &#125;)</span><br><span class="line">      .<span class="title function_">backgroundColor</span>($r(<span class="string">&#x27;app.color.start_window_background&#x27;</span>))</span><br><span class="line">      .<span class="title function_">darkMode</span>(<span class="variable language_">this</span>.<span class="property">mode</span>)</span><br><span class="line">      .<span class="title function_">forceDarkAccess</span>(<span class="variable language_">this</span>.<span class="property">access</span>)</span><br><span class="line">      .<span class="title function_">overScrollMode</span>(<span class="title class_">OverScrollMode</span>.<span class="property">ALWAYS</span>)</span><br><span class="line">      .<span class="title function_">mixedMode</span>(<span class="title class_">MixedMode</span>.<span class="property">Compatible</span>)</span><br><span class="line">      .<span class="title function_">onPageBegin</span>(<span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">pageEnd</span> = <span class="literal">false</span></span><br><span class="line">      &#125;)</span><br><span class="line">      .<span class="title function_">onPageEnd</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">pageEnd</span> = <span class="literal">true</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">webTitle</span> == <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">webTitle</span> = <span class="variable language_">this</span>.<span class="property">controller</span>.<span class="title function_">getTitle</span>()</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    <span class="keyword">if</span> (!(<span class="variable language_">this</span>.<span class="property">pageEnd</span>)) &#123;</span><br><span class="line">      <span class="title class_">LodingView</span>() </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">  .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">  .<span class="title function_">title</span>(<span class="variable language_">this</span>.<span class="property">NavigationTitle</span>)</span><br><span class="line">  .<span class="title function_">titleMode</span>(<span class="title class_">NavigationTitleMode</span>.<span class="property">Mini</span>)</span><br><span class="line">  .<span class="title function_">hideBackButton</span>(<span class="literal">true</span>)</span><br><span class="line">  .<span class="title function_">menus</span>([&#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="string">&#x27;上一页&#x27;</span>, <span class="attr">icon</span>: <span class="string">&#x27;resources/base/media/web_back.png&#x27;</span>, <span class="attr">action</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">controller</span>.<span class="title function_">backward</span>()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">value</span>: <span class="string">&#x27;下一页&#x27;</span>, <span class="attr">icon</span>: <span class="string">&#x27;resources/base/media/web_next.png&#x27;</span>, <span class="attr">action</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">controller</span>.<span class="title function_">forward</span>()</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">value</span>: <span class="string">&#x27;刷新&#x27;</span>, <span class="attr">icon</span>: <span class="string">&#x27;resources/base/media/web_refresh.png&#x27;</span>, <span class="attr">action</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">controller</span>.<span class="title function_">refresh</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">value</span>: $r(<span class="string">&#x27;app.string.Page_close&#x27;</span>), <span class="attr">icon</span>: <span class="string">&#x27;resources/base/media/web_close.png&#x27;</span>, <span class="attr">action</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      router.<span class="title function_">back</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ])</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Solution**: Convert the Resource type to the actual resource value. For example, if a resource is defined in string.json as `</span>&#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;module_desc&quot;</span>, <span class="string">&quot;value&quot;</span>: <span class="string">&quot;module description&quot;</span>&#125;<span class="string">`, you can obtain the Resource via `</span>$r(<span class="string">&#x27;app.string.module_desc&#x27;</span>)<span class="string">` and use methods like `</span>getStringByName<span class="string">` to get the corresponding string value (i.e., &quot;module description&quot;).  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Reference**: https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-resource-manager-V5  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 3. Where to Configure the name Parameter of the pushPath Method in HarmonyOS Navigation&#x27;s Page Routing (NavPathStack)?  </span></span><br><span class="line"><span class="string">**References**:  </span></span><br><span class="line"><span class="string">- pushPath usage: https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-navigation-V5#pushpath12  </span></span><br><span class="line"><span class="string">- NavPathInfo: https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-navigation-V5#navpathinfo10  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 4. How to Set inputFilter in HarmonyOS to Restrict Character Input (Including Numbers, Upper/Lowercase Letters, and All Special Symbols, Both Chinese and English)?  </span></span><br><span class="line"><span class="string">Refer to the following code for inputFilter:  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="title class_">TextInput</span>(&#123; <span class="attr">placeholder</span>: <span class="string">&#x27;账号&#x27;</span>, <span class="attr">text</span>: <span class="variable language_">this</span>.<span class="property">account</span> &#125;)</span><br><span class="line">  .<span class="title function_">inputFilter</span>(<span class="string">&#x27;![/^((?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!;:@#$%?^&amp;*_-]))([a-zA-Z0-9!;:@#$%?^&amp;*_-])$/]&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(e))</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 5. How to Insert a Builder in a Builder in HarmonyOS?  </span></span><br><span class="line"><span class="string">Refer to the following demo:  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct activeDialog &#123;</span><br><span class="line">  <span class="meta">@Builder</span></span><br><span class="line">  <span class="title function_">customBuilder</span>(<span class="params"></span>) &#123;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@BuilderParam</span> <span class="attr">customBuilderParam</span>: <span class="function">() =&gt;</span> <span class="built_in">void</span> = <span class="variable language_">this</span>.<span class="property">customBuilder</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>(&#123; <span class="attr">space</span>: <span class="number">5</span> &#125;) &#123;</span><br><span class="line">      <span class="title class_">Text</span>(<span class="string">&#x27;9998888888&#x27;</span>)</span><br><span class="line">    &#125;.<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>).<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>).<span class="title function_">justifyContent</span>(<span class="title class_">FlexAlign</span>.<span class="property">Center</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Parent</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">isShow</span>: <span class="built_in">boolean</span> = <span class="literal">true</span></span><br><span class="line">  <span class="meta">@Builder</span></span><br><span class="line">  <span class="title function_">componentBuilder</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Text</span>(<span class="string">`Parent builder `</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title function_">activeDialog</span>(&#123; <span class="attr">customBuilderParam</span>: <span class="variable language_">this</span>.<span class="property">componentBuilder</span> &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">bindContentCover</span>(<span class="variable language_">this</span>.<span class="property">isShow</span>, <span class="variable language_">this</span>.<span class="title function_">componentBuilder</span>(), &#123;</span><br><span class="line">      <span class="attr">modalTransition</span>: <span class="title class_">ModalTransition</span>.<span class="property">NONE</span>,</span><br><span class="line">      <span class="attr">onAppear</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;BindContentCover onAppear.&quot;</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">onDisappear</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;BindContentCover onDisappear.&quot;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/30/626%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91TAB-effects-player-controller-layout-rounded-corner-nested-images-input-space-background-color-filling-creating-rendering-nodes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/30/626%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91TAB-effects-player-controller-layout-rounded-corner-nested-images-input-space-background-color-filling-creating-rendering-nodes/" class="post-title-link" itemprop="url">【Daily HarmonyOS Next Knowledge】TAB effects, player controller, layout rounded corner nested images, input space background color filling, creating rendering nodes</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-30 08:39:27 / Modified: 08:40:01" itemprop="dateCreated datePublished" datetime="2025-06-30T08:39:27+08:00">2025-06-30</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="1-HarmonyOS-Tabs-Official-Example-9"><a href="#1-HarmonyOS-Tabs-Official-Example-9" class="headerlink" title="1. HarmonyOS Tabs Official Example 9"></a>1. HarmonyOS Tabs Official Example 9</h3><p>It supports the underline animation moving to the clicked tab under BarMode.Fixed. However, does it not support the underline animation moving interaction under BarMode.Scrollable mode?</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br></pre></td><td class="code"><pre><span class="line">import curves from &#x27;@ohos.curves&#x27;;</span><br><span class="line">import display from &#x27;@ohos.display&#x27;;</span><br><span class="line">import &#123; BusinessError &#125; from &#x27;@ohos.base&#x27;;</span><br><span class="line">import componentUtils from &#x27;@ohos.ArkUI.componentUtils&#x27;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class MyDataSource implements IDataSource &#123;</span><br><span class="line">  private list: number[] = []</span><br><span class="line"></span><br><span class="line">  constructor(list: number[]) &#123;</span><br><span class="line">    this.list = list</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  totalCount(): number &#123;</span><br><span class="line">    return this.list.length</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  getData(index: number): number &#123;</span><br><span class="line">    return this.list[index]</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  registerDataChangeListener(listener: DataChangeListener): void &#123;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  unregisterDataChangeListener() &#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Entry</span><br><span class="line">@Component</span><br><span class="line">struct swiperTab &#123;</span><br><span class="line">  private displayInfo: display.Display | null = null;</span><br><span class="line">  private controller: TabsController = new TabsController()</span><br><span class="line">  private data: MyDataSource = new MyDataSource([]);</span><br><span class="line">  private initialTabMargin: number = 5; // Initial tabbar margin</span><br><span class="line">  private animationDuration: number = 300; // Animation duration</span><br><span class="line">  private animationCurve: ICurve = curves.interpolatingSpring(7, 1, 328, 34); // Animation curve</span><br><span class="line">  @State currentIndex: number = 0; // Current index of the content area</span><br><span class="line">  @State tabsWidth: number = 0; // vp Content area width</span><br><span class="line">  @State indicatorWidth: number = 0; // vp Tab width</span><br><span class="line">  @State indicatorMarginLeft: number = 5; // vp Current tab margin from the left</span><br><span class="line">  @State indicatorIndex: number = 0; // Current tab index</span><br><span class="line">  @State nextIndicatorIndex: number = 0; // Next target tab index</span><br><span class="line">  @State swipeRatio: number = 0; // Determine if page flipping occurs. When the page slides more than half, the tabBar switches to the next page.</span><br><span class="line">  private scroller: Scroller = new Scroller();</span><br><span class="line">  private arr: string[] = [&#x27;关注&#x27;, &#x27;推荐&#x27;, &#x27;热点&#x27;, &#x27;上海&#x27;, &#x27;视频&#x27;, &#x27;新时代&#x27;, &#x27;新歌&#x27;, &#x27;新碟&#x27;, &#x27;新片&#x27;];</span><br><span class="line">  private textLength: number[] = [2, 2, 2, 2, 2, 3, 2, 2, 2] // Control the width of the parent container where the tab is located to avoid calculation errors in the underline target position</span><br><span class="line"></span><br><span class="line">  aboutToAppear(): void &#123;</span><br><span class="line">    this.displayInfo = display.getDefaultDisplaySync(); // Get the screen instance</span><br><span class="line">    let list: number[] = [];</span><br><span class="line">    for (let i = 1; i &lt;= this.arr.length; i++) &#123;</span><br><span class="line">      list.push(i);</span><br><span class="line">    &#125;</span><br><span class="line">    this.data = new MyDataSource(list)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // Get the screen width in vp</span><br><span class="line">  private getDisplayWidth(): number &#123;</span><br><span class="line">    return this.displayInfo != null ? px2vp(this.displayInfo.width) : 0;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // Get component size, position, translation, scaling, rotation, and affine matrix attribute information.</span><br><span class="line">  private getTextInfo(index: number): Record&lt;string, number&gt; &#123;</span><br><span class="line">    let modePosition: componentUtils.ComponentInfo = componentUtils.getRectangleById(index.toString());</span><br><span class="line">    try &#123;</span><br><span class="line">      return &#123; &#x27;left&#x27;: px2vp(modePosition.windowOffset.x), &#x27;width&#x27;: px2vp(modePosition.size.width) &#125;</span><br><span class="line">    &#125; catch (error) &#123;</span><br><span class="line">      return &#123; &#x27;left&#x27;: 0, &#x27;width&#x27;: 0 &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // Current underline animation</span><br><span class="line">  private getCurrentIndicatorInfo(index: number, event: SwiperAnimationEvent): Record&lt;string, number&gt; &#123;</span><br><span class="line">    let nextIndex = index;</span><br><span class="line">    // Swipe range limit. Swiper cannot loop, and Scroll remains non-looping</span><br><span class="line">    if (index &gt; 0 &amp;&amp; event.currentOffset &gt; 0) &#123;</span><br><span class="line">      nextIndex--; // Swipe left</span><br><span class="line">    &#125; else if (index &lt; this.data.totalCount() - 1 &amp;&amp; event.currentOffset &lt; 0) &#123;</span><br><span class="line">      nextIndex++; // Swipe right</span><br><span class="line">    &#125;</span><br><span class="line">    this.nextIndicatorIndex = nextIndex;</span><br><span class="line">    // Get the attribute information of the current tabbar</span><br><span class="line">    let indexInfo = this.getTextInfo(index);</span><br><span class="line">    // Get the attribute information of the target tabbar</span><br><span class="line">    let nextIndexInfo = this.getTextInfo(nextIndex);</span><br><span class="line">    // Switch the page when the swiped page exceeds half</span><br><span class="line">    this.swipeRatio = Math.abs(event.currentOffset / this.tabsWidth);</span><br><span class="line">    let currentIndex = this.swipeRatio &gt; 0.5 ? nextIndex : index; // When the page slides more than half, the tabBar switches to the next page.</span><br><span class="line">    let currentLeft = indexInfo.left + (nextIndexInfo.left - indexInfo.left) * this.swipeRatio;</span><br><span class="line">    let currentWidth = indexInfo.width + (nextIndexInfo.width - indexInfo.width) * this.swipeRatio;</span><br><span class="line">    this.indicatorIndex = currentIndex;</span><br><span class="line">    return &#123; &#x27;index&#x27;: currentIndex, &#x27;left&#x27;: currentLeft, &#x27;width&#x27;: currentWidth &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  private scrollIntoView(currentIndex: number): void &#123;</span><br><span class="line">    const indexInfo = this.getTextInfo(currentIndex);</span><br><span class="line">    let tabPositionLeft = indexInfo.left;</span><br><span class="line">    let tabWidth = indexInfo.width;</span><br><span class="line">    // Get the screen width in vp</span><br><span class="line">    const screenWidth = this.getDisplayWidth();</span><br><span class="line">    const currentOffsetX: number = this.scroller.currentOffset().xOffset; // Current scrolling offset</span><br><span class="line">    this.scroller.scrollTo(&#123;</span><br><span class="line">      // Position the tabbar in the center when it can be scrolled</span><br><span class="line">      xOffset: currentOffsetX + tabPositionLeft - screenWidth / 2 + tabWidth / 2,</span><br><span class="line">      yOffset: 0,</span><br><span class="line">      animation: &#123;</span><br><span class="line">        duration: this.animationDuration,</span><br><span class="line">        curve: this.animationCurve, // Animation curve</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    this.underlineScrollAuto(this.animationDuration, currentIndex);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  private startAnimateTo(duration: number, marginLeft: number, width: number): void &#123;</span><br><span class="line">    animateTo(&#123;</span><br><span class="line">      duration: duration, // Animation duration</span><br><span class="line">      curve: this.animationCurve, // Animation curve</span><br><span class="line">      onFinish: () =&gt; &#123;</span><br><span class="line">        console.info(&#x27;play end&#x27;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;, () =&gt; &#123;</span><br><span class="line">      this.indicatorMarginLeft = marginLeft;</span><br><span class="line">      this.indicatorWidth = width;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // Underline animation</span><br><span class="line">  private underlineScrollAuto(duration: number, index: number): void &#123;</span><br><span class="line">    let indexInfo = this.getTextInfo(index);</span><br><span class="line">    this.startAnimateTo(duration, indexInfo.left, indexInfo.width);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  getStringFromResource(source: Resource): string &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">      getContext(this).resourceManager.getStringSync(source.id);</span><br><span class="line">      let str = getContext(this).resourceManager.getStringSync(source.id);</span><br><span class="line">      return str</span><br><span class="line">    &#125; catch (error) &#123;</span><br><span class="line">      let code = (error as BusinessError).code;</span><br><span class="line">      let message = (error as BusinessError).message;</span><br><span class="line">      console.error(`getStringSync failed, error code: $&#123;code&#125;, message: $&#123;message&#125;.`);</span><br><span class="line">      return &#x27;&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  build() &#123;</span><br><span class="line">    Column() &#123;</span><br><span class="line">      // tabbar</span><br><span class="line">      Row() &#123;</span><br><span class="line">        Column() &#123;</span><br><span class="line">          Scroll() &#123;</span><br><span class="line">            Column() &#123;</span><br><span class="line">              Scroll(this.scroller) &#123;</span><br><span class="line">                Row() &#123;</span><br><span class="line">                  ForEach(this.arr, (item: string, index: number) =&gt; &#123;</span><br><span class="line">                    Column() &#123;</span><br><span class="line">                      Text(item)</span><br><span class="line">                        .fontSize(16)</span><br><span class="line">                        .borderRadius(5)</span><br><span class="line">                        .fontColor(this.indicatorIndex === index ? Color.Red : Color.Black)</span><br><span class="line">                        .fontWeight(this.indicatorIndex === index ? FontWeight.Bold : FontWeight.Normal)</span><br><span class="line">                        .margin(&#123; left: this.initialTabMargin, right: this.initialTabMargin &#125;)</span><br><span class="line">                        .id(index.toString())</span><br><span class="line">                        .onAreaChange((oldValue: Area, newValue: Area) =&gt; &#123;</span><br><span class="line">                          if (this.indicatorIndex === index &amp;&amp;</span><br><span class="line">                            (this.indicatorMarginLeft === 0 || this.indicatorWidth === 0)) &#123;</span><br><span class="line">                            if (newValue.globalPosition.x != undefined) &#123;</span><br><span class="line">                              let positionX = Number.parseFloat(newValue.globalPosition.x.toString());</span><br><span class="line">                              this.indicatorMarginLeft = Number.isNaN(positionX) ? 0 : positionX;</span><br><span class="line">                            &#125;</span><br><span class="line">                            let width = Number.parseFloat(newValue.width.toString());</span><br><span class="line">                            this.indicatorWidth = Number.isNaN(width) ? 0 : width;</span><br><span class="line">                          &#125;</span><br><span class="line">                        &#125;)</span><br><span class="line">                        .onClick(() =&gt; &#123;</span><br><span class="line">                          this.indicatorIndex = index;</span><br><span class="line">                          // Underline animation effect when clicking tabbar</span><br><span class="line">                          this.underlineScrollAuto(this.animationDuration, index);</span><br><span class="line">                          this.scrollIntoView(index);</span><br><span class="line">                          // Link with tabs</span><br><span class="line">                          this.controller.changeIndex(index)</span><br><span class="line">                        &#125;)</span><br><span class="line">                    &#125;</span><br><span class="line">                    .width(this.textLength[index] * 28)</span><br><span class="line">                  &#125;, (item: string) =&gt; item)</span><br><span class="line">                &#125;</span><br><span class="line">                .height(32)</span><br><span class="line">              &#125;</span><br><span class="line">              .width(&#x27;100%&#x27;)</span><br><span class="line">              .scrollable(ScrollDirection.Horizontal)</span><br><span class="line">              .scrollBar(BarState.Off)</span><br><span class="line">              .edgeEffect(EdgeEffect.None)</span><br><span class="line">              // Scroll event callback, returning horizontal and vertical offset during scrolling</span><br><span class="line">              .onScroll((xOffset: number, yOffset: number) =&gt; &#123;</span><br><span class="line">                console.info(xOffset + &#x27; &#x27; + yOffset)</span><br><span class="line">                this.indicatorMarginLeft -= xOffset;</span><br><span class="line">              &#125;)</span><br><span class="line">              // Scroll stop event callback</span><br><span class="line">              .onScrollStop(() =&gt; &#123;</span><br><span class="line">                console.info(&#x27;Scroll Stop&#x27;)</span><br><span class="line">                this.underlineScrollAuto(0, this.indicatorIndex);</span><br><span class="line">              &#125;)</span><br><span class="line"></span><br><span class="line">              Column()</span><br><span class="line">                .width(this.indicatorWidth)</span><br><span class="line">                .height(2)</span><br><span class="line">                .borderRadius(2)</span><br><span class="line">                .backgroundColor(Color.Red)</span><br><span class="line">                .alignSelf(ItemAlign.Start)</span><br><span class="line">                .margin(&#123; left: this.indicatorMarginLeft, top: 5 &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        .width(&#x27;100%&#x27;)</span><br><span class="line">        .margin(&#123; top: 15, bottom: 10 &#125;)</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      Tabs(&#123; controller: this.controller &#125;) &#123;</span><br><span class="line">        LazyForEach(this.data, (item: number, index: number) =&gt; &#123;</span><br><span class="line">          TabContent() &#123;</span><br><span class="line">            List(&#123; space: 10 &#125;) &#123;</span><br><span class="line">              ListItem() &#123;</span><br><span class="line">                Text(item.toString())</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            .padding(&#123; left: 10, right: 10 &#125;)</span><br><span class="line">            .width(&quot;100%&quot;)</span><br><span class="line">            .height(&#x27;95%&#x27;)</span><br><span class="line">          &#125;</span><br><span class="line">          .onAreaChange((oldValue: Area, newValue: Area) =&gt; &#123;</span><br><span class="line">            let width = Number.parseFloat(newValue.width.toString());</span><br><span class="line">            this.tabsWidth = Number.isNaN(width) ? 0 : width;</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;, (item: string) =&gt; item)</span><br><span class="line">      &#125;</span><br><span class="line">      .onChange((index: number) =&gt; &#123;</span><br><span class="line">        this.currentIndex = index;</span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      .onAnimationStart((index: number, targetIndex: number, event: TabsAnimationEvent) =&gt; &#123;</span><br><span class="line">        // This callback is triggered when the switching animation starts. The underline slides with the page while the width gradually changes.</span><br><span class="line">        this.indicatorIndex = targetIndex;</span><br><span class="line">        this.underlineScrollAuto(this.animationDuration, targetIndex);</span><br><span class="line">      &#125;)</span><br><span class="line">      .onAnimationEnd((index: number, event: TabsAnimationEvent) =&gt; &#123;</span><br><span class="line">        // This callback is triggered when the switching animation ends. The underline animation stops.</span><br><span class="line">        let currentIndicatorInfo = this.getCurrentIndicatorInfo(index, event);</span><br><span class="line">        this.startAnimateTo(0, currentIndicatorInfo.left, currentIndicatorInfo.width);</span><br><span class="line">        this.scrollIntoView(index);</span><br><span class="line">      &#125;)</span><br><span class="line">      .onGestureSwipe((index: number, event: TabsAnimationEvent) =&gt; &#123;</span><br><span class="line">        // This callback is triggered frame by frame during the page follow-hand sliding process.</span><br><span class="line">        let currentIndicatorInfo = this.getCurrentIndicatorInfo(index, event);</span><br><span class="line">        this.indicatorIndex = currentIndicatorInfo.index; // Current tab index</span><br><span class="line">        this.indicatorMarginLeft = currentIndicatorInfo.left; // Current tab margin from the left</span><br><span class="line">        this.indicatorWidth = currentIndicatorInfo.width; // Current tab width</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    .width(&#x27;100%&#x27;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-Can’t-inherit-HarmonyOS-VideoController"><a href="#2-Can’t-inherit-HarmonyOS-VideoController" class="headerlink" title="2. Can’t inherit HarmonyOS VideoController?"></a>2. Can’t inherit HarmonyOS VideoController?</h3><p>After inheriting VideoController, calling methods in VideoController no longer takes effect. The phenomenon is that clicking pause doesn’t pause, and debugging and logs show that the method has been called.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">// xxx.ets</span><br><span class="line">@Entry</span><br><span class="line">@Component</span><br><span class="line">struct VideoCreateComponent &#123;</span><br><span class="line">  @State videoSrc: Resource = $rawfile(&#x27;video1.mp4&#x27;)</span><br><span class="line">  @State previewUri: Resource = $r(&#x27;app.media.APEX&#x27;)</span><br><span class="line">  @State curRate: PlaybackSpeed = PlaybackSpeed.Speed_Forward_1_00_X</span><br><span class="line">  @State isAutoPlay: boolean = false</span><br><span class="line">  @State showControls: boolean = true</span><br><span class="line">  controller: myVideoCol = new myVideoCol();</span><br><span class="line"></span><br><span class="line">  build() &#123;</span><br><span class="line">    Column() &#123;</span><br><span class="line">      Video(&#123;</span><br><span class="line">        src: this.videoSrc,</span><br><span class="line">        previewUri: this.previewUri,</span><br><span class="line">        currentProgressRate: this.curRate,</span><br><span class="line">        controller: this.controller</span><br><span class="line">      &#125;)</span><br><span class="line">        .width(&#x27;100%&#x27;)</span><br><span class="line">        .height(600)</span><br><span class="line">        .autoPlay(this.isAutoPlay)</span><br><span class="line">        .controls(this.showControls)</span><br><span class="line">        .onStart(() =&gt; &#123;</span><br><span class="line">          console.info(&#x27;onStart&#x27;)</span><br><span class="line">        &#125;)</span><br><span class="line">        .onPause(() =&gt; &#123;</span><br><span class="line">          console.info(&#x27;onPause&#x27;)</span><br><span class="line">        &#125;)</span><br><span class="line">        .onUpdate((e?: TimeObject) =&gt; &#123;</span><br><span class="line">          if (e != undefined) &#123;</span><br><span class="line">            console.info(&#x27;onUpdate is &#x27; + e.time)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">      Row() &#123;</span><br><span class="line">        Button(&#x27;start&#x27;).onClick(() =&gt; &#123;</span><br><span class="line">          this.controller.myStart() // Start playing</span><br><span class="line">        &#125;).margin(5)</span><br><span class="line">        Button(&#x27;pause&#x27;).onClick(() =&gt; &#123;</span><br><span class="line">          this.controller.pause() // Pause playing</span><br><span class="line">        &#125;).margin(5)</span><br><span class="line">        Button(&#x27;stop&#x27;).onClick(() =&gt; &#123;</span><br><span class="line">          this.controller.myStop() // End playing</span><br><span class="line">        &#125;).margin(5)</span><br><span class="line">        Button(&#x27;setTime&#x27;).onClick(() =&gt; &#123;</span><br><span class="line">          this.controller.mySeekTo(10) // Accurately jump to the 10s position of the video</span><br><span class="line">          // this.controller.setCurrentTime(10, SeekMode.Accurate) // Accurately jump to the 10s position of the video</span><br><span class="line">        &#125;).margin(5)</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface DurationObject &#123;</span><br><span class="line">  duration: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface TimeObject &#123;</span><br><span class="line">  time: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class myVideoCol extends VideoController &#123;</span><br><span class="line">  myStart(): void &#123;</span><br><span class="line">    console.log(&quot;myVideoCol === myStart&quot;)</span><br><span class="line">    super.start()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  pause(): void &#123;</span><br><span class="line">    console.log(&quot;myVideoCol === myPause&quot;)</span><br><span class="line">    super.pause()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  myStop(): void &#123;</span><br><span class="line">    console.log(&quot;myVideoCol === myStop&quot;)</span><br><span class="line">    super.stop()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  mySeekTo(time: number): void &#123;</span><br><span class="line">    console.log(&quot;myVideoCol === mySeekTo&quot;)</span><br><span class="line">    super.setCurrentTime(time)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-Problem-of-borderRadius-nesting-Image-in-HarmonyOS-layout"><a href="#3-Problem-of-borderRadius-nesting-Image-in-HarmonyOS-layout" class="headerlink" title="3. Problem of borderRadius nesting Image in HarmonyOS layout?"></a>3. Problem of borderRadius nesting Image in HarmonyOS layout?</h3><p>For example, the problem of Stack nesting Image. The outer borderRadius(50) and the Image exceeding the rounded corner. Is there a way similar to CardView to set the outer radius so that the inner layout does not exceed the rounded corner (RowSplit and ColumnSplit can do it, but nesting Swiper will have gesture sliding conflicts)?</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">@Component</span><br><span class="line">export struct TestView &#123;</span><br><span class="line">  build() &#123;</span><br><span class="line">    Stack() &#123;</span><br><span class="line">      Image(&#x27;http://dimg04.c-ctrip.com/images/0zg0x12000cog7bwrDEC4.jpg&#x27;)</span><br><span class="line">        .width(290)</span><br><span class="line">        .height(300)</span><br><span class="line">    &#125;</span><br><span class="line">    .backgroundColor(Color.Black)</span><br><span class="line">    .borderRadius(50)</span><br><span class="line">    .width(300)</span><br><span class="line">    .height(300)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  aboutToAppear(): void &#123;</span><br><span class="line">    console.debug(&#x27;TestView&#x27;, &#x27;aboutToAppear&#x27;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The borderRadius attribute does not support inheritance of child components. If the view of the child component needs to follow the container, the parent container needs to add clip.</p>
<p>Solution: Add .clip(true) to the Stack.</p>
<h3 id="4-How-to-set-the-full-background-color-for-HarmonyOS-TextInput-component"><a href="#4-How-to-set-the-full-background-color-for-HarmonyOS-TextInput-component" class="headerlink" title="4. How to set the full background color for HarmonyOS TextInput component?"></a>4. How to set the full background color for HarmonyOS TextInput component?</h3><p>When adapting to dark mode, when using the TextInput component, it is found that the set background color (backgroundColor) is filled into an area with semi-circles on the left and right, and the remaining surrounding area is not filled with the background color. How can the set background color fill the entire TextInput area?</p>
<p>The Input component can be placed in a Column, and the background color of the Column can be set to fill the background color outside the Input component.</p>
<h3 id="5-Can-HarmonyOS-ArkUI-NativeModule-create-RenderNode"><a href="#5-Can-HarmonyOS-ArkUI-NativeModule-create-RenderNode" class="headerlink" title="5. Can HarmonyOS ArkUI_NativeModule create RenderNode?"></a>5. Can HarmonyOS ArkUI_NativeModule create RenderNode?</h3><p>RenderNode can only be created on the TS side, and ArkUI_NativeModule is used to dock with third-party frameworks.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/29/492-Daily-HarmonyOS-Next-Knowledge-One-Tap-Login-Package-Resource-Analysis-Tool-HAR-Package-Version-Conflict-System-Photo-Album-etc/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/29/492-Daily-HarmonyOS-Next-Knowledge-One-Tap-Login-Package-Resource-Analysis-Tool-HAR-Package-Version-Conflict-System-Photo-Album-etc/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] One-Tap Login, Package Resource Analysis Tool, HAR Package Version Conflict, System Photo Album, etc.</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-29 11:12:07 / Modified: 11:12:20" itemprop="dateCreated datePublished" datetime="2025-06-29T11:12:07+08:00">2025-06-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Daily-HarmonyOS-Next-Knowledge-One-Tap-Login-Package-Resource-Analysis-Tool-HAR-Package-Version-Conflict-System-Photo-Album-etc"><a href="#Daily-HarmonyOS-Next-Knowledge-One-Tap-Login-Package-Resource-Analysis-Tool-HAR-Package-Version-Conflict-System-Photo-Album-etc" class="headerlink" title="[Daily HarmonyOS Next Knowledge] One-Tap Login, Package Resource Analysis Tool, HAR Package Version Conflict, System Photo Album, etc."></a>[Daily HarmonyOS Next Knowledge] One-Tap Login, Package Resource Analysis Tool, HAR Package Version Conflict, System Photo Album, etc.</h1><h2 id="1-Does-HarmonyOS-application-development-support-the-free-“one-tap-login-with-local-number”-feature"><a href="#1-Does-HarmonyOS-application-development-support-the-free-“one-tap-login-with-local-number”-feature" class="headerlink" title="1. Does HarmonyOS application development support the free “one-tap login with local number” feature?"></a>1. Does HarmonyOS application development support the free “one-tap login with local number” feature?</h2><ol>
<li>One-tap login is supported, but it is slightly different from one-tap login with the local number. For details, refer to the link: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/account-quick-login-overview-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/account-quick-login-overview-V5</a>.  </li>
<li>Is it free? There is currently no charging plan.</li>
</ol>
<h2 id="2-Does-HarmonyOS-provide-package-or-resource-analysis-tools"><a href="#2-Does-HarmonyOS-provide-package-or-resource-analysis-tools" class="headerlink" title="2. Does HarmonyOS provide package or resource analysis tools?"></a>2. Does HarmonyOS provide package or resource analysis tools?</h2><p>For the scanning tool, refer to the documentation link: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/app-check-tool-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/app-check-tool-V5</a>.  </p>
<h2 id="3-Are-there-notifications-for-screen-off-or-screen-on-Can-a-UIAbility-be-opened-in-the-background-or-navigate-to-a-page"><a href="#3-Are-there-notifications-for-screen-off-or-screen-on-Can-a-UIAbility-be-opened-in-the-background-or-navigate-to-a-page" class="headerlink" title="3. Are there notifications for screen off or screen on? Can a UIAbility be opened in the background or navigate to a page?"></a>3. Are there notifications for screen off or screen on? Can a UIAbility be opened in the background or navigate to a page?</h2><p>The Common Event Service (CES) provides applications with the ability to subscribe to, publish, and unsubscribe from public events. You can listen for screen off and screen on by subscribing to system public events.  </p>
<p>Reference: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-faqs-V5/faqs-notification-kit-5-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-faqs-V5/faqs-notification-kit-5-V5</a>.  </p>
<p>After listening to the notification, you can jump to a page.  </p>
<h2 id="4-For-example-okhttp-1-0-is-also-a-HAR-package-If-both-A-and-B-depend-on-different-versions-of-it-which-version-is-used-for-final-packaging-Or-do-both-A-and-B-contain-okhttp-code"><a href="#4-For-example-okhttp-1-0-is-also-a-HAR-package-If-both-A-and-B-depend-on-different-versions-of-it-which-version-is-used-for-final-packaging-Or-do-both-A-and-B-contain-okhttp-code" class="headerlink" title="4. For example, okhttp 1.0 is also a HAR package. If both A and B depend on different versions of it, which version is used for final packaging? Or do both A and B contain okhttp code?"></a>4. For example, okhttp 1.0 is also a HAR package. If both A and B depend on different versions of it, which version is used for final packaging? Or do both A and B contain okhttp code?</h2><p>ohpm will select the highest version for installation.<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/ide-ohpmrc-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/ide-ohpmrc-V5</a>.  </p>
<h2 id="5-How-to-open-the-system-photo-album-to-select-a-picture-and-upload-it-to-the-server"><a href="#5-How-to-open-the-system-photo-album-to-select-a-picture-and-upload-it-to-the-server" class="headerlink" title="5. How to open the system photo album to select a picture and upload it to the server?"></a>5. How to open the system photo album to select a picture and upload it to the server?</h2><p>After selecting a photo from the album using PhotoViewPicker, how to obtain the file via URI and upload it?<br>When requesting the READ_IMAGEVIDEO permission, no pop-up window appears. Adding READ_IMAGEVIDEO in module.json5 causes a compilation error:  </p>
<pre><code>Install Failed: error: failed to install bundle.
code:9568289
error: install failed due to grant request permissions failed.
View detailed instructions.
$ hdc shell rm -rf data/local/tmp/d782a4593fa54703acf347fbb6751945
Error while Deploy Hap
</code></pre>
<p><strong>Solution</strong>: The READ_IMAGEVIDEO permission cannot be applied for alone. You need to add ohos.permission.READ_MEDIA and ohos.permission.MEDIA_LOCATION permissions. Otherwise, the “install failed due to grant request permissions failed” error will occur.  </p>
<p>For other album-related content, refer to the documentation: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/photoaccesshelper-systemalbum-guidelines-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/photoaccesshelper-systemalbum-guidelines-V5</a>.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/29/494-Daily-HarmonyOS-Next-Knowledge-Pull-to-Load-Pull-to-Refresh-NAPI-Debugging-Errors-Installation-Verification-Packages-Background-Thread-Audio-Video-Playback-OCR-etc/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/29/494-Daily-HarmonyOS-Next-Knowledge-Pull-to-Load-Pull-to-Refresh-NAPI-Debugging-Errors-Installation-Verification-Packages-Background-Thread-Audio-Video-Playback-OCR-etc/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] Pull-to-Load & Pull-to-Refresh, NAPI Debugging Errors, Installation Verification Packages, Background Thread Audio/Video Playback, OCR, etc.</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-29 11:11:26 / Modified: 11:11:38" itemprop="dateCreated datePublished" datetime="2025-06-29T11:11:26+08:00">2025-06-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Daily-HarmonyOS-Next-Knowledge-Pull-to-Load-Pull-to-Refresh-NAPI-Debugging-Errors-Installation-Verification-Packages-Background-Thread-Audio-Video-Playback-OCR-etc"><a href="#Daily-HarmonyOS-Next-Knowledge-Pull-to-Load-Pull-to-Refresh-NAPI-Debugging-Errors-Installation-Verification-Packages-Background-Thread-Audio-Video-Playback-OCR-etc" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Pull-to-Load &amp; Pull-to-Refresh, NAPI Debugging Errors, Installation Verification Packages, Background Thread Audio&#x2F;Video Playback, OCR, etc."></a>[Daily HarmonyOS Next Knowledge] Pull-to-Load &amp; Pull-to-Refresh, NAPI Debugging Errors, Installation Verification Packages, Background Thread Audio&#x2F;Video Playback, OCR, etc.</h1><h2 id="1-Are-there-open-source-libraries-for-pull-to-load-and-pull-to-refresh-list-components-in-HarmonyOS"><a href="#1-Are-there-open-source-libraries-for-pull-to-load-and-pull-to-refresh-list-components-in-HarmonyOS" class="headerlink" title="1. Are there open-source libraries for pull-to-load and pull-to-refresh list components in HarmonyOS?"></a>1. Are there open-source libraries for pull-to-load and pull-to-refresh list components in HarmonyOS?</h2><p>Refer to: <a target="_blank" rel="noopener" href="https://gitee.com/openharmony-sig/PullToRefresh">https://gitee.com/openharmony-sig/PullToRefresh</a>  </p>
<h2 id="2-How-to-display-more-debugging-error-information-for-NAPI-in-HarmonyOS"><a href="#2-How-to-display-more-debugging-error-information-for-NAPI-in-HarmonyOS" class="headerlink" title="2. How to display more debugging error information for NAPI in HarmonyOS?"></a>2. How to display more debugging error information for NAPI in HarmonyOS?</h2><p>Currently, when developing with NAPI for ETS and C++ calls, error messages appear but cannot locate the issue. How to display more NAPI debugging error information?  </p>
<p>To obtain more error information in the IDE, enable stack traces:  </p>
<ol>
<li>Open <code>hvigor-config.json5</code>.  </li>
<li>Under <code>debugging</code>, set <code>stacktrace</code> from <code>false</code> to <code>true</code> (uncomment if necessary).<br>Reference document: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/ide-hvigor-set-options-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/ide-hvigor-set-options-V5</a></li>
</ol>
<h2 id="3-Issues-with-HarmonyOS-app-installation-verification"><a href="#3-Issues-with-HarmonyOS-app-installation-verification" class="headerlink" title="3. Issues with HarmonyOS app installation verification"></a>3. Issues with HarmonyOS app installation verification</h2><p>Current internal testing verification uses hdc commands to install HAP and HSP files, which has two problems:  </p>
<ol>
<li>The verified product is not the final release package (the release package is an App).  </li>
<li>The process is cumbersome, requiring testers to download files to the computer and connect the device for installation.</li>
</ol>
<p>Is there a way to install App packages directly on the phone?  </p>
<p><strong>Solution</strong>:<br>App packages cannot be installed directly on the phone. When an App package is released to the AppGallery cloud, the AppGallery verifies the signature of the uploaded App package. After passing the verification, the App package is split into HAP files, which are then resignatured and distributed. The final installation on the phone still uses HAP and HSP files. For testing App packages, use open testing: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/AppGallery-connect-Guides/agc-betatest-introduction-0000001071477284">https://developer.huawei.com/consumer/cn/doc/AppGallery-connect-Guides/agc-betatest-introduction-0000001071477284</a>  </p>
<h2 id="4-How-to-read-album-paths-like-file-media-Photo-3-mp4-in-background-threads-in-HarmonyOS"><a href="#4-How-to-read-album-paths-like-file-media-Photo-3-mp4-in-background-threads-in-HarmonyOS" class="headerlink" title="4. How to read album paths like file://media/Photo/3/*.mp4 in background threads in HarmonyOS?"></a>4. How to read album paths like <code>file://media/Photo/3/*.mp4</code> in background threads in HarmonyOS?</h2><p>Need to decode images and videos in the album in background threads (e.g., sequentially playing 100 video files under a timeline, requiring file opening and decoding in background threads). What solutions are available?  </p>
<p><strong>Approach</strong>:<br>URIs obtained from the main thread can be directly passed to background threads for reading. Use <code>OH_AVSource_CreateWithFD</code> or <code>OH_AVSource_CreateWithURI</code> to open files:<br>Reference: <a target="_blank" rel="noopener" href="https://gitee.com/openharmony/docs/blob/master/zh-cn/application-dev/media/avcodec/audio-video-demuxer.md">https://gitee.com/openharmony/docs/blob/master/zh-cn/application-dev/media/avcodec/audio-video-demuxer.md</a>  </p>
<h2 id="5-Does-Huawei’s-OCR-capability-support-formatted-output-of-invoice-surfaces"><a href="#5-Does-Huawei’s-OCR-capability-support-formatted-output-of-invoice-surfaces" class="headerlink" title="5. Does Huawei’s OCR capability support formatted output of invoice surfaces?"></a>5. Does Huawei’s OCR capability support formatted output of invoice surfaces?</h2><p>Universal OCR (Optical Character Recognition) converts printed text from various documents (invoices, cards, forms, newspapers, books, etc.) into image information via optical input (photography, scanning), and then uses OCR technology to convert the image information into character data usable by computers.  </p>
<p><strong>Current support for invoices</strong>: Yes.<br>Reference: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/core-vision-text-recognition-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/core-vision-text-recognition-V5</a>  </p>
<p><strong>Constraints</strong>:  </p>
<ol>
<li>Supported image formats: JPEG, JPG, PNG.  </li>
<li>Supported languages: Simplified Chinese, English, Japanese, Korean, Traditional Chinese.  </li>
<li>Supports printed text recognition; limited support for handwritten text.</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/29/495-Daily-HarmonyOS-Next-Knowledge-Accessibility-getLastLocation-Bluetooth-Issues-Card-Sizes-Relational-Databases-etc/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/29/495-Daily-HarmonyOS-Next-Knowledge-Accessibility-getLastLocation-Bluetooth-Issues-Card-Sizes-Relational-Databases-etc/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] Accessibility, getLastLocation, Bluetooth Issues, Card Sizes, Relational Databases, etc.</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-29 11:10:32 / Modified: 11:10:55" itemprop="dateCreated datePublished" datetime="2025-06-29T11:10:32+08:00">2025-06-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Daily-HarmonyOS-Next-Knowledge-Accessibility-getLastLocation-Bluetooth-Issues-Card-Sizes-Relational-Databases-etc"><a href="#Daily-HarmonyOS-Next-Knowledge-Accessibility-getLastLocation-Bluetooth-Issues-Card-Sizes-Relational-Databases-etc" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Accessibility, getLastLocation, Bluetooth Issues, Card Sizes, Relational Databases, etc."></a>[Daily HarmonyOS Next Knowledge] Accessibility, getLastLocation, Bluetooth Issues, Card Sizes, Relational Databases, etc.</h1><h2 id="1-Are-there-any-APIs-similar-to-accessibility-assistance"><a href="#1-Are-there-any-APIs-similar-to-accessibility-assistance" class="headerlink" title="1. Are there any APIs similar to accessibility assistance?"></a>1. Are there any APIs similar to accessibility assistance?</h2><p><strong>Scenario Description</strong>: For a screen-locking app, it needs to use accessibility capabilities to assist in detecting the currently opened app, simulate user operations, and close apps that the user wants to block.  </p>
<p>Reference: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/accessibility-kit-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/accessibility-kit-V5</a>  </p>
<h2 id="2-When-calling-geoLocationManager-getLastLocation-in-HarmonyOS-an-error-3301200-occurs"><a href="#2-When-calling-geoLocationManager-getLastLocation-in-HarmonyOS-an-error-3301200-occurs" class="headerlink" title="2. When calling geoLocationManager.getLastLocation() in HarmonyOS, an error 3301200 occurs."></a>2. When calling geoLocationManager.getLastLocation() in HarmonyOS, an error 3301200 occurs.</h2><p>After applying for location permissions and enabling location services, the callback is not executed, and the log <code>locationChanger:data</code> is not printed. The code is as follows:  </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (result) &#123;</span><br><span class="line">  <span class="comment">// Location permission granted</span></span><br><span class="line">  <span class="title class_">Logger</span>.<span class="title function_">debug</span>(<span class="string">&#x27;Location permission request approved&#x27;</span>)</span><br><span class="line">  <span class="keyword">let</span> <span class="attr">requestInfo</span>: geoLocationManager.<span class="property">LocationRequest</span> = &#123;<span class="string">&#x27;scenario&#x27;</span>: geoLocationManager.<span class="property">LocationRequestScenario</span>.<span class="property">NAVIGATION</span>, <span class="string">&#x27;timeInterval&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;distanceInterval&#x27;</span>: <span class="number">0</span>, <span class="string">&#x27;maxAccuracy&#x27;</span>: <span class="number">0</span>&#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> locationChange = (<span class="attr">location</span>: geoLocationManager.<span class="property">Location</span>): <span class="function"><span class="params">void</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="title class_">Logger</span>.<span class="title function_">debug</span>(<span class="string">&#x27;locationChanger: data: &#x27;</span> + <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(location));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    geoLocationManager.<span class="title function_">on</span>(<span class="string">&#x27;locationChange&#x27;</span>, requestInfo, locationChange)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// let location = geoLocationManager.getLastLocation()</span></span><br><span class="line">    <span class="comment">// Logger.debug(&#x27;LocationBridge =&gt; location is : &#x27; + JSON.stringify(location))</span></span><br><span class="line">  &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">    <span class="title class_">Logger</span>.<span class="title function_">error</span>(<span class="string">&#x27;Location exception:&#x27;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(err))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string">When calling `</span>geoLocationManager.<span class="title function_">getLastLocation</span>()<span class="string">`, the error code 3301200 is returned.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Solution**: Modify the `</span><span class="title class_">LocationRequest</span><span class="string">` configuration as follows:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>javascript</span><br><span class="line"><span class="keyword">let</span> <span class="attr">requestInfo</span>: geoLocationManager.<span class="property">LocationRequest</span> = &#123;</span><br><span class="line">  <span class="string">&#x27;priority&#x27;</span>: geoLocationManager.<span class="property">LocationRequestPriority</span>.<span class="property">FIRST_FIX</span>,</span><br><span class="line">  <span class="string">&#x27;scenario&#x27;</span>: geoLocationManager.<span class="property">LocationRequestScenario</span>.<span class="property">UNSET</span>,</span><br><span class="line">  <span class="string">&#x27;timeInterval&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="string">&#x27;distanceInterval&#x27;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&#x27;maxAccuracy&#x27;</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">## 3. Bluetooth issue in HarmonyOS: The gattClientDevice.getServices method reports error 2900099.  </span></span><br><span class="line"><span class="string">Change the monitoring of the server&#x27;s connection status to monitoring the client&#x27;s status, i.e., modify `</span>gattServer.<span class="property">on</span><span class="string">` to `</span>gattClientDevice.<span class="property">on</span><span class="string">`.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">## 4. What are the sizes (in px) for different card rules?  </span></span><br><span class="line"><span class="string">Service cards are divided into 4 sizes based on the desktop grid layout (taking the mobile 4x6 grid as the base). When the desktop grid layout is modified, mini cards and small cards still follow the desktop layout, while medium and large cards stretch according to the maximum grid width. Therefore, size adaptation of card content should be considered during design.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Service cards are developed using HarmonyOS universal interface units. In Java UI, virtual pixels (vp) can be used, and detailed specifications can be referred to in the [Universal Design Specifications](https://developer.huawei.com/consumer/cn/doc/design-guides-V1/des-guides/basic-0000001055539104-V1). In Js UI, since the Auto Design attribute can be set, pixels (px) and virtual pixels (vp) are conceptually equivalent and need not be distinguished.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Reference document: [Cards and Basic Parameters](https://developer.huawei.com/consumer/cn/doc/design-guides-V1/service-widget-design-0000001098216280-V1#section460mcpsimp)  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">## 5. How to query if a table exists in a HarmonyOS relational database?  </span></span><br><span class="line"><span class="string">For @ohos.data.relationalStore (relational database), how to query whether a specific table exists in the database?  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">You can use database language to query data in the database, and the result is returned in the callback. Reference: https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-data-relationalstore-V5  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**SQL statement to query a table in the database**:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>sql</span><br><span class="line"><span class="variable constant_">SELECT</span> * <span class="variable constant_">FROM</span> <span class="variable constant_">INFORMATION_SCHEMA</span>.<span class="property">TABLES</span> <span class="variable constant_">WHERE</span> <span class="variable constant_">TABLE_SCHEMA</span> = <span class="string">&#x27;database_name&#x27;</span> <span class="variable constant_">AND</span> <span class="variable constant_">TABLE_NAME</span> = <span class="string">&#x27;table_name&#x27;</span>;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/29/496-Daily-HarmonyOS-Next-Knowledge-Image-Compression-Issues-QR-Code-Components-Algorithm-Library-Errors-aboutToAppear-Input-Method-Related-App-Updates-etc/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/29/496-Daily-HarmonyOS-Next-Knowledge-Image-Compression-Issues-QR-Code-Components-Algorithm-Library-Errors-aboutToAppear-Input-Method-Related-App-Updates-etc/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] Image Compression Issues, QR Code Components, Algorithm Library Errors, aboutToAppear Input Method-Related, App Updates, etc.</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-29 11:09:50 / Modified: 11:10:11" itemprop="dateCreated datePublished" datetime="2025-06-29T11:09:50+08:00">2025-06-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Daily-HarmonyOS-Next-Knowledge-Image-Compression-Issues-QR-Code-Components-Algorithm-Library-Errors-aboutToAppear-Input-Method-Related-App-Updates-etc"><a href="#Daily-HarmonyOS-Next-Knowledge-Image-Compression-Issues-QR-Code-Components-Algorithm-Library-Errors-aboutToAppear-Input-Method-Related-App-Updates-etc" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Image Compression Issues, QR Code Components, Algorithm Library Errors, aboutToAppear Input Method-Related, App Updates, etc."></a>[Daily HarmonyOS Next Knowledge] Image Compression Issues, QR Code Components, Algorithm Library Errors, aboutToAppear Input Method-Related, App Updates, etc.</h1><h2 id="1-When-using-the-inspector-in-the-previewer-the-dimensions-of-the-image-are-compressed-in-Flex"><a href="#1-When-using-the-inspector-in-the-previewer-the-dimensions-of-the-image-are-compressed-in-Flex" class="headerlink" title="1. When using the inspector in the previewer, the dimensions of the image are compressed in Flex?"></a>1. When using the inspector in the previewer, the dimensions of the image are compressed in Flex?</h2><p>When using ImageAnimator in Flex, the width is compressed.  </p>
<p>The current phenomenon is that the width is compressed due to the device resolution. After changing the previewer’s device to a tablet, the width and height remain consistent (the width compression issue also occurs when the Phone device is selected in the previewer).  </p>
<h2 id="2-Which-QR-code-component-should-be-used-in-HarmonyOS"><a href="#2-Which-QR-code-component-should-be-used-in-HarmonyOS" class="headerlink" title="2. Which QR code component should be used in HarmonyOS?"></a>2. Which QR code component should be used in HarmonyOS?</h2><p>The system currently has a built-in Scan Kit service. For documentation, refer to the link: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/scan-scanbarcode-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/scan-scanbarcode-V5</a>  </p>
<h2 id="3-Algorithm-error-in-HarmonyOS-SDK-Developer-Beta1"><a href="#3-Algorithm-error-in-HarmonyOS-SDK-Developer-Beta1" class="headerlink" title="3. Algorithm error in HarmonyOS SDK Developer Beta1?"></a>3. Algorithm error in HarmonyOS SDK Developer Beta1?</h2><pre><code>In file included from D:/xxxxxxxx/math/include/math.h:9:
In file included from D:/Program/Huawei/SDK_Next/HarmonyOS-NEXT-DB1/base/native/llvm/bin/../include/libcxx-ohos/include/c++/v1/algorithm:1774:
In file included from D:/Program/Huawei/SDK_Next/HarmonyOS-NEXT-DB1/base/native/llvm/bin/../include/libcxx-ohos/include/c++/v1/__algorithm/nth_element.h:15:
D:/Program/Huawei/SDK_Next/HarmonyOS-NEXT-DB1/base/native/llvm/bin/../include/libcxx-ohos/include/c++/v1/__algorithm/sort.h:396:5: error: unknown type name &#39;__destruct_n&#39;
__destruct_n __d(0);
^
D:/Program/Huawei/SDK_Next/HarmonyOS-NEXT-DB1/base/native/llvm/bin/../include/libcxx-ohos/include/c++/v1/__algorithm/sort.h:397:28: error: use of undeclared identifier &#39;__destruct_n&#39;
unique_ptr&lt;value_type, __destruct_n&amp;&gt; __h(__first2, __d);
^
D:/Program/Huawei/SDK_Next/HarmonyOS-NEXT-DB1/base/native/llvm/bin/../include/libcxx-ohos/include/c++/v1/__algorithm/sort.h:397:41: error: expected expression
unique_ptr&lt;value_type, __destruct_n&amp;&gt; __h(__first2, __d);
^
D:/Program/Huawei/SDK_Next/HarmonyOS-NEXT-DB1/base/native/llvm/bin/../include/libcxx-ohos/include/c++/v1/__algorithm/sort.h:415:5: error: use of undeclared identifier &#39;__h&#39;; did you mean &#39;__d&#39;?
__h.release();
^
D:/Program/Huawei/SDK_Next/HarmonyOS-NEXT-DB1/base/native/llvm/bin/../include/libcxx-ohos/include/c++/v1/__algorithm/sort.h:396:18: note: &#39;__d&#39; declared here
__destruct_n __d(0);
</code></pre>
<p>There are <code>undeclared identifier</code> errors in multiple files such as <code>stable_partition.h</code>, <code>sort.h</code>, and <code>inplace_merge.h</code> under the <code>__algorithm</code> folder.  </p>
<p>There is an algorithm header file named <code>Math.h</code> (with a capital M), but the compiler is looking for the SDK’s <code>math.h</code>. The issue is resolved by pointing the include path to the parent directory of <code>Math.h</code> and using a path-based header file reference.  </p>
<h2 id="4-Error-when-calling-input-method-methods-in-aboutToAppear-in-HarmonyOS"><a href="#4-Error-when-calling-input-method-methods-in-aboutToAppear-in-HarmonyOS" class="headerlink" title="4. Error when calling input method methods in aboutToAppear in HarmonyOS?"></a>4. Error when calling input method methods in aboutToAppear in HarmonyOS?</h2><p>I only want to call the <code>on</code> method, but the same prompt still appears when calling. Therefore, I first called <code>attach</code>, but it still didn’t work. The error code is: 12800003.  </p>
<p>Try registering the <code>inputMethodController.on</code> method in <code>onWindowStageCreate</code> regarding the use of <code>attach</code> and showing&#x2F;hiding the input method.  </p>
<h2 id="5-How-to-implement-app-updates-in-HarmonyOS"><a href="#5-How-to-implement-app-updates-in-HarmonyOS" class="headerlink" title="5. How to implement app updates in HarmonyOS?"></a>5. How to implement app updates in HarmonyOS?</h2><p>How are app updates implemented in the Huawei AppGallery? Is there an update API or is the installation API used for overwriting installation to achieve updates?  </p>
<ol>
<li>The update service provides developers with version detection and update reminder display functions. Developers can use this service to check if there is an update available for the app. When an update is available, the service can display an update reminder to users. To check for new versions, use the interface <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/store-updatemanager-V5">updateManager.checkAppUpdate</a>.  </li>
<li>Directly call <code>Store kit updateManager.showUpdateDialog</code> to display the update dialog. Clicking the update button redirects to the AppGallery for the update.</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/29/497-Daily-HarmonyOS-Next-Knowledge-Text-Recognition-Quick-Login-Input-Method-Button-Monitoring-IDE-Word-Wrap-Asset-Access-etc/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/29/497-Daily-HarmonyOS-Next-Knowledge-Text-Recognition-Quick-Login-Input-Method-Button-Monitoring-IDE-Word-Wrap-Asset-Access-etc/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] Text Recognition, Quick Login, Input Method Button Monitoring, IDE Word Wrap, Asset Access, etc.</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-29 11:09:09 / Modified: 11:09:22" itemprop="dateCreated datePublished" datetime="2025-06-29T11:09:09+08:00">2025-06-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Daily-HarmonyOS-Next-Knowledge-Text-Recognition-Quick-Login-Input-Method-Button-Monitoring-IDE-Word-Wrap-Asset-Access-etc"><a href="#Daily-HarmonyOS-Next-Knowledge-Text-Recognition-Quick-Login-Input-Method-Button-Monitoring-IDE-Word-Wrap-Asset-Access-etc" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Text Recognition, Quick Login, Input Method Button Monitoring, IDE Word Wrap, Asset Access, etc."></a>[Daily HarmonyOS Next Knowledge] Text Recognition, Quick Login, Input Method Button Monitoring, IDE Word Wrap, Asset Access, etc.</h1><h2 id="1-API-Usage-hms-ai-ocr-textRecognition-Text-Recognition"><a href="#1-API-Usage-hms-ai-ocr-textRecognition-Text-Recognition" class="headerlink" title="1. API Usage: @hms.ai.ocr.textRecognition (Text Recognition)?"></a>1. API Usage: @hms.ai.ocr.textRecognition (Text Recognition)?</h2><p>I need to integrate the text recognition API from <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/core-vision-text-recognition-api-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/core-vision-text-recognition-api-V5</a>. How can I achieve this?  </p>
<p>Refer to the development guide for text recognition integration: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/core-vision-text-recognition-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/core-vision-text-recognition-V5</a>  </p>
<h2 id="2-How-to-Implement-Quick-Login-Functionality"><a href="#2-How-to-Implement-Quick-Login-Functionality" class="headerlink" title="2. How to Implement Quick Login Functionality?"></a>2. How to Implement Quick Login Functionality?</h2><p>Typically, users log in to app transaction features by entering their account credentials. Now, we want to enable quick login using the user’s fingerprint or face recognition.  </p>
<p>The user authentication capability is available for scenarios such as device unlocking, payments, and app login. Refer to the documentation: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-useriam-userauth-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-useriam-userauth-V5</a>  </p>
<h2 id="3-How-to-Monitor-the-Close-Button-in-the-Top-Right-Corner-of-the-Input-Method-in-HarmonyOS"><a href="#3-How-to-Monitor-the-Close-Button-in-the-Top-Right-Corner-of-the-Input-Method-in-HarmonyOS" class="headerlink" title="3. How to Monitor the Close Button in the Top-Right Corner of the Input Method in HarmonyOS?"></a>3. How to Monitor the Close Button in the Top-Right Corner of the Input Method in HarmonyOS?</h2><p>Obtain the InputMethodAbility instance, which is only accessible to input method applications.  </p>
<p><strong>Demo</strong>:  </p>
<pre><code class="language-typescript">import &#123; inputMethod &#125; from &#39;@kit.IMEKit&#39;
import &#123; BusinessError &#125; from &#39;@kit.BasicServicesKit&#39;

@Entry
@Component
struct InputTest &#123;
  build() &#123;
    Column() &#123;
      TextInput()

      Button(&#39;11&#39;)
        .onClick(() =&gt; &#123;
          try &#123;
            let inputMethodController = inputMethod.getController();
            inputMethodController.stopInputSession().then((result) =&gt; &#123;
              if (result) &#123;
                console.info(&#39;Succeeded in stopping inputSession.&#39;);
              &#125; else &#123;
                console.error(&#39;Failed to stopInputSession.&#39;);
              &#125;
            &#125;).catch((err : BusinessError) =&gt; &#123;
              console.error(&#39;Failed to stopInputSession: &#39; + JSON.stringify(err));
            &#125;)
          &#125; catch(err) &#123;
            console.error(&#39;Failed to stopInputSession: &#39; + JSON.stringify(err));
          &#125;
        &#125;)
    &#125;
  &#125;
&#125;
</code></pre>
<p><strong>Reference</strong>: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-inputmethodengine-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-inputmethodengine-V5</a>  </p>
<h2 id="4-How-to-Set-Automatic-Word-Wrap-for-All-Files-in-the-IDE"><a href="#4-How-to-Set-Automatic-Word-Wrap-for-All-Files-in-the-IDE" class="headerlink" title="4. How to Set Automatic Word Wrap for All Files in the IDE?"></a>4. How to Set Automatic Word Wrap for All Files in the IDE?</h2><p>Go to <strong>File &gt; Settings &gt; General &gt; Soft Wraps</strong>, then add the corresponding file types.  </p>
<h2 id="5-Can-Assets-with-the-Same-Name-be-Accessed-Across-Applications"><a href="#5-Can-Assets-with-the-Same-Name-be-Accessed-Across-Applications" class="headerlink" title="5. Can Assets with the Same Name be Accessed Across Applications?"></a>5. Can Assets with the Same Name be Accessed Across Applications?</h2><p>Currently, Asset resources cannot be accessed across applications.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/31/">31</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Qingkouwei</p>
  <div class="site-description" itemprop="description">Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">305</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Qingkouwei</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
