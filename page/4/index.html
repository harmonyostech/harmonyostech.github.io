<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"harmonyostech.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next&#96;s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoo">
<meta property="og:type" content="website">
<meta property="og:title" content="HarmonyOS NEXT Knowledge Charging Station">
<meta property="og:url" content="https://harmonyostech.github.io/page/4/index.html">
<meta property="og:site_name" content="HarmonyOS NEXT Knowledge Charging Station">
<meta property="og:description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next&#96;s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Qingkouwei">
<meta property="article:tag" content="HarmonyOSNext, HarmonyOS NEXT, HarmonyOS, Cangjie">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://harmonyostech.github.io/page/4/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>HarmonyOS NEXT Knowledge Charging Station</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">HarmonyOS NEXT Knowledge Charging Station</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Analysis of Core Technologies and Application Scenarios of HarmonyOS NEXT</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/29/4113-Daily-HarmonyOS-Next-Knowledge-Grid-Item-Dragging-Swiper-Indicator-Gesture-Event-Reporting-Specifying-Release-Version-API-Packaging-Signature-Failure-Error-109/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/29/4113-Daily-HarmonyOS-Next-Knowledge-Grid-Item-Dragging-Swiper-Indicator-Gesture-Event-Reporting-Specifying-Release-Version-API-Packaging-Signature-Failure-Error-109/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] Grid Item Dragging, Swiper Indicator, Gesture Event Reporting, Specifying Release Version API, Packaging Signature Failure Error 109</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-29 10:02:34 / Modified: 10:02:47" itemprop="dateCreated datePublished" datetime="2025-06-29T10:02:34+08:00">2025-06-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Daily-HarmonyOS-Next-Knowledge-Grid-Item-Dragging-Swiper-Indicator-Gesture-Event-Reporting-Specifying-Release-Version-API-Packaging-Signature-Failure-Error-109"><a href="#Daily-HarmonyOS-Next-Knowledge-Grid-Item-Dragging-Swiper-Indicator-Gesture-Event-Reporting-Specifying-Release-Version-API-Packaging-Signature-Failure-Error-109" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Grid Item Dragging, Swiper Indicator, Gesture Event Reporting, Specifying Release Version API, Packaging Signature Failure Error 109"></a>[Daily HarmonyOS Next Knowledge] Grid Item Dragging, Swiper Indicator, Gesture Event Reporting, Specifying Release Version API, Packaging Signature Failure Error 109</h1><h4 id="1-HarmonyOS-Grid-component-item-dragging-issue"><a href="#1-HarmonyOS-Grid-component-item-dragging-issue" class="headerlink" title="1. HarmonyOS Grid component item dragging issue?"></a>1. HarmonyOS Grid component item dragging issue?</h4><p>The Grid component contains 20 GridItem child components, where the first 4 GridItems cannot be dragged, and the rest can be dragged for sorting.  </p>
<p>For draggable Grid and GridItem, refer to the following code (note: <code>.draggable(parseInt(day) &lt;= 6 ? true : false)</code> means the first 6 GridItems are non-draggable):  </p>
<pre><code class="language-typescript">@Entry @Component struct GridExample &#123;
  @State numbers: string[] = []
  scroller: Scroller = new Scroller()
  @State text: string = &#39;drag&#39;

  @Builder
  pixelMapBuilder() &#123; // Drag process style
    Column() &#123;
      Text(this.text)
        .fontSize(16)
        .backgroundColor(0xF9CF93)
        .width(80)
        .height(80)
        .textAlign(TextAlign.Center)
    &#125;
  &#125;

  aboutToAppear() &#123;
    for (let i = 1; i &lt;= 15; i++) &#123;
      this.numbers.push(i + &#39;&#39;)
    &#125;
  &#125;

  changeIndex(index1: number, index2: number) &#123; // Swap array positions
    let temp: string;
    temp = this.numbers[index1];
    this.numbers[index1] = this.numbers[index2];
    this.numbers[index2] = temp;
  &#125;

  build() &#123;
    Column(&#123; space: 5 &#125;) &#123;
      Grid(this.scroller) &#123;
        ForEach(this.numbers, (day: string) =&gt; &#123;
          GridItem() &#123;
            Text(day)
              .fontSize(16)
              .backgroundColor(parseInt(day) &lt;= 6 ? Color.Red : Color.Green)
              .width(80)
              .height(80)
              .textAlign(TextAlign.Center)
          &#125;
          .draggable(parseInt(day) &lt;= 6 ? true : false)
        &#125;)
      &#125;
      .supportAnimation(true)
      .columnsTemplate(&#39;1fr 1fr 1fr&#39;)
      .columnsGap(10)
      .rowsGap(10)
      .width(&#39;90%&#39;)
      .backgroundColor(0xFAEEE0)
      .height(300)
      .editMode(true)
      // Set whether the Grid enters edit mode, allowing GridItem dragging inside the Grid component
      .onItemDragStart((event: ItemDragInfo, itemIndex: number) =&gt; &#123; // Callback triggered when dragging this component for the first time
        this.text = this.numbers[itemIndex]
        return this.pixelMapBuilder() // Set the displayed image during dragging
      &#125;)
      .onItemDrop((event: ItemDragInfo, itemIndex: number, insertIndex: number, isSuccess: boolean) =&gt; &#123;
        // This component bound to the event can be a drag release target, triggering the callback when dragging stops within this component&#39;s range
        // isSuccess=false indicates the drop position is outside the grid; insertIndex &gt; length indicates a new element event
        if (!isSuccess || insertIndex &gt;= this.numbers.length) &#123;
          return
        &#125;
        this.changeIndex(itemIndex, insertIndex)
      &#125;)
    &#125;
  &#125;
</code></pre>
<h4 id="2-HarmonyOS-Swiper-indicator-issue"><a href="#2-HarmonyOS-Swiper-indicator-issue" class="headerlink" title="2. HarmonyOS Swiper indicator issue?"></a>2. HarmonyOS Swiper indicator issue?</h4><p>Using <code>DotIndicator.bottom(0)</code> for Swiper cannot place the indicator at the bottom, as there is always a margin.  </p>
<p>The Swiper component’s <code>indicator</code> attribute sets the distance from navigation dots to the Swiper. The indicator has its own width and height, so it cannot fully adhere to the edge after setting.  </p>
<h4 id="3-HarmonyOS-gesture-event-reporting-issue"><a href="#3-HarmonyOS-gesture-event-reporting-issue" class="headerlink" title="3. HarmonyOS gesture event reporting issue?"></a>3. HarmonyOS gesture event reporting issue?</h4><p>For video playback control gestures (swiping the screen to adjust volume, brightness, and progress, and displaying the control interface), some gesture conflicts exist. The following code is written based on documentation but is not functional:  </p>
<pre><code class="language-typescript">Stack() &#123;
  Column() &#123;

  &#125;
  .gesture(PanGesture()) // Expected to pass through to this position

  Column() &#123;
    this.top()

    Blank()
      .parallelGesture(null, GestureMask.IgnoreInternal) // Expected to pass this gesture event to the upper component

    this.bottom()
  &#125;
  .parallelGesture(null, GestureMask.IgnoreInternal)
&#125;
</code></pre>
<p>Refer to <code>hitTestBehavior</code> to implement gesture passthrough.  </p>
<h4 id="4-How-to-specify-using-release-version-API-during-HarmonyOS-packaging"><a href="#4-How-to-specify-using-release-version-API-during-HarmonyOS-packaging" class="headerlink" title="4. How to specify using release version API during HarmonyOS packaging?"></a>4. How to specify using release version API during HarmonyOS packaging?</h4><p>When packaging a release package (Build APP) in DevEco Studio, the pack.info shows <code>apiVersion - releaseType</code> as “Beta1”. When attempting to publish the package, a prompt appears to use the release version API for development. How to specify the release version API during packaging?  </p>
<p>Locate the <code>uni-package.json</code> file in the <code>hms\toolchains</code> directory under the SDK, and modify <code>releaseType</code> to “Release”. Refer to the following example:  </p>
<pre><code class="language-json">&#123;
  &quot;apiVersion&quot;: &quot;11&quot;,
  &quot;displayName&quot;: &quot;Toolchains&quot;,
  &quot;meta&quot;: &#123;
    &quot;metaVersion&quot;: &quot;3.1.0&quot;
  &#125;,
  &quot;path&quot;: &quot;toolchains&quot;,
  &quot;platformVersion&quot;: &quot;4.1.0&quot;,
  &quot;releaseType&quot;: &quot;Release&quot;,
  &quot;version&quot;: &quot;4.1.0.71&quot;
&#125;
</code></pre>
<p>After successful modification, repackage. The <code>releaseType</code> value from this configuration file will be included in the build.<br><strong>Check method</strong>: View <code>releaseType</code> in <code>apiversion</code> within <code>pack.info</code> under <code>build/outputs/default</code>.<br>Re-upload the modified package to AGC Software Package Management and resubmit for review.  </p>
<h4 id="5-HarmonyOS-error-code-109"><a href="#5-HarmonyOS-error-code-109" class="headerlink" title="5. HarmonyOS error code 109?"></a>5. HarmonyOS error code 109?</h4><p>Reference: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-faqs-V5/faqs-compiling-and-building-101-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-faqs-V5/faqs-compiling-and-building-101-V5</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/29/4114-Daily-HarmonyOS-Next-Knowledge-Web-Nested-Scrolling-Experience-ArrayBuffer-Copy-Transfer-Exception-ObjectLink-Property-Transfer-Build-Parameter-Reading/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/29/4114-Daily-HarmonyOS-Next-Knowledge-Web-Nested-Scrolling-Experience-ArrayBuffer-Copy-Transfer-Exception-ObjectLink-Property-Transfer-Build-Parameter-Reading/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] Web Nested Scrolling Experience, ArrayBuffer Copy Transfer Exception, ObjectLink Property Transfer, Build Parameter Reading</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-29 10:01:43 / Modified: 10:01:57" itemprop="dateCreated datePublished" datetime="2025-06-29T10:01:43+08:00">2025-06-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Daily-HarmonyOS-Next-Knowledge-Web-Nested-Scrolling-Experience-ArrayBuffer-Copy-Transfer-Exception-ObjectLink-Property-Transfer-Build-Parameter-Reading"><a href="#Daily-HarmonyOS-Next-Knowledge-Web-Nested-Scrolling-Experience-ArrayBuffer-Copy-Transfer-Exception-ObjectLink-Property-Transfer-Build-Parameter-Reading" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Web Nested Scrolling Experience, ArrayBuffer Copy Transfer Exception, ObjectLink Property Transfer, Build Parameter Reading"></a>[Daily HarmonyOS Next Knowledge] Web Nested Scrolling Experience, ArrayBuffer Copy Transfer Exception, ObjectLink Property Transfer, Build Parameter Reading</h1><h4 id="1-Poor-nested-scrolling-experience-in-HarmonyOS-WebView"><a href="#1-Poor-nested-scrolling-experience-in-HarmonyOS-WebView" class="headerlink" title="1. Poor nested scrolling experience in HarmonyOS WebView?"></a>1. Poor nested scrolling experience in HarmonyOS WebView?</h4><p>On the product details page with nested scrolling, inertia doesn’t transfer from the parent container to the WebView when scrolling down, but it does transfer from the WebView to the parent layout when scrolling up.  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> web_webview <span class="keyword">from</span> <span class="string">&#x27;@ohos.web.webview&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">export</span> struct <span class="title class_">WebScrollerDemo</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">scrollTouchDown</span>: <span class="built_in">boolean</span> = <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">webTouchDown</span>: <span class="built_in">boolean</span> = <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">scrolling</span>: <span class="built_in">boolean</span> = <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">scroller</span>: <span class="title class_">Scroller</span> = <span class="keyword">new</span> <span class="title class_">Scroller</span>()</span><br><span class="line">  <span class="attr">controller</span>: web_webview.<span class="property">WebviewController</span> = <span class="keyword">new</span> web_webview.<span class="title class_">WebviewController</span>();</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Scroll</span>(<span class="variable language_">this</span>.<span class="property">scroller</span>) &#123;</span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">Text</span>(<span class="string">&quot;Scroll Area&quot;</span>)</span><br><span class="line">          .<span class="title function_">width</span>(<span class="string">&quot;100%&quot;</span>)</span><br><span class="line">          .<span class="title function_">height</span>(<span class="number">400</span>)</span><br><span class="line">          .<span class="title function_">backgroundColor</span>(<span class="number">0X330000FF</span>)</span><br><span class="line">          .<span class="title function_">fontSize</span>(<span class="number">16</span>)</span><br><span class="line">          .<span class="title function_">textAlign</span>(<span class="title class_">TextAlign</span>.<span class="property">Center</span>)</span><br><span class="line">        <span class="title class_">Web</span>(&#123;</span><br><span class="line">          <span class="attr">controller</span>: <span class="variable language_">this</span>.<span class="property">controller</span>,</span><br><span class="line">          <span class="attr">src</span>: <span class="string">&quot;https://www.huawei.com/s?id=1778113237500106256&amp;wfr=spider&amp;for=pc&quot;</span>,</span><br><span class="line">        &#125;).<span class="title function_">height</span>(<span class="string">&quot;100%&quot;</span>).<span class="title function_">width</span>(<span class="string">&quot;100%&quot;</span>)</span><br><span class="line">          .<span class="title function_">nestedScroll</span>(&#123;</span><br><span class="line">            <span class="attr">scrollForward</span>: <span class="title class_">NestedScrollMode</span>.<span class="property">PARENT_FIRST</span>,</span><br><span class="line">            <span class="attr">scrollBackward</span>: <span class="title class_">NestedScrollMode</span>.<span class="property">SELF_FIRST</span></span><br><span class="line">          &#125;)</span><br><span class="line">          .<span class="title function_">onTouch</span>(<span class="function">(<span class="params"><span class="attr">event</span>: <span class="title class_">TouchEvent</span></span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (event.<span class="property">type</span> == <span class="title class_">TouchType</span>.<span class="property">Down</span>) &#123;</span><br><span class="line">              <span class="variable language_">this</span>.<span class="property">webTouchDown</span> = <span class="literal">true</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (event.<span class="property">type</span> == <span class="title class_">TouchType</span>.<span class="property">Up</span>) &#123;</span><br><span class="line">              <span class="variable language_">this</span>.<span class="property">webTouchDown</span> = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;)</span><br><span class="line">      &#125;.<span class="title function_">width</span>(<span class="string">&quot;100%&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">onTouch</span>(<span class="function">(<span class="params"><span class="attr">event</span>: <span class="title class_">TouchEvent</span></span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (event.<span class="property">type</span> == <span class="title class_">TouchType</span>.<span class="property">Down</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">scrollTouchDown</span> = <span class="literal">true</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (event.<span class="property">type</span> == <span class="title class_">TouchType</span>.<span class="property">Up</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">scrollTouchDown</span> = <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">onScrollFrameBegin</span>(<span class="function">(<span class="params"><span class="attr">offset</span>: <span class="built_in">number</span>, <span class="attr">state</span>: <span class="title class_">ScrollState</span></span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> <span class="attr">yOffset</span>: <span class="built_in">number</span> = <span class="variable language_">this</span>.<span class="property">scroller</span>.<span class="title function_">currentOffset</span>().<span class="property">yOffset</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">scrolling</span> &amp;&amp; offset &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (yOffset &gt;= <span class="number">400</span>) &#123; <span class="comment">// 400 is the height of the Text component above</span></span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">controller</span>.<span class="title function_">scrollBy</span>(<span class="number">0</span>, offset)</span><br><span class="line">          <span class="keyword">return</span> &#123; <span class="attr">offsetRemain</span>: <span class="number">0</span> &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (yOffset + offset &gt; <span class="number">400</span>) &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">controller</span>.<span class="title function_">scrollBy</span>(<span class="number">0</span>, yOffset + offset - <span class="number">400</span>)</span><br><span class="line">          <span class="keyword">return</span> &#123; <span class="attr">offsetRemain</span>: <span class="number">400</span> - yOffset &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> &#123; <span class="attr">offsetRemain</span>: offset &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">onScrollStart</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">scrollTouchDown</span> &amp;&amp; !<span class="variable language_">this</span>.<span class="property">webTouchDown</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">scrolling</span> = <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">onScrollStop</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">scrolling</span> = <span class="literal">false</span>;</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">edgeEffect</span>(<span class="title class_">EdgeEffect</span>.<span class="property">Spring</span>)</span><br><span class="line">    .<span class="title function_">backgroundColor</span>(<span class="string">&#x27;#DCDCDC&#x27;</span>)</span><br><span class="line">    .<span class="title function_">scrollBar</span>(<span class="title class_">BarState</span>.<span class="property">On</span>)</span><br><span class="line">    .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-Exception-when-copying-ArrayBuffer-via-taskpool-SequenceRunner-in-HarmonyOS"><a href="#2-Exception-when-copying-ArrayBuffer-via-taskpool-SequenceRunner-in-HarmonyOS" class="headerlink" title="2. Exception when copying ArrayBuffer via taskpool.SequenceRunner in HarmonyOS?"></a>2. Exception when copying ArrayBuffer via taskpool.SequenceRunner in HarmonyOS?</h4><p>Using ImageReceiver to obtain frame ArrayBuffer from the camera, then passing the ArrayBuffer to a thread pool for time-consuming algorithm analysis. Since the ArrayBuffer is still needed later, <code>setCloneList</code> is used to copy it. Code:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="attr">runner</span>: taskpool.<span class="property">SequenceRunner</span> = <span class="keyword">new</span> taskpool.<span class="title class_">SequenceRunner</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> task = <span class="keyword">new</span> taskpool.<span class="title class_">Task</span>(run, buffer, width, height);</span><br><span class="line">task.<span class="title function_">setCloneList</span>([buffer]);</span><br><span class="line"><span class="keyword">let</span> result = <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="property">runner</span>.<span class="title function_">execute</span>(task);</span><br></pre></td></tr></table></figure>

<p>Error: <code>10200006 An exception occurred during serialization, taskpool: failed to serialize arguments</code>.  </p>
<p>If <code>@Concurrent</code> is commented out, the same error occurs.  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> taskpool <span class="keyword">from</span> <span class="string">&#x27;@ohos.taskpool&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Concurrent</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">printArgs</span>(<span class="params"><span class="attr">args</span>: <span class="built_in">number</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&quot;printArgs: &quot;</span> + args);</span><br><span class="line">  <span class="keyword">return</span> args;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">taskpool.<span class="title function_">execute</span>(printArgs, <span class="number">100</span>).<span class="title function_">then</span>(<span class="function">(<span class="params"><span class="attr">value</span>: <span class="title class_">Object</span></span>) =&gt;</span> &#123; <span class="comment">// 100: test number</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&quot;taskpool result: &quot;</span> + value);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="3-How-to-transfer-ObjectLink-properties-to-child-components-in-HarmonyOS"><a href="#3-How-to-transfer-ObjectLink-properties-to-child-components-in-HarmonyOS" class="headerlink" title="3. How to transfer ObjectLink properties to child components in HarmonyOS?"></a>3. How to transfer ObjectLink properties to child components in HarmonyOS?</h4><p>Refer to the ObjectLink documentation. Directly decorate the required data in the child component with ObjectLink:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-observed-and-objectlink-V5#%E8%A7%82%E5%AF%9F%E5%8F%98%E5%8C%96">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-observed-and-objectlink-V5#%E8%A7%82%E5%AF%9F%E5%8F%98%E5%8C%96</a>  </p>
<h4 id="4-Can-HarmonyOSApp-builds-distinguish-and-inject-script-parameters-into-the-BuildProfile-file"><a href="#4-Can-HarmonyOSApp-builds-distinguish-and-inject-script-parameters-into-the-BuildProfile-file" class="headerlink" title="4. Can HarmonyOSApp builds distinguish and inject script parameters into the BuildProfile file?"></a>4. Can HarmonyOSApp builds distinguish and inject script parameters into the BuildProfile file?</h4><p>App builds need to distinguish between multiple environments. Currently, this relies on configuring multiple targets and setting the <code>buildProfileField</code> in each target. Can the build script be configured to read shell parameters and inject them into the code build, similar to writing Groovy in Gradle builds to dynamically modify build scripts and inject different parameter values?  </p>
<p>Dynamic configuration can be achieved through hooks and plugin contexts. Reference:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/ide-hvigor-config-ohos-guide-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/ide-hvigor-config-ohos-guide-V5</a>  </p>
<h4 id="5-HarmonyOS-Web-component-grayscale-property-not-taking-effect"><a href="#5-HarmonyOS-Web-component-grayscale-property-not-taking-effect" class="headerlink" title="5. HarmonyOS Web component grayscale property not taking effect?"></a>5. HarmonyOS Web component grayscale property not taking effect?</h4><p>Setting the <code>grayscale</code> property on a Web component to add a grayscale effect has no effect after testing.  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> web_webview <span class="keyword">from</span> <span class="string">&#x27;@ohos.web.webview&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">WebComponent</span> &#123;</span><br><span class="line">  <span class="attr">controller</span>: web_webview.<span class="property">WebviewController</span> = <span class="keyword">new</span> web_webview.<span class="title class_">WebviewController</span>()</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Web</span>(&#123; <span class="attr">src</span>: <span class="string">&#x27;www.huawei.com&#x27;</span>, <span class="attr">controller</span>: <span class="variable language_">this</span>.<span class="property">controller</span> &#125;)</span><br><span class="line">        .<span class="title function_">grayscale</span>(<span class="number">0.5</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/29/4115-Daily-HarmonyOS-Next-Knowledge-Web-Nested-Scrolling-Experience-ArrayBuffer-Copy-Transfer-Exception-ObjectLink-Property-Transfer-Build-Parameter-Reading/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/29/4115-Daily-HarmonyOS-Next-Knowledge-Web-Nested-Scrolling-Experience-ArrayBuffer-Copy-Transfer-Exception-ObjectLink-Property-Transfer-Build-Parameter-Reading/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] Web Nested Scrolling Experience, ArrayBuffer Copy Transfer Exception, ObjectLink Property Transfer, Build Parameter Reading</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-29 10:00:41 / Modified: 10:00:57" itemprop="dateCreated datePublished" datetime="2025-06-29T10:00:41+08:00">2025-06-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Daily-HarmonyOS-Next-Knowledge-Web-Nested-Scrolling-Experience-ArrayBuffer-Copy-Transfer-Exception-ObjectLink-Property-Transfer-Build-Parameter-Reading"><a href="#Daily-HarmonyOS-Next-Knowledge-Web-Nested-Scrolling-Experience-ArrayBuffer-Copy-Transfer-Exception-ObjectLink-Property-Transfer-Build-Parameter-Reading" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Web Nested Scrolling Experience, ArrayBuffer Copy Transfer Exception, ObjectLink Property Transfer, Build Parameter Reading"></a>[Daily HarmonyOS Next Knowledge] Web Nested Scrolling Experience, ArrayBuffer Copy Transfer Exception, ObjectLink Property Transfer, Build Parameter Reading</h1><h4 id="1-Poor-nested-scrolling-experience-in-HarmonyOS-WebView"><a href="#1-Poor-nested-scrolling-experience-in-HarmonyOS-WebView" class="headerlink" title="1. Poor nested scrolling experience in HarmonyOS WebView?"></a>1. Poor nested scrolling experience in HarmonyOS WebView?</h4><p>On the product details page with nested scrolling, inertia doesn’t transfer from the parent container to the WebView when scrolling down, but it does transfer from the WebView to the parent layout when scrolling up.  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> web_webview <span class="keyword">from</span> <span class="string">&#x27;@ohos.web.webview&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">export</span> struct <span class="title class_">WebScrollerDemo</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">scrollTouchDown</span>: <span class="built_in">boolean</span> = <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">webTouchDown</span>: <span class="built_in">boolean</span> = <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">scrolling</span>: <span class="built_in">boolean</span> = <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">scroller</span>: <span class="title class_">Scroller</span> = <span class="keyword">new</span> <span class="title class_">Scroller</span>()</span><br><span class="line">  <span class="attr">controller</span>: web_webview.<span class="property">WebviewController</span> = <span class="keyword">new</span> web_webview.<span class="title class_">WebviewController</span>();</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Scroll</span>(<span class="variable language_">this</span>.<span class="property">scroller</span>) &#123;</span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">Text</span>(<span class="string">&quot;Scroll Area&quot;</span>)</span><br><span class="line">          .<span class="title function_">width</span>(<span class="string">&quot;100%&quot;</span>)</span><br><span class="line">          .<span class="title function_">height</span>(<span class="number">400</span>)</span><br><span class="line">          .<span class="title function_">backgroundColor</span>(<span class="number">0X330000FF</span>)</span><br><span class="line">          .<span class="title function_">fontSize</span>(<span class="number">16</span>)</span><br><span class="line">          .<span class="title function_">textAlign</span>(<span class="title class_">TextAlign</span>.<span class="property">Center</span>)</span><br><span class="line">        <span class="title class_">Web</span>(&#123;</span><br><span class="line">          <span class="attr">controller</span>: <span class="variable language_">this</span>.<span class="property">controller</span>,</span><br><span class="line">          <span class="attr">src</span>: <span class="string">&quot;https://www.huawei.com/s?id=1778113237500106256&amp;wfr=spider&amp;for=pc&quot;</span>,</span><br><span class="line">        &#125;).<span class="title function_">height</span>(<span class="string">&quot;100%&quot;</span>).<span class="title function_">width</span>(<span class="string">&quot;100%&quot;</span>)</span><br><span class="line">          .<span class="title function_">nestedScroll</span>(&#123;</span><br><span class="line">            <span class="attr">scrollForward</span>: <span class="title class_">NestedScrollMode</span>.<span class="property">PARENT_FIRST</span>,</span><br><span class="line">            <span class="attr">scrollBackward</span>: <span class="title class_">NestedScrollMode</span>.<span class="property">SELF_FIRST</span></span><br><span class="line">          &#125;)</span><br><span class="line">          .<span class="title function_">onTouch</span>(<span class="function">(<span class="params"><span class="attr">event</span>: <span class="title class_">TouchEvent</span></span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (event.<span class="property">type</span> == <span class="title class_">TouchType</span>.<span class="property">Down</span>) &#123;</span><br><span class="line">              <span class="variable language_">this</span>.<span class="property">webTouchDown</span> = <span class="literal">true</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (event.<span class="property">type</span> == <span class="title class_">TouchType</span>.<span class="property">Up</span>) &#123;</span><br><span class="line">              <span class="variable language_">this</span>.<span class="property">webTouchDown</span> = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;)</span><br><span class="line">      &#125;.<span class="title function_">width</span>(<span class="string">&quot;100%&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">onTouch</span>(<span class="function">(<span class="params"><span class="attr">event</span>: <span class="title class_">TouchEvent</span></span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (event.<span class="property">type</span> == <span class="title class_">TouchType</span>.<span class="property">Down</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">scrollTouchDown</span> = <span class="literal">true</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (event.<span class="property">type</span> == <span class="title class_">TouchType</span>.<span class="property">Up</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">scrollTouchDown</span> = <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">onScrollFrameBegin</span>(<span class="function">(<span class="params"><span class="attr">offset</span>: <span class="built_in">number</span>, <span class="attr">state</span>: <span class="title class_">ScrollState</span></span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> <span class="attr">yOffset</span>: <span class="built_in">number</span> = <span class="variable language_">this</span>.<span class="property">scroller</span>.<span class="title function_">currentOffset</span>().<span class="property">yOffset</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">scrolling</span> &amp;&amp; offset &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (yOffset &gt;= <span class="number">400</span>) &#123; <span class="comment">// 400 is the height of the Text component above</span></span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">controller</span>.<span class="title function_">scrollBy</span>(<span class="number">0</span>, offset)</span><br><span class="line">          <span class="keyword">return</span> &#123; <span class="attr">offsetRemain</span>: <span class="number">0</span> &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (yOffset + offset &gt; <span class="number">400</span>) &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">controller</span>.<span class="title function_">scrollBy</span>(<span class="number">0</span>, yOffset + offset - <span class="number">400</span>)</span><br><span class="line">          <span class="keyword">return</span> &#123; <span class="attr">offsetRemain</span>: <span class="number">400</span> - yOffset &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> &#123; <span class="attr">offsetRemain</span>: offset &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">onScrollStart</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">scrollTouchDown</span> &amp;&amp; !<span class="variable language_">this</span>.<span class="property">webTouchDown</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">scrolling</span> = <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">onScrollStop</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">scrolling</span> = <span class="literal">false</span>;</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">edgeEffect</span>(<span class="title class_">EdgeEffect</span>.<span class="property">Spring</span>)</span><br><span class="line">    .<span class="title function_">backgroundColor</span>(<span class="string">&#x27;#DCDCDC&#x27;</span>)</span><br><span class="line">    .<span class="title function_">scrollBar</span>(<span class="title class_">BarState</span>.<span class="property">On</span>)</span><br><span class="line">    .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-Exception-when-copying-ArrayBuffer-via-taskpool-SequenceRunner-in-HarmonyOS"><a href="#2-Exception-when-copying-ArrayBuffer-via-taskpool-SequenceRunner-in-HarmonyOS" class="headerlink" title="2. Exception when copying ArrayBuffer via taskpool.SequenceRunner in HarmonyOS?"></a>2. Exception when copying ArrayBuffer via taskpool.SequenceRunner in HarmonyOS?</h4><p>Using ImageReceiver to obtain frame ArrayBuffer from the camera, then passing the ArrayBuffer to a thread pool for time-consuming algorithm analysis. Since the ArrayBuffer is still needed later, <code>setCloneList</code> is used to copy it. Code:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="attr">runner</span>: taskpool.<span class="property">SequenceRunner</span> = <span class="keyword">new</span> taskpool.<span class="title class_">SequenceRunner</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> task = <span class="keyword">new</span> taskpool.<span class="title class_">Task</span>(run, buffer, width, height);</span><br><span class="line">task.<span class="title function_">setCloneList</span>([buffer]);</span><br><span class="line"><span class="keyword">let</span> result = <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="property">runner</span>.<span class="title function_">execute</span>(task);</span><br></pre></td></tr></table></figure>

<p>Error: <code>10200006 An exception occurred during serialization, taskpool: failed to serialize arguments</code>.  </p>
<p>If <code>@Concurrent</code> is commented out, the same error occurs.  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> taskpool <span class="keyword">from</span> <span class="string">&#x27;@ohos.taskpool&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Concurrent</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">printArgs</span>(<span class="params"><span class="attr">args</span>: <span class="built_in">number</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&quot;printArgs: &quot;</span> + args);</span><br><span class="line">  <span class="keyword">return</span> args;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">taskpool.<span class="title function_">execute</span>(printArgs, <span class="number">100</span>).<span class="title function_">then</span>(<span class="function">(<span class="params"><span class="attr">value</span>: <span class="title class_">Object</span></span>) =&gt;</span> &#123; <span class="comment">// 100: test number</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&quot;taskpool result: &quot;</span> + value);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="3-How-to-transfer-ObjectLink-properties-to-child-components-in-HarmonyOS"><a href="#3-How-to-transfer-ObjectLink-properties-to-child-components-in-HarmonyOS" class="headerlink" title="3. How to transfer ObjectLink properties to child components in HarmonyOS?"></a>3. How to transfer ObjectLink properties to child components in HarmonyOS?</h4><p>Refer to the ObjectLink documentation. Directly decorate the required data in the child component with ObjectLink:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-observed-and-objectlink-V5#%E8%A7%82%E5%AF%9F%E5%8F%98%E5%8C%96">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-observed-and-objectlink-V5#%E8%A7%82%E5%AF%9F%E5%8F%98%E5%8C%96</a>  </p>
<h4 id="4-Can-HarmonyOSApp-builds-distinguish-and-inject-script-parameters-into-the-BuildProfile-file"><a href="#4-Can-HarmonyOSApp-builds-distinguish-and-inject-script-parameters-into-the-BuildProfile-file" class="headerlink" title="4. Can HarmonyOSApp builds distinguish and inject script parameters into the BuildProfile file?"></a>4. Can HarmonyOSApp builds distinguish and inject script parameters into the BuildProfile file?</h4><p>App builds need to distinguish between multiple environments. Currently, this relies on configuring multiple targets and setting the <code>buildProfileField</code> in each target. Can the build script be configured to read shell parameters and inject them into the code build, similar to writing Groovy in Gradle builds to dynamically modify build scripts and inject different parameter values?  </p>
<p>Dynamic configuration can be achieved through hooks and plugin contexts. Reference:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/ide-hvigor-config-ohos-guide-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/ide-hvigor-config-ohos-guide-V5</a>  </p>
<h4 id="5-HarmonyOS-Web-component-grayscale-property-not-taking-effect"><a href="#5-HarmonyOS-Web-component-grayscale-property-not-taking-effect" class="headerlink" title="5. HarmonyOS Web component grayscale property not taking effect?"></a>5. HarmonyOS Web component grayscale property not taking effect?</h4><p>Setting the <code>grayscale</code> property on a Web component to add a grayscale effect has no effect after testing.  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> web_webview <span class="keyword">from</span> <span class="string">&#x27;@ohos.web.webview&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">WebComponent</span> &#123;</span><br><span class="line">  <span class="attr">controller</span>: web_webview.<span class="property">WebviewController</span> = <span class="keyword">new</span> web_webview.<span class="title class_">WebviewController</span>()</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Web</span>(&#123; <span class="attr">src</span>: <span class="string">&#x27;www.huawei.com&#x27;</span>, <span class="attr">controller</span>: <span class="variable language_">this</span>.<span class="property">controller</span> &#125;)</span><br><span class="line">        .<span class="title function_">grayscale</span>(<span class="number">0.5</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/29/4116%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Custom-Time-Picker-Image-Loading-Local-Resources-Thread-Switching-HAP-Package-Installation-Immersive-Mode-Ineffectiveness/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/29/4116%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Custom-Time-Picker-Image-Loading-Local-Resources-Thread-Switching-HAP-Package-Installation-Immersive-Mode-Ineffectiveness/" class="post-title-link" itemprop="url">【Daily HarmonyOS Next Knowledge】Custom Time Picker, Image Loading Local Resources, Thread Switching, HAP Package Installation, Immersive Mode Ineffectiveness</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-29 09:59:42 / Modified: 09:59:57" itemprop="dateCreated datePublished" datetime="2025-06-29T09:59:42+08:00">2025-06-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="【Daily-HarmonyOS-Next-Knowledge】Custom-Time-Picker-Image-Loading-Local-Resources-Thread-Switching-HAP-Package-Installation-Immersive-Mode-Ineffectiveness"><a href="#【Daily-HarmonyOS-Next-Knowledge】Custom-Time-Picker-Image-Loading-Local-Resources-Thread-Switching-HAP-Package-Installation-Immersive-Mode-Ineffectiveness" class="headerlink" title="【Daily HarmonyOS Next Knowledge】Custom Time Picker, Image Loading Local Resources, Thread Switching, HAP Package Installation, Immersive Mode Ineffectiveness"></a>【Daily HarmonyOS Next Knowledge】Custom Time Picker, Image Loading Local Resources, Thread Switching, HAP Package Installation, Immersive Mode Ineffectiveness</h1><h4 id="1-How-to-Customize-a-Time-Picker-in-HarmonyOS"><a href="#1-How-to-Customize-a-Time-Picker-in-HarmonyOS" class="headerlink" title="1. How to Customize a Time Picker in HarmonyOS?"></a>1. How to Customize a Time Picker in HarmonyOS?</h4><p>Refer to the following demo:  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line">let anmDuration: number = 200;</span><br><span class="line">@Entry</span><br><span class="line">@Component</span><br><span class="line">struct TextPickerExample1 &#123;</span><br><span class="line">  @State firstDate: string = &#x27;2024-06-19&#x27;</span><br><span class="line">  @State date: string = &#x27;2024年06月19号&#x27;</span><br><span class="line">  controller: CustomDialogController = new CustomDialogController(&#123;</span><br><span class="line">    builder: TextPicker1(&#123;</span><br><span class="line">      cancel: (date: string) =&gt; &#123;</span><br><span class="line">        this.onCancel(date)</span><br><span class="line">      &#125;,</span><br><span class="line">      confirm: (date: string, date1: Date) =&gt; &#123;</span><br><span class="line">        this.onAccept(date, date1)</span><br><span class="line">      &#125;,</span><br><span class="line">      date: this.firstDate,</span><br><span class="line">    &#125;),</span><br><span class="line">    autoCancel:false,</span><br><span class="line">    cornerRadius: 0,</span><br><span class="line">    customStyle: true,</span><br><span class="line">    alignment: DialogAlignment.BottomEnd</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  onCancel(date: string) &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  onAccept(date: string, date1: Date) &#123;</span><br><span class="line">    let year: string = date1.getFullYear().toString();</span><br><span class="line">    let month: string = (date1.getMonth() + 1) &lt; 10 ? (&#x27;0&#x27; + (date1.getMonth() + 1)).toString() : (date1.getMonth() + 1).toString();</span><br><span class="line">    let day: string = date1.getDate().toString();</span><br><span class="line">    this.date = year + &#x27;年&#x27; + month + &#x27;月&#x27; + day + &#x27;日&#x27;</span><br><span class="line">    this.firstDate = year + &#x27;-&#x27; + month + &#x27;-&#x27; + day + &#x27;-&#x27;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  build() &#123;</span><br><span class="line">    Column() &#123;</span><br><span class="line">      Text(this.date)</span><br><span class="line">      Text(&#x27;日期&#x27;).onClick(() =&gt; &#123;</span><br><span class="line">        this.controller.open()</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@CustomDialog</span><br><span class="line">struct TextPicker1 &#123;</span><br><span class="line">  aboutToAppear(): void &#123;</span><br><span class="line">    this.selectedDate = new Date(this.date)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @State date: string = &#x27;2026-08-08&#x27;</span><br><span class="line">  controller: CustomDialogController</span><br><span class="line">  // Start year</span><br><span class="line">  @State startYear: number = 1970</span><br><span class="line">  @State isLunar: boolean = false</span><br><span class="line">  @State showFlag: Visibility = Visibility.Visible;</span><br><span class="line">  @State isAutoCancel: boolean = false;</span><br><span class="line">  @State selectedDate: Date = new Date(this.date)</span><br><span class="line">  cancel?: (date: string) =&gt; void</span><br><span class="line">  confirm?: (date: string, date1: Date) =&gt; void</span><br><span class="line">  // Delay closing the dialog to display the custom entry animation</span><br><span class="line"></span><br><span class="line">  @State nowDate: Date = new Date()</span><br><span class="line"></span><br><span class="line">  destroy() &#123;</span><br><span class="line">    this.showFlag = Visibility.Hidden</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">      this.controller.close()</span><br><span class="line">    &#125;, anmDuration)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  build() &#123;</span><br><span class="line">    Column() &#123;</span><br><span class="line">      Column() &#123;</span><br><span class="line">        Row() &#123;</span><br><span class="line">          Button(&#x27;取消&#x27;, &#123; type: ButtonType.Normal &#125;).backgroundColor(Color.White).fontColor(Color.Gray)</span><br><span class="line">            .onClick(() =&gt; &#123;</span><br><span class="line">              if (this.cancel) &#123;</span><br><span class="line">                this.destroy();</span><br><span class="line">                this.cancel(this.date)</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">          Button(&#x27;确定&#x27;, &#123; type: ButtonType.Normal &#125;).backgroundColor(Color.White).fontColor(&quot;#fff5b6dd&quot;)</span><br><span class="line">            .onClick(() =&gt; &#123;</span><br><span class="line">              if (this.confirm) &#123;</span><br><span class="line">                this.destroy();</span><br><span class="line">                this.date = this.nowDate.toString()</span><br><span class="line">                this.confirm(this.date, this.nowDate)</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;.width(&#x27;100%&#x27;).justifyContent(FlexAlign.SpaceBetween)</span><br><span class="line"></span><br><span class="line">        DatePicker(&#123;</span><br><span class="line">          start: new Date(&#x27;1970-1-1&#x27;),</span><br><span class="line">          end: new Date(&#x27;2100-1-1&#x27;),</span><br><span class="line">          selected: this.selectedDate</span><br><span class="line">        &#125;)</span><br><span class="line">          .disappearTextStyle(&#123; color: Color.Gray, font: &#123; size: &#x27;16fp&#x27;, weight: FontWeight.Bold &#125; &#125;)</span><br><span class="line">          .textStyle(&#123; color: &#x27;#ff182431&#x27;, font: &#123; size: &#x27;16&#x27;, weight: FontWeight.Normal &#125; &#125;)</span><br><span class="line">          .selectedTextStyle(&#123; color: &quot;#fff5b6dd&quot;, font: &#123; size: &#x27;22fp&#x27;, weight: FontWeight.Regular &#125; &#125;)</span><br><span class="line">          .lunar(this.isLunar)</span><br><span class="line">          .onDateChange((value: Date) =&gt; &#123;</span><br><span class="line">            this.nowDate = value</span><br><span class="line">            console.info(&#x27;select current date is: &#x27; + value.toString())</span><br><span class="line">          &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;.width(&#x27;100%&#x27;).backgroundColor(Color.White).visibility(this.showFlag)</span><br><span class="line">    // Define entry and exit transition animation effects</span><br><span class="line">    .transition(TransitionEffect.OPACITY.animation(&#123; duration: anmDuration &#125;)</span><br><span class="line">      .combine(TransitionEffect.translate(&#123; y: 100 &#125;)))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-How-Does-the-HarmonyOS-Image-Component-Load-Local-Resources-What-Is-the-Directory-Reading-Method"><a href="#2-How-Does-the-HarmonyOS-Image-Component-Load-Local-Resources-What-Is-the-Directory-Reading-Method" class="headerlink" title="2. How Does the HarmonyOS Image Component Load Local Resources? What Is the Directory Reading Method?"></a>2. How Does the HarmonyOS Image Component Load Local Resources? What Is the Directory Reading Method?</h4><p>How does the system obtain the absolute path based on the relative path for the following instances?  </p>
<ol>
<li>Create a folder for local resources and place local images in any location under the <code>ets</code> folder. The Image component can display the image by introducing the local image path (the root directory is the <code>ets</code> folder).  </li>
<li><code>frameworks/core/image/image_loader.cpp</code> creates different <code>imageLoader</code> instances based on different URLs and follows the corresponding loading logic.  <ul>
<li>For example, writing <code>Image($r(&quot;app.media.symbol&quot;))</code> uses <code>ResourceImageLoader</code>.</li>
</ul>
</li>
</ol>
<h4 id="3-Can-HarmonyOS-ArkTS-Directly-Switch-to-the-UI-Thread-via-CoroutineScope-launch-in-a-Child-Thread-Similar-to-Kotlin"><a href="#3-Can-HarmonyOS-ArkTS-Directly-Switch-to-the-UI-Thread-via-CoroutineScope-launch-in-a-Child-Thread-Similar-to-Kotlin" class="headerlink" title="3. Can HarmonyOS ArkTS Directly Switch to the UI Thread via CoroutineScope.launch in a Child Thread, Similar to Kotlin?"></a>3. Can HarmonyOS ArkTS Directly Switch to the UI Thread via CoroutineScope.launch in a Child Thread, Similar to Kotlin?</h4><p>In child thread A, a child thread B is created. Can thread B directly send messages to the UI thread? Must thread B first send messages to thread A, and then thread A sends messages to the UI thread? Is there a way for thread B to directly send messages to or switch to the UI thread?  </p>
<p>The <code>Emitter</code> can be used for inter-thread communication. The UI thread receives event messages and refreshes the UI. For details, refer to the documentation:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/itc-with-emitter-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/itc-with-emitter-V5</a>  </p>
<h4 id="4-How-to-Install-a-HAP-Package-Downloaded-to-a-Mobile-Phone-in-HarmonyOS"><a href="#4-How-to-Install-a-HAP-Package-Downloaded-to-a-Mobile-Phone-in-HarmonyOS" class="headerlink" title="4. How to Install a HAP Package Downloaded to a Mobile Phone in HarmonyOS?"></a>4. How to Install a HAP Package Downloaded to a Mobile Phone in HarmonyOS?</h4><p>How to install a HAP package downloaded to a mobile phone? In the internal environment, after the application is built through the pipeline to obtain the HAP package, how to install it on the phone?  </p>
<ol>
<li>Manual installation by opening the HAP package is currently not supported.  </li>
<li>For open testing, publish the app to AppGallery, specify testers, and follow the application distribution testing process:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/AppGallery-connect-Guides/agc-betatest-introduction-0000001071477284">https://developer.huawei.com/consumer/cn/doc/AppGallery-connect-Guides/agc-betatest-introduction-0000001071477284</a>  </li>
<li>For internal corporate testing without publishing to AppGallery, refer to:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/app/agc-help-harmonyos-internalrelease-0000001756878768">https://developer.huawei.com/consumer/cn/doc/app/agc-help-harmonyos-internalrelease-0000001756878768</a></li>
</ol>
<h4 id="5-In-HarmonyOS-Overlay-the-Immersive-Mode-expandSafeArea-Seems-Ineffective-What-Are-the-Overlay-Extension-Rules"><a href="#5-In-HarmonyOS-Overlay-the-Immersive-Mode-expandSafeArea-Seems-Ineffective-What-Are-the-Overlay-Extension-Rules" class="headerlink" title="5. In HarmonyOS Overlay, the Immersive Mode (expandSafeArea) Seems Ineffective. What Are the Overlay Extension Rules?"></a>5. In HarmonyOS Overlay, the Immersive Mode (expandSafeArea) Seems Ineffective. What Are the Overlay Extension Rules?</h4><p>When extending the mask based on <code>navigation</code>, which inherently supports safe area extension, the mask does not cover the full screen as expected. What may be the cause?  </p>
<ul>
<li><code>navigation</code> natively supports safe area avoidance (default: <code>expandSafeArea([SafeAreaType.SYSTEM], [SafeAreaEdge.TOP, SafeAreaEdge.BOTTOM])</code>). To cover the full screen, modify it to <code>expandSafeArea([])</code>.</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/29/4117-Daily-HarmonyOS-Next-Knowledge-JSON-Dictionary-Issues-Height-Change-Problems-Open-Test-Version-Issues-Dynamic-Library-Single-Architecture-Selection-WebView-and-H5-Interaction/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/29/4117-Daily-HarmonyOS-Next-Knowledge-JSON-Dictionary-Issues-Height-Change-Problems-Open-Test-Version-Issues-Dynamic-Library-Single-Architecture-Selection-WebView-and-H5-Interaction/" class="post-title-link" itemprop="url">4117[Daily HarmonyOS Next Knowledge] JSON Dictionary Issues, Height Change Problems, Open Test Version Issues, Dynamic Library Single Architecture Selection, WebView and H5 Interaction</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2025-06-29 09:59:01" itemprop="dateCreated datePublished" datetime="2025-06-29T09:59:01+08:00">2025-06-29</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/29/4118-Daily-HarmonyOS-Next-Knowledge-Push-with-Specified-Page-Parameters-Web-Debugging-with-Devtools-Image-Loading-and-Compression-Including-Third-party-SO-in-HAP-Packages-and-URL-Parameter-Extraction/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/29/4118-Daily-HarmonyOS-Next-Knowledge-Push-with-Specified-Page-Parameters-Web-Debugging-with-Devtools-Image-Loading-and-Compression-Including-Third-party-SO-in-HAP-Packages-and-URL-Parameter-Extraction/" class="post-title-link" itemprop="url">4118[Daily HarmonyOS Next Knowledge] Push with Specified Page Parameters, Web Debugging with Devtools, Image Loading and Compression, Including Third-party SO in HAP Packages, and URL Parameter Extraction</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2025-06-29 09:58:04" itemprop="dateCreated datePublished" datetime="2025-06-29T09:58:04+08:00">2025-06-29</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/29/41110-Daily-HarmonyOS-Next-Knowledge-Screen-Height-Certificate-Signing-Dark-Mode-Impact-on-Release-Taskpool-Context-List-Bottom-Loading/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/29/41110-Daily-HarmonyOS-Next-Knowledge-Screen-Height-Certificate-Signing-Dark-Mode-Impact-on-Release-Taskpool-Context-List-Bottom-Loading/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] Screen Height, Certificate Signing, Dark Mode Impact on Release, Taskpool Context, List Bottom Loading</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-29 09:56:35 / Modified: 09:57:19" itemprop="dateCreated datePublished" datetime="2025-06-29T09:56:35+08:00">2025-06-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Daily-HarmonyOS-Next-Knowledge-Screen-Height-Certificate-Signing-Dark-Mode-Impact-on-Release-Taskpool-Context-List-Bottom-Loading"><a href="#Daily-HarmonyOS-Next-Knowledge-Screen-Height-Certificate-Signing-Dark-Mode-Impact-on-Release-Taskpool-Context-List-Bottom-Loading" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Screen Height, Certificate Signing, Dark Mode Impact on Release, Taskpool Context, List Bottom Loading"></a>[Daily HarmonyOS Next Knowledge] Screen Height, Certificate Signing, Dark Mode Impact on Release, Taskpool Context, List Bottom Loading</h1><h4 id="1-About-screen-height-in-HarmonyOS"><a href="#1-About-screen-height-in-HarmonyOS" class="headerlink" title="1. About screen height in HarmonyOS"></a>1. About screen height in HarmonyOS</h4><p><code>display.getDefaultDisplaySync</code> can get the entire screen height. How to get the heights of the top status bar and bottom safe area?  </p>
<p>They can be obtained and stored in <code>EntryAbility</code>. The obtained heights are in pixels, so convert them to VPs using <code>px2vp()</code>:  </p>
<pre><code class="language-typescript">onWindowStageCreate(windowStage: window.WindowStage) &#123;
  // Main window is created, set main page for this ability
  hilog.info(0x0000, &#39;testTag&#39;, &#39;%&#123;public&#125;s&#39;, &#39;Ability onWindowStageCreate&#39;);

  windowStage.loadContent(&#39;pages/Index&#39;, (err, data) =&gt; &#123;
    if (err.code) &#123;
      hilog.error(0x0000, &#39;testTag&#39;, &#39;Failed to load the content. Cause: %&#123;public&#125;s&#39;, JSON.stringify(err) ?? &#39;&#39;);
      return;
    &#125;
    hilog.info(0x0000, &#39;testTag&#39;, &#39;Succeeded in loading the content. Data: %&#123;public&#125;s&#39;, JSON.stringify(data) ?? &#39;&#39;);

    let windowClass = windowStage.getMainWindowSync();
    let statusHeight = windowClass.getWindowAvoidArea(window.AvoidAreaType.TYPE_SYSTEM).topRect.height;
    let bottomHeight = windowClass.getWindowAvoidArea(window.AvoidAreaType.TYPE_NAVIGATION_INDICATOR).bottomRect.height;
    AppStorage.setOrCreate(&#39;bottomHeight&#39;, px2vp(bottomHeight));
    AppStorage.setOrCreate(&#39;statusHeight&#39;, px2vp(statusHeight));
  &#125;);
&#125;
</code></pre>
<p>Retrieve them in the required interface using <code>AppStorage.get(&#39;bottomHeight&#39;)</code> and <code>AppStorage.get(&#39;statusHeight&#39;)</code>.  </p>
<h4 id="2-HarmonyOS-Manual-signing-with-release-certificate-fails-to-install-the-app-on-the-engineering-device"><a href="#2-HarmonyOS-Manual-signing-with-release-certificate-fails-to-install-the-app-on-the-engineering-device" class="headerlink" title="2. HarmonyOS: Manual signing with release certificate fails to install the app on the engineering device"></a>2. HarmonyOS: Manual signing with release certificate fails to install the app on the engineering device</h4><p>After configuring manual signing with a release certificate, the .cer and .p7b files are downloaded from AppGallery Connect. However, clicking “Run” in DevEco Studio fails to install on the engineering device, with the error: “code:9568322 error: signature verification failed due to not trusted app source”.  </p>
<p>Does manual signing with a release certificate require registering debug devices? There is no option to register debug devices in the AppGallery Connect release certificate settings.  </p>
<p>The issue occurs because the signature does not include the UDID of the debug device. Solve it by following these steps:  </p>
<ol>
<li>Use automatic signing. After connecting the device, resign the app. Specific steps: Go to File &gt; Project Structure &gt; Project &gt; Signing Configs, check “Automatically generate signature” (for API 8 and 9 projects, also check “SupportHarmonyOS”) to complete signing. If not logged in, click Sign In first, then signing is completed automatically.  </li>
<li>If using manual signing, register the debug device in AppGallery Connect and add it when applying for the Profile file, then reapply for the Profile certificate. Packages signed with a release certificate cannot be debugged and installed locally.</li>
</ol>
<h4 id="3-Does-not-adapting-to-dark-mode-affect-the-final-version-release-of-a-HarmonyOS-APP"><a href="#3-Does-not-adapting-to-dark-mode-affect-the-final-version-release-of-a-HarmonyOS-APP" class="headerlink" title="3. Does not adapting to dark mode affect the final version release of a HarmonyOS APP?"></a>3. Does not adapting to dark mode affect the final version release of a HarmonyOS APP?</h4><ol>
<li>Does not adapting to dark mode affect version release?  </li>
<li>Must dark mode adaptation simultaneously adapt to mobile phones, tablets, and 2in1 (PC) devices?</li>
</ol>
<p>You can actively set the light mode. By default, the app is configured to follow the system’s light&#x2F;dark mode. If you do not want the app to follow the system, actively set the app’s light&#x2F;dark style. After setting, the app’s mode is fixed and will not change with the system. Reference: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-light-dark-color-adaptation-V5#section19361879317">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-light-dark-color-adaptation-V5#section19361879317</a><br>Code to set light mode:<br><code>getContext(this).getApplicationContext().setColorMode(ConfigurationConstant.ColorMode.COLOR_MODE_LIGHT);</code>  </p>
<h4 id="4-How-to-obtain-the-application-Context-in-a-Concurrent-method-within-taskPool-in-HarmonyOS"><a href="#4-How-to-obtain-the-application-Context-in-a-Concurrent-method-within-taskPool-in-HarmonyOS" class="headerlink" title="4. How to obtain the application Context in a @Concurrent method within taskPool in HarmonyOS"></a>4. How to obtain the application Context in a @Concurrent method within taskPool in HarmonyOS</h4><p>Directly calling <code>getContext()</code> in a @Concurrent method within taskPool throws an exception. It is necessary to use preference storage and relationalStore database in taskPool. How to safely obtain the current application’s ApplicationContext object in a @Concurrent method within taskPool?  </p>
<p>@Concurrent allows using local variables, input parameters, and variables introduced via import. Using closure variables is prohibited. Check if the @Concurrent usage is incorrect.  </p>
<h4 id="5-Does-the-HarmonyOS-List-component-have-attributes-or-methods-for-bottom-loading"><a href="#5-Does-the-HarmonyOS-List-component-have-attributes-or-methods-for-bottom-loading" class="headerlink" title="5. Does the HarmonyOS List component have attributes or methods for bottom loading?"></a>5. Does the HarmonyOS List component have attributes or methods for bottom loading?</h4><p>The <code>onReachEnd</code> event can be used to implement lazy data loading. When the <code>onReachEnd</code> event is triggered, asynchronously obtain a specified number of list data in the callback function to get the next page of data each time the list slides to the bottom.<br>Refer to the official documentation:  </p>
<ul>
<li>Long list loading performance optimization: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/bpta-best-practices-long-list#section69931513103314">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/bpta-best-practices-long-list#section69931513103314</a></li>
</ul>
<p>Principles and rendering process of LazyForEach lazy loading:  </p>
<ol>
<li>LazyForEach loads data on demand based on the number of components that can be displayed in the screen viewport.  </li>
<li>Create components based on the loaded data volume, mount them on the component tree, and build a short component tree. That is, create and mount as many ListItem component nodes as the number of list items that can be displayed on the screen under the List component root node.  </li>
<li>Only part of the components are displayed in the screen viewport. When components outside the viewport need to be displayed on the screen, the process of data loading, component creation, and component tree mounting must be completed from scratch until rendering on the screen.</li>
</ol>
<p>Schematic diagram of data loading, component tree mounting, and page rendering:<br>sh  </p>
<p>LazyForEach implements on-demand loading, reducing the time consumption of one-time data loading and memory peak values for scenarios with large list data and complex list components. However, during long list scrolling, continuous loading of new content based on user scrolling behavior requires additional data requests and processing, increasing calculation during scrolling and affecting performance. However, reasonably using LazyForEach’s on-demand loading capability by loading only when scrolling stops or reaches a threshold can reduce unnecessary calculations and requests, thereby improving performance and user experience. In summary, in scenarios implementing on-demand loading, it is necessary to comprehensively consider the balance between performance and user experience, and reasonably optimize the loading logic and rendering method to enhance overall performance.  </p>
<ul>
<li>LazyForEach: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-rendering-control-lazyforeach-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-rendering-control-lazyforeach-V5</a></li>
</ul>
<p>LazyForEach iterates data on demand from the provided data source and creates corresponding components during each iteration. When LazyForEach is used in a scrolling container, the framework creates components on demand based on the visible area of the scrolling container. When components slide out of the visible area, the framework destroys and recycles them to reduce memory usage.# [Daily HarmonyOS Next Knowledge] Screen Height, Certificate Signing, Impact of Dark Mode on App Submission, Taskpool Context, List Loading More on Scroll  </p>
<h4 id="1-HarmonyOS-screen-height"><a href="#1-HarmonyOS-screen-height" class="headerlink" title="1. HarmonyOS screen height?"></a>1. HarmonyOS screen height?</h4><p><code>display.getDefaultDisplaySync()</code> can get the entire screen height. How to get the heights of the top status bar and bottom safe area?  </p>
<p>Retrieve and store these values in <code>EntryAbility</code>. The heights are in pixels (px), convert to viewport units (vp) using <code>px2vp()</code>:  </p>
<pre><code class="language-typescript">onWindowStageCreate(windowStage: window.WindowStage) &#123;
  // Main window is created, set main page for this ability
  hilog.info(0x0000, &#39;testTag&#39;, &#39;%&#123;public&#125;s&#39;, &#39;Ability onWindowStageCreate&#39;);

  windowStage.loadContent(&#39;pages/Index&#39;, (err, data) =&gt; &#123;
    if (err.code) &#123;
      hilog.error(0x0000, &#39;testTag&#39;, &#39;Failed to load the content. Cause: %&#123;public&#125;s&#39;, JSON.stringify(err) ?? &#39;&#39;);
      return;
    &#125;
    hilog.info(0x0000, &#39;testTag&#39;, &#39;Succeeded in loading the content. Data: %&#123;public&#125;s&#39;, JSON.stringify(data) ?? &#39;&#39;);

    let windowClass = windowStage.getMainWindowSync();
    let statusHeight = windowClass.getWindowAvoidArea(window.AvoidAreaType.TYPE_SYSTEM).topRect.height;
    let bottomHeight = windowClass.getWindowAvoidArea(window.AvoidAreaType.TYPE_NAVIGATION_INDICATOR).bottomRect.height;
    AppStorage.setOrCreate(&#39;bottomHeight&#39;, px2vp(bottomHeight));
    AppStorage.setOrCreate(&#39;statusHeight&#39;, px2vp(statusHeight));
  &#125;);
&#125;
</code></pre>
<p>Retrieve values in components using <code>AppStorage.get(&#39;bottomHeight&#39;)</code> and <code>AppStorage.get(&#39;statusHeight&#39;)</code>.  </p>
<h4 id="2-HarmonyOS-manual-signing-with-release-certificate-fails-to-install-app-on-development-device"><a href="#2-HarmonyOS-manual-signing-with-release-certificate-fails-to-install-app-on-development-device" class="headerlink" title="2. HarmonyOS manual signing with release certificate fails to install app on development device?"></a>2. HarmonyOS manual signing with release certificate fails to install app on development device?</h4><p>Configured manual signing with release certificate (.cer and .p7b files downloaded from AppGallery Connect). Clicking “Run” in DevEco Studio fails to install on the device with error:<br>“code:9568322 error: signature verification failed due to not trusted app source”.  </p>
<p>Do I need to register the debugging device when manually signing with a release certificate? There’s no option to register devices in AppGallery Connect’s release certificate section.  </p>
<p><strong>Solution</strong>: The issue occurs because the debug device’s UDID is not included in the signature. Resolve by:  </p>
<ol>
<li><strong>Use automatic signing</strong>:  <ul>
<li>Connect device, go to <strong>File &gt; Project Structure &gt; Project &gt; Signing Configs</strong>.  </li>
<li>Check <strong>“Automatically generate signature”</strong> (for API 8&#x2F;9 projects, also check <strong>“SupportHarmonyOS”</strong>).  </li>
<li>Log in if prompted to complete signing.</li>
</ul>
</li>
<li><strong>For manual signing</strong>:  <ul>
<li>Register the debug device in AppGallery Connect.  </li>
<li>When creating the Profile, include this device.  </li>
<li>Reapply for the Profile certificate.  </li>
<li><strong>Note</strong>: Release-signed packages cannot be debug-installed locally.</li>
</ul>
</li>
</ol>
<h4 id="3-Does-an-unsigned-HarmonyOS-app-affect上架-submission-to-AppGallery"><a href="#3-Does-an-unsigned-HarmonyOS-app-affect上架-submission-to-AppGallery" class="headerlink" title="3. Does an unsigned HarmonyOS app affect上架 (submission to AppGallery)?"></a>3. Does an unsigned HarmonyOS app affect上架 (submission to AppGallery)?</h4><ol>
<li>Will an app without dark mode support be rejected during submission?  </li>
<li>Must dark mode be supported on phones, tablets, and 2-in-1 (PC) devices simultaneously?</li>
</ol>
<p><strong>Answer</strong>:  </p>
<ul>
<li>Apps can explicitly set a light theme to avoid following system dark mode.  </li>
<li>Reference: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-light-dark-color-adaptation-V5#section19361879317">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-light-dark-color-adaptation-V5#section19361879317</a>  </li>
<li>Set light mode code:  <pre><code class="language-typescript">getContext(this).getApplicationContext().setColorMode(ConfigurationConstant.ColorMode.COLOR_MODE_LIGHT);
</code></pre>
</li>
</ul>
<h4 id="4-How-to-get-the-application-context-in-a-Concurrent-method-within-taskPool"><a href="#4-How-to-get-the-application-context-in-a-Concurrent-method-within-taskPool" class="headerlink" title="4. How to get the application context in a @Concurrent method within taskPool?"></a>4. How to get the application context in a @Concurrent method within taskPool?</h4><p>Calling <code>getContext()</code> directly in a <code>@Concurrent</code> method throws an exception. How to safely access <code>ApplicationContext</code> when using <code>preference</code> storage or <code>relationalStore</code> in taskPool?  </p>
<p><strong>Note</strong>:<br><code>@Concurrent</code> methods allow:  </p>
<ul>
<li>Local variables  </li>
<li>Method parameters  </li>
<li>Variables imported via <code>import</code><br>They <strong>prohibit</strong> capturing closure variables. Verify your usage of <code>@Concurrent</code>.</li>
</ul>
<h4 id="5-Does-the-HarmonyOS-List-component-have-a-built-in-method-to-load-more-data-when-scrolling-to-the-bottom"><a href="#5-Does-the-HarmonyOS-List-component-have-a-built-in-method-to-load-more-data-when-scrolling-to-the-bottom" class="headerlink" title="5. Does the HarmonyOS List component have a built-in method to load more data when scrolling to the bottom?"></a>5. Does the HarmonyOS List component have a built-in method to load more data when scrolling to the bottom?</h4><p>Use the <code>onReachEnd</code> event for lazy loading:  </p>
<ul>
<li>Trigger asynchronous data fetching when the list reaches the end.  </li>
<li>Load the next page of data each time the bottom is reached.</li>
</ul>
<p><strong>References</strong>:  </p>
<ul>
<li>Long list performance optimization: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/bpta-best-practices-long-list#section69931513103314">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/bpta-best-practices-long-list#section69931513103314</a></li>
</ul>
<p><strong>LazyForEach principle</strong>:  </p>
<ol>
<li>Loads data based on the number of components visible in the viewport.  </li>
<li>Creates and mounts only necessary components to the tree.  </li>
<li>Renders components on-demand as they enter the viewport.</li>
</ol>
<p><strong>Benefits</strong>:  </p>
<ul>
<li>Reduces initial load time and memory footprint.  </li>
<li>May impact scrolling performance due to dynamic loading.  </li>
<li>Optimize by loading data when scrolling stops or reaches a threshold.</li>
</ul>
<p><strong>Documentation</strong>:  </p>
<ul>
<li>LazyForEach: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-rendering-control-lazyforeach-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-rendering-control-lazyforeach-V5</a></li>
</ul>
<p><strong>How it works</strong>:  </p>
<ul>
<li>Iterates data source on-demand.  </li>
<li>Creates components as they enter the viewport.  </li>
<li>Destroys components when they exit to free memory.</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/29/41112-Daily-HarmonyOS-Next-Knowledge-Intermediate-Artifact-Version-Number-Issues-Toast-Not-Working-Outside-App-Dialog-Keyboard-Problem-WebView-Cookie-Local-Cache/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/29/41112-Daily-HarmonyOS-Next-Knowledge-Intermediate-Artifact-Version-Number-Issues-Toast-Not-Working-Outside-App-Dialog-Keyboard-Problem-WebView-Cookie-Local-Cache/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] Intermediate Artifact Version Number Issues, Toast Not Working Outside App, Dialog Keyboard Problem, WebView Cookie, Local Cache</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-29 09:55:12 / Modified: 09:55:34" itemprop="dateCreated datePublished" datetime="2025-06-29T09:55:12+08:00">2025-06-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Daily-HarmonyOS-Next-Knowledge-Intermediate-Artifact-Version-Number-Issues-Toast-Not-Working-Outside-App-Dialog-Keyboard-Problem-WebView-Cookie-Local-Cache"><a href="#Daily-HarmonyOS-Next-Knowledge-Intermediate-Artifact-Version-Number-Issues-Toast-Not-Working-Outside-App-Dialog-Keyboard-Problem-WebView-Cookie-Local-Cache" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Intermediate Artifact Version Number Issues, Toast Not Working Outside App, Dialog Keyboard Problem, WebView Cookie, Local Cache"></a>[Daily HarmonyOS Next Knowledge] Intermediate Artifact Version Number Issues, Toast Not Working Outside App, Dialog Keyboard Problem, WebView Cookie, Local Cache</h1><h4 id="1-Version-number-issue-in-import-of-business-bundle-intermediate-artifacts"><a href="#1-Version-number-issue-in-import-of-business-bundle-intermediate-artifacts" class="headerlink" title="1. Version number issue in import of business bundle intermediate artifacts"></a>1. Version number issue in import of business bundle intermediate artifacts</h4><p>If a business bundle depends on an artifact B.har (version 0.0.1), the import path of components or APIs from B.har in the intermediate artifact will directly include the version number @0.0.1. If another version of B.har is overridden in the entry, although no error is logged, runtime issues may occur with B.har.  </p>
<p>It is hoped that the compiler can optimize dependency imports to remove version number markers or provide alternative solutions to avoid related issues.  </p>
<p>When the entry introduces B.har version 1.0.0, the intermediate artifact import path is 1.0.0. After overriding to 1.0.1 at the project level, the intermediate artifact import path changes to 1.0.1.  </p>
<h4 id="2-HarmonyOS-promptAction-showToast-pop-up-not-working-outside-the-app"><a href="#2-HarmonyOS-promptAction-showToast-pop-up-not-working-outside-the-app" class="headerlink" title="2. HarmonyOS promptAction.showToast pop-up not working outside the app"></a>2. HarmonyOS promptAction.showToast pop-up not working outside the app</h4><p>When the app exits, the opened toast is destroyed along with the component and cannot be retained.  </p>
<h4 id="3-HarmonyOS-Dialog-input-control-issue-Dialog-displacement-length-does-not-match-keyboard-height-when-the-keyboard-pops-up"><a href="#3-HarmonyOS-Dialog-input-control-issue-Dialog-displacement-length-does-not-match-keyboard-height-when-the-keyboard-pops-up" class="headerlink" title="3. HarmonyOS Dialog input control issue: Dialog displacement length does not match keyboard height when the keyboard pops up"></a>3. HarmonyOS Dialog input control issue: Dialog displacement length does not match keyboard height when the keyboard pops up</h4><p>When adding a TextInput control to a Dialog, the control is pushed up by the keyboard when it gains focus, but the pushed distance is longer than the keyboard height. It is expected that the pop-up distance matches the keyboard height.  </p>
<p>There is a default 16vp safe distance between the pop-up and the soft keyboard, which is the current specification.<br>Specific reference: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-common-components-custom-dialog-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-common-components-custom-dialog-V5</a>  </p>
<h4 id="4-HarmonyOS-Webview-cookie-missing-fields-when-writing"><a href="#4-HarmonyOS-Webview-cookie-missing-fields-when-writing" class="headerlink" title="4. HarmonyOS Webview cookie missing fields when writing"></a>4. HarmonyOS Webview cookie missing fields when writing</h4><p>For the same object data, storing it in a cookie using JSON.stringify(data) preserves completeness, while storing the object directly causes data loss.  </p>
<p>Directly setting object data results in undefined when retrieved, as objects are not supported for direct setting. Webview cookies are all strings; refer to the API: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-webview-V5#ZH-CN_TOPIC_0000001920279886__configcookiesync11">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-webview-V5#ZH-CN_TOPIC_0000001920279886__configcookiesync11</a>  </p>
<p>When an H5 page directly sets an object, the retrieved value is undefined. Using the js-cookie library requires serialized strings for cookie.set.  </p>
<h4 id="5-HarmonyOS-local-cache-issue"><a href="#5-HarmonyOS-local-cache-issue" class="headerlink" title="5. HarmonyOS local cache issue"></a>5. HarmonyOS local cache issue</h4><p>Storing business data locally for use during cold starts.<br>Refer to the data storage solutions in the link and select an appropriate persistent storage solution based on business needs:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-faqs-V5/faqs-arkdata-kit-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-faqs-V5/faqs-arkdata-kit-V5</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/29/41113-Daily-HarmonyOS-Next-Knowledge-HAP-Installation-Error-App-Account-Transfer-Local-File-Import-Remote-Package-Build-Issues-Frontend-Page-Access-Methods/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/29/41113-Daily-HarmonyOS-Next-Knowledge-HAP-Installation-Error-App-Account-Transfer-Local-File-Import-Remote-Package-Build-Issues-Frontend-Page-Access-Methods/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] HAP Installation Error, App Account Transfer, Local File Import, Remote Package Build Issues, Frontend Page Access Methods</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-29 09:53:53 / Modified: 09:55:17" itemprop="dateCreated datePublished" datetime="2025-06-29T09:53:53+08:00">2025-06-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Daily-HarmonyOS-Next-Knowledge-HAP-Installation-Error-App-Account-Transfer-Local-File-Import-Remote-Package-Build-Issues-Frontend-Page-Access-Methods"><a href="#Daily-HarmonyOS-Next-Knowledge-HAP-Installation-Error-App-Account-Transfer-Local-File-Import-Remote-Package-Build-Issues-Frontend-Page-Access-Methods" class="headerlink" title="[Daily HarmonyOS Next Knowledge] HAP Installation Error, App Account Transfer, Local File Import, Remote Package Build Issues, Frontend Page Access Methods"></a>[Daily HarmonyOS Next Knowledge] HAP Installation Error, App Account Transfer, Local File Import, Remote Package Build Issues, Frontend Page Access Methods</h1><h4 id="1-How-to-solve-the-HAP-installation-error-after-HarmonyOS-packaging"><a href="#1-How-to-solve-the-HAP-installation-error-after-HarmonyOS-packaging" class="headerlink" title="1. How to solve the HAP installation error after HarmonyOS packaging?"></a>1. How to solve the HAP installation error after HarmonyOS packaging?</h4><p>When installing a HAP file generated by build via hdc, an error occurs, and the certificate information is confirmed to be release. How to solve it?  </p>
<p><strong>Solution</strong>: Release certificates cannot be used for installation.  </p>
<h4 id="2-Can-apps-created-under-a-HarmonyOS-ordinary-account-be-deleted-or-transferred-to-another-enterprise-inhouse-account"><a href="#2-Can-apps-created-under-a-HarmonyOS-ordinary-account-be-deleted-or-transferred-to-another-enterprise-inhouse-account" class="headerlink" title="2. Can apps created under a HarmonyOS ordinary account be deleted or transferred to another enterprise inhouse account?"></a>2. Can apps created under a HarmonyOS ordinary account be deleted or transferred to another enterprise inhouse account?</h4><p>They can be deleted and re-created under an enterprise account, but direct transfer is not supported.  </p>
<h4 id="3-How-to-import-local-files-in-HarmonyOS"><a href="#3-How-to-import-local-files-in-HarmonyOS" class="headerlink" title="3. How to import local files in HarmonyOS?"></a>3. How to import local files in HarmonyOS?</h4><p>When importing self-written files in a project, excessive hierarchy issues may occur, such as:  </p>
<pre><code class="language-typescript">import CommonConstants from &#39;../../../commons/constants/CommonConstants&#39;;
</code></pre>
<p>Is there a way to set up shortcut references similar to TS configuration in <code>compilerOptions</code>? Which configuration file needs to be modified?  </p>
<p>Desired reference format:  </p>
<pre><code class="language-typescript">import CommonConstants from &#39;@commons/CommonConstants&#39;
</code></pre>
<p><strong>Solution</strong>: In the <code>oh-package.json5</code> file of the model directory requiring the library, add the library dependency in the <code>dependencies</code> block:  </p>
<pre><code class="language-json5">&quot;dependencies&quot;: &#123;
  &quot;libraryFirst&quot;: &quot;file:../libraryFirst&quot;
&#125;
</code></pre>
<ul>
<li><code>libraryFirst</code> is an alias (arbitrary name), and the value is the path.  </li>
<li>Usage: <code>import &#123; add &#125; from &#39;libraryFirst&#39;</code>.</li>
</ul>
<p><strong>Reference</strong>: Dynamic import documentation: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-dynamic-import-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-dynamic-import-V5</a>  </p>
<ul>
<li>Dynamic import supports conditional lazy loading and partial reflection, improving page loading speed.  </li>
<li>It supports loading HSP modules&#x2F;HAR modules&#x2F;OHPM packages&#x2F;Native libraries, and enables module decoupling when variables are dynamically imported between HAR modules.  </li>
<li>Use cases for dynamic import:  <ul>
<li>When statically imported modules significantly slow down code loading and are rarely used.  </li>
<li>When statically imported modules consume excessive system memory and are rarely used.  </li>
<li>When the imported module does not exist at loading time and needs to be acquired asynchronously.  </li>
<li>When the module specifier needs to be dynamically constructed (static import only supports static specifiers).  </li>
<li>When the imported module has side effects (code that runs directly in the module) required only under certain conditions.</li>
</ul>
</li>
</ul>
<h4 id="4-Remote-package-build-issue-“The-hvigor-depends-on-the-npmrc-file-Configure-the-npmrc-file-first-”"><a href="#4-Remote-package-build-issue-“The-hvigor-depends-on-the-npmrc-file-Configure-the-npmrc-file-first-”" class="headerlink" title="4. Remote package build issue: “The hvigor depends on the npmrc file. Configure the npmrc file first.”"></a>4. Remote package build issue: “The hvigor depends on the npmrc file. Configure the npmrc file first.”</h4><p>Error occurs during remote package build in the pipeline environment:<br><img src="/../images/%E3%80%90%E6%AF%8F%E6%97%A5%E5%AD%A6%E7%82%B9%E9%B8%BF%E8%92%99%E7%9F%A5%E8%AF%86%E3%80%9124.11.13.png"></p>
<p><strong>Error message</strong>: The hvigor depends on the npmrc file. Configure the npmrc file first.  </p>
<p><strong>Issue</strong>: The npmrc file is already configured in the remote environment. What is the problem?  </p>
<p><strong>Solution</strong>: The <code>.npmrc</code> file must be configured in the user directory, and the current directory must have accessible permissions.  </p>
<h4 id="5-How-does-a-HarmonyOS-app-access-frontend-page-methods"><a href="#5-How-does-a-HarmonyOS-app-access-frontend-page-methods" class="headerlink" title="5. How does a HarmonyOS app access frontend page methods?"></a>5. How does a HarmonyOS app access frontend page methods?</h4><p>The app needs to accept frontend method calls, and after execution, run a JS script to trigger an asynchronous callback. How should frontend methods be registered for normal invocation by the app?  </p>
<p><strong>Solution</strong>: Use the WebView’s <code>runJavaScript</code> method to asynchronously execute JS scripts and return results via callbacks. Call <code>runJavaScript</code> after <code>loadUrl</code> is completed (e.g., in <code>onPageEnd</code>).<br><strong>Official example reference</strong>: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-webview-V5#ZH-CN_TOPIC_0000001930676933__runjavascript">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-webview-V5#ZH-CN_TOPIC_0000001930676933__runjavascript</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/29/41114-Daily-HarmonyOS-Next-Knowledge-Web-Component-Loading-Blank-C-Callback-to-ArkTS-Bottom-Banner-Hide-Show-Excessive-Build-Warnings-Real-time-Communication-Between-ArkTS-and-C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/29/41114-Daily-HarmonyOS-Next-Knowledge-Web-Component-Loading-Blank-C-Callback-to-ArkTS-Bottom-Banner-Hide-Show-Excessive-Build-Warnings-Real-time-Communication-Between-ArkTS-and-C/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] Web Component Loading Blank, C++ Callback to ArkTS, Bottom Banner Hide/Show, Excessive Build Warnings, Real-time Communication Between ArkTS and C++</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-29 09:52:43 / Modified: 09:53:05" itemprop="dateCreated datePublished" datetime="2025-06-29T09:52:43+08:00">2025-06-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Daily-HarmonyOS-Next-Knowledge-Web-Component-Loading-Blank-C-Callback-to-ArkTS-Bottom-Banner-Hide-Show-Excessive-Build-Warnings-Real-time-Communication-Between-ArkTS-and-C"><a href="#Daily-HarmonyOS-Next-Knowledge-Web-Component-Loading-Blank-C-Callback-to-ArkTS-Bottom-Banner-Hide-Show-Excessive-Build-Warnings-Real-time-Communication-Between-ArkTS-and-C" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Web Component Loading Blank, C++ Callback to ArkTS, Bottom Banner Hide&#x2F;Show, Excessive Build Warnings, Real-time Communication Between ArkTS and C++"></a>[Daily HarmonyOS Next Knowledge] Web Component Loading Blank, C++ Callback to ArkTS, Bottom Banner Hide&#x2F;Show, Excessive Build Warnings, Real-time Communication Between ArkTS and C++</h1><h4 id="1-HarmonyOS-web-component-loads-a-blank-page"><a href="#1-HarmonyOS-web-component-loads-a-blank-page" class="headerlink" title="1. HarmonyOS web component loads a blank page?"></a>1. HarmonyOS web component loads a blank page?</h4><p>When loading some URLs, the header title and back button of the front-end page are displayed, but the main content is blank.  </p>
<p>Add the attribute <code>.domStorageAccess(true)</code> to the WebView component to enable Document Object Model Storage API permissions (disabled by default).<br><strong>Reference Document</strong>: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-web-V5#domstorageaccess">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-web-V5#domstorageaccess</a>  </p>
<p><code>domStorageAccess(domStorageAccess: boolean)</code>: Enables&#x2F;disables Document Object Model Storage API permissions (default: disabled).  </p>
<h4 id="2-How-to-register-a-callback-from-ArkTS-to-C-layer-in-HarmonyOS-and-how-does-the-C-layer-invoke-the-callback-method"><a href="#2-How-to-register-a-callback-from-ArkTS-to-C-layer-in-HarmonyOS-and-how-does-the-C-layer-invoke-the-callback-method" class="headerlink" title="2. How to register a callback from ArkTS to C++ layer in HarmonyOS, and how does the C++ layer invoke the callback method?"></a>2. How to register a callback from ArkTS to C++ layer in HarmonyOS, and how does the C++ layer invoke the callback method?</h4><p>Need to pass the playback status callback from the C++ layer to the ArkTS UI layer. Unsure about implementing this via NAPI, seeking a solution.  </p>
<p>Use the <code>napi_call_function</code> to call JS functions from Native. Reference code:  </p>
<ol>
<li>Link ArkTS and C++ functions in <code>index.d.ts</code>:</li>
</ol>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">nativeCallArkTS</span>: <span class="function">(<span class="params"><span class="attr">cb</span>: (a: <span class="built_in">string</span>) =&gt; <span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">string</span>; </span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">2. Call ArkTS function from C++:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>cpp</span><br><span class="line"><span class="keyword">static</span> napi_value <span class="title class_">NativeCallArkTS</span>(napi_env env, napi_callback_info info) &#123;</span><br><span class="line">  size_t argc = <span class="number">1</span>;</span><br><span class="line">  napi_value args[<span class="number">1</span>] = &#123;nullptr&#125;;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">napi_get_cb_info</span>(env, info, &amp;argc, args, nullptr, nullptr);</span><br><span class="line">  </span><br><span class="line">  napi_value argv = nullptr;</span><br><span class="line">  <span class="title function_">napi_create_string_utf8</span>(env, <span class="string">&quot;yes&quot;</span>, <span class="number">3</span>, &amp;argv);</span><br><span class="line"></span><br><span class="line">  napi_value result = nullptr;</span><br><span class="line">  <span class="title function_">napi_call_function</span>(env, nullptr, args[<span class="number">0</span>], <span class="number">1</span>, &amp;argv, &amp;result);</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">3. Export the `</span><span class="title class_">NativeCallArkTS</span><span class="string">` interface:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>cpp</span><br><span class="line"><span class="variable constant_">EXTERN_C_START</span></span><br><span class="line"><span class="keyword">static</span> napi_value <span class="title class_">Init</span>(napi_env env, napi_value <span class="built_in">exports</span>)</span><br><span class="line">&#123;</span><br><span class="line">  napi_property_descriptor desc[] = &#123;</span><br><span class="line">  &#123;<span class="string">&quot;nativeCallArkTS&quot;</span>, nullptr, <span class="title class_">NativeCallArkTS</span>, nullptr, nullptr, nullptr, napi_default, nullptr&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title function_">napi_define_properties</span>(env, <span class="built_in">exports</span>, <span class="title function_">sizeof</span>(desc) / <span class="title function_">sizeof</span>(desc[<span class="number">0</span>]), desc);</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">exports</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable constant_">EXTERN_C_END</span></span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">4. Invoke the function in ArkTS:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="keyword">import</span> nativeFun <span class="keyword">from</span> <span class="string">&#x27;libentry.so&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Index</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">message</span>: <span class="built_in">string</span> = <span class="string">&#x27;nativeCallArkTS&#x27;</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Row</span>() &#123;</span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">message</span>)</span><br><span class="line">          .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">message</span> += nativeFun.<span class="title function_">nativeCallArkTS</span>(<span class="function">(<span class="params"><span class="attr">a</span>: <span class="built_in">string</span></span>)=&gt;</span> &#123;</span><br><span class="line">              <span class="keyword">return</span> a &#125;)</span><br><span class="line">          &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 3. How to show and hide the bottom banner in HarmonyOS?  </span></span><br><span class="line"><span class="string">**Reference Link**: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/application-window-stage-V5  </span></span><br><span class="line"><span class="string">Reference code:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="title function_">onWindowStageCreate</span>(<span class="params"><span class="attr">windowStage</span>: <span class="variable language_">window</span>.<span class="title class_">WindowStage</span></span>) &#123;</span><br><span class="line">  windowStage.<span class="title function_">getMainWindow</span>().<span class="title function_">then</span>(<span class="function">(<span class="params">windowObj</span>) =&gt;</span> &#123;</span><br><span class="line">    windowObj.<span class="title function_">setWindowLayoutFullScreen</span>(<span class="literal">true</span>);</span><br><span class="line">    windowObj.<span class="title function_">setWindowSystemBarEnable</span>([<span class="string">&#x27;status&#x27;</span>])</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Application window concepts**:  </span></span><br><span class="line"><span class="string">- **Window immersive capability**: Controls system windows like the status bar and navigation bar to enhance user experience. Immersive capabilities only take effect when the main application window is in full-screen mode. Sub-windows (pop-ups, floating windows) and main windows in freeform mode typically cannot use immersive capabilities.  </span></span><br><span class="line"><span class="string">- **Floating window**: A special application window that remains visible when the main window and corresponding Ability go to the background. It can be used for background video playback or quick access (e.g., floating balls). Permissions are required before creating a floating window.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 4. Excessive warnings during hap build, sometimes failing to find errors?  </span></span><br><span class="line"><span class="string">How to disable warning echoes when there are too many warnings during hap build, making errors hard to locate.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">In &quot;File&quot; -&gt; &quot;Settings&quot;, search for &quot;hvigor&quot; and set &quot;Use log level&quot; to adjust the hvigor output log level.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 5. Real-time communication between HarmonyOS ArkTS and C++?  </span></span><br><span class="line"><span class="string">The C++ layer generates extensive logs output to the console, which need to be real-timely displayed in the ArkTS UI. Should this be implemented via callbacks? Unfamiliar with NAPI and unable to find relevant methods in documentation.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Implement via callbacks. Refer to the following example:  </span></span><br><span class="line"><span class="string">1. Link ArkTS and C++ functions in `</span>index.<span class="property">d</span>.<span class="property">ts</span><span class="string">`:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">nativeCallArkTS</span>: <span class="function">(<span class="params"><span class="attr">cb</span>: (a: <span class="built_in">string</span>) =&gt; <span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">string</span>; </span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">2. Call ArkTS function from C++ (same as above):  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>cpp</span><br><span class="line"><span class="keyword">static</span> napi_value <span class="title class_">NativeCallArkTS</span>(napi_env env, napi_callback_info info) &#123;</span><br><span class="line">  size_t argc = <span class="number">1</span>;</span><br><span class="line">  napi_value args[<span class="number">1</span>] = &#123;nullptr&#125;;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">napi_get_cb_info</span>(env, info, &amp;argc, args, nullptr, nullptr);</span><br><span class="line">  </span><br><span class="line">  napi_value argv = nullptr;</span><br><span class="line">  <span class="title function_">napi_create_string_utf8</span>(env, <span class="string">&quot;yes&quot;</span>, <span class="number">3</span>, &amp;argv);</span><br><span class="line"></span><br><span class="line">  napi_value result = nullptr;</span><br><span class="line">  <span class="title function_">napi_call_function</span>(env, nullptr, args[<span class="number">0</span>], <span class="number">1</span>, &amp;argv, &amp;result);</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">3. Export the interface (same as above):  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>cpp</span><br><span class="line"><span class="variable constant_">EXTERN_C_START</span></span><br><span class="line"><span class="keyword">static</span> napi_value <span class="title class_">Init</span>(napi_env env, napi_value <span class="built_in">exports</span>)</span><br><span class="line">&#123;</span><br><span class="line">  napi_property_descriptor desc[] = &#123;</span><br><span class="line">  &#123;<span class="string">&quot;nativeCallArkTS&quot;</span>, nullptr, <span class="title class_">NativeCallArkTS</span>, nullptr, nullptr, nullptr, napi_default, nullptr&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title function_">napi_define_properties</span>(env, <span class="built_in">exports</span>, <span class="title function_">sizeof</span>(desc) / <span class="title function_">sizeof</span>(desc[<span class="number">0</span>]), desc);</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">exports</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable constant_">EXTERN_C_END</span></span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">4. Invoke in ArkTS (same as above):  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="keyword">import</span> nativeFun <span class="keyword">from</span> <span class="string">&#x27;libentry.so&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Index</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">message</span>: <span class="built_in">string</span> = <span class="string">&#x27;nativeCallArkTS&#x27;</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Row</span>() &#123;</span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">message</span>)</span><br><span class="line">          .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">message</span> += nativeFun.<span class="title function_">nativeCallArkTS</span>(<span class="function">(<span class="params"><span class="attr">a</span>: <span class="built_in">string</span></span>)=&gt;</span> &#123;</span><br><span class="line">              <span class="keyword">return</span> a &#125;)</span><br><span class="line">          &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/29/">29</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Qingkouwei</p>
  <div class="site-description" itemprop="description">Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">285</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Qingkouwei</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
