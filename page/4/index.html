<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"harmonyostech.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next&#96;s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoo">
<meta property="og:type" content="website">
<meta property="og:title" content="HarmonyOS NEXT Knowledge Charging Station">
<meta property="og:url" content="https://harmonyostech.github.io/page/4/index.html">
<meta property="og:site_name" content="HarmonyOS NEXT Knowledge Charging Station">
<meta property="og:description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next&#96;s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Qingkouwei">
<meta property="article:tag" content="HarmonyOSNext, HarmonyOS NEXT, HarmonyOS, Cangjie">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://harmonyostech.github.io/page/4/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>HarmonyOS NEXT Knowledge Charging Station</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">HarmonyOS NEXT Knowledge Charging Station</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Analysis of Core Technologies and Application Scenarios of HarmonyOS NEXT</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/30/25630-HarmonyOS-Next-5-1-1-Beta1-Update-Notes-and-Adaptation-Guide/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/30/25630-HarmonyOS-Next-5-1-1-Beta1-Update-Notes-and-Adaptation-Guide/" class="post-title-link" itemprop="url">HarmonyOS Next 5.1.1 Beta1 Update Notes and Adaptation Guide</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-30 15:09:02 / Modified: 15:09:57" itemprop="dateCreated datePublished" datetime="2025-06-30T15:09:02+08:00">2025-06-30</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/HarmonyOS-Next/" itemprop="url" rel="index"><span itemprop="name">HarmonyOS Next</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="HarmonyOS-Next-5-1-1-Beta1-Update-Notes-and-Adaptation-Guide"><a href="#HarmonyOS-Next-5-1-1-Beta1-Update-Notes-and-Adaptation-Guide" class="headerlink" title="HarmonyOS Next 5.1.1 Beta1 Update Notes and Adaptation Guide"></a>HarmonyOS Next 5.1.1 Beta1 Update Notes and Adaptation Guide</h2><p>On June 16, 2025, HarmonyOS was updated to 5.1.1 (19) Beta. Based on HarmonyOS 5.1.0 (18), HarmonyOS 5.1.1 (19) Beta1 further enhances ArkUI component capabilities, provides more details for component calls, especially in gesture-related component functions; strengthens map service capabilities to enrich map scenarios for developers; enhances Hitrace logging capabilities, and more.  </p>
<h4 id="OS-Platform-Capabilities-Major-Updates-to-ArkUI-Development-Toolchain-Pop-up-Enhancements-Component-Upgrades-and-Multi-Device-Adaptation"><a href="#OS-Platform-Capabilities-Major-Updates-to-ArkUI-Development-Toolchain-Pop-up-Enhancements-Component-Upgrades-and-Multi-Device-Adaptation" class="headerlink" title="OS Platform Capabilities - Major Updates to ArkUI &amp; Development Toolchain: Pop-up Enhancements, Component Upgrades, and Multi-Device Adaptation"></a>OS Platform Capabilities - Major Updates to ArkUI &amp; Development Toolchain: Pop-up Enhancements, Component Upgrades, and Multi-Device Adaptation</h4><h5 id="I-Comprehensive-Upgrade-of-ArkUI-Pop-up-and-Interaction-Capabilities"><a href="#I-Comprehensive-Upgrade-of-ArkUI-Pop-up-and-Interaction-Capabilities" class="headerlink" title="I. Comprehensive Upgrade of ArkUI Pop-up and Interaction Capabilities"></a>I. Comprehensive Upgrade of ArkUI Pop-up and Interaction Capabilities</h5><ol>
<li><p><strong>Optimized Pop-up Display Control</strong>  </p>
<ul>
<li>Supports customizing pop-up display order, border width, and color (API reference)  </li>
<li>New side-swipe gesture to close ComponentContent under OverlayManager (API reference)  </li>
<li>Allows setting transition animation effects between pop-up content and masks (API reference)</li>
</ul>
</li>
<li><p><strong>Focus and Lifecycle Management</strong>  </p>
<ul>
<li>Supports configuring whether pop-ups acquire focus (API reference)  </li>
<li>New <code>onNewParam</code> callback triggers the lifecycle when a single-instance page is置顶 (API reference)</li>
</ul>
</li>
<li><p><strong>Deep Integration of XComponent</strong>  </p>
<ul>
<li>Native side can obtain XComponent node instances and register Surface lifecycle and input event callbacks (API reference)</li>
</ul>
</li>
</ol>
<h5 id="II-New-Functions-for-Layout-and-Components"><a href="#II-New-Functions-for-Layout-and-Components" class="headerlink" title="II. New Functions for Layout and Components"></a>II. New Functions for Layout and Components</h5><ol>
<li><p><strong>Efficient Layout Components</strong>  </p>
<ul>
<li>New <code>LazyVGridLayout</code> for grid lazy loading (API reference)  </li>
<li><code>Tabs</code> supports setting the maximum number of cached sub-components and caching modes (API reference)  </li>
<li><code>List</code> component supports reverse layout from the end (API reference)</li>
</ul>
</li>
<li><p><strong>Enhanced Swiper Interaction</strong>  </p>
<ul>
<li>Supports customizing numeric navigation indicators and arrow styles (API reference)  </li>
<li>Allows adjusting navigation point spacing and bottom position (API reference)</li>
</ul>
</li>
<li><p><strong>Optimizations for Other Components</strong>  </p>
<ul>
<li><code>Navigation</code> supports dynamically acquiring&#x2F;updating route stack information (API reference)  </li>
<li>Attribute strings and RichEditor add paragraph spacing settings (API reference)</li>
</ul>
</li>
</ol>
<h5 id="III-Optimization-of-Interaction-and-Animation-Details"><a href="#III-Optimization-of-Interaction-and-Animation-Details" class="headerlink" title="III. Optimization of Interaction and Animation Details"></a>III. Optimization of Interaction and Animation Details</h5><ol>
<li><p><strong>Input and Gesture Events</strong>  </p>
<ul>
<li>Key events support obtaining NumLock&#x2F;CapsLock&#x2F;ScrollLock status (API reference)  </li>
<li>Pan gesture adds <code>onActionStart</code> event listening (API reference)  </li>
<li>Drag and drop release supports delayed return of processing results (API reference)</li>
</ul>
</li>
<li><p><strong>Enhanced Visual Performance</strong>  </p>
<ul>
<li>Background images support stretching adjustments via the <code>NODE_BACKGROUND_IMAGE_RESIZABLE_WITH_SLICE</code> attribute (API reference)</li>
</ul>
</li>
</ol>
<h5 id="IV-Multi-Device-and-Window-Management"><a href="#IV-Multi-Device-and-Window-Management" class="headerlink" title="IV. Multi-Device and Window Management"></a>IV. Multi-Device and Window Management</h5><ol>
<li><strong>PC&#x2F;2in1 Device Adaptation</strong>  <ul>
<li>New capability to switch between child and parent windows (API reference)  </li>
<li>Screen attributes add display mode enumeration (API reference)</li>
</ul>
</li>
</ol>
<h5 id="V-Development-Toolchain-and-Capability-Expansion"><a href="#V-Development-Toolchain-and-Capability-Expansion" class="headerlink" title="V. Development Toolchain and Capability Expansion"></a>V. Development Toolchain and Capability Expansion</h5><h6 id="1-Performance-Analysis-Tools"><a href="#1-Performance-Analysis-Tools" class="headerlink" title="1. Performance Analysis Tools"></a>1. Performance Analysis Tools</h6><ul>
<li>HiTraceMeter adds logging and trace APIs (guide)  </li>
<li>The <code>hitrace</code> command supports the <code>--trace_level</code> parameter to set output thresholds (guide)</li>
</ul>
<h6 id="2-Hardware-and-AI-Capabilities"><a href="#2-Hardware-and-AI-Capabilities" class="headerlink" title="2. Hardware and AI Capabilities"></a>2. Hardware and AI Capabilities</h6><ul>
<li><strong>Camera Kit</strong>: Supports querying camera macro functions (API reference)  </li>
<li><strong>CANN Kit</strong>: Opens AscendC operator development for NPU programming (guide)</li>
</ul>
<h6 id="3-Key-Service-Upgrades"><a href="#3-Key-Service-Upgrades" class="headerlink" title="3. Key Service Upgrades"></a>3. Key Service Upgrades</h6><ul>
<li><strong>Core Speech Kit</strong>: TTS adds tone download function (API reference)  </li>
<li><strong>Device Security Kit</strong>: Supports obtaining information about scam applications (guide + API)  </li>
<li><strong>Enterprise Data Guard Kit</strong>:  <ul>
<li>New file-only write mode (API reference)  </li>
<li>Supports custom file attribute tags (API reference)</li>
</ul>
</li>
</ul>
<h5 id="VI-Enhancement-of-Map-and-Navigation-Services"><a href="#VI-Enhancement-of-Map-and-Navigation-Services" class="headerlink" title="VI. Enhancement of Map and Navigation Services"></a>VI. Enhancement of Map and Navigation Services</h5><ul>
<li><strong>Map Kit</strong>:  <ul>
<li>Controls the visibility of mark text (guide)  </li>
<li>Map logos support top&#x2F;bottom center layout (API reference)  </li>
<li>New bus route planning and metric&#x2F;imperial scale switching (guide)  </li>
<li>Indoor map function launched (guide)</li>
</ul>
</li>
</ul>
<h5 id="VII-Enterprise-Development-Support"><a href="#VII-Enterprise-Development-Support" class="headerlink" title="VII. Enterprise Development Support"></a>VII. Enterprise Development Support</h5><ul>
<li><strong>MDM Kit</strong>: Supports Wi-Fi blacklist&#x2F;whitelist configuration (API reference)  </li>
<li><strong>Payment Kit</strong>: Adds real-name verification and face authentication (guide)  </li>
<li><strong>Pen Kit</strong>: Listens for stylus double-click&#x2F;pinch events (API reference)  </li>
<li><strong>Scan Kit</strong>: Code generation adapts to 2in1 devices (guide)  </li>
<li><strong>Vision Kit</strong>: Returns result codes when card recognition exits (API reference)</li>
</ul>
<h5 id="VIII-UI-Design-Tool-Expansion"><a href="#VIII-UI-Design-Tool-Expansion" class="headerlink" title="VIII. UI Design Tool Expansion"></a>VIII. UI Design Tool Expansion</h5><ul>
<li><strong>UI Design Kit</strong>: Supports registering custom Symbols (guide + API)</li>
</ul>
<p><strong>📢 Developer Action Recommendations</strong><br>This update covers interaction experience, multi-device adaptation, and enterprise capabilities. Key focuses include:  </p>
<ol>
<li>Performance optimization of pop-ups and layout components  </li>
<li>New scenario-based functions of map services  </li>
<li>Opportunities for hardware acceleration and AI operator development</li>
</ol>
<blockquote>
<p>For more details, refer to the API references and development guides for each module.  </p>
</blockquote>
<h4 id="DevEco-Studio-5-1-1-Beta1-5-1-1-420-New-and-Enhanced-Features"><a href="#DevEco-Studio-5-1-1-Beta1-5-1-1-420-New-and-Enhanced-Features" class="headerlink" title="DevEco Studio 5.1.1 Beta1 (5.1.1.420) New and Enhanced Features"></a>DevEco Studio 5.1.1 Beta1 (5.1.1.420) New and Enhanced Features</h4><h5 id="I-Core-Capability-Expansion-API-19-Project-Development-Support"><a href="#I-Core-Capability-Expansion-API-19-Project-Development-Support" class="headerlink" title="I. Core Capability Expansion: API 19 Project Development Support"></a>I. Core Capability Expansion: API 19 Project Development Support</h5><ul>
<li><strong>New API 19 project adaptation</strong>: DevEco Studio now supports development projects based on API 19 to meet low-version compatibility needs.</li>
</ul>
<h5 id="II-Upgrade-of-Build-Configuration-Capabilities"><a href="#II-Upgrade-of-Build-Configuration-Capabilities" class="headerlink" title="II. Upgrade of Build Configuration Capabilities"></a>II. Upgrade of Build Configuration Capabilities</h5><h6 id="New-Project-Level-and-Module-Level-Configuration-Fields"><a href="#New-Project-Level-and-Module-Level-Configuration-Fields" class="headerlink" title="New Project-Level and Module-Level Configuration Fields"></a>New Project-Level and Module-Level Configuration Fields</h6><ul>
<li><strong>build-profile.json5</strong> (project-level &amp; module-level):  <ul>
<li>Add <code>generateSharedTgz</code> under <code>buildOption</code> to control whether to generate tgz packages when compiling HSP modules.  </li>
<li>Add <code>ignoreResourcePattern</code> under <code>buildOption/resOptions</code> to filter file&#x2F;folder names in the <code>resources</code> directory or custom resource directories; matched items will not be packaged into the final product (specific configuration reference document).</li>
</ul>
</li>
</ul>
<h6 id="New-Optimized-Configurations-for-hvigor-config-json5"><a href="#New-Optimized-Configurations-for-hvigor-config-json5" class="headerlink" title="New Optimized Configurations for hvigor-config.json5"></a>New Optimized Configurations for hvigor-config.json5</h6><ul>
<li><strong>properties field</strong>:  <ul>
<li>Add <code>ohos.byteCodeHar.integratedOptimization</code> to specify whether to enable bytecode HAR integration behavior optimization.  </li>
<li>Add <code>hvigor.incremental.optimization</code> to specify whether to enable task incremental judgment optimization.  </li>
<li>Add <code>hvigor.task.schedule.optimization</code> to specify whether to enable task scheduling optimization (specific configuration reference document).</li>
</ul>
</li>
</ul>
<h5 id="III-Strengthened-Build-Analysis-and-Problem-Troubleshooting"><a href="#III-Strengthened-Build-Analysis-and-Problem-Troubleshooting" class="headerlink" title="III. Strengthened Build Analysis and Problem Troubleshooting"></a>III. Strengthened Build Analysis and Problem Troubleshooting</h5><ul>
<li><strong>Build Analyzer memory monitoring</strong>: Supports viewing memory consumption during the build process to help developers locate build performance bottlenecks.  </li>
<li><strong>Device connection problem troubleshooting</strong>: New device connection assistant function quickly diagnoses issues where devices cannot be recognized after connection.</li>
</ul>
<h5 id="IV-Improved-Development-and-Debugging-Efficiency"><a href="#IV-Improved-Development-and-Debugging-Efficiency" class="headerlink" title="IV. Improved Development and Debugging Efficiency"></a>IV. Improved Development and Debugging Efficiency</h5><h6 id="Enhanced-Hot-Reload-and-Asynchronous-Debugging"><a href="#Enhanced-Hot-Reload-and-Asynchronous-Debugging" class="headerlink" title="Enhanced Hot Reload and Asynchronous Debugging"></a>Enhanced Hot Reload and Asynchronous Debugging</h6><ul>
<li><strong>Hot Reload support</strong>: Upgraded hot reloading capabilities now support hot restart operations, further improving preview efficiency after code changes.  </li>
<li><strong>ArkTS asynchronous stack viewing</strong>: Supports viewing asynchronous function call stacks during ArkTS code debugging, simplifying the debugging process for asynchronous logic.</li>
</ul>
<h6 id="Optimized-Instrument-Test-Detection"><a href="#Optimized-Instrument-Test-Detection" class="headerlink" title="Optimized Instrument Test Detection"></a>Optimized Instrument Test Detection</h6><ul>
<li><strong>ASan detection command-line support</strong>: Instrument Test can now enable the ASan (AddressSanitizer) memory detection tool via the command line to enhance code robustness verification during testing.</li>
</ul>
<h5 id="V-Version-Change-Description"><a href="#V-Version-Change-Description" class="headerlink" title="V. Version Change Description"></a>V. Version Change Description</h5><ul>
<li><strong>Adjusted emulator login requirements</strong>:  <ul>
<li>Starting from DevEco Studio 5.1.1 Beta, emulators require account login to use;  </li>
<li>Emulators in version 5.1.0 and earlier can be used directly without login.</li>
</ul>
</li>
</ul>
<p><strong>📢 Developer Notes</strong>  </p>
<ol>
<li>If using HSP module compilation or resource filtering functions, update the <code>build-profile.json5</code> configuration promptly;  </li>
<li>When enabling bytecode&#x2F;HAR optimization or task scheduling optimization, observe actual effects using build analysis tools;  </li>
<li>Ensure account login before using the emulator to avoid affecting development and testing processes.</li>
</ol>
<blockquote>
<p>For more detailed configuration and operation guides, refer to the official documentation links for the corresponding functions.</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/30/25630-HarmonyOS-Next-5-0-5-Release-Update-Notes-and-Adaptation-Guide/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/30/25630-HarmonyOS-Next-5-0-5-Release-Update-Notes-and-Adaptation-Guide/" class="post-title-link" itemprop="url">HarmonyOS Next 5.0.5 Release Update Notes and Adaptation Guide</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-30 15:07:19 / Modified: 15:07:43" itemprop="dateCreated datePublished" datetime="2025-06-30T15:07:19+08:00">2025-06-30</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/HarmonyOS-Next/" itemprop="url" rel="index"><span itemprop="name">HarmonyOS Next</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="HarmonyOS-Next-5-0-5-Release-Update-Notes-and-Adaptation-Guide"><a href="#HarmonyOS-Next-5-0-5-Release-Update-Notes-and-Adaptation-Guide" class="headerlink" title="HarmonyOS Next 5.0.5 Release Update Notes and Adaptation Guide"></a>HarmonyOS Next 5.0.5 Release Update Notes and Adaptation Guide</h2><p>On May 16, 2025, HarmonyOS Next 5.0.5 Release was officially updated.  </p>
<h3 id="I-Version-Overview"><a href="#I-Version-Overview" class="headerlink" title="I. Version Overview"></a><strong>I. Version Overview</strong></h3><p>HarmonyOS 5.0.5 (17) Release has been officially released! This update is based on the previous Beta1 version, focusing on optimizing system performance and stability to further enhance the development and usage experience. Although no new platform capabilities are added, underlying optimizations provide developers with a smoother and more reliable development environment.  </p>
<h4 id="Core-Highlights"><a href="#Core-Highlights" class="headerlink" title="Core Highlights"></a><strong>Core Highlights</strong></h4><ul>
<li><strong>Performance Improvement</strong>: Optimized system operation efficiency for faster application response.  </li>
<li><strong>Enhanced Stability</strong>: Fixed multiple potential issues to reduce crash risks.  </li>
<li><strong>Improved Development Tools</strong>: Supporting DevEco Studio is updated synchronously to adapt to the latest SDK and toolchain.</li>
</ul>
<h3 id="II-Supporting-Relationship-Description"><a href="#II-Supporting-Relationship-Description" class="headerlink" title="II. Supporting Relationship Description"></a><strong>II. Supporting Relationship Description</strong></h3><p>To ensure smooth development, developers must <strong>verify the following supporting relationships</strong> to avoid compatibility issues caused by version inconsistencies.  </p>
<h4 id="1-Complete-Supporting-Information"><a href="#1-Complete-Supporting-Information" class="headerlink" title="1. Complete Supporting Information"></a><strong>1. Complete Supporting Information</strong></h4><table>
<thead>
<tr>
<th><strong>Component</strong></th>
<th><strong>Version Number</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody><tr>
<td>System Version</td>
<td>HarmonyOS 5.0.5 Release</td>
<td>Software Version: 5.0.1.120 <br>API Version: 5.0.5 (17)</td>
</tr>
<tr>
<td>DevEco Studio</td>
<td>5.0.5 Release (5.0.13.200)</td>
<td>Main version of development tools</td>
</tr>
<tr>
<td>HarmonyOS SDK</td>
<td>Based on OpenHarmony SDK 5.0.5.165</td>
<td>API 17 Release support</td>
</tr>
<tr>
<td>HarmonyOS Emulator</td>
<td>5.0.9.400</td>
<td>New support for 2in1 devices</td>
</tr>
</tbody></table>
<h4 id="2-Version-Query-Methods"><a href="#2-Version-Query-Methods" class="headerlink" title="2. Version Query Methods"></a><strong>2. Version Query Methods</strong></h4><ul>
<li><strong>System Version</strong>: Go to device “Settings &gt; About Phone &gt; Software Version” and confirm whether the “API Version” is <strong>5.0.5(17)</strong>.  </li>
<li><strong>DevEco Studio</strong>: Query the version via the menu bar “Help &gt; About DevEco Studio”.  </li>
<li><strong>SDK</strong>: View supporting information via “Help &gt; About HarmonyOS SDK”.</li>
</ul>
<p><strong>Adapted Devices</strong>: Mate 60 series, Mate X5, MatePad Pro 13.2”&#x2F;11” 2024 models, etc. For other devices upgraded to this version, the open capabilities must be verified based on the “API Version”.  </p>
<h3 id="III-Detailed-Update-Content"><a href="#III-Detailed-Update-Content" class="headerlink" title="III. Detailed Update Content"></a><strong>III. Detailed Update Content</strong></h3><h4 id="1-Development-Tool-Enhancements"><a href="#1-Development-Tool-Enhancements" class="headerlink" title="1. Development Tool Enhancements"></a><strong>1. Development Tool Enhancements</strong></h4><ul>
<li><strong>Quick ACL Permission Application</strong>: New support for quickly applying for partial ACL permissions via auto-signing to simplify the development process.<br>(Reference document: <a href="link">Support for ACL Permissions</a>)  </li>
<li><strong>Compilation Configuration Optimization</strong>:  <ul>
<li>Added the <code>reExportCheckMode</code> configuration item in the <code>build-profile.json5</code> file to intercept secondary export issues of <code>lazy import</code> variables.<br>(Reference documents: <a href="link">Project-Level Configuration</a> | <a href="link">Module-Level Configuration</a>)</li>
</ul>
</li>
<li><strong>WebView Debugging Support</strong>: DevEco Studio supports automatic monitoring of WebView processes and port forwarding to improve debugging efficiency.<br>(Reference document: <a href="link">Automatic Mapping of WebView Debugging Links</a>)</li>
</ul>
<h4 id="2-Emulator-Function-Upgrade"><a href="#2-Emulator-Function-Upgrade" class="headerlink" title="2. Emulator Function Upgrade"></a><strong>2. Emulator Function Upgrade</strong></h4><ul>
<li><strong>New Device Type Added</strong>: Supports simulation of 2in1 devices to cover development and testing needs for more foldable and hybrid-form factor devices.<br>(Reference document: <a href="link">Emulator Usage Guide</a>)</li>
</ul>
<h4 id="3-Toolchain-Update"><a href="#3-Toolchain-Update" class="headerlink" title="3. Toolchain Update"></a><strong>3. Toolchain Update</strong></h4><ul>
<li><strong>Hvigor</strong>: Upgraded to version 5.17.1, supporting compilation and build for API 10 and above projects.  </li>
<li><strong>ohpm</strong>: The third-party library management tool is updated to 5.0.16, optimizing dependency resolution efficiency.</li>
</ul>
<h3 id="IV-Adaptation-Guide"><a href="#IV-Adaptation-Guide" class="headerlink" title="IV. Adaptation Guide"></a><strong>IV. Adaptation Guide</strong></h3><h4 id="1-Development-Environment-Upgrade"><a href="#1-Development-Environment-Upgrade" class="headerlink" title="1. Development Environment Upgrade"></a><strong>1. Development Environment Upgrade</strong></h4><ul>
<li><strong>Update DevEco Studio</strong>: Download the latest 5.0.5 Release version from the official website or complete the upgrade via in-IDE prompts.  </li>
<li><strong>Synchronize SDK and Emulator</strong>: Install the supporting SDK and update the emulator to 5.0.9.400 to ensure functional integrity.</li>
</ul>
<h4 id="2-Notes"><a href="#2-Notes" class="headerlink" title="2. Notes"></a><strong>2. Notes</strong></h4><ul>
<li><strong>Compilation Configuration Adjustment</strong>: If using <code>lazy import</code> to export variables, check the <code>reExportCheckMode</code> configuration to avoid compilation errors.  </li>
<li><strong>Permission Adaptation</strong>: For modules requiring re-application of ACL permissions, it is recommended to use the auto-signing function to simplify the process.  </li>
<li><strong>Device Compatibility</strong>: Users of non-officially adapted devices must confirm API version support via “About Phone”.</li>
</ul>
<h3 id="V-Conclusion"><a href="#V-Conclusion" class="headerlink" title="V. Conclusion"></a><strong>V. Conclusion</strong></h3><p>The HarmonyOS 5.0.5 Release provides developers with a more stable development foundation through continuous optimization. It is recommended that developers upgrade supporting tools as soon as possible to fully leverage the efficiency benefits brought by performance improvements and function enhancements. In the future, Huawei will continue to advance the construction of the HarmonyOS ecosystem to help developers create better full-scenario experiences.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/30/25630-HarmonyOS-Next-5-0-5-Beta1-Update-Notes-and-Adaptation-Guide/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/30/25630-HarmonyOS-Next-5-0-5-Beta1-Update-Notes-and-Adaptation-Guide/" class="post-title-link" itemprop="url">HarmonyOS Next 5.0.5 Beta1 Update Notes and Adaptation Guide</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-30 15:05:08 / Modified: 15:06:28" itemprop="dateCreated datePublished" datetime="2025-06-30T15:05:08+08:00">2025-06-30</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/HarmonyOS-Next/" itemprop="url" rel="index"><span itemprop="name">HarmonyOS Next</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="HarmonyOS-Next-5-0-5-Beta1-Update-Notes-and-Adaptation-Guide"><a href="#HarmonyOS-Next-5-0-5-Beta1-Update-Notes-and-Adaptation-Guide" class="headerlink" title="HarmonyOS Next 5.0.5 Beta1 Update Notes and Adaptation Guide"></a>HarmonyOS Next 5.0.5 Beta1 Update Notes and Adaptation Guide</h2><p>On April 27, 2025, HarmonyOS 5.0.5 Beta1 further enriches the component capabilities of ArkUI and improves the management capabilities of applications in windowed scenarios based on the previously released HarmonyOS 5.0.4 Release.  </p>
<h3 id="OS-Platform-Capabilities"><a href="#OS-Platform-Capabilities" class="headerlink" title="OS Platform Capabilities"></a>OS Platform Capabilities</h3><p>The complete supporting information for HarmonyOS 5.0.5 Beta1 is as follows:  </p>
<table>
<thead>
<tr>
<th align="left"><strong>Software Package</strong></th>
<th align="left"><strong>Release Type</strong></th>
<th align="left"><strong>Version Number</strong></th>
<th align="left">Build Version</th>
<th align="left"><strong>Release Date</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left">System</td>
<td align="left">Beta</td>
<td align="left">HarmonyOS 5.0.5 Beta1</td>
<td align="left"><strong>Software Version:</strong> 5.0.0.160<br><br><strong>API Version:</strong> 5.0.5 (17)</td>
<td align="left">2025&#x2F;04&#x2F;24</td>
</tr>
<tr>
<td align="left">DevEco Studio</td>
<td align="left">Beta</td>
<td align="left">DevEco Studio 5.0.5 Beta1</td>
<td align="left">5.0.13.100</td>
<td align="left">2025&#x2F;04&#x2F;24</td>
</tr>
<tr>
<td align="left">SDK</td>
<td align="left">Beta</td>
<td align="left">HarmonyOS 5.0.5 Beta1 SDK</td>
<td align="left">Based on OpenHarmony SDK Ohos_sdk_public 5.0.5.160 (API 17 Beta1)</td>
<td align="left">2025&#x2F;04&#x2F;24</td>
</tr>
</tbody></table>
<h4 id="New-Features"><a href="#New-Features" class="headerlink" title="New Features"></a>New Features</h4><p>The 5.0.5 Beta1 version adds and enhances the following features:  </p>
<h5 id="Ability"><a href="#Ability" class="headerlink" title="Ability"></a>Ability</h5><ul>
<li>New support for specifying the size of a new window created via the StartOptions attribute of startAbility (minWindowWidth, minWindowHeight, maxWindowWidth, maxWindowHeight).  </li>
<li>New C API support for passing StartOptions when launching an Ability.  </li>
<li>New C API support for obtaining child process startup parameters.  </li>
<li>New C API support for setting the display mode of window and dock icons when launching an Ability.</li>
</ul>
<table>
<thead>
<tr>
<th align="left">Operation</th>
<th align="left">Old Version</th>
<th align="left">New Version</th>
<th align="left">d.ts File</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Class adds optional members</td>
<td align="left">Class: global;<br><br>API declaration: <br><br>Difference: NA</td>
<td align="left">Class: StartOptions;<br><br>API declaration: minWindowWidth?: number;<br><br>Difference: minWindowWidth?: number;</td>
<td align="left">api&#x2F;@ohos.app.ability.StartOptions.d.ts</td>
</tr>
<tr>
<td align="left">Class adds optional members</td>
<td align="left">Class: global;<br><br>API declaration: <br><br>Difference: NA</td>
<td align="left">Class: StartOptions;<br><br>API declaration: minWindowHeight?: number;<br><br>Difference: minWindowHeight?: number;</td>
<td align="left">api&#x2F;@ohos.app.ability.StartOptions.d.ts</td>
</tr>
<tr>
<td align="left">Class adds optional members</td>
<td align="left">Class: global;<br><br>API declaration: <br><br>Difference: NA</td>
<td align="left">Class: StartOptions;<br><br>API declaration: maxWindowWidth?: number;<br><br>Difference: maxWindowWidth?: number;</td>
<td align="left">api&#x2F;@ohos.app.ability.StartOptions.d.ts</td>
</tr>
<tr>
<td align="left">Class adds optional members</td>
<td align="left">Class: global;<br><br>API declaration: <br><br>Difference: NA</td>
<td align="left">Class: StartOptions;<br><br>API declaration: maxWindowHeight?: number;<br><br>Difference: maxWindowHeight?: number;</td>
<td align="left">api&#x2F;@ohos.app.ability.StartOptions.d.ts</td>
</tr>
<tr>
<td align="left">Class adds mandatory attribute or non-homonymous method</td>
<td align="left">Class: global;<br><br>API declaration: <br><br>Difference: NA</td>
<td align="left">Class: UIAbilityContext;<br><br>API declaration: revokeDelegator(): Promise<void>;<br><br>Difference: revokeDelegator(): Promise<void>;</td>
<td align="left">api&#x2F;application&#x2F;UIAbilityContext.d.ts</td>
</tr>
</tbody></table>
<h5 id="ArkData"><a href="#ArkData" class="headerlink" title="ArkData"></a>ArkData</h5><p>UDMF newly supports converting incoming data into a multi-style data structure. If the original data uses multiple records to carry different styles of the same data, this interface can be used to convert the original data into a multi-style data structure.  </p>
<table>
<thead>
<tr>
<th align="left">Operation</th>
<th align="left">Old Version</th>
<th align="left">New Version</th>
<th align="left">d.ts File</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Add API</td>
<td align="left">NA</td>
<td align="left">Class: relationalStore;<br><br>API declaration: enum Tokenizer<br><br>Difference: enum Tokenizer</td>
<td align="left">api&#x2F;@ohos.data.relationalStore.d.ts</td>
</tr>
<tr>
<td align="left">Add API</td>
<td align="left">NA</td>
<td align="left">Class: Tokenizer;<br><br>API declaration: NONE_TOKENIZER &#x3D; 0<br><br>Difference: NONE_TOKENIZER &#x3D; 0</td>
<td align="left">api&#x2F;@ohos.data.relationalStore.d.ts</td>
</tr>
<tr>
<td align="left">Add API</td>
<td align="left">NA</td>
<td align="left">Class: Tokenizer;<br><br>API declaration: ICU_TOKENIZER<br><br>Difference: ICU_TOKENIZER</td>
<td align="left">api&#x2F;@ohos.data.relationalStore.d.ts</td>
</tr>
<tr>
<td align="left">Add API</td>
<td align="left">NA</td>
<td align="left">Class: unifiedDataChannel;<br><br>API declaration: function convertRecordsToEntries(data: UnifiedData): void;<br><br>Difference: function convertRecordsToEntries(data: UnifiedData): void;</td>
<td align="left">api&#x2F;@ohos.data.unifiedDataChannel.d.ts</td>
</tr>
<tr>
<td align="left">Interface adds optional attribute</td>
<td align="left">Class: global;<br><br>API declaration: <br><br>Difference: NA</td>
<td align="left">Class: StoreConfig;<br><br>API declaration: tokenizer?: Tokenizer;<br><br>Difference: tokenizer?: Tokenizer;</td>
<td align="left">api&#x2F;@ohos.data.relationalStore.d.ts</td>
</tr>
</tbody></table>
<h5 id="AR-Engine"><a href="#AR-Engine" class="headerlink" title="AR Engine"></a>AR Engine</h5><p>New depth estimation provides 3D perception capabilities, enabling measurements, volume estimation, etc.  </p>
<h5 id="ArkUI"><a href="#ArkUI" class="headerlink" title="ArkUI"></a>ArkUI</h5><ul>
<li>New mouse axis event-related interfaces.  </li>
<li>NavDestination adds onActive and onInactive lifecycles.  </li>
<li>Enhanced event capabilities in C API, newly supporting obtaining the width, height, X coordinate, Y coordinate, etc., of the component hit by the event.  </li>
<li>New basic type definitions support clearing the current pre-screen text content.  </li>
<li>UIContext newly supports creating UI instances independent of windows.  </li>
<li>Visible area change events for components newly support setting callback parameters for events and limiting their execution intervals.  </li>
<li>The ImageAnimator component supports setting whether to judge component pause and play through the system’s onVisibleAreaChange visibility.  </li>
<li>Picture-in-picture windows support creating a page-level UI state storage unit via the creation parameter LocalStorage, which can be used to track the main window instance in multi-instance scenarios.  </li>
<li>Window management for PC&#x2F;2in1 devices newly supports the size memory function for the main window.  </li>
<li>Window management for PC&#x2F;2in1 and tablet devices newly supports setting the blur radius of the edge shadow for sub-windows or floating windows.  </li>
<li>Window management for PC&#x2F;2in1 and tablet devices newly supports setting whether sub-windows can be displayed across multiple screens simultaneously when their parent window is being dragged or resized.</li>
</ul>
<h5 id="Audio-Kit"><a href="#Audio-Kit" class="headerlink" title="Audio Kit"></a>Audio Kit</h5><p>New support for Float32 audio stream sampling format.  </p>
<h5 id="AVCodec-Kit"><a href="#AVCodec-Kit" class="headerlink" title="AVCodec Kit"></a>AVCodec Kit</h5><p>Video decoding newly supports software decoding for MPEG2, MPEG4, and H.263.  </p>
<h5 id="AVSession-Kit"><a href="#AVSession-Kit" class="headerlink" title="AVSession Kit"></a>AVSession Kit</h5><p>New support for the singleLyricText attribute for single-line&#x2F;lyric display.  </p>
<table>
<thead>
<tr>
<th align="left">Operation</th>
<th align="left">Old Version</th>
<th align="left">New Version</th>
<th align="left">d.ts File</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Interface adds optional attribute</td>
<td align="left">Class: global;<br><br>API declaration: <br><br>Difference: NA</td>
<td align="left">Class: AVMetadata;<br><br>API declaration: singleLyricText?: string;<br><br>Difference: singleLyricText?: string;</td>
<td align="left">api&#x2F;@ohos.multimedia.avsession.d.ts</td>
</tr>
</tbody></table>
<h5 id="Background-Tasks-Kit"><a href="#Background-Tasks-Kit" class="headerlink" title="Background Tasks Kit"></a>Background Tasks Kit</h5><p>New background child process management module provides applications with the ability to suppress and unsuppress child processes, preventing excessive system resource consumption by child processes from causing system lag.  </p>
<table>
<thead>
<tr>
<th align="left">Operation</th>
<th align="left">Old Version</th>
<th align="left">New Version</th>
<th align="left">d.ts File</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Add API</td>
<td align="left">NA</td>
<td align="left">Class: global;<br><br>API declaration: declare namespace backgroundProcessManager<br><br>Difference: declare namespace backgroundProcessManager</td>
<td align="left">api&#x2F;@ohos.resourceschedule.backgroundProcessManager.d.ts</td>
</tr>
<tr>
<td align="left">Add API</td>
<td align="left">NA</td>
<td align="left">Class: backgroundProcessManager;<br><br>API declaration: export enum ProcessPriority<br><br>Difference: export enum ProcessPriority</td>
<td align="left">api&#x2F;@ohos.resourceschedule.backgroundProcessManager.d.ts</td>
</tr>
<tr>
<td align="left">Add API</td>
<td align="left">NA</td>
<td align="left">Class: ProcessPriority;<br><br>API declaration: PROCESS_BACKGROUND &#x3D; 1<br><br>Difference: PROCESS_BACKGROUND &#x3D; 1</td>
<td align="left">api&#x2F;@ohos.resourceschedule.backgroundProcessManager.d.ts</td>
</tr>
<tr>
<td align="left">Add API</td>
<td align="left">NA</td>
<td align="left">Class: ProcessPriority;<br><br>API declaration: PROCESS_INACTIVE &#x3D; 2<br><br>Difference: PROCESS_INACTIVE &#x3D; 2</td>
<td align="left">api&#x2F;@ohos.resourceschedule.backgroundProcessManager.d.ts</td>
</tr>
<tr>
<td align="left">Add API</td>
<td align="left">NA</td>
<td align="left">Class: backgroundProcessManager;<br><br>API declaration: function setProcessPriority(pid: number, priority: ProcessPriority): Promise<void>;<br><br>Difference: function setProcessPriority(pid: number, priority: ProcessPriority): Promise<void>;</td>
<td align="left">api&#x2F;@ohos.resourceschedule.backgroundProcessManager.d.ts</td>
</tr>
<tr>
<td align="left">Add API</td>
<td align="left">NA</td>
<td align="left">Class: backgroundProcessManager;<br><br>API declaration: function resetProcessPriority(pid: number): Promise<void>;<br><br>Difference: function resetProcessPriority(pid: number): Promise<void>;</td>
<td align="left">api&#x2F;@ohos.resourceschedule.backgroundProcessManager.d.ts</td>
</tr>
<tr>
<td align="left">Add kit</td>
<td align="left">Class: global;<br><br>API declaration: <br><br>Difference: NA</td>
<td align="left">Class: global;<br><br>API declaration: <code>api@ohos.resourceschedule.backgroundProcessManager.d.ts</code><br><br>Difference: BackgroundTasksKit</td>
<td align="left">api&#x2F;@ohos.resourceschedule.backgroundProcessManager.d.ts</td>
</tr>
</tbody></table>
<h5 id="Connectivity-Kit"><a href="#Connectivity-Kit" class="headerlink" title="Connectivity Kit"></a>Connectivity Kit</h5><p>The Bluetooth socket module newly supports obtaining the peer device address via clientSocket.  </p>
<table>
<thead>
<tr>
<th align="left">Operation</th>
<th align="left">Old Version</th>
<th align="left">New Version</th>
<th align="left">d.ts File</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Add API</td>
<td align="left">NA</td>
<td align="left">Class: socket;<br><br>API declaration: function getDeviceId(clientSocket: number): string;<br><br>Difference: function getDeviceId(clientSocket: number): string;</td>
<td align="left">api&#x2F;@ohos.bluetooth.socket.d.ts</td>
</tr>
<tr>
<td align="left">Delete API</td>
<td align="left">Class: opp;<br><br>API declaration: function createOppServerProfile(): OppServerProfile;<br><br>Difference: function createOppServerProfile(): OppServerProfile;</td>
<td align="left">NA</td>
<td align="left">api&#x2F;@ohos.bluetooth.opp.d.ts</td>
</tr>
<tr>
<td align="left">Starting version change</td>
<td align="left">Class: global;<br><br>API declaration: declare namespace opp<br><br>Difference: 15</td>
<td align="left">Class: global;<br><br>API declaration: declare namespace opp<br><br>Difference: 16</td>
<td align="left">api&#x2F;@ohos.bluetooth.opp.d.ts</td>
</tr>
<tr>
<td align="left">Starting version change</td>
<td align="left">Class: opp;<br><br>API declaration: interface OppServerProfile<br><br>Difference: 15</td>
<td align="left">Class: opp;<br><br>API declaration: interface OppServerProfile<br><br>Difference: 16</td>
<td align="left">api&#x2F;@ohos.bluetooth.opp.d.ts</td>
</tr>
</tbody></table>
<h5 id="File-Manager-Service-Kit"><a href="#File-Manager-Service-Kit" class="headerlink" title="File Manager Service Kit"></a>File Manager Service Kit</h5><p>【New Kit】File Manager Service Kit provides developers with file management capabilities, allowing developers to delete files to the recycle bin, obtain file icons, etc., to meet users’ diverse file management needs.  </p>
<table>
<thead>
<tr>
<th align="left">Operation</th>
<th align="left">Old Version</th>
<th align="left">New Version</th>
<th align="left">d.ts File</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Add API</td>
<td align="left">NA</td>
<td align="left">Class: global;<br><br>API declaration: declare namespace fileManagerService<br><br>Difference: declare namespace fileManagerService</td>
<td align="left">api&#x2F;@hms.filemanagement.fileManagerService.d.ts</td>
</tr>
<tr>
<td align="left">Add API</td>
<td align="left">NA</td>
<td align="left">Class: fileManagerService;<br><br>API declaration: function deleteToTrash(uri: string): Promise<string>;<br><br>Difference: function deleteToTrash(uri: string): Promise<string>;</td>
<td align="left">api&#x2F;@hms.filemanagement.fileManagerService.d.ts</td>
</tr>
<tr>
<td align="left">Add API</td>
<td align="left">NA</td>
<td align="left">Class: fileManagerService;<br><br>API declaration: function getFileIconSync(fileType: string): string | Resource;<br><br>Difference: function getFileIconSync(fileType: string): string | Resource;</td>
<td align="left">api&#x2F;@hms.filemanagement.fileManagerService.d.ts</td>
</tr>
<tr>
<td align="left">Add API</td>
<td align="left">NA</td>
<td align="left">Class: fileManagerService;<br><br>API declaration: function getFileIcon(fileType: string): Promise&lt;string | Resource&gt;;<br><br>Difference: function getFileIcon(fileType: string): Promise&lt;string | Resource&gt;;</td>
<td align="left">api&#x2F;@hms.filemanagement.fileManagerService.d.ts</td>
</tr>
<tr>
<td align="left">Add kit</td>
<td align="left">Class: global;<br><br>API declaration: <br><br>Difference: NA</td>
<td align="left">Class: global;<br><br>API declaration: <code>api@hms.filemanagement.fileManagerService.d.ts</code><br><br>Difference: FileManagerServiceKit</td>
<td align="left">api&#x2F;@hms.filemanagement.fileManagerService.d.ts</td>
</tr>
<tr>
<td align="left">Add kit</td>
<td align="left">Class: global;<br><br>API declaration: <br><br>Difference: NA</td>
<td align="left">Class: global;<br><br>API declaration: <code>kits@kit.FileManagerServiceKit.d.ts</code><br><br>Difference: FileManagerServiceKit</td>
<td align="left">kits&#x2F;@kit.FileManagerServiceKit.d.ts</td>
</tr>
</tbody></table>
<h5 id="IME-Kit"><a href="#IME-Kit" class="headerlink" title="IME Kit"></a>IME Kit</h5><p>The input method framework newly supports setting callbacks for displaying preview text and subscribing to events where the input method application operates on text preview content.  </p>
<table>
<thead>
<tr>
<th align="left">Operation</th>
<th align="left">Old Version</th>
<th align="left">New Version</th>
<th align="left">d.ts File</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Add API</td>
<td align="left">NA</td>
<td align="left">Class: inputMethod;<br><br>API declaration: export type SetPreviewTextCallback &#x3D; (text: string, range: Range) &#x3D;&gt; void;<br><br>Difference: export type SetPreviewTextCallback &#x3D; (text: string, range: Range) &#x3D;&gt; void;</td>
<td align="left">api&#x2F;@ohos.inputMethod.d.ts</td>
</tr>
<tr>
<td align="left">Interface adds optional or mandatory method</td>
<td align="left">Class: global;<br><br>API declaration: <br><br>Difference: NA</td>
<td align="left">Class: InputMethodController;<br><br>API declaration: on(type: ‘setPreviewText’, callback: SetPreviewTextCallback): void;<br><br>Difference: on(type: ‘setPreviewText’, callback: SetPreviewTextCallback): void;</td>
<td align="left">api&#x2F;@ohos.inputMethod.d.ts</td>
</tr>
<tr>
<td align="left">Interface adds optional or mandatory method</td>
<td align="left">Class: global;<br><br>API declaration: <br><br>Difference: NA</td>
<td align="left">Class: InputMethodController;<br><br>API declaration: off(type: ‘setPreviewText’, callback?: SetPreviewTextCallback): void;<br><br>Difference: off(type: ‘setPreviewText’, callback?: SetPreviewTextCallback): void;</td>
<td align="left">api&#x2F;@ohos.inputMethod.d.ts</td>
</tr>
<tr>
<td align="left">Interface adds optional or mandatory method</td>
<td align="left">Class: global;<br><br>API declaration: <br><br>Difference: NA</td>
<td align="left">Class: InputMethodController;<br><br>API declaration: on(type: ‘finishTextPreview’, callback: Callback<void>): void;<br><br>Difference: on(type: ‘finishTextPreview’, callback: Callback<void>): void;</td>
<td align="left">api&#x2F;@ohos.inputMethod.d.ts</td>
</tr>
<tr>
<td align="left">Interface adds optional or mandatory method</td>
<td align="left">Class: global;<br><br>API declaration: <br><br>Difference: NA</td>
<td align="left">Class: InputMethodController;<br><br>API declaration: off(type: ‘finishTextPreview’, callback?: Callback<void>): void;<br><br>Difference: off(type: ‘finishTextPreview’, callback?: Callback<void>): void;</td>
<td align="left">api&#x2F;@ohos.inputMethod.d.ts</td>
</tr>
</tbody></table>
<h5 id="Media-Kit"><a href="#Media-Kit" class="headerlink" title="Media Kit"></a>Media Kit</h5><p>When setting the playback strategy for the media player AVPlayer, new support for displaying the first frame of the video after Prepare (showFirstFrameOnPrepare).  </p>
<table>
<thead>
<tr>
<th align="left">Operation</th>
<th align="left">Old Version</th>
<th align="left">New Version</th>
<th align="left">d.ts File</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Interface adds optional attribute</td>
<td align="left">Class: global;<br><br>API declaration: <br><br>Difference: NA</td>
<td align="left">Class: PlaybackStrategy;<br><br>API declaration: showFirstFrameOnPrepare?: boolean;<br><br>Difference: showFirstFrameOnPrepare?: boolean;</td>
<td align="left">api&#x2F;@ohos.multimedia.media.d.ts</td>
</tr>
</tbody></table>
<h5 id="Payment-Kit"><a href="#Payment-Kit" class="headerlink" title="Payment Kit"></a>Payment Kit</h5><p>New capability to guide users to bind cards.  </p>
<table>
<thead>
<tr>
<th align="left">Operation</th>
<th align="left">Old Version</th>
<th align="left">New Version</th>
<th align="left">d.ts File</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Add API</td>
<td align="left">NA</td>
<td align="left">Class: paymentService;<br><br>API declaration: interface BindCardResult<br><br>Difference: interface BindCardResult</td>
<td align="left">api&#x2F;@hms.core.payment.paymentService.d.ts</td>
</tr>
<tr>
<td align="left">Add API</td>
<td align="left">NA</td>
<td align="left">Class: BindCardResult;<br><br>API declaration: hasBankCard: boolean;<br><br>Difference: hasBankCard: boolean;</td>
<td align="left">api&#x2F;@hms.core.payment.paymentService.d.ts</td>
</tr>
<tr>
<td align="left">Add API</td>
<td align="left">NA</td>
<td align="left">Class: BindCardResult;<br><br>API declaration: hasJustBoundCard?: boolean;<br><br>Difference: hasJustBoundCard?: boolean;</td>
<td align="left">api&#x2F;@hms.core.payment.paymentService.d.ts</td>
</tr>
<tr>
<td align="left">Add API</td>
<td align="left">NA</td>
<td align="left">Class: paymentService;<br><br>API declaration: function requestBindCard(context: common.UIAbilityContext | common.UIExtensionContext): Promise<BindCardResult>;<br><br>Difference: function requestBindCard(context: common.UIAbilityContext | common.UIExtensionContext): Promise<BindCardResult>;</td>
<td align="left">api&#x2F;@hms.core.payment.paymentService.d.ts</td>
</tr>
</tbody></table>
<h5 id="PDF-Kit"><a href="#PDF-Kit" class="headerlink" title="PDF Kit"></a>PDF Kit</h5><p>New support for encrypting PDF documents.  </p>
<table>
<thead>
<tr>
<th align="left">Operation</th>
<th align="left">Old Version</th>
<th align="left">New Version</th>
<th align="left">d.ts File</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Class adds mandatory attribute or non-homonymous method</td>
<td align="left">Class: global;<br><br>API declaration: <br><br>Difference: NA</td>
<td align="left">Class: PdfDocument;<br><br>API declaration: setPdfPassword(password: string): boolean;<br><br>Difference: setPdfPassword(password: string): boolean;</td>
<td align="left">api&#x2F;@hms.</td>
</tr>
</tbody></table>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/30/25630-HarmonyOS-Next-5-0-4-Release-Update-Notes-and-Adaptation-Guide/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/30/25630-HarmonyOS-Next-5-0-4-Release-Update-Notes-and-Adaptation-Guide/" class="post-title-link" itemprop="url">HarmonyOS Next 5.0.4 Release Update Notes and Adaptation Guide</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-30 15:03:54 / Modified: 15:04:10" itemprop="dateCreated datePublished" datetime="2025-06-30T15:03:54+08:00">2025-06-30</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/HarmonyOS-Next/" itemprop="url" rel="index"><span itemprop="name">HarmonyOS Next</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="HarmonyOS-Next-5-0-4-Release-Update-Notes-and-Adaptation-Guide"><a href="#HarmonyOS-Next-5-0-4-Release-Update-Notes-and-Adaptation-Guide" class="headerlink" title="HarmonyOS Next 5.0.4 Release Update Notes and Adaptation Guide"></a>HarmonyOS Next 5.0.4 Release Update Notes and Adaptation Guide</h2><p>On March 30, 2025, HarmonyOS Next 5.0.4 (API 16) was directly released as a Release version without any beta phases. Building upon the previously released HarmonyOS 5.0.3 Release, HarmonyOS 5.0.4 Release introduces the Reader Kit, a few new interfaces, and releases supporting software in Release status.  </p>
<h3 id="OS-Platform-Capabilities"><a href="#OS-Platform-Capabilities" class="headerlink" title="OS Platform Capabilities"></a>OS Platform Capabilities</h3><h4 id="New-Features"><a href="#New-Features" class="headerlink" title="New Features"></a>New Features</h4><p>The 5.0.4 version adds and enhances the following features:  </p>
<h5 id="Ability-Kit"><a href="#Ability-Kit" class="headerlink" title="Ability Kit"></a>Ability Kit</h5><ul>
<li>New batch of C API functions to obtain file directories within the application-level sandbox.</li>
</ul>
<h5 id="ArkUI"><a href="#ArkUI" class="headerlink" title="ArkUI"></a>ArkUI</h5><ul>
<li>Text components newly support setting the text selection menu to display in a separate window.  </li>
<li>Window management newly supports creating virtual screens.</li>
</ul>
<h5 id="ArkGraphics-2D"><a href="#ArkGraphics-2D" class="headerlink" title="ArkGraphics 2D"></a>ArkGraphics 2D</h5><ul>
<li>New batch of C API functions and enumerations to support GPU rendering capabilities for direct drawing to the screen buffer.</li>
</ul>
<h5 id="ArkWeb"><a href="#ArkWeb" class="headerlink" title="ArkWeb"></a>ArkWeb</h5><ul>
<li>New support for setting same-layer rendered elements with fixed width and height.</li>
</ul>
<h5 id="Connectivity-Kit"><a href="#Connectivity-Kit" class="headerlink" title="Connectivity Kit"></a>Connectivity Kit</h5><ul>
<li>New support for obtaining the name of the peer Bluetooth device.  </li>
<li>New support for connecting to all allowable profiles of remote devices.  </li>
<li>New support for persistently storing the MAC address of the peer device.</li>
</ul>
<h5 id="Input-Kit"><a href="#Input-Kit" class="headerlink" title="Input Kit"></a>Input Kit</h5><ul>
<li>New support for setting callbacks for specified key operations in foreground applications.</li>
</ul>
<h5 id="Location-Kit"><a href="#Location-Kit" class="headerlink" title="Location Kit"></a>Location Kit</h5><ul>
<li>New support for subscribing to Bluetooth scanning information reporting for positioning.</li>
</ul>
<h5 id="Media-Library-Kit"><a href="#Media-Library-Kit" class="headerlink" title="Media Library Kit"></a>Media Library Kit</h5><ul>
<li>New enumeration definition for file locations to mark whether files are local or cloud-based.</li>
</ul>
<h5 id="Network-Kit"><a href="#Network-Kit" class="headerlink" title="Network Kit"></a>Network Kit</h5><ul>
<li>New support for obtaining the file descriptor of TLSSocket.</li>
</ul>
<h5 id="Reader-Kit"><a href="#Reader-Kit" class="headerlink" title="Reader Kit"></a>Reader Kit</h5><ul>
<li>New Reader Kit supporting parsing, typesetting, and reading interaction capabilities for multiple e-book formats.</li>
</ul>
<p>Note: The 5.0.3 version added some APIs for PC versions. Although there were expectations for updates targeting other devices like smartwatches in 5.0.4, such updates are temporarily absent.  </p>
<h3 id="DevEco-Studio"><a href="#DevEco-Studio" class="headerlink" title="DevEco Studio"></a>DevEco Studio</h3><p>The tool list, supported API scope, and development version information carried by DevEco Studio 5.0.11.100 are as follows:  </p>
<h4 id="DevEco-Studio-1"><a href="#DevEco-Studio-1" class="headerlink" title="DevEco Studio"></a>DevEco Studio</h4><table>
<thead>
<tr>
<th align="left">Component</th>
<th align="left">Version</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">DevEco Studio</td>
<td align="left">DevEco Studio 5.0.4 Release (5.0.11.100)</td>
<td align="left">-</td>
</tr>
<tr>
<td align="left">HarmonyOS SDK</td>
<td align="left">HarmonyOS 5.0.4 Release SDK</td>
<td align="left">-</td>
</tr>
<tr>
<td align="left">HarmonyOS Emulator</td>
<td align="left">HarmonyOS Emulator 5.0.4 Release (5.0.9.350)</td>
<td align="left">Emulator supporting phones (including foldables) and tablets.</td>
</tr>
<tr>
<td align="left">Hvigor</td>
<td align="left">5.16.1</td>
<td align="left">Compilation and build tool DevEco Hvigor (Hvigor) for API 10+ projects.</td>
</tr>
<tr>
<td align="left">ohpm</td>
<td align="left">5.0.13</td>
<td align="left">Package management tool for OpenHarmony third-party libraries.</td>
</tr>
<tr>
<td align="left">compatibleSdk</td>
<td align="left">Minimum compatible version: 4.0.0(10)</td>
<td align="left">Minimum SDK version compatible with HarmonyOS applications&#x2F;meta-services.</td>
</tr>
<tr>
<td align="left">modelVersion</td>
<td align="left">5.0.4</td>
<td align="left">Development version number.</td>
</tr>
</tbody></table>
<h4 id="Command-Line-Tools-for-DevEco-Studio-5-0-11-100"><a href="#Command-Line-Tools-for-DevEco-Studio-5-0-11-100" class="headerlink" title="Command Line Tools for DevEco Studio 5.0.11.100"></a>Command Line Tools for DevEco Studio 5.0.11.100</h4><table>
<thead>
<tr>
<th align="left">Component</th>
<th align="left">Version</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Command Line</td>
<td align="left">5.0.11.100</td>
<td align="left">Command line toolset version.</td>
</tr>
<tr>
<td align="left">codelinter</td>
<td align="left">5.0.510</td>
<td align="left">Tool for executing code inspection and repair.</td>
</tr>
<tr>
<td align="left">hstack</td>
<td align="left">5.1.0</td>
<td align="left">Tool for restoring obfuscated crash stacks of release apps to source code stacks.</td>
</tr>
<tr>
<td align="left">hvigorw</td>
<td align="left">5.16.1</td>
<td align="left">Compilation and build tool DevEco Hvigor (Hvigor) for API 10+ projects.</td>
</tr>
<tr>
<td align="left">ohpm</td>
<td align="left">5.0.13</td>
<td align="left">Package management tool for OpenHarmony third-party libraries.</td>
</tr>
<tr>
<td align="left">sdk</td>
<td align="left">HarmonyOS 5.0.4 Release SDK</td>
<td align="left">-</td>
</tr>
<tr>
<td align="left">compatibleSdk</td>
<td align="left">Minimum compatible version: 4.0.0(10)</td>
<td align="left">Minimum SDK version compatible with HarmonyOS applications&#x2F;meta-services.</td>
</tr>
<tr>
<td align="left">modelVersion</td>
<td align="left">5.0.4</td>
<td align="left">Development version number.</td>
</tr>
</tbody></table>
<p>DevEco Studio supports developing API 16 projects with no other capability changes.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/30/25630-HarmonyOS-Next-5-0-3-Release-Update-Notes-and-Adaptation-Guide/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/30/25630-HarmonyOS-Next-5-0-3-Release-Update-Notes-and-Adaptation-Guide/" class="post-title-link" itemprop="url">HarmonyOS Next 5.0.3 Release Update Notes and Adaptation Guide</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-30 15:02:37 / Modified: 15:02:54" itemprop="dateCreated datePublished" datetime="2025-06-30T15:02:37+08:00">2025-06-30</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/HarmonyOS-Next/" itemprop="url" rel="index"><span itemprop="name">HarmonyOS Next</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="HarmonyOS-Next-5-0-3-Release-Update-Notes-and-Adaptation-Guide"><a href="#HarmonyOS-Next-5-0-3-Release-Update-Notes-and-Adaptation-Guide" class="headerlink" title="HarmonyOS Next 5.0.3 Release Update Notes and Adaptation Guide"></a>HarmonyOS Next 5.0.3 Release Update Notes and Adaptation Guide</h2><p>On March 19, 2025, HarmonyOS 5.0.3 Release adds capabilities for a few ArkUI components based on the previously released HarmonyOS 5.0.3 Beta2, optimizes performance and stability, and releases supporting software in Release status.  </p>
<h3 id="OS-Platform-Capabilities"><a href="#OS-Platform-Capabilities" class="headerlink" title="OS Platform Capabilities"></a>OS Platform Capabilities</h3><h4 id="New-Features"><a href="#New-Features" class="headerlink" title="New Features"></a>New Features</h4><p>Mainly in ArkUI:  </p>
<ul>
<li>The menu attribute of text component public interfaces newly adds the TRANSLATE value, indicating translation services for selected text. Text&#x2F;TextArea&#x2F;TextInput&#x2F;Search&#x2F;RichEditor components support this menu attribute.  </li>
<li>Drag control newly supports setting whether the custom preview image floats during dragging.  </li>
<li>Scroll components newly support the ability to return to the top by clicking the status bar.  </li>
<li>Hover events newly support movement events in the stylus hover state.</li>
</ul>
<h4 id="Adaptation-Guide"><a href="#Adaptation-Guide" class="headerlink" title="Adaptation Guide"></a>Adaptation Guide</h4><p><strong>Change in return values of C API axis event interfaces OH_ArkUI_UIInputEvent_GetSourceType and OH_ArkUI_UIInputEvent_GetToolType</strong>  </p>
<p><strong>Reasons for Change</strong><br>Axis events triggered by mouse wheels or touchpads cannot correctly obtain the trigger source device type.  </p>
<p><strong>Impact of Change</strong><br>This change requires application adaptation.  </p>
<ul>
<li><strong>Before the change</strong>: When using mouse wheel or touchpad two-finger sliding operations, applications cannot accurately obtain the trigger source type through OH_ArkUI_UIInputEvent_GetSourceType and OH_ArkUI_UIInputEvent_GetToolType, returning UNKNOWN.  </li>
<li><strong>After the change</strong>: When using mouse wheel or touchpad two-finger sliding operations, applications can call OH_ArkUI_UIInputEvent_GetSourceType and OH_ArkUI_UIInputEvent_GetToolType to obtain the correct trigger source type. For mouse wheel operations, both SourceType and ToolType are MOUSE; for touchpad operations, SourceType remains MOUSE, but ToolType is TOUCHPAD.</li>
</ul>
<p><strong>Affected Interfaces&#x2F;Components</strong><br>OH_ArkUI_UIInputEvent_GetSourceType and OH_ArkUI_UIInputEvent_GetToolType  </p>
<p><strong>Adaptation Guide</strong><br>When an application uses the OH_NativeXComponent_RegisterUIInputEventCallback interface in native_interface_xcomponent.h to receive and process axis events:  </p>
<ul>
<li>If the callback function already uses ToolType for judgment, no further adaptation is needed.  </li>
<li>If the business logic only processes UNKNOWN types, adaptation is required to ensure differentiation by specific target types.</li>
</ul>
<p><strong>Example</strong>:<br>Original code:  </p>
<pre><code class="language-c">if (toolType != UI_INPUT_EVENT_TOOL_TYPE_UNKNOWN) &#123;
    // Application business logic
&#125;
</code></pre>
<p>Recommended adaptation:  </p>
<pre><code class="language-c">if (toolType == UI_INPUT_EVENT_TOOL_TYPE_MOUSE) &#123; 
    // Axis event from mouse wheel (value unit: degrees)
    double degree = OH_ArkUI_AxisEvent_GetVerticalAxisValue(event);
    // Map degrees to pixel distance
    // Update UI position
&#125; else if (toolType == UI_INPUT_EVENT_TOOL_TYPE_TOUCHPAD) &#123;
    // Touchpad operation (supports horizontal/vertical sliding)
    double offsetX = OH_ArkUI_AxisEvent_GetHorizontalAxisValue(event);
    double offsetY = OH_ArkUI_AxisEvent_GetVerticalAxisValue(event);
    if (offsetX == 0) &#123;
        // Vertical sliding (horizontal component is 0)
        // Handle UI vertical sliding
    &#125; else &#123;
        // Horizontal sliding
        // Handle UI horizontal scrolling
    &#125;
&#125; else &#123;
    // Ignore abnormal cases
&#125;
</code></pre>
<h3 id="DevEco-Studio"><a href="#DevEco-Studio" class="headerlink" title="DevEco Studio"></a>DevEco Studio</h3><p>DevEco Studio Beta1 (5.0.9.300) has no new or enhanced features.<br>The tool list, supported API scope, and development version information carried by DevEco Studio 5.0.9.300 are as follows:  </p>
<table>
<thead>
<tr>
<th align="left">Component</th>
<th align="left">Version</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">DevEco Studio</td>
<td align="left">DevEco Studio 5.0.3 Release (5.0.9.300)</td>
<td align="left">-</td>
</tr>
<tr>
<td align="left">HarmonyOS SDK</td>
<td align="left">HarmonyOS 5.0.3 Release SDK</td>
<td align="left">-</td>
</tr>
<tr>
<td align="left">HarmonyOS Emulator</td>
<td align="left">HarmonyOS Emulator 5.0.3 Release (5.0.9.300)</td>
<td align="left">Emulator supporting phones (including foldables) and tablets.</td>
</tr>
<tr>
<td align="left">Hvigor</td>
<td align="left">5.15.3</td>
<td align="left">Compilation and build tool DevEco Hvigor (Hvigor) for API 10+ projects.</td>
</tr>
<tr>
<td align="left">ohpm</td>
<td align="left">5.0.12</td>
<td align="left">Package management tool for OpenHarmony third-party libraries.</td>
</tr>
<tr>
<td align="left">compatibleSdk</td>
<td align="left">Minimum compatible version: 4.0.0(10)</td>
<td align="left">Minimum SDK version compatible with HarmonyOS applications&#x2F;meta-services.</td>
</tr>
<tr>
<td align="left">modelVersion</td>
<td align="left">5.0.3</td>
<td align="left">Development version number.</td>
</tr>
</tbody></table>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/30/25630-HarmonyOS-Next-5-0-3-Beta2-Update-Notes-and-Adaptation-Guide-CodeGenie-Accesses-DeepSeek/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/30/25630-HarmonyOS-Next-5-0-3-Beta2-Update-Notes-and-Adaptation-Guide-CodeGenie-Accesses-DeepSeek/" class="post-title-link" itemprop="url">HarmonyOS Next 5.0.3 Beta2 Update Notes and Adaptation Guide, CodeGenie Accesses DeepSeek</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-30 15:00:23 / Modified: 15:01:31" itemprop="dateCreated datePublished" datetime="2025-06-30T15:00:23+08:00">2025-06-30</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/HarmonyOS-Next/" itemprop="url" rel="index"><span itemprop="name">HarmonyOS Next</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="HarmonyOS-Next-5-0-3-Beta2-Update-Notes-and-Adaptation-Guide-CodeGenie-Accesses-DeepSeek"><a href="#HarmonyOS-Next-5-0-3-Beta2-Update-Notes-and-Adaptation-Guide-CodeGenie-Accesses-DeepSeek" class="headerlink" title="HarmonyOS Next 5.0.3 Beta2 Update Notes and Adaptation Guide, CodeGenie Accesses DeepSeek"></a>HarmonyOS Next 5.0.3 Beta2 Update Notes and Adaptation Guide, CodeGenie Accesses DeepSeek</h2><p>On March 10, 2025, Huawei released the HarmonyOS 5.0.3 Beta2 documentation. HarmonyOS 5.0.3 Beta2 is the second Beta version of API 15. Compared with HarmonyOS 5.0.3 Beta1, it further enriches development scenarios. For example, ArkUI further expands configurable properties of components, callable capabilities, recognizable gestures, etc.; adds support for gamepad recognition and event response; enhances detailed functions of map services, etc. In terms of IDE, CodeGenie accesses the DeepSeek intelligent agent to provide AI capabilities such as intelligent Q&amp;A.  </p>
<p>The complete supporting information for HarmonyOS 5.0.3 Beta2 is as follows:  </p>
<table>
<thead>
<tr>
<th align="left"><strong>Software Package</strong></th>
<th align="left"><strong>Release Type</strong></th>
<th align="left"><strong>Version Number</strong></th>
<th align="left">Build Version</th>
<th align="left"><strong>Release Date</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left">System</td>
<td align="left">Beta</td>
<td align="left">HarmonyOS 5.0.3 Beta2</td>
<td align="left">5.0.0.131</td>
<td align="left">2025&#x2F;03&#x2F;06</td>
</tr>
<tr>
<td align="left">DevEco Studio</td>
<td align="left">Beta</td>
<td align="left">DevEco Studio 5.0.3 Beta2</td>
<td align="left">5.0.9.200</td>
<td align="left">2025&#x2F;03&#x2F;06</td>
</tr>
<tr>
<td align="left">SDK</td>
<td align="left">Beta</td>
<td align="left">HarmonyOS 5.0.3 Beta2 SDK</td>
<td align="left">Based on OpenHarmony SDK Ohos_sdk_public 5.0.3.131 (API 15 Beta2)</td>
<td align="left">2025&#x2F;03&#x2F;06</td>
</tr>
</tbody></table>
<h3 id="OS-Platform-Capabilities"><a href="#OS-Platform-Capabilities" class="headerlink" title="OS Platform Capabilities"></a>OS Platform Capabilities</h3><h4 id="New-Features"><a href="#New-Features" class="headerlink" title="New Features"></a>New Features</h4><p>New and updated features are as follows:  </p>
<h5 id="Ability-Kit"><a href="#Ability-Kit" class="headerlink" title="Ability Kit"></a>Ability Kit</h5><ul>
<li>New support for creating an application context based on a specified physical screen ID to obtain and use other screen-related information.  </li>
<li>New support for launching UIAbility via C API, only available for 2in1 devices.  </li>
<li>New support for application pre-closing callback methods, which can be used to ask users to choose immediate execution or cancellation, only available for 2in1 devices.</li>
</ul>
<h5 id="ArkData"><a href="#ArkData" class="headerlink" title="ArkData"></a>ArkData</h5><ul>
<li>New intelligent data platform provides edge-side data intelligence capabilities to complete the closed-loop of data and AI intelligence on the edge, only available for 2in1 devices.  </li>
<li>UDMF newly supports capabilities to obtain progress information and data.</li>
</ul>
<h5 id="ArkGraphics-2D"><a href="#ArkGraphics-2D" class="headerlink" title="ArkGraphics 2D"></a>ArkGraphics 2D</h5><ul>
<li>NativeBuffer adds support for BLOB format (NATIVEBUFFER_PIXEL_FMT_BLOB) and RGBA16 float format (NATIVEBUFFER_PIXEL_FMT_RGBA16_FLOAT).</li>
</ul>
<h5 id="ArkTS"><a href="#ArkTS" class="headerlink" title="ArkTS"></a>ArkTS</h5><ul>
<li>【Specification Update】The maximum number of runtime environments created by a process is increased from 16 to 64, and the total number of simultaneously running Worker threads and runtimes created by the process must not exceed 80.</li>
</ul>
<h5 id="ArkUI"><a href="#ArkUI" class="headerlink" title="ArkUI"></a>ArkUI</h5><ul>
<li>Basic components newly support inserting text at specified positions in edited text and deleting content in specified areas.  </li>
<li>General events add focus axis events to support response to gamepad axis events; C API additionally supports obtaining the operation type value of the current axis event.  </li>
<li>The pattern password lock component newly supports setting whether unselected grid dots are automatically selected when the password path passes through.  </li>
<li>Window management adds defined C APIs for window management, mainly used to set and obtain properties of specified windows, as well as set the status bar and navigation bar styles of specified windows.  </li>
<li>The Image component newly supports color filling capability that can override original colors, only valid for SVG format image sources.  </li>
<li>The Image component newly supports automatic transformation based on image matrices, providing automatic transformation optimization when presenting grid thumbnails in scenarios like photo galleries.  </li>
<li>Tabs and Swiper components newly support setting mouse wheel page-turning modes.  </li>
<li>NavDestination newly supports callbacks for event returns to pass parameters during event returns.  </li>
<li>The TextPicker component newly supports configuring text styles for each selection item.  </li>
<li>The Progress component adds C API support for setting linear progress bar styles.  </li>
<li>The foldable screen status enumeration in the screen attribute module adds multiple state definitions for the second fold axis.  </li>
<li>The Node attribute style of C API adds a background blur effect attribute NODE_BACKDROP_BLUR.  </li>
<li>FrameNode newly supports cross-language capabilities.  </li>
<li>FrameNode newly supports selecting the expansion mode of child nodes when traversing nodes.  </li>
<li>Size settings newly support adapting width and height to the parent component layout.  </li>
<li>Text components in TextMenuItem newly support shortcut key prompts (labelInfo).  </li>
<li>Three types of pop-up components newly support setting pop-up display levels and related attributes&#x2F;effects (levelMode, levelUniqueId, immersiveMode).  </li>
<li>bindSheet newly supports radius (corner radius) and detentSelection (non-gesture gear switching) attributes.  </li>
<li>New navigation point components provide two styles: dot navigation points and numeric navigation points.  </li>
<li>Swiper and Tabs components newly support animated jump modes.  </li>
<li>The Swiper component newly supports scroll behavior interception events to determine whether to allow scrolling, with C API controlled by the property NODE_SWIPER_EVENT_ON_CONTENT_WILL_SCROLL.  </li>
<li>Third-party platform access to the ArkUI accessibility framework newly supports finding the previous&#x2F;next focus (ARKUI_ACCESSIBILITY_NATIVE_ACTION_TYPE_NEXT_HTML_ITEM, ARKUI_ACCESSIBILITY_NATIVE_ACTION_TYPE_PREVIOUS_HTML_ITEM).  </li>
<li>Third-party platform access to the ArkUI accessibility framework newly supports multi-instance scenarios.  </li>
<li>The ohos.arkui.observer module’s NavDestination component information adds NavDestination type and uniqueId.  </li>
<li>New support for screenshot capabilities via C API.  </li>
<li>UIContext newly supports obtaining screenshots of loaded components by uniqueId.  </li>
<li>UIContext newly supports obtaining layout information of the meta-service menuBar relative to the window.  </li>
<li>General events add C API support for obtaining the ID triggering the current touch event.  </li>
<li>Windows add a同名 interface (same-name interface) for setting application window size limits on 2in1 devices.  </li>
<li>Windows add a同名 interface (same-name interface) for specifying the mouse position within the window and moving the window.  </li>
<li>Windows add asynchronous callbacks for window close event listening on 2in1 devices.  </li>
<li>Windows newly support enabling listening for picture-in-picture window size change events.  </li>
<li>Windows newly support dynamically setting the title of the window title bar.  </li>
<li>Windows add settings for main window support modes (fullscreen, floating window, split screen, etc.).  </li>
<li>NavDestination newly supports setting whether to hide the back button in the title bar.  </li>
<li>New C API support for focus control and focus event handling.  </li>
<li>New C API support for cloned event forwarding.  </li>
<li>The Popup component adds a keyboardAvoidMode attribute to set whether the Popup bubble avoids the soft keyboard.  </li>
<li>Pop-ups newly support setting the distance to avoid the keyboard.  </li>
<li>Attribute strings newly support setting ResourceStr type images.  </li>
<li>The image object of attribute strings newly supports obtaining the color filter effect (colorFilter) of attribute string images.  </li>
<li>Drag and drop capabilities newly support obtaining drag progress bar data.  </li>
<li>Component screenshot capabilities newly support defining screenshot areas.  </li>
<li>The Tabs component adds parameters to support setting the position of Tab labels.  </li>
<li>Text components newly support triggering callbacks when text content is about to change.  </li>
<li>New support for identifying whether touch-related events come from the left or right hand, involving multiple modules: event modules add related C APIs; the FingerInfo object in gesture binding methods adds a hand attribute; the TouchObject object in touch events adds a hand attribute; the clickevent object in click events adds a hand attribute.  </li>
<li>New support for checking the number of fingers touching the screen, involving multiple modules: NDK adds related C APIs; components add the isFingerCountLimited attribute to set whether to check the number of touching fingers.  </li>
<li>New support for setting key event processing priorities and re-dispatching capabilities, involving: NDK adds C APIs for setting key event processing priorities; the ArkUI_NodeEventType enumeration in NDK adds NODE_DISPATCH_KEY_EVENT; UIContext adds ArkTS APIs for setting key event processing priorities and dispatching key events to specified components.  </li>
<li>C API newly supports NODE_CHECKBOX_GROUP related capabilities.</li>
</ul>
<h5 id="AppGallery-Kit"><a href="#AppGallery-Kit" class="headerlink" title="AppGallery Kit"></a>AppGallery Kit</h5><ul>
<li>New application metadata management service supports dynamic icon management.</li>
</ul>
<h5 id="ArkWeb"><a href="#ArkWeb" class="headerlink" title="ArkWeb"></a>ArkWeb</h5><ul>
<li>New support for cookie persistence.</li>
</ul>
<h5 id="Basic-Service-Kit"><a href="#Basic-Service-Kit" class="headerlink" title="Basic Service Kit"></a>Basic Service Kit</h5><ul>
<li>Upload&#x2F;download newly supports uploading multiple files with a single upload request, configured via the multipart parameter in Config.  </li>
<li>The clipboard newly supports setting progress indicators.</li>
</ul>
<h5 id="Camera-Kit"><a href="#Camera-Kit" class="headerlink" title="Camera Kit"></a>Camera Kit</h5><ul>
<li>New support for obtaining distributed camera device types.  </li>
<li>New support for mirror video recording.</li>
</ul>
<h5 id="Connectivity-Kit"><a href="#Connectivity-Kit" class="headerlink" title="Connectivity Kit"></a>Connectivity Kit</h5><ul>
<li>Opens Wi-Fi management capabilities of the wifiManager module for enterprise applications.</li>
</ul>
<h5 id="Core-File-Kit"><a href="#Core-File-Kit" class="headerlink" title="Core File Kit"></a>Core File Kit</h5><ul>
<li>The file picker newly supports batch file authorization.</li>
</ul>
<h5 id="Device-Security-Kit"><a href="#Device-Security-Kit" class="headerlink" title="Device Security Kit"></a>Device Security Kit</h5><ul>
<li>New support for anti-fraud applications to obtain scam messages.  </li>
<li>New support for anti-fraud applications to obtain scam call records.</li>
</ul>
<h5 id="Enterprise-Data-Guard-Kit"><a href="#Enterprise-Data-Guard-Kit" class="headerlink" title="Enterprise Data Guard Kit"></a>Enterprise Data Guard Kit</h5><ul>
<li>New support for watermark protection when opening KIA files.  </li>
<li>New support for enterprise recovery key management.</li>
</ul>
<h5 id="IAP-Kit"><a href="#IAP-Kit" class="headerlink" title="IAP Kit"></a>IAP Kit</h5><ul>
<li>PurchaseParameter adds the quantity parameter to support purchasing multiple items in a single transaction.  </li>
<li>New support for non-game application order refunds.</li>
</ul>
<h5 id="IME-Kit"><a href="#IME-Kit" class="headerlink" title="IME Kit"></a>IME Kit</h5><ul>
<li>New support for moving the input method window.</li>
</ul>
<h5 id="Input-Kit"><a href="#Input-Kit" class="headerlink" title="Input Kit"></a>Input Kit</h5><ul>
<li>New support for identifying and dispatching key events from gamepad devices.</li>
</ul>
<h5 id="Localization-Kit"><a href="#Localization-Kit" class="headerlink" title="Localization Kit"></a>Localization Kit</h5><ul>
<li>New support for obtaining simplified language representations, such as simplifying “en-Latn-US” to “en”.</li>
</ul>
<h5 id="Map-Kit"><a href="#Map-Kit" class="headerlink" title="Map Kit"></a>Map Kit</h5><ul>
<li>New support for setting and viewing Logo zoom ratios.  </li>
<li>New support for displaying 3D earth on maps.  </li>
<li>New support for setting custom tile layers.  </li>
<li>New support for implementing polyline textures via texturing.  </li>
<li>New support for Marker collision detection.  </li>
<li>New support for segmenting polylines to set textures and dynamically set textures.  </li>
<li>New petalMaps module supports launching Petal Maps.  </li>
<li>New map Picker supports setting theme colors.  </li>
<li>The division query control newly supports launching sub-windows.  </li>
<li>New support for map Picker close callbacks.  </li>
<li>New support for aggregated expansion icon click callbacks.</li>
</ul>
<h5 id="MDM-Kit"><a href="#MDM-Kit" class="headerlink" title="MDM Kit"></a>MDM Kit</h5><ul>
<li>New support for setting browser hosting policies for specified browsers.</li>
</ul>
<h5 id="Media-Kit"><a href="#Media-Kit" class="headerlink" title="Media Kit"></a>Media Kit</h5><ul>
<li>Screen recording newly supports callback for obtaining the screen ID of the recording.</li>
</ul>
<h5 id="Media-Library-Kit"><a href="#Media-Library-Kit" class="headerlink" title="Media Library Kit"></a>Media Library Kit</h5><ul>
<li>New support for previewing and replacing images in the album via photoPicker.</li>
</ul>
<h5 id="Multimodal-Awareness-Kit"><a href="#Multimodal-Awareness-Kit" class="headerlink" title="Multimodal Awareness Kit"></a>Multimodal Awareness Kit</h5><ul>
<li>New support for action awareness capabilities to sense user behaviors and actions.</li>
</ul>
<h5 id="Preview-Kit"><a href="#Preview-Kit" class="headerlink" title="Preview Kit"></a>Preview Kit</h5><ul>
<li>New C API supports file opening acceleration.</li>
</ul>
<h5 id="Remote-Communication-Kit"><a href="#Remote-Communication-Kit" class="headerlink" title="Remote Communication Kit"></a>Remote Communication Kit</h5><ul>
<li>New OntimeInfo interface provides callbacks for HTTP request success&#x2F;failure to monitor request outcomes.</li>
</ul>
<h5 id="Speech-Kit"><a href="#Speech-Kit" class="headerlink" title="Speech Kit"></a>Speech Kit</h5><ul>
<li>TextReader newly supports unregistering callbacks that scroll to the bottom of the playlists with user-defined parameters.</li>
</ul>
<h4 id="Adaptation-Guide"><a href="#Adaptation-Guide" class="headerlink" title="Adaptation Guide"></a>Adaptation Guide</h4><p>Changes for all applications are as follows:  </p>
<table>
<thead>
<tr>
<th>Component&#x2F;Module</th>
<th>Change Description</th>
<th>Adaptation Suggestion for Historical Projects</th>
</tr>
</thead>
<tbody><tr>
<td>ArkUI</td>
<td>Default behavior change of onDragStart interface for Image, Text, and ListItem components</td>
<td>Requires adaptation</td>
</tr>
<tr>
<td></td>
<td>Axis events support BEGIN, END, and CANCEL type callback triggers</td>
<td>No adaptation needed</td>
</tr>
<tr>
<td></td>
<td>SetStyledString interface of TextController supports saving set attribute string information to the called TextController</td>
<td>Requires adaptation</td>
</tr>
<tr>
<td></td>
<td>On 2in1 devices, the floating window layer is adjusted from below the dock to above the dock</td>
<td>No adaptation needed</td>
</tr>
<tr>
<td>Call Service Kit</td>
<td>Call capsules are not displayed when the call application is in the foreground</td>
<td>Requires adaptation</td>
</tr>
<tr>
<td>Performance Analysis Kit</td>
<td>HiAppEvent module’s onReceive, OH_HiAppEvent_OnReceive, and takeNext interfaces support isolated subscription of clone application failure logs</td>
<td>No adaptation needed</td>
</tr>
</tbody></table>
<p>UI style changes are as follows:  </p>
<table>
<thead>
<tr>
<th>Change Description</th>
<th>Adaptation Suggestion for Historical Projects</th>
</tr>
</thead>
<tbody><tr>
<td>Dynamic photo auto-play effect change</td>
<td>No adaptation needed</td>
</tr>
<tr>
<td>After the NavDestination title bar toolbar supports follow-hand sliding to hide, it does not resume display if no operation is performed for more than 2 seconds; the show&#x2F;hide animation effect of the Tabs component’s TabBar changes</td>
<td>No adaptation needed</td>
</tr>
</tbody></table>
<h3 id="DevEco-Studio"><a href="#DevEco-Studio" class="headerlink" title="DevEco Studio"></a>DevEco Studio</h3><p>Changes in DevEco Studio Beta2 (5.0.9.200) are as follows:  </p>
<ul>
<li>CodeGenie accesses the DeepSeek intelligent agent to provide AI capabilities such as intelligent Q&amp;A. For details, refer to Intelligent Q&amp;A.  </li>
<li>For compilation and build error scenarios, support clicking the Explain with AI icon behind error content to enable CodeGenie to analyze and provide possible error causes and solutions. For details, refer to Intelligent Analysis of Compilation Errors.</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/30/25630-HarmonyOS-Next-5-0-3-Beta1-Update-Notes-and-Adaptation-Guide/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/30/25630-HarmonyOS-Next-5-0-3-Beta1-Update-Notes-and-Adaptation-Guide/" class="post-title-link" itemprop="url">HarmonyOS Next 5.0.3 Beta1 Update Notes and Adaptation Guide</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-30 14:56:43 / Modified: 15:00:27" itemprop="dateCreated datePublished" datetime="2025-06-30T14:56:43+08:00">2025-06-30</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/HarmonyOS-Next/" itemprop="url" rel="index"><span itemprop="name">HarmonyOS Next</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="HarmonyOS-Next-5-0-3-Beta1-Update-Notes-and-Adaptation-Guide"><a href="#HarmonyOS-Next-5-0-3-Beta1-Update-Notes-and-Adaptation-Guide" class="headerlink" title="HarmonyOS Next 5.0.3 Beta1 Update Notes and Adaptation Guide"></a>HarmonyOS Next 5.0.3 Beta1 Update Notes and Adaptation Guide</h2><p>On March 3, 2025, Huawei released the HarmonyOS 5.0.3 Beta1 documentation. HarmonyOS 5.0.3 Beta1 is the first Beta version of API 15. Compared with HarmonyOS 5.0.2 Release, it enriches development scenarios through new APIs, such as providing more open functions for 2in1 devices, enhancing basic upload&#x2F;download capabilities, and further expanding C APIs.  </p>
<p>It is important to emphasize what a 2in1 device is. The official explanation is that “2in1 devices integrate screen touch and keyboard-mouse interaction methods, maintaining portability while fully unleashing device productivity to help users complete tasks efficiently.” In a narrow sense, we can understand it as a PC, meaning HarmonyOS officially provides PC development functions. The characteristics of 2in1 devices are as follows:  </p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><strong>Hardware Features</strong></td>
<td>Screen: Large screens with medium to high resolution, spanning a wide range of sizes and proportions.<br><br>Camera: Generally equipped with a high-quality front camera.<br><br>Audio: Strong audio input&#x2F;output capabilities.<br><br>Biometric Recognition: Typically includes fingerprint, facial recognition, etc.<br><br>Others: Gyroscopes, etc., to obtain device motion status information.</td>
</tr>
<tr>
<td><strong>Usage Modes</strong></td>
<td>Users usually use 2in1 devices in relatively stable workplaces with workstations, placing the device on a desk at a distance of 500-600mm.<br><br>In the touch state of 2in1 devices, the operation hotspots are similar to those of tablet stands; in the keyboard-mouse operation state, there are no obvious operation blind spots.</td>
</tr>
<tr>
<td><strong>Interaction Methods</strong></td>
<td>2in1 devices have rich interaction methods, with keyboard-mouse and touchpad being the primary means.</td>
</tr>
<tr>
<td><strong>Usage Scenarios</strong></td>
<td>2in1 devices are widely used in scenarios ranging from office to entertainment; they are suitable for long-term, concentrated use and frequent file operations, often used in collaboration with other devices.</td>
</tr>
</tbody></table>
<p>The complete supporting information for HarmonyOS 5.0.3 Beta1 is as follows:  </p>
<table>
<thead>
<tr>
<th align="left"><strong>Software Package</strong></th>
<th align="left"><strong>Release Type</strong></th>
<th align="left"><strong>Version Number</strong></th>
<th align="left">Build Version</th>
<th align="left"><strong>Release Date</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left">System</td>
<td align="left">Beta</td>
<td align="left">HarmonyOS 5.0.3 Beta1</td>
<td align="left">5.0.0.130</td>
<td align="left">2025&#x2F;02&#x2F;28</td>
</tr>
<tr>
<td align="left">DevEco Studio</td>
<td align="left">Beta</td>
<td align="left">DevEco Studio 5.0.3 Beta1</td>
<td align="left">5.0.9.100</td>
<td align="left">2025&#x2F;02&#x2F;28</td>
</tr>
<tr>
<td align="left">SDK</td>
<td align="left">Beta</td>
<td align="left">HarmonyOS 5.0.3 Beta1 SDK</td>
<td align="left">Based on OpenHarmony SDK Ohos_sdk_public 5.0.3.130 (API 15 Beta1)</td>
<td align="left">2025&#x2F;02&#x2F;28</td>
</tr>
</tbody></table>
<h3 id="OS-Platform-Capabilities"><a href="#OS-Platform-Capabilities" class="headerlink" title="OS Platform Capabilities"></a>OS Platform Capabilities</h3><h4 id="New-Features"><a href="#New-Features" class="headerlink" title="New Features"></a>New Features</h4><p>New and updated features are as follows:  </p>
<h5 id="Ability-Kit"><a href="#Ability-Kit" class="headerlink" title="Ability Kit"></a>Ability Kit</h5><ul>
<li>In ApplicationInfo of Package Management, the definition of application installation source (installSource) is enhanced, adding three installation sources: ota, recovery, and installation package name. (API Reference)  </li>
<li>New C API definitions and interfaces for component startup parameters Want. (API Reference)</li>
</ul>
<h5 id="Account-Kit"><a href="#Account-Kit" class="headerlink" title="Account Kit"></a>Account Kit</h5><p>Child accounts support one-click login with Huawei accounts. (Guide)  </p>
<h5 id="App-Linking-Kit"><a href="#App-Linking-Kit" class="headerlink" title="App Linking Kit"></a>App Linking Kit</h5><p>【New Kit】App Linking Kit (Application Link Service) provides deferred linking capability, supporting the preservation of application links clicked by users for ten minutes, ensuring that when users download, install, and open the application, they can still obtain the relevant links clicked previously. (Guide, API Reference)  </p>
<h5 id="AppGallery-Kit-Formerly-Store-Kit"><a href="#AppGallery-Kit-Formerly-Store-Kit" class="headerlink" title="AppGallery Kit (Formerly Store Kit)"></a>AppGallery Kit (Formerly Store Kit)</h5><p>The Kit name is changed from Store Kit to AppGallery Kit, and the reference method for related Kit APIs is updated accordingly. (Guide, API Reference)  </p>
<h5 id="ArkData"><a href="#ArkData" class="headerlink" title="ArkData"></a>ArkData</h5><p>UDMF newly supports adding data of specified types and contents, along with corresponding query interfaces. (API Reference)  </p>
<h5 id="ArkGraphics-2D"><a href="#ArkGraphics-2D" class="headerlink" title="ArkGraphics 2D"></a>ArkGraphics 2D</h5><ul>
<li>New tool class Tool for converting ResourceColor values to common2D.Color objects. (API Reference)  </li>
<li>New support for setting whether the drawn font follows theme font changes. (API Reference - C API, API Reference - ArkTS API)  </li>
<li>New C API support for obtaining transformation matrices calculated based on the rotation angle set by the production end and the actual effective content area of the buffer. (API Reference)</li>
</ul>
<h5 id="ArkUI"><a href="#ArkUI" class="headerlink" title="ArkUI"></a>ArkUI</h5><ul>
<li>Navigation newly supports customizing the enable&#x2F;disable of animation when switching between single and dual-column displays. (API Reference)  </li>
<li>Video component newly supports setting shortcut key responses. (API Reference)  </li>
<li>TextInput&#x2F;TextArea&#x2F;Search components newly support configuring callbacks that do not intercept back key operations (onBackPressed). (API Reference - TextInput, API Reference - TextArea, API Reference - Search)  </li>
<li>UIContext newly supports setting OverlayManager parameters, such as whether to render the overlay root node. (API Reference)  </li>
<li>RichEditor newly supports setting the keyboard appearance. (API Reference)  </li>
<li>Security components support setting the alignment of icon text. (API Reference)  </li>
<li>Security components support setting the radius of the four rounded corners of the border separately. (API Reference)  </li>
<li>New C API support for callback methods when component layout and drawing are completed. (API Reference - Component Layout Completion Callback, API Reference - Component Drawing Completion Callback)  </li>
<li>New C API attribute style NODE_IMMUTABLE_FONT_WEIGHT supports setting text weight to not follow system font weight changes. (API Reference)  </li>
<li>Windows newly support obtaining information about picture-in-picture windows, such as ID and size. (API Reference)  </li>
<li>Windows newly support obtaining information about the layout of visible windows on a specified screen. (API Reference)  </li>
<li>Windows newly support obtaining information about the display size scaling coefficient of the screen where the current window is located (API Reference), setting up listening for changes in the system display size scaling coefficient of the screen where the window is located (API Reference), and allowing the application’s main window to customize its display size scaling coefficient (API Reference).  </li>
<li>Windows newly define window movement options, currently allowing the definition of screen ID to support moving windows to other screens. (API Reference)  </li>
<li>Windows newly define C APIs for window management, mainly used to set and obtain properties of specified windows, as well as set the status bar and navigation bar styles of specified windows. (API Reference)</li>
</ul>
<h5 id="AVCodec-Kit"><a href="#AVCodec-Kit" class="headerlink" title="AVCodec Kit"></a>AVCodec Kit</h5><p>New C API support for variable frame rate video capabilities. (Guide)  </p>
<h5 id="Background-Tasks-Kit"><a href="#Background-Tasks-Kit" class="headerlink" title="Background Tasks Kit"></a>Background Tasks Kit</h5><p>New support for listening callbacks when long-running tasks are canceled. (API Reference)  </p>
<h5 id="Basic-Service-Kit"><a href="#Basic-Service-Kit" class="headerlink" title="Basic Service Kit"></a>Basic Service Kit</h5><ul>
<li>Upload&#x2F;download newly supports task grouping and displaying notifications by group. (API Reference)  </li>
<li>The URL length supported by upload&#x2F;download is expanded from 2048 to 8192 characters. (API Reference)  </li>
<li>Upload&#x2F;download newly supports customizing notification bar information. (API Reference)  </li>
<li>System accounts newly support obtaining domain account information associated with the account. (API Reference)</li>
</ul>
<h5 id="Cloud-Foundation-Kit"><a href="#Cloud-Foundation-Kit" class="headerlink" title="Cloud Foundation Kit"></a>Cloud Foundation Kit</h5><p>New pre-installation and periodic pre-loading functions support pre-downloading required data to local storage, allowing direct local data rendering when pages are opened. (Guide, API Reference)  </p>
<h5 id="Connectivity-Kit"><a href="#Connectivity-Kit" class="headerlink" title="Connectivity Kit"></a>Connectivity Kit</h5><p>Wi-Fi newly supports querying whether a hotspot is active. (API Reference)  </p>
<h5 id="Core-File-Kit"><a href="#Core-File-Kit" class="headerlink" title="Core File Kit"></a>Core File Kit</h5><ul>
<li>New definition and operation capabilities for atomic files. (API Reference)  </li>
<li>New support for obtaining the total and available sizes of built-in device storage. (API Reference)  </li>
<li>The file information attribute Stat adds three new properties: last access time (atimeNs), last modification time (mtimeNs), and last file status change time (ctimeNs). (API Reference)</li>
</ul>
<h5 id="Image-Kit"><a href="#Image-Kit" class="headerlink" title="Image Kit"></a>Image Kit</h5><ul>
<li>New method to create a PixelMap object from a Surface ID, which does not require specifying a region compared to the original method. (API Reference)  </li>
<li>New C API support for obtaining the memory address of Pixelmap pixel data. (API Reference)</li>
</ul>
<h5 id="IME-Kit"><a href="#IME-Kit" class="headerlink" title="IME Kit"></a>IME Kit</h5><ul>
<li>New support for querying the enabled status of input methods. (API Reference)  </li>
<li>New series of APIs to support custom communication between input method applications and input&#x2F;editing boxes. (API Reference - Input Method Framework, API Reference - Input Method Service)</li>
</ul>
<h5 id="Live-View-Kit"><a href="#Live-View-Kit" class="headerlink" title="Live View Kit"></a>Live View Kit</h5><ul>
<li>Support for configuring whether to display navigation direction arrow collection images in the navigation template extension area. (API Reference)  </li>
<li>Support for configuring whether to display live capsule content. (API Reference)</li>
</ul>
<h5 id="Localization-Kit"><a href="#Localization-Kit" class="headerlink" title="Localization Kit"></a>Localization Kit</h5><p>The standard ICU C library (ICU4C) supported by internationalization adds Unicode string processing (ustring.h) and ICU text abstract representation (utext.h). (API Reference)  </p>
<h5 id="Media-Kit"><a href="#Media-Kit" class="headerlink" title="Media Kit"></a>Media Kit</h5><p>The C API for screen recording newly supports setting whether to display the cursor in the recorded content. (API Reference)  </p>
<h5 id="Network-Kit"><a href="#Network-Kit" class="headerlink" title="Network Kit"></a>Network Kit</h5><p>New support for setting the system-level proxy auto-configuration (PAC) script address. (API Reference - C API, API Reference - ArkTS API)  </p>
<h5 id="Performance-Analysis-Kit"><a href="#Performance-Analysis-Kit" class="headerlink" title="Performance Analysis Kit"></a>Performance Analysis Kit</h5><p>HiLog supports setting the minimum log level for application printing. (API Reference - C API, API Reference - ArkTS API)  </p>
<h5 id="Share-Kit"><a href="#Share-Kit" class="headerlink" title="Share Kit"></a>Share Kit</h5><p>The tap-to-share callback newly adds a rejection method to help developers handle exception logic. (API Reference)  </p>
<h5 id="Vision-Kit"><a href="#Vision-Kit" class="headerlink" title="Vision Kit"></a>Vision Kit</h5><p>Card recognition supports setting the margin for cropped card images. (API Reference)  </p>
<h5 id="NDK-Development"><a href="#NDK-Development" class="headerlink" title="NDK Development"></a>NDK Development</h5><p>New support for development capabilities based on the OpenMP library. (Guide)  </p>
<h5 id="Debugging-and-Tuning"><a href="#Debugging-and-Tuning" class="headerlink" title="Debugging and Tuning"></a>Debugging and Tuning</h5><ul>
<li>New support for accessing the sandbox of debug applications via hdc to read logs and resources in the application sandbox during debugging. (Guide)  </li>
<li>Enhanced monitoring capabilities of HiAppEvent for main thread timeout events. (Guide, API Reference)</li>
</ul>
<h4 id="Adaptation-Guide"><a href="#Adaptation-Guide" class="headerlink" title="Adaptation Guide"></a>Adaptation Guide</h4><p>Changes for all applications are as follows:  </p>
<table>
<thead>
<tr>
<th align="left">Kit</th>
<th align="left">Change Description</th>
<th align="left">Adaptation Suggestion for Historical Projects</th>
<th>Adaptation Guide</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Ability</td>
<td align="left">Specification change of the installSource field</td>
<td align="left">No adaptation needed</td>
<td></td>
</tr>
<tr>
<td align="left">AppGallery Kit</td>
<td align="left">The kit.StoreKit.d.ts file is deprecated and replaced with kit.AppGalleryKit.d.ts</td>
<td align="left">Adaptation required</td>
<td>Take importing moduleInstallManager as an example. When importing moduleInstallManager, use the new kit file, and other code does not need to be modified:<br><br>Before change: <code>import &#123; moduleInstallManager &#125; from &#39;@kit.StoreKit&#39;;</code><br><br>After change: <code>import &#123; moduleInstallManager &#125; from &#39;@kit.AppGalleryKit&#39;;</code></td>
</tr>
<tr>
<td align="left">ArkTS</td>
<td align="left">The signal processing method registration interface sigaction supports the SA_RESETHAND flag change</td>
<td align="left">Adaptation required</td>
<td>1. Globally search for sigaction interface calls to review code related to setting signal processing methods.<br>    <br>2. Check whether the SA_RESETHAND flag is specified in the sa_flags of the sigaction structure parameter (SA_RESETHAND is the POSIX standard name, and SA_ONESHOT is an obsolete non-standard name, with consistent functions).<br>    <br>3. If the application expects the signal processing method to take effect only once, explicitly specify the SA_RESETHAND flag. If the application expects the signal processing method to take effect multiple times, remove the SA_RESETHAND flag to avoid the flag enabling the signal processing method to revert to the default value SIG_DFL, causing crashes.<br>    <br>4. Before calling the sigaction method, set the sa_flags flag as needed to avoid unexpected behaviors from uninitialized random values (which may include the SA_RESETHAND flag).</td>
</tr>
<tr>
<td align="left">ArkUI</td>
<td align="left">The return value of the isVisible interface changes when FrameNode is wrapped by UINode</td>
<td align="left">No adaptation needed</td>
<td></td>
</tr>
<tr>
<td align="left">ArkUI</td>
<td align="left">Behavioral change when preventDefault() is set in the onCopy callback of the rich text component RichEditor</td>
<td align="left">No adaptation needed</td>
<td></td>
</tr>
<tr>
<td align="left">AVCodec Kit</td>
<td align="left">Default behavior change of OH_AVCodecOnStreamChanged in audio decoding scenarios</td>
<td align="left">No adaptation needed</td>
<td></td>
</tr>
<tr>
<td align="left">Localization Kit</td>
<td align="left">Changes to the display names of Burmese, Malay, and Thai</td>
<td align="left">No adaptation needed</td>
<td></td>
</tr>
<tr>
<td align="left">Media Kit</td>
<td align="left">Change in the screenshot interface called by the system screen recording application</td>
<td align="left">No adaptation needed</td>
<td></td>
</tr>
<tr>
<td align="left">Application Configuration File</td>
<td align="left">The shortcut configuration file does not support configuring the shortcutId field via resource indexing (starting with $)</td>
<td align="left">Adaptation required</td>
<td>If the shortcutId field in the shortcut configuration file is configured with a resource index string starting with $, it needs to be changed to a common string (not starting with $).</td>
</tr>
<tr>
<td align="left">Application Configuration File</td>
<td align="left">When supportWindowModes options are configured for fullscreen and split, the window starts in fullscreen</td>
<td align="left">Adaptation required</td>
<td>In API version 15 and later, developers need to note that when supportWindowModes is configured for fullscreen and split, the window starts in fullscreen on PC.<br>If starting in a free window is expected, the supportWindowModes should add the floating configuration item.</td>
</tr>
<tr>
<td align="left">Debugging Tools</td>
<td align="left">The default log level of hilog logs in the commercial version (nolog version) developer mode changes from info to warning</td>
<td align="left">No adaptation needed</td>
<td></td>
</tr>
</tbody></table>
<p>UI style changes are as follows:  </p>
<table>
<thead>
<tr>
<th align="left">Change Description</th>
<th align="left">Adaptation Suggestion for Historical Projects</th>
</tr>
</thead>
<tbody><tr>
<td align="left">The semi-modal SheetMode.EMBEDDED mode supports exiting by pressing the ESC key</td>
<td align="left">No adaptation needed</td>
</tr>
</tbody></table>
<h3 id="DevEco-Studio"><a href="#DevEco-Studio" class="headerlink" title="DevEco Studio"></a>DevEco Studio</h3><p>Changes in DevEco Studio Beta1 (5.0.9.100) are as follows:  </p>
<h4 id="New-Features-1"><a href="#New-Features-1" class="headerlink" title="New Features"></a>New Features</h4><ul>
<li>DevEco Studio supports developing API 15 projects.  </li>
<li>When creating a new project&#x2F;module, a layered icon configuration file layered_image.json, and foreground&#x2F;background icons foreground.png and background.png will be automatically generated in the AppScope&#x2F;resource&#x2F;base&#x2F;media directory, and the icon field in app.json5 will be set to the layered icon configuration file. For details, refer to the icon tag.  </li>
<li>AppAnalyzer’s scenario-based inspection newly supports three scenarios: page scrolling, cold application startup, and in-page transitions. For details, refer to Application and Meta-Service Inspection.  </li>
<li>New support for automatically applying for some ACL permissions through auto-signing. For details, refer to Support for ACL Permissions.  </li>
<li>The build-profile.json5 of project-level and HAR modules adds a branchElimination field under buildOption&#x2F;arkOptions, used to specify whether to enable code branch pruning to reduce the size of compiled artifacts. When enabled, in release compilation mode, code branches that are not executed will be pruned. For details, refer to build-profile.json5.  </li>
<li>The following parameters are newly added to project-level and module-level build-profile.json5. For details, refer to build-profile.json5.  <ul>
<li>The buildOption adds a removePermissions array to specify redundant permissions in dependent packages to be deleted during compilation. Permissions of the module itself will not be deleted, and this only takes effect for HAP&#x2F;HSP modules.  </li>
<li>The buildOption&#x2F;resOptions adds a copyCodeResource object to specify whether to package resource files (non-source code files) in the src&#x2F;main&#x2F;ets directory into the artifacts, supporting exclusion of matched files based on glob syntax, which will not be packaged into the artifacts.</li>
</ul>
</li>
<li>The hvigor-config.json5 adds an ohos.arkCompile.emptyBundleName field under properties to specify whether the bundleName field in the compiled artifact is empty. For details, refer to hvigor-config.json5.</li>
</ul>
<h4 id="Changed-Features"><a href="#Changed-Features" class="headerlink" title="Changed Features"></a>Changed Features</h4><ul>
<li>The application sandbox supports operations such as creating, deleting, uploading, and downloading folders, and command-line access to the application sandbox is changed to using the hdc tool. For details, refer to Accessing Device Files.  </li>
<li>The opening method of the Obfuscation Assistant is changed to Menu Bar &gt; Tools &gt; ObfuscationHelper. For details, refer to Configuring Retention Options via the Obfuscation Assistant.</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/30/701-Daily-HarmonyOS-Next-Knowledge-Cross-component-Method-Calls-Automatic-Focus-Cancellation-Animation-End-Monitoring-App-Icon-Flashing-on-Startup-Auto-Property-Failure/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/30/701-Daily-HarmonyOS-Next-Knowledge-Cross-component-Method-Calls-Automatic-Focus-Cancellation-Animation-End-Monitoring-App-Icon-Flashing-on-Startup-Auto-Property-Failure/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] Cross-component Method Calls, Automatic Focus Cancellation, Animation End Monitoring, App Icon Flashing on Startup, Auto Property Failure</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-30 14:39:08 / Modified: 14:39:34" itemprop="dateCreated datePublished" datetime="2025-06-30T14:39:08+08:00">2025-06-30</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Knowledge-Cross-component-Method-Calls-Automatic-Focus-Cancellation-Animation-End-Monitoring-App-Icon-Flashing-on-Startup-Auto-Property-Failure"><a href="#Daily-HarmonyOS-Next-Knowledge-Cross-component-Method-Calls-Automatic-Focus-Cancellation-Animation-End-Monitoring-App-Icon-Flashing-on-Startup-Auto-Property-Failure" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Cross-component Method Calls, Automatic Focus Cancellation, Animation End Monitoring, App Icon Flashing on Startup, Auto Property Failure"></a>[Daily HarmonyOS Next Knowledge] Cross-component Method Calls, Automatic Focus Cancellation, Animation End Monitoring, App Icon Flashing on Startup, Auto Property Failure</h3><h4 id="1-Can-methods-be-called-between-multiple-Components-in-HarmonyOS"><a href="#1-Can-methods-be-called-between-multiple-Components-in-HarmonyOS" class="headerlink" title="1. Can methods be called between multiple Components in HarmonyOS?"></a>1. Can methods be called between multiple Components in HarmonyOS?</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">export</span> struct A &#123;</span><br><span class="line">  <span class="title function_">funA</span>(<span class="params"></span>) &#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">export</span> struct B &#123;</span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Image</span>().<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123; </span><br><span class="line">      <span class="comment">// How to call funA() in A from here? </span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">For functionality shared by two or more components, encapsulate it into a separate view or utility module, then import it into each component as needed:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="keyword">import</span> &#123; get, getA &#125; <span class="keyword">from</span> <span class="string">&#x27;./IndexPage&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">export</span> struct getB &#123;</span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Text</span>().<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// How to call funA() in A from here?</span></span><br><span class="line">        <span class="title function_">get</span>([]);</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// IndexPage.ets</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">get</span>(<span class="params"><span class="attr">array</span>:[]</span>)&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> index = <span class="number">0</span>; index &lt; array.<span class="property">length</span>; index++) &#123;</span><br><span class="line">    <span class="keyword">const</span> element = array[index];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">getA</span>(<span class="params"><span class="attr">array</span>:[]</span>)&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> index = <span class="number">0</span>; index &lt; array.<span class="property">length</span>; index++) &#123;</span><br><span class="line">    <span class="keyword">const</span> element = array[index];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">To modify Component A&#x27;s properties from Component B, use `</span><span class="meta">@Link</span><span class="string">` for state synchronization. Refer to this demo:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Index</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">msg</span>: <span class="built_in">string</span> = <span class="string">&quot;Component Message&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Text</span>(<span class="string">&quot;page Index&quot;</span>).<span class="title function_">fontSize</span>(<span class="number">50</span>).<span class="title function_">fontWeight</span>(<span class="title class_">FontWeight</span>.<span class="property">Bold</span>)</span><br><span class="line">      <span class="title class_">ComponentA</span>(&#123; <span class="attr">msg</span>: <span class="variable language_">this</span>.<span class="property">msg</span> &#125;)</span><br><span class="line">      <span class="title class_">ComponentB</span>(&#123; <span class="attr">msg</span>: <span class="variable language_">this</span>.<span class="property">msg</span> &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">export</span> struct <span class="title class_">ComponentB</span> &#123;</span><br><span class="line">  <span class="meta">@Watch</span>(<span class="string">&quot;changeData&quot;</span>) <span class="meta">@Link</span> <span class="attr">msg</span>: <span class="built_in">string</span></span><br><span class="line"></span><br><span class="line">  <span class="title function_">changeData</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ComponentB change&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">msg</span>).<span class="title function_">fontSize</span>(<span class="number">50</span>).<span class="title function_">fontWeight</span>(<span class="title class_">FontWeight</span>.<span class="property">Bold</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">export</span> struct <span class="title class_">ComponentA</span> &#123;</span><br><span class="line">  <span class="meta">@Link</span> <span class="attr">msg</span>: <span class="built_in">string</span></span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">msg</span>).<span class="title function_">fontSize</span>(<span class="number">50</span>).<span class="title function_">fontWeight</span>(<span class="title class_">FontWeight</span>.<span class="property">Bold</span>)</span><br><span class="line">      <span class="title class_">Button</span>(<span class="string">&quot;ComponentB change&quot;</span>).<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">msg</span> = <span class="string">&quot;Updated Data&quot;</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 2. Keyboard doesn&#x27;t automatically dismiss when tapping outside TextInput in HarmonyOS?  </span></span><br><span class="line"><span class="string">Dynamically toggle the `</span>focusable<span class="string">` property of TextInput via click events on blank areas, or转移焦点 to another component:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">FocusableExample</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">inputValue</span>: <span class="built_in">string</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="meta">@State</span> <span class="attr">textInputFocusAble</span>: <span class="built_in">boolean</span> = <span class="literal">true</span>;</span><br><span class="line">  <span class="attr">controller</span>: <span class="title class_">TextInputController</span> = <span class="keyword">new</span> <span class="title class_">TextInputController</span>()</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">TextInput</span>(&#123; <span class="attr">placeholder</span>: <span class="string">&#x27;wait input...&#x27;</span>, <span class="attr">text</span>: <span class="string">&#x27;&#x27;</span>, <span class="attr">controller</span>: <span class="variable language_">this</span>.<span class="property">controller</span> &#125;)</span><br><span class="line">        .<span class="title function_">id</span>(<span class="string">&quot;textInput&quot;</span>)</span><br><span class="line">        .<span class="title function_">focusable</span>(<span class="variable language_">this</span>.<span class="property">textInputFocusAble</span>)</span><br><span class="line">        .<span class="title function_">margin</span>(&#123; <span class="attr">top</span>: <span class="number">150</span> &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">textInputFocusAble</span> = <span class="literal">false</span>;</span><br><span class="line">      <span class="keyword">let</span> setFocusAble = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">textInputFocusAble</span> = <span class="literal">true</span>;</span><br><span class="line">        <span class="built_in">clearInterval</span>(setFocusAble)</span><br><span class="line">      &#125;, <span class="number">100</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">backgroundColor</span>(<span class="title class_">Color</span>.<span class="property">Grey</span>)</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&quot;100%&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 3. Animation end callback not triggering in HarmonyOS?  </span></span><br><span class="line"><span class="string">Use `</span>animateTo<span class="string">` with `</span>onFinish<span class="string">` callback to monitor animation completion.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Reference**: https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-transition-animation-component-V5  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="keyword">import</span> &#123; promptAction &#125; <span class="keyword">from</span> <span class="string">&#x27;@kit.ArkUI&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Index</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">showEvaluateComponent2</span>: <span class="built_in">boolean</span> = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">aboveToAppear</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;6666&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Text</span>(<span class="string">&quot;button&quot;</span>) &#123;</span><br><span class="line">      &#125;.<span class="title function_">width</span>(<span class="number">100</span>).<span class="title function_">height</span>(<span class="number">100</span>).<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">animateTo</span>(&#123; <span class="attr">duration</span>: <span class="number">200</span> &#125;, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">showEvaluateComponent2</span> = !<span class="variable language_">this</span>.<span class="property">showEvaluateComponent2</span>;</span><br><span class="line"></span><br><span class="line">          promptAction.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">            <span class="attr">message</span>: <span class="string">&quot;Animation Complete&quot;</span></span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">showEvaluateComponent2</span>) &#123;</span><br><span class="line">        <span class="title class_">Text</span>(<span class="string">&quot;Animation&quot;</span>) &#123;</span><br><span class="line">        &#125;</span><br><span class="line">        .<span class="title function_">width</span>(<span class="number">100</span>)</span><br><span class="line">        .<span class="title function_">height</span>(<span class="number">100</span>)</span><br><span class="line">        .<span class="title function_">backgroundColor</span>(<span class="title class_">Color</span>.<span class="property">Green</span>)</span><br><span class="line"></span><br><span class="line">        .<span class="title function_">transition</span>(</span><br><span class="line">          <span class="title class_">TransitionEffect</span>.<span class="title function_">asymmetric</span>(</span><br><span class="line">            <span class="title class_">TransitionEffect</span>.<span class="title function_">move</span>(<span class="title class_">TransitionEdge</span>.<span class="property">BOTTOM</span>).<span class="title function_">animation</span>(&#123; <span class="attr">duration</span>: <span class="number">500</span>, <span class="attr">curve</span>: <span class="title class_">Curve</span>.<span class="property">EaseIn</span> &#125;),</span><br><span class="line">            <span class="title class_">TransitionEffect</span>.<span class="title function_">move</span>(<span class="title class_">TransitionEdge</span>.<span class="property">BOTTOM</span>).<span class="title function_">animation</span>(&#123;</span><br><span class="line">              <span class="attr">duration</span>: <span class="number">200</span>,</span><br><span class="line">              <span class="attr">curve</span>: <span class="title class_">Curve</span>.<span class="property">EaseOut</span>,</span><br><span class="line">              <span class="attr">onFinish</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">                promptAction.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">                  <span class="attr">message</span>: <span class="string">&quot;Animation Complete&quot;</span></span><br><span class="line">                &#125;)</span><br><span class="line">              &#125;,</span><br><span class="line">              <span class="attr">finishCallbackType</span>: <span class="title class_">FinishCallbackType</span>.<span class="property">REMOVED</span></span><br><span class="line">            &#125;)</span><br><span class="line">          )</span><br><span class="line">        )</span><br><span class="line">        .<span class="title function_">animation</span>(&#123;</span><br><span class="line">          <span class="attr">duration</span>: <span class="number">200</span>, <span class="attr">curve</span>: <span class="title class_">Curve</span>.<span class="property">EaseOut</span>, <span class="attr">onFinish</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">            promptAction.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">              <span class="attr">message</span>: <span class="string">&quot;Animation Complete&quot;</span></span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 4. App icon flashes briefly on startup in HarmonyOS?  </span></span><br><span class="line"><span class="string">This is controlled by `</span>startWindowIcon<span class="string">` and `</span>startWindowBackground<span class="string">` in the `</span><span class="variable language_">module</span>.<span class="property">json5</span><span class="string">` configuration file. These settings are mandatory but can be customized.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 5. `</span>auto<span class="string">` property not working for List height in HarmonyOS?  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="title class_">List</span>(&#123; <span class="attr">space</span>: <span class="number">10</span> &#125;) &#123;</span><br><span class="line">  <span class="title class_">ForEach</span>(<span class="variable language_">this</span>.<span class="property">bookDetailsBean</span>?.<span class="property">firstSubject</span>?.<span class="title function_">split</span>(<span class="string">&quot;\\/&quot;</span>), <span class="function">(<span class="params"><span class="attr">item</span>: <span class="built_in">string</span>, index</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="title class_">ListItem</span>() &#123;</span><br><span class="line">      <span class="title class_">Text</span>(item)</span><br><span class="line">        .<span class="title function_">fontSize</span>(<span class="number">14</span>)</span><br><span class="line">        .<span class="title function_">fontColor</span>(<span class="string">&quot;#8E8E93&quot;</span>)</span><br><span class="line">        .<span class="title function_">fontWeight</span>(<span class="title class_">FontWeight</span>.<span class="property">Bold</span>)</span><br><span class="line">        .<span class="title function_">backgroundColor</span>(<span class="string">&quot;#f1f1f1&quot;</span>)</span><br><span class="line">        .<span class="title function_">borderRadius</span>(<span class="number">14</span>)</span><br><span class="line">        .<span class="title function_">width</span>(<span class="string">&#x27;auto&#x27;</span>)</span><br><span class="line">        .<span class="title function_">padding</span>(&#123;</span><br><span class="line">          <span class="attr">top</span>: <span class="number">2</span>,</span><br><span class="line">          <span class="attr">bottom</span>: <span class="number">2</span>,</span><br><span class="line">          <span class="attr">left</span>: <span class="number">4</span>,</span><br><span class="line">          <span class="attr">right</span>: <span class="number">4</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, <span class="function">(<span class="params"><span class="attr">index</span>: <span class="built_in">number</span></span>) =&gt;</span> index + <span class="string">&quot;&quot;</span>)</span><br><span class="line">&#125;.<span class="title function_">id</span>(<span class="string">&#x27;_firstSubject&#x27;</span>).<span class="title function_">listDirection</span>(<span class="title class_">Axis</span>.<span class="property">Horizontal</span>).<span class="title function_">alignRules</span>(&#123;</span><br><span class="line">  <span class="attr">left</span>: &#123; <span class="attr">anchor</span>: <span class="string">&#x27;tv_book_name&#x27;</span>, <span class="attr">align</span>: <span class="title class_">HorizontalAlign</span>.<span class="property">Start</span> &#125;,</span><br><span class="line">  <span class="attr">top</span>: &#123; <span class="attr">anchor</span>: <span class="string">&#x27;tv_book_name&#x27;</span>, <span class="attr">align</span>: <span class="title class_">VerticalAlign</span>.<span class="property">Bottom</span> &#125;</span><br><span class="line">&#125;).<span class="title function_">margin</span>(&#123; <span class="attr">top</span>: <span class="number">15</span> &#125;)</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Issue**: Horizontal Lists do not auto-size to child elements.  </span></span><br><span class="line"><span class="string">**Solution**: Wrap the List in a Scroll component to enable height auto-sizing:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Index</span> &#123;</span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Scroll</span>() &#123;</span><br><span class="line">        <span class="title class_">List</span>() &#123;</span><br><span class="line">          <span class="title class_">ForEach</span>([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>], <span class="function">(<span class="params"><span class="attr">index</span>: <span class="built_in">number</span></span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="title class_">ListItem</span>() &#123;</span><br><span class="line">              <span class="title class_">Text</span>(<span class="string">`tab_<span class="subst">$&#123;index&#125;</span>`</span>).<span class="title function_">height</span>(<span class="number">300</span>)</span><br><span class="line">                .<span class="title function_">padding</span>(&#123;</span><br><span class="line">                  <span class="attr">left</span>: <span class="number">10</span>,</span><br><span class="line">                  <span class="attr">top</span>: <span class="number">8</span>,</span><br><span class="line">                  <span class="attr">right</span>: <span class="number">10</span>,</span><br><span class="line">                  <span class="attr">bottom</span>: <span class="number">8</span></span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">        .<span class="title function_">listDirection</span>(<span class="title class_">Axis</span>.<span class="property">Horizontal</span>)</span><br><span class="line">        .<span class="title function_">backgroundColor</span>(<span class="string">&#x27;#ff0000&#x27;</span>)</span><br><span class="line">        .<span class="title function_">margin</span>(&#123; <span class="attr">top</span>: <span class="number">60</span> &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;.<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>).<span class="title function_">backgroundColor</span>(<span class="string">&#x27;#FF15B3B3&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/30/630%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Recommended-Project-Structure-Global-Popup-Background-Image-Filling-Indicator-Component-Issues-Semi-Modal-Transition-Layer/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/30/630%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Recommended-Project-Structure-Global-Popup-Background-Image-Filling-Indicator-Component-Issues-Semi-Modal-Transition-Layer/" class="post-title-link" itemprop="url">【Daily HarmonyOS Next Knowledge】Recommended Project Structure, Global Popup, Background Image Filling, Indicator Component Issues, Semi-Modal Transition Layer</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-30 08:45:27 / Modified: 08:45:55" itemprop="dateCreated datePublished" datetime="2025-06-30T08:45:27+08:00">2025-06-30</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="【Daily-HarmonyOS-Next-Knowledge】Recommended-Project-Structure-Global-Popup-Background-Image-Filling-Indicator-Component-Issues-Semi-Modal-Transition-Layer"><a href="#【Daily-HarmonyOS-Next-Knowledge】Recommended-Project-Structure-Global-Popup-Background-Image-Filling-Indicator-Component-Issues-Semi-Modal-Transition-Layer" class="headerlink" title="【Daily HarmonyOS Next Knowledge】Recommended Project Structure, Global Popup, Background Image Filling, Indicator Component Issues, Semi-Modal Transition Layer"></a>【Daily HarmonyOS Next Knowledge】Recommended Project Structure, Global Popup, Background Image Filling, Indicator Component Issues, Semi-Modal Transition Layer</h3><h4 id="1-How-many-UIAbilities-are-recommended-for-a-HarmonyOS-project"><a href="#1-How-many-UIAbilities-are-recommended-for-a-HarmonyOS-project" class="headerlink" title="1. How many UIAbilities are recommended for a HarmonyOS project?"></a>1. How many UIAbilities are recommended for a HarmonyOS project?</h4><p>What are the main scenarios for using one UIAbility versus multiple UIAbilities?  </p>
<ol>
<li>Regarding project structure design, whether to use <strong>one UIAbility + multiple pages</strong> or <strong>multiple UIAbilities + multiple pages</strong>: If mini-programs are not involved, it is recommended to use one UIAbility. Multiple UIAbilities will appear as separate entries in the task list, so the choice should be determined by actual requirements. For development cases, refer to best practices on layered architecture design: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/best-practices-V5/bpta-layered-architecture-design-V5">https://developer.huawei.com/consumer/cn/doc/best-practices-V5/bpta-layered-architecture-design-V5</a>  </li>
<li>Scenarios mainly involve interaction; refer to this document: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/uiability-intra-device-interaction-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/uiability-intra-device-interaction-V5</a></li>
</ol>
<h4 id="2-HarmonyOS-global-popup-demo"><a href="#2-HarmonyOS-global-popup-demo" class="headerlink" title="2. HarmonyOS global popup demo?"></a>2. HarmonyOS global popup demo?</h4><p>Requirement for mutual logout by phone number: When logging in with a phone number on device A, if the same number is logged in on device B, a dialog should pop up on device A to inform the user that the number is logged in on another device and this device has been logged out. The dialog must be visible on any page of the app on device A.  </p>
<p>Refer to the following demo:  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">index.ets</span><br><span class="line">import &#123; GlobalContext &#125; from &#x27;./GlobalContext&#x27;;</span><br><span class="line">import &#123; testPromptDialog &#125; from &#x27;./HttpUtil&#x27;;</span><br><span class="line">import &#123; promptAction &#125; from &#x27;@kit.ArkUI&#x27;;</span><br><span class="line"></span><br><span class="line">@Entry</span><br><span class="line">@Component</span><br><span class="line">struct Index &#123;</span><br><span class="line">  aboutToAppear(): void &#123;</span><br><span class="line">    GlobalContext.getContext().setObject(&#x27;UIContext&#x27;, this)</span><br><span class="line">  &#125;</span><br><span class="line">  build() &#123;</span><br><span class="line">    Row() &#123;</span><br><span class="line">      Column() &#123;</span><br><span class="line">        Button(&quot;promptAction Popup&quot;)</span><br><span class="line">          .onClick(() =&gt; &#123;</span><br><span class="line">            testPromptDialog()</span><br><span class="line">          &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">      .width(&#x27;100%&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">    .height(&#x27;100%&#x27;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">GlobalContext.ets</span><br><span class="line"></span><br><span class="line">export class GlobalContext &#123;</span><br><span class="line">  private constructor() &#123;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  private static instance: GlobalContext;</span><br><span class="line">  private _objects = new Map&lt;string, Object&gt;();</span><br><span class="line">  public static getContext(): GlobalContext &#123;</span><br><span class="line">    if (!GlobalContext.instance) &#123;</span><br><span class="line">      GlobalContext.instance = new GlobalContext();</span><br><span class="line">    &#125;</span><br><span class="line">    return GlobalContext.instance;</span><br><span class="line">  &#125;</span><br><span class="line">  getObject(value: string): Object | undefined &#123;</span><br><span class="line">    return this._objects.get(value);</span><br><span class="line">  &#125;</span><br><span class="line">  setObject(key: string, objectClass: Object): void &#123;</span><br><span class="line">    this._objects.set(key, objectClass);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">HttpUtil.ets</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">let customDialogId: number = 0</span><br><span class="line">@Builder</span><br><span class="line">export function customDialogBuilder(content: String) &#123;</span><br><span class="line">  Column() &#123;</span><br><span class="line">    Text(`Tip: $&#123;content&#125;`).fontSize(20).height(&quot;30%&quot;)</span><br><span class="line">    Text(&#x27;Failure Reason: Failure!&#x27;).fontSize(16).height(&quot;30%&quot;)</span><br><span class="line">    Row() &#123;</span><br><span class="line">      Button(&quot;Confirm&quot;).onClick(() =&gt; &#123;</span><br><span class="line">        promptAction.closeCustomDialog(customDialogId)</span><br><span class="line">      &#125;)</span><br><span class="line">      Blank().width(50)</span><br><span class="line">      Button(&quot;Cancel&quot;).onClick(() =&gt; &#123;</span><br><span class="line">        promptAction.closeCustomDialog(customDialogId)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    .margin(&#123; top: 30 &#125;)</span><br><span class="line">  &#125;.height(200).padding(5)</span><br><span class="line">&#125;</span><br><span class="line">export function testPromptDialog() &#123;</span><br><span class="line">  const that = GlobalContext.getContext().getObject(&#x27;UIContext&#x27;) as UIContext;</span><br><span class="line">  if (that) &#123;</span><br><span class="line">    promptAction.openCustomDialog(&#123;</span><br><span class="line">      builder: customDialogBuilder.bind(that, &quot;Network Request Failed!&quot;)</span><br><span class="line">    &#125;).then((dialogId: number) =&gt; &#123;</span><br><span class="line">      customDialogId = dialogId;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### 3. How to make the background or image fill the entire phone screen in HarmonyOS?  </span><br><span class="line">Refer to immersive development: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-develop-apply-immersive-effects-V5  </span><br><span class="line">Typical full-screen UI elements include the status bar, app interface, and bottom navigation bar. The status bar and navigation bar are usually called避让区 (avoidance areas) in immersive layouts, while the area outside is the安全区 (safe area). Developing immersive effects mainly involves adjusting the display of the status bar, app interface, and navigation bar to reduce the abruptness of system UI elements like the status bar and navigation bar, thereby enhancing the user&#x27;s UI experience.  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### 4. Issues modifying the indicator in HarmonyOS Swiper?  </span><br><span class="line">The built-in properties of Swiper do not support setting indicator spacing. To set spacing, custom UI is required. Example code:  </span><br></pre></td></tr></table></figure>
<p>class MyDataSource implements IDataSource {<br>  private list: number[] &#x3D; []</p>
<p>  constructor(list: number[]) {<br>    this.list &#x3D; list<br>  }</p>
<p>  totalCount(): number {<br>    return this.list.length<br>  }</p>
<p>  getData(index: number): number {<br>    return this.list[index]<br>  }</p>
<p>  registerDataChangeListener(listener: DataChangeListener): void {<br>  }</p>
<p>  unregisterDataChangeListener() {<br>  }<br>}</p>
<p>@Entry<br>@Component<br>struct SwiperExample {<br>  private swiperController: SwiperController &#x3D; new SwiperController()<br>  private data: MyDataSource &#x3D; new MyDataSource([])<br>  @State widthLength: number &#x3D; 0<br>  @State heightLength: number &#x3D; 0<br>  @State currentIndex: number &#x3D; 0<br>  &#x2F;&#x2F; Implement custom animation for navigation dots</p>
<p>  private swiperWidth: number &#x3D; 0</p>
<p>  private getTextInfo(index: number): Record&lt;string, number&gt; {<br>    let strJson &#x3D; getInspectorByKey(index.toString())<br>    try {<br>      let obj: Record&lt;string, string&gt; &#x3D; JSON.parse(strJson)<br>      let rectInfo: number[][] &#x3D; JSON.parse(‘[‘ + obj.$rect + ‘]’)<br>      return { ‘left’: px2vp(rectInfo[0][0]), ‘width’: px2vp(rectInfo[1][0] - rectInfo[0][0]) }<br>    } catch (error) {<br>      return { ‘left’: 0, ‘width’: 0 }<br>    }<br>  }</p>
<p>  private getCurrentIndicatorInfo(index: number, event: TabsAnimationEvent): Record&lt;string, number&gt; {<br>    let nextIndex &#x3D; index<br>    if (index &gt; 0 &amp;&amp; event.currentOffset &gt; 0) {<br>      nextIndex–<br>    } else if (index &lt; 3 &amp;&amp; event.currentOffset &lt; 0) {<br>      nextIndex++<br>    }<br>    let indexInfo &#x3D; this.getTextInfo(index)<br>    let nextIndexInfo &#x3D; this.getTextInfo(nextIndex)<br>    let swipeRatio &#x3D; Math.abs(event.currentOffset &#x2F; this.swiperWidth)<br>    let currentIndex &#x3D; swipeRatio &gt; 0.5 ? nextIndex : index &#x2F;&#x2F; Switch to the next page when swiped over half.<br>    let currentLeft &#x3D; indexInfo.left + (nextIndexInfo.left - indexInfo.left) * swipeRatio<br>    let currentWidth &#x3D; indexInfo.width + (nextIndexInfo.width - indexInfo.width) * swipeRatio<br>    return { ‘index’: currentIndex, ‘left’: currentLeft, ‘width’: currentWidth }<br>  }</p>
<p>  aboutToAppear(): void {<br>    let list: number[] &#x3D; []<br>    for (let i &#x3D; 1; i &lt;&#x3D; 6; i++) {<br>      list.push(i);<br>    }<br>    this.data &#x3D; new MyDataSource(list)<br>  }</p>
<p>  build() {<br>    Column({ space: 5 }) {<br>      Stack({ alignContent: Alignment.Bottom }) {<br>        Swiper(this.swiperController) {<br>          Image($r(‘app.media.background’))<br>            .backgroundColor(Color.Red)<br>          Image($r(‘app.media.startIcon’))<br>            .backgroundColor(Color.Red)<br>          Image($r(‘app.media.background’))<br>            .backgroundColor(Color.Red)<br>          Image($r(‘app.media.startIcon’))<br>            .backgroundColor(Color.Red)<br>          Image($r(‘app.media.background’))<br>            .backgroundColor(Color.Red)<br>          Image($r(‘app.media.startIcon’))<br>            .backgroundColor(Color.Red)<br>        }<br>        .width(‘100%’)<br>        .height(‘100%’)<br>        .cachedCount(2)<br>        .index(0)<br>        .autoPlay(false)<br>        .interval(4000)<br>        .loop(true)<br>        .duration(1000)<br>        .itemSpace(0)<br>        .indicator(false)<br>        .curve(Curve.Linear)<br>        .onChange((index: number) &#x3D;&gt; {<br>          console.info(index.toString())<br>          this.currentIndex &#x3D; index<br>        })<br>        .onGestureSwipe((index: number, extraInfo: SwiperAnimationEvent) &#x3D;&gt; {<br>          console.info(“index: “ + index)<br>          console.info(“current offset: “ + extraInfo.currentOffset)</p>
<pre><code>      let currentIndicatorInfo = this.getCurrentIndicatorInfo(index, extraInfo)
      this.currentIndex = currentIndicatorInfo.index
    &#125;)
    .onAnimationStart((index: number, targetIndex: number, extraInfo: SwiperAnimationEvent) =&gt; &#123;
      console.info(&quot;index: &quot; + index)
      console.info(&quot;targetIndex: &quot; + targetIndex)
      console.info(&quot;current offset: &quot; + extraInfo.currentOffset)
      console.info(&quot;target offset: &quot; + extraInfo.targetOffset)
      console.info(&quot;velocity: &quot; + extraInfo.velocity)
      this.currentIndex = targetIndex
    &#125;)
    .onAnimationEnd((index: number, extraInfo: SwiperAnimationEvent) =&gt; &#123;
      console.info(&quot;index: &quot; + index)
      console.info(&quot;current offset: &quot; + extraInfo.currentOffset)
    &#125;)


    Row() &#123;
      LazyForEach(this.data, (item: string, index: number) =&gt; &#123;
        Column()
          .width(this.currentIndex === index ? 15 : 15)
          .height(5)
          .margin(0)
          .borderRadius(5)
          .backgroundColor(this.currentIndex === index ? Color.Red : Color.Gray)
      &#125;, (item: string) =&gt; item)
    &#125;
    .margin(&#123; bottom: 4 &#125;)
  &#125;
&#125;.width(&#39;100%&#39;)
.margin(&#123; top: 5 &#125;)
</code></pre>
<p>  }<br>}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">#### 5. Does HarmonyOS have an API to customize the corner radius of semi-modal transition layers?  </span><br></pre></td></tr></table></figure>
<p>@Entry<br>@Component<br>struct Index {<br>  @State isShow: boolean &#x3D; false<br>  @State isShow2: boolean &#x3D; false<br>  @State sheetHeight: number &#x3D; 300;</p>
<p>  @Builder<br>  myBuilder() {<br>    Column() {<br>      Button(“change height”)<br>        .margin(10)<br>        .fontSize(20)<br>        .onClick(() &#x3D;&gt; {<br>          this.sheetHeight &#x3D; 500;<br>        })</p>
<pre><code>  Button(&quot;Set Illegal height&quot;)
    .margin(10)
    .fontSize(20)
    .onClick(() =&gt; &#123;
      this.sheetHeight = -1;
    &#125;)

  Button(&quot;close modal 1&quot;)
    .margin(10)
    .fontSize(20)
    .onClick(() =&gt; &#123;
      this.isShow = false;
    &#125;)
&#125;
.width(&#39;100%&#39;)
.height(&#39;100%&#39;)
.backgroundColor(&quot;#36D&quot;)
.border(&#123; width: 20, color: &quot;#36D&quot;, radius: &quot;200px&quot; &#125;)
</code></pre>
<p>  }</p>
<p>  build() {<br>    Column() {<br>      Button(“transition modal 1”)<br>        .onClick(() &#x3D;&gt; {<br>          this.isShow &#x3D; true<br>        })<br>        .fontSize(20)<br>        .margin(10)<br>        .bindSheet($$this.isShow, this.myBuilder(), {<br>          height: this.sheetHeight,<br>          maskColor: Color.Red,<br>          backgroundColor: Color.Red,<br>          onAppear: () &#x3D;&gt; {<br>            console.log(“BindSheet onAppear.”)<br>          },<br>          onDisappear: () &#x3D;&gt; {<br>            console.log(“BindSheet onDisappear.”)<br>          }<br>        })<br>    }.justifyContent(FlexAlign.Center).width(‘100%’).height(‘100%’)<br>  }<br>}<br>&#96;&#96;&#96;</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/30/629%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Dark-Mode-Status-Bar-Span-Combination-with-Different-Font-Sizes-Font-Modification-Image-Component-Color-Adjustment-Founder-Fonts/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/30/629%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Dark-Mode-Status-Bar-Span-Combination-with-Different-Font-Sizes-Font-Modification-Image-Component-Color-Adjustment-Founder-Fonts/" class="post-title-link" itemprop="url">【Daily HarmonyOS Next Knowledge】Dark Mode Status Bar, Span Combination with Different Font Sizes, Font Modification, Image Component Color Adjustment, Founder Fonts</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-30 08:44:20 / Modified: 08:44:45" itemprop="dateCreated datePublished" datetime="2025-06-30T08:44:20+08:00">2025-06-30</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="【Daily-HarmonyOS-Next-Knowledge】Dark-Mode-Status-Bar-Span-Combination-with-Different-Font-Sizes-Font-Modification-Image-Component-Color-Adjustment-Founder-Fonts"><a href="#【Daily-HarmonyOS-Next-Knowledge】Dark-Mode-Status-Bar-Span-Combination-with-Different-Font-Sizes-Font-Modification-Image-Component-Color-Adjustment-Founder-Fonts" class="headerlink" title="【Daily HarmonyOS Next Knowledge】Dark Mode Status Bar, Span Combination with Different Font Sizes, Font Modification, Image Component Color Adjustment, Founder Fonts"></a>【Daily HarmonyOS Next Knowledge】Dark Mode Status Bar, Span Combination with Different Font Sizes, Font Modification, Image Component Color Adjustment, Founder Fonts</h3><h4 id="1-HarmonyOS-Status-bar-information-time-battery-etc-invisible-after-enabling-dark-mode"><a href="#1-HarmonyOS-Status-bar-information-time-battery-etc-invisible-after-enabling-dark-mode" class="headerlink" title="1. HarmonyOS Status bar information (time, battery, etc.) invisible after enabling dark mode?"></a>1. HarmonyOS Status bar information (time, battery, etc.) invisible after enabling dark mode?</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">AbilityConstant</span>, <span class="title class_">Configuration</span>, <span class="title class_">UIAbility</span>, <span class="title class_">Want</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@kit.AbilityKit&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; hilog &#125; <span class="keyword">from</span> <span class="string">&#x27;@kit.PerformanceAnalysisKit&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="variable language_">window</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@kit.ArkUI&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">BusinessError</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@kit.BasicServicesKit&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">EntryAbility</span> <span class="keyword">extends</span> <span class="title class_ inherited__">UIAbility</span> &#123;</span><br><span class="line">  <span class="attr">colorMode</span>: <span class="built_in">number</span> | <span class="literal">undefined</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">  <span class="title function_">onConfigurationUpdate</span>(<span class="attr">newConfig</span>: <span class="title class_">Configuration</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">colorMode</span> = newConfig.<span class="property">colorMode</span></span><br><span class="line">    <span class="keyword">let</span> <span class="attr">windowStage</span>: <span class="variable language_">window</span>.<span class="property">WindowStage</span> | <span class="literal">undefined</span> = <span class="title class_">AppStorage</span>.<span class="title function_">get</span>(<span class="string">&#x27;windowStage&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> (windowStage !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">changeColor</span>(windowStage)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="title function_">onCreate</span>(<span class="attr">want</span>: <span class="title class_">Want</span>, <span class="attr">launchParam</span>: <span class="title class_">AbilityConstant</span>.<span class="property">LaunchParam</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    hilog.<span class="title function_">info</span>(<span class="number">0x0000</span>, <span class="string">&#x27;testTag&#x27;</span>, <span class="string">&#x27;%&#123;public&#125;s&#x27;</span>, <span class="string">&#x27;Ability onCreate&#x27;</span>);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">colorMode</span> = <span class="variable language_">this</span>.<span class="property">context</span>.<span class="property">config</span>.<span class="property">colorMode</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">onDestroy</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    hilog.<span class="title function_">info</span>(<span class="number">0x0000</span>, <span class="string">&#x27;testTag&#x27;</span>, <span class="string">&#x27;%&#123;public&#125;s&#x27;</span>, <span class="string">&#x27;Ability onDestroy&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">changeColor</span>(<span class="params"><span class="attr">windowStage</span>: <span class="variable language_">window</span>.<span class="title class_">WindowStage</span></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="attr">windowClass</span>: <span class="variable language_">window</span>.<span class="property">Window</span> | <span class="literal">null</span></span><br><span class="line">    windowStage.<span class="title function_">getMainWindow</span>(<span class="function">(<span class="params"><span class="attr">err</span>: <span class="title class_">BusinessError</span>, data</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> <span class="attr">errCode</span>: <span class="built_in">number</span> = err.<span class="property">code</span>;</span><br><span class="line">      <span class="keyword">if</span> (errCode) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;Failed to obtain the main window. Cause: &#x27;</span> + <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(err));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      windowClass = data;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&#x27;Succeeded in obtaining the main window. Data: &#x27;</span> + <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data));</span><br><span class="line"></span><br><span class="line">      <span class="keyword">let</span> <span class="attr">sysBarProps</span>: <span class="variable language_">window</span>.<span class="property">SystemBarProperties</span> = &#123;</span><br><span class="line">        <span class="attr">statusBarColor</span>: <span class="variable language_">this</span>.<span class="property">colorMode</span> === <span class="number">0</span> ? <span class="string">&#x27;#aa00ff0b&#x27;</span> : <span class="string">&#x27;#ff00ff&#x27;</span>,</span><br><span class="line">        <span class="attr">navigationBarColor</span>: <span class="string">&#x27;#00ff00&#x27;</span>,</span><br><span class="line">        <span class="comment">// The following two properties are supported from API Version 8</span></span><br><span class="line">        <span class="attr">statusBarContentColor</span>: <span class="variable language_">this</span>.<span class="property">colorMode</span> === <span class="number">0</span> ? <span class="string">&#x27;#aaff0000&#x27;</span> : <span class="string">&#x27;#ff002aff&#x27;</span>,</span><br><span class="line">        <span class="attr">navigationBarContentColor</span>: <span class="string">&#x27;#ffffff&#x27;</span></span><br><span class="line">      &#125;;</span><br><span class="line">      windowClass.<span class="title function_">setWindowSystemBarProperties</span>(sysBarProps, <span class="function">(<span class="params"><span class="attr">err</span>: <span class="title class_">BusinessError</span></span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> <span class="attr">errCode</span>: <span class="built_in">number</span> = err.<span class="property">code</span>;</span><br><span class="line">        <span class="keyword">if</span> (errCode) &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;Failed to set the system bar properties. Cause: &#x27;</span> + <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(err));</span><br><span class="line">          <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&#x27;Succeeded in setting the system bar properties.&#x27;</span>);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="title function_">onWindowStageCreate</span>(<span class="attr">windowStage</span>: <span class="variable language_">window</span>.<span class="property">WindowStage</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="comment">// Main window is created, set main page for this ability</span></span><br><span class="line">    hilog.<span class="title function_">info</span>(<span class="number">0x0000</span>, <span class="string">&#x27;testTag&#x27;</span>, <span class="string">&#x27;%&#123;public&#125;s&#x27;</span>, <span class="string">&#x27;Ability onWindowStageCreate&#x27;</span>);</span><br><span class="line">    <span class="title class_">AppStorage</span>.<span class="title function_">setOrCreate</span>(<span class="string">&#x27;windowStage&#x27;</span>, windowStage)</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">changeColor</span>(windowStage)</span><br><span class="line"></span><br><span class="line">    windowStage.<span class="title function_">loadContent</span>(<span class="string">&#x27;pages/Index&#x27;</span>, <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (err.<span class="property">code</span>) &#123;</span><br><span class="line">        hilog.<span class="title function_">error</span>(<span class="number">0x0000</span>, <span class="string">&#x27;testTag&#x27;</span>, <span class="string">&#x27;Failed to load the content. Cause: %&#123;public&#125;s&#x27;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(err) ?? <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      hilog.<span class="title function_">info</span>(<span class="number">0x0000</span>, <span class="string">&#x27;testTag&#x27;</span>, <span class="string">&#x27;Succeeded in loading the content.&#x27;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">onWindowStageDestroy</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="comment">// Main window is destroyed, release UI related resources</span></span><br><span class="line">    hilog.<span class="title function_">info</span>(<span class="number">0x0000</span>, <span class="string">&#x27;testTag&#x27;</span>, <span class="string">&#x27;%&#123;public&#125;s&#x27;</span>, <span class="string">&#x27;Ability onWindowStageDestroy&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">onForeground</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="comment">// Ability has brought to foreground</span></span><br><span class="line"></span><br><span class="line">    hilog.<span class="title function_">info</span>(<span class="number">0x0000</span>, <span class="string">&#x27;testTag&#x27;</span>, <span class="string">&#x27;%&#123;public&#125;s&#x27;</span>, <span class="string">&#x27;Ability onForeground&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">onBackground</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="comment">// Ability has back to background</span></span><br><span class="line">    hilog.<span class="title function_">info</span>(<span class="number">0x0000</span>, <span class="string">&#x27;testTag&#x27;</span>, <span class="string">&#x27;%&#123;public&#125;s&#x27;</span>, <span class="string">&#x27;Ability onBackground&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 2. How to align multiple Spans with different font sizes to the top in HarmonyOS?  </span></span><br><span class="line"><span class="string">When handling complex text scenarios, multiple Spans and ImageSpans need to be combined. However, consecutive Spans with different font sizes are currently aligned to the bottom. How to set top alignment?  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Currently, the Span in Text does not support alignment properties. If this requirement exists, you can use a Row containing multiple Text components and set alignment. Refer to the example below:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="title class_">Row</span>() &#123;</span><br><span class="line">  <span class="title class_">Text</span>() &#123;</span><br><span class="line">    <span class="title class_">Span</span>(<span class="string">&#x27;Span1，&#x27;</span>).<span class="title function_">fontSize</span>(<span class="number">50</span>).<span class="title function_">fontColor</span>(<span class="title class_">Color</span>.<span class="property">Grey</span>)</span><br><span class="line">      .<span class="title function_">decoration</span>(&#123; <span class="attr">type</span>: <span class="title class_">TextDecorationType</span>.<span class="property">LineThrough</span>, <span class="attr">color</span>: <span class="title class_">Color</span>.<span class="property">Red</span> &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title class_">Text</span>() &#123;</span><br><span class="line">    <span class="title class_">Span</span>(<span class="string">&#x27;Span2&#x27;</span>).<span class="title function_">fontColor</span>(<span class="title class_">Color</span>.<span class="property">Blue</span>).<span class="title function_">fontSize</span>(<span class="number">30</span>)</span><br><span class="line">      .<span class="title function_">fontStyle</span>(<span class="title class_">FontStyle</span>.<span class="property">Italic</span>)</span><br><span class="line">      .<span class="title function_">decoration</span>(&#123; <span class="attr">type</span>: <span class="title class_">TextDecorationType</span>.<span class="property">Underline</span>, <span class="attr">color</span>: <span class="title class_">Color</span>.<span class="property">Black</span> &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title class_">Text</span>() &#123;</span><br><span class="line">    <span class="title class_">Span</span>(<span class="string">&#x27;Span3&#x27;</span>).<span class="title function_">fontSize</span>(<span class="number">20</span>).<span class="title function_">fontColor</span>(<span class="title class_">Color</span>.<span class="property">Grey</span>)</span><br><span class="line">      .<span class="title function_">decoration</span>(&#123; <span class="attr">type</span>: <span class="title class_">TextDecorationType</span>.<span class="property">Overline</span>, <span class="attr">color</span>: <span class="title class_">Color</span>.<span class="property">Green</span> &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">.<span class="title function_">alignItems</span>(<span class="title class_">VerticalAlign</span>.<span class="property">Top</span>)</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 3. Does HarmonyOS Text support modifying fontFamily?  </span></span><br><span class="line"><span class="string">Text supports modifying fontFamily. After registering custom fonts, directly set the fontFamily property for Text. Refer to the documentation: https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-font-V5  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 4. Does HarmonyOS Image component have a method to change the color of icons in PNG images?  </span></span><br><span class="line"><span class="string">To modify the color of PNG images, use colorFilter: https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-image-V5  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 5. Founder fonts missing on HarmonyOS phones?  </span></span><br><span class="line"><span class="string">Check if registering custom fonts meets the requirement: https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-font-V5  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="title function_">registerFont</span>(<span class="attr">options</span>: <span class="title class_">FontOptions</span>): <span class="built_in">void</span><span class="string">`  </span></span><br><span class="line"><span class="string">Registers a custom font in the font management system.  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="comment">// xxx.ets</span></span><br><span class="line"><span class="keyword">import</span> &#123; font &#125; <span class="keyword">from</span> <span class="string">&#x27;@kit.ArkUI&#x27;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">FontExample</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">message</span>: <span class="built_in">string</span> = <span class="string">&#x27;Hello World&#x27;</span>;</span><br><span class="line">  <span class="comment">// IconFont example, assuming \u0000 is the specified icon&#x27;s Unicode (actual Unicode should be obtained from the registered iconFont&#x27;s TTF file)</span></span><br><span class="line">  <span class="meta">@State</span> <span class="attr">unicode</span>: <span class="built_in">string</span> = <span class="string">&#x27;\u0000&#x27;</span>;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">codePoint</span>: <span class="built_in">string</span> = <span class="title class_">String</span>.<span class="title function_">fromCharCode</span>(<span class="number">0x0000</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="title function_">aboutToAppear</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// Both familyName and familySrc support system Resources</span></span><br><span class="line">    font.<span class="title function_">registerFont</span>(&#123;</span><br><span class="line">      <span class="comment">// It is recommended to use this.getUIContext().getFont().registerFont() interface</span></span><br><span class="line">      <span class="attr">familyName</span>: $r(<span class="string">&#x27;app.string.font_name&#x27;</span>),</span><br><span class="line">      <span class="attr">familySrc</span>: $r(<span class="string">&#x27;app.string.font_src&#x27;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// familySrc supports RawFile</span></span><br><span class="line">    font.<span class="title function_">registerFont</span>(&#123;</span><br><span class="line">      <span class="attr">familyName</span>: <span class="string">&#x27;mediumRawFile&#x27;</span>,</span><br><span class="line">      <span class="attr">familySrc</span>: $rawfile(<span class="string">&#x27;font/medium.ttf&#x27;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Register iconFont</span></span><br><span class="line">    font.<span class="title function_">registerFont</span>(&#123;</span><br><span class="line">      <span class="attr">familyName</span>: <span class="string">&#x27;iconFont&#x27;</span>,</span><br><span class="line">      <span class="attr">familySrc</span>: <span class="string">&#x27;/font/iconFont.ttf&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Both familyName and familySrc support strings</span></span><br><span class="line">    font.<span class="title function_">registerFont</span>(&#123;</span><br><span class="line">      <span class="attr">familyName</span>: <span class="string">&#x27;medium&#x27;</span>,</span><br><span class="line">      <span class="attr">familySrc</span>: <span class="string">&#x27;/font/medium.ttf&#x27;</span> <span class="comment">// The font folder is at the same level as the pages directory</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">message</span>)</span><br><span class="line">        .<span class="title function_">align</span>(<span class="title class_">Alignment</span>.<span class="property">Center</span>)</span><br><span class="line">        .<span class="title function_">fontSize</span>(<span class="number">20</span>)</span><br><span class="line">        .<span class="title function_">fontFamily</span>(<span class="string">&#x27;medium&#x27;</span>) <span class="comment">// &#x27;medium&#x27; is the name of the registered custom font ($r(&#x27;app.string.mediumFamilyName&#x27;), &#x27;mediumRawFile&#x27;, etc., can also be used)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      <span class="comment">// Two ways to use iconFont</span></span><br><span class="line">      <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">unicode</span>)</span><br><span class="line">        .<span class="title function_">align</span>(<span class="title class_">Alignment</span>.<span class="property">Center</span>)</span><br><span class="line">        .<span class="title function_">fontSize</span>(<span class="number">20</span>)</span><br><span class="line">        .<span class="title function_">fontFamily</span>(<span class="string">&#x27;iconFont&#x27;</span>)</span><br><span class="line">      <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">codePoint</span>)</span><br><span class="line">        .<span class="title function_">align</span>(<span class="title class_">Alignment</span>.<span class="property">Center</span>)</span><br><span class="line">        .<span class="title function_">fontSize</span>(<span class="number">20</span>)</span><br><span class="line">        .<span class="title function_">fontFamily</span>(<span class="string">&#x27;iconFont&#x27;</span>)</span><br><span class="line">    &#125;.<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/35/">35</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Qingkouwei</p>
  <div class="site-description" itemprop="description">Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">343</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Qingkouwei</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
