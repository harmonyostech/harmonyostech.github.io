<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"harmonyostech.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next&#96;s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoo">
<meta property="og:type" content="website">
<meta property="og:title" content="HarmonyOS NEXT Knowledge Charging Station">
<meta property="og:url" content="https://harmonyostech.github.io/page/5/index.html">
<meta property="og:site_name" content="HarmonyOS NEXT Knowledge Charging Station">
<meta property="og:description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next&#96;s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Qingkouwei">
<meta property="article:tag" content="HarmonyOSNext, HarmonyOS NEXT, HarmonyOS, Cangjie">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://harmonyostech.github.io/page/5/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>HarmonyOS NEXT Knowledge Charging Station</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">HarmonyOS NEXT Knowledge Charging Station</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Analysis of Core Technologies and Application Scenarios of HarmonyOS NEXT</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/421%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Animations-Page-Not-Updating-Form-Data-Configuring-Globally-Effective-Fonts-Route-Navigation-with-Parameters/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/421%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Animations-Page-Not-Updating-Form-Data-Configuring-Globally-Effective-Fonts-Route-Navigation-with-Parameters/" class="post-title-link" itemprop="url">【Daily HarmonyOS Next Knowledge】Animations, Page Not Updating, Form Data, Configuring Globally Effective Fonts, Route Navigation with Parameters</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 07:14:11 / Modified: 07:14:27" itemprop="dateCreated datePublished" datetime="2025-06-25T07:14:11+08:00">2025-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Knowledge-Animations-Page-Not-Updating-Form-Data-Configuring-Globally-Effective-Fonts-Route-Navigation-with-Parameters"><a href="#Daily-HarmonyOS-Next-Knowledge-Animations-Page-Not-Updating-Form-Data-Configuring-Globally-Effective-Fonts-Route-Navigation-with-Parameters" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Animations, Page Not Updating, Form Data, Configuring Globally Effective Fonts, Route Navigation with Parameters"></a>[Daily HarmonyOS Next Knowledge] Animations, Page Not Updating, Form Data, Configuring Globally Effective Fonts, Route Navigation with Parameters</h3><h4 id="1-How-to-implement-animations-in-HarmonyOS"><a href="#1-How-to-implement-animations-in-HarmonyOS" class="headerlink" title="1. How to implement animations in HarmonyOS?"></a>1. How to implement animations in HarmonyOS?</h4><p>How to create animations for expanding and collapsing layouts?  </p>
<p><strong>Demo for image show&#x2F;hide animation</strong>:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Index1</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">message</span>: <span class="built_in">string</span> = <span class="string">&#x27;Hide&#x27;</span></span><br><span class="line">  <span class="meta">@State</span> <span class="attr">isOpen</span>: <span class="built_in">boolean</span> = <span class="literal">true</span>;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">imageHeight</span>: <span class="built_in">number</span> = <span class="number">300</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Button</span>(<span class="variable language_">this</span>.<span class="property">message</span>).<span class="title function_">onClick</span>(<span class="function">(<span class="params"><span class="attr">event</span>: <span class="title class_">ClickEvent</span></span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">isOpen</span> = !<span class="variable language_">this</span>.<span class="property">isOpen</span>;</span><br><span class="line">        <span class="title function_">animateTo</span>(&#123;</span><br><span class="line">          <span class="attr">duration</span>: <span class="number">600</span>,</span><br><span class="line">          <span class="attr">curve</span>: <span class="title class_">Curve</span>.<span class="property">Ease</span>,</span><br><span class="line">          <span class="attr">onFinish</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">isOpen</span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">message</span> = <span class="string">&#x27;Hide&#x27;</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">imageHeight</span> = <span class="number">300</span>;</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">message</span> = <span class="string">&#x27;Show&#x27;</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">imageHeight</span> = <span class="number">0</span>;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">      .<span class="title function_">fontSize</span>(<span class="number">26</span>)</span><br><span class="line">      .<span class="title function_">margin</span>((&#123; <span class="attr">top</span>: <span class="number">36</span> &#125;))</span><br><span class="line">      </span><br><span class="line">      <span class="title class_">Image</span>($r(<span class="string">&#x27;app.media.startIcon&#x27;</span>))<span class="comment">// Text(&#x27;hhhhh&#x27;)</span></span><br><span class="line">        .<span class="title function_">height</span>(<span class="variable language_">this</span>.<span class="property">imageHeight</span>)</span><br><span class="line">        .<span class="title function_">width</span>(<span class="number">300</span>)</span><br><span class="line">        .<span class="title function_">margin</span>((&#123; <span class="attr">top</span>: <span class="number">36</span> &#125;))</span><br><span class="line">        .<span class="title function_">border</span>(&#123; <span class="attr">width</span>: <span class="number">3</span>, <span class="attr">color</span>: <span class="string">&#x27;white&#x27;</span> &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 2. Why aren&#x27;t HarmonyOS pages updating?  </span></span><br><span class="line"><span class="string">Refresh the page by changing a value in an object. Refer to the code below:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">City</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Index</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">isEnable</span>: <span class="built_in">boolean</span> = <span class="literal">true</span>;</span><br><span class="line">  <span class="attr">url</span>: <span class="built_in">string</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attr">controller</span>: web_webview.<span class="property">WebviewController</span> = <span class="keyword">new</span> web_webview.<span class="title class_">WebviewController</span>();</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">city</span>: <span class="title class_">City</span> = <span class="keyword">new</span> <span class="title class_">City</span>(<span class="string">&#x27;Nanjing&#x27;</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Stack</span>() &#123;</span><br><span class="line">      <span class="title class_">Image</span>($r(<span class="string">&#x27;app.media.ic_app_background&#x27;</span>)).<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>);</span><br><span class="line">      </span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">city</span>.<span class="property">name</span>).<span class="title function_">fontColor</span>(<span class="title class_">Color</span>.<span class="property">White</span>).<span class="title function_">textAlign</span>(<span class="title class_">TextAlign</span>.<span class="property">Start</span>)</span><br><span class="line">          .<span class="title function_">margin</span>(&#123; <span class="attr">top</span>: <span class="number">20</span> &#125;);</span><br><span class="line">          </span><br><span class="line">        <span class="title class_">Rect</span>(&#123; <span class="attr">width</span>: <span class="string">&#x27;90%&#x27;</span>, <span class="attr">height</span>: <span class="number">100</span> &#125;)</span><br><span class="line">          .<span class="title function_">radius</span>(<span class="number">10</span>)</span><br><span class="line">          .<span class="title function_">fill</span>(<span class="title class_">Color</span>.<span class="property">Blue</span>)</span><br><span class="line">          .<span class="title function_">stroke</span>(<span class="title class_">Color</span>.<span class="property">Transparent</span>)</span><br><span class="line">          .<span class="title function_">margin</span>(&#123; <span class="attr">top</span>: <span class="number">10</span> &#125;)</span><br><span class="line">          .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">city</span>.<span class="property">name</span> = <span class="string">&#x27;Shanghai&#x27;</span>;</span><br><span class="line">          &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 3. The MultiFormData interface in HarmonyOS multiFormDataList cannot be implemented. How to assign existing list data to multiFormDataList?  </span></span><br><span class="line"><span class="string">The `</span>multiFormDataList<span class="string">` type does not exist. Here, `</span><span class="title class_">Array</span>&lt;<span class="title class_">MultiFormData</span>&gt;<span class="string">` is used, which is an array. Normal array operations can be used to encapsulate data.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 4. How to receive parameters during route navigation in HarmonyOS?  </span></span><br><span class="line"><span class="string">How to parse and pass parameters after navigation using the official `</span><span class="title class_">RouterModel</span><span class="string">` component?  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Reference code**:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="comment">// Define the class</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">routerParams</span> &#123;</span><br><span class="line">  <span class="attr">key</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">value</span>: <span class="built_in">string</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="attr">key</span>: <span class="built_in">string</span>, <span class="attr">value</span>: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">key</span> = key;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">value</span> = value;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Navigation code</span></span><br><span class="line"><span class="title function_">buildRouterModel</span>(<span class="title class_">RouterNameConstants</span>.<span class="property">ENTRY_HAP</span>, <span class="title class_">BuilderNameConstants</span>.<span class="property">H5_PAGE</span>,</span><br><span class="line">  <span class="keyword">new</span> <span class="title function_">routerParams</span>(<span class="string">&#x27;www.index.com&#x27;</span>, <span class="string">&#x27;Click&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="meta">@Builder</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">harBuilder</span>(<span class="params"><span class="attr">value</span>: routerParams</span>) &#123;</span><br><span class="line">  <span class="title class_">NavDestination</span>() &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="comment">// Parsed correctly here</span></span><br><span class="line">      <span class="title class_">Text</span>(<span class="string">`The parsed parameter: <span class="subst">$&#123;<span class="built_in">JSON</span>.stringify(value)&#125;</span>`</span>).<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      &#125;);</span><br><span class="line">      </span><br><span class="line">      <span class="comment">// Next step = ???</span></span><br><span class="line">      <span class="title function_">H5Page</span>(&#123; <span class="attr">url</span>: value?.<span class="property">key</span> &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  .<span class="title function_">title</span>(<span class="string">&#x27;Login&#x27;</span>)</span><br><span class="line">  .<span class="title function_">onBackPressed</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title class_">RouterModule</span>.<span class="title function_">pop</span>(<span class="title class_">RouterNameConstants</span>.<span class="property">ENTRY_HAP</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">hideTitleBar</span>(<span class="literal">true</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 5. Is `</span>font.<span class="property">registerFont</span><span class="string">` globally effective in HarmonyOS? For a font, does registering it once globally make it effective across all pages during the app&#x27;s lifecycle?  </span></span><br><span class="line"><span class="string">Is `</span>font.<span class="property">registerFont</span><span class="string">` globally effective? For a font, does registering it once globally make it effective across all pages during the app&#x27;s lifecycle?  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Reference link**:  </span></span><br><span class="line"><span class="string">https://gitee.com/openharmony/docs/blob/master/zh-cn/application-dev/reference/apis-arkui/js-apis-font.md  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">To use a custom font globally in the app, register it in the `</span>onWindowStageCreate<span class="string">` lifecycle of the `</span><span class="title class_">EntryAbility</span>.<span class="property">ets</span><span class="string">` file via the `</span>windowStage.<span class="property">loadContent</span><span class="string">` callback.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">It is recommended to use the `</span>getFont<span class="string">` method in `</span><span class="title class_">UIContext</span><span class="string">` to obtain the `</span><span class="title class_">Font</span><span class="string">` object associated with the current UI context.  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="comment">// xxx.ets</span></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">FontExample</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">message</span>: <span class="built_in">string</span> = <span class="string">&#x27;Hello World&#x27;</span>;</span><br><span class="line">  <span class="comment">// iconFont example. Assume 0000 is the Unicode for the specified icon. Developers need to obtain the Unicode from the registered iconFont&#x27;s ttf file.</span></span><br><span class="line">  <span class="meta">@State</span> <span class="attr">unicode</span>: <span class="built_in">string</span> = <span class="string">&#x27;\u0000&#x27;</span>;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">codePoint</span>: <span class="built_in">string</span> = <span class="title class_">String</span>.<span class="title function_">fromCharCode</span>(<span class="number">0x0000</span>);</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">uiContext</span>: <span class="title class_">UIContext</span> = <span class="variable language_">this</span>.<span class="title function_">getUIContext</span>();</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">aboutToAppear</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// Both familyName and familySrc support system resources</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">uiContext</span>.<span class="title function_">getFont</span>().<span class="title function_">registerFont</span>(&#123;</span><br><span class="line">      <span class="comment">// It is recommended to use this.getUIContext().getFont().registerFont()</span></span><br><span class="line">      <span class="attr">familyName</span>: $r(<span class="string">&#x27;app.string.font_name&#x27;</span>),</span><br><span class="line">      <span class="attr">familySrc</span>: $r(<span class="string">&#x27;app.string.font_src&#x27;</span>)</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// familySrc supports RawFile</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">uiContext</span>.<span class="title function_">getFont</span>().<span class="title function_">registerFont</span>(&#123;</span><br><span class="line">      <span class="attr">familyName</span>: <span class="string">&#x27;mediumRawFile&#x27;</span>,</span><br><span class="line">      <span class="attr">familySrc</span>: $rawfile(<span class="string">&#x27;font/medium.ttf&#x27;</span>)</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Register iconFont</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">uiContext</span>.<span class="title function_">getFont</span>().<span class="title function_">registerFont</span>(&#123;</span><br><span class="line">      <span class="attr">familyName</span>: <span class="string">&#x27;iconFont&#x27;</span>,</span><br><span class="line">      <span class="attr">familySrc</span>: <span class="string">&#x27;/font/iconFont.ttf&#x27;</span></span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Both familyName and familySrc support strings</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">uiContext</span>.<span class="title function_">getFont</span>().<span class="title function_">registerFont</span>(&#123;</span><br><span class="line">      <span class="attr">familyName</span>: <span class="string">&#x27;medium&#x27;</span>,</span><br><span class="line">      <span class="attr">familySrc</span>: <span class="string">&#x27;/font/medium.ttf&#x27;</span> <span class="comment">// The font folder is at the same level as the pages directory</span></span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">message</span>)</span><br><span class="line">        .<span class="title function_">align</span>(<span class="title class_">Alignment</span>.<span class="property">Center</span>)</span><br><span class="line">        .<span class="title function_">fontSize</span>(<span class="number">20</span>)</span><br><span class="line">        .<span class="title function_">fontFamily</span>(<span class="string">&#x27;medium&#x27;</span>); <span class="comment">// medium: The name of the registered custom font ($r(&#x27;app.string.mediumFamilyName&#x27;), &#x27;mediumRawFile&#x27;, etc., can also be used normally)</span></span><br><span class="line">      </span><br><span class="line">      <span class="comment">// Two ways to use iconFont</span></span><br><span class="line">      <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">unicode</span>)</span><br><span class="line">        .<span class="title function_">align</span>(<span class="title class_">Alignment</span>.<span class="property">Center</span>)</span><br><span class="line">        .<span class="title function_">fontSize</span>(<span class="number">20</span>)</span><br><span class="line">        .<span class="title function_">fontFamily</span>(<span class="string">&#x27;iconFont&#x27;</span>);</span><br><span class="line">      </span><br><span class="line">      <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">codePoint</span>)</span><br><span class="line">        .<span class="title function_">align</span>(<span class="title class_">Alignment</span>.<span class="property">Center</span>)</span><br><span class="line">        .<span class="title function_">fontSize</span>(<span class="number">20</span>)</span><br><span class="line">        .<span class="title function_">fontFamily</span>(<span class="string">&#x27;iconFont&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/420%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91-Image-Cropping-Disabling-Back-Gestures-App-Icon-Size-Specifications-Database-Errors-Text-Component-Omission-Display-for-Excess-Length/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/420%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91-Image-Cropping-Disabling-Back-Gestures-App-Icon-Size-Specifications-Database-Errors-Text-Component-Omission-Display-for-Excess-Length/" class="post-title-link" itemprop="url">420【Daily HarmonyOS Next Knowledge】 Image Cropping, Disabling Back Gestures, App Icon Size Specifications, Database Errors, Text Component Omission Display for Excess Length</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 07:12:42 / Modified: 07:12:57" itemprop="dateCreated datePublished" datetime="2025-06-25T07:12:42+08:00">2025-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Knowledge-Image-Cropping-Disabling-Back-Gestures-App-Icon-Size-Specifications-Database-Errors-Text-Component-Omission-Display-for-Excess-Length"><a href="#Daily-HarmonyOS-Next-Knowledge-Image-Cropping-Disabling-Back-Gestures-App-Icon-Size-Specifications-Database-Errors-Text-Component-Omission-Display-for-Excess-Length" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Image Cropping, Disabling Back Gestures, App Icon Size Specifications, Database Errors, Text Component Omission Display for Excess Length"></a>[Daily HarmonyOS Next Knowledge] Image Cropping, Disabling Back Gestures, App Icon Size Specifications, Database Errors, Text Component Omission Display for Excess Length</h3><h4 id="1-What-are-the-units-for-the-interface-area-settings-x-y-size-of-HarmonyOS-image-cropping"><a href="#1-What-are-the-units-for-the-interface-area-settings-x-y-size-of-HarmonyOS-image-cropping" class="headerlink" title="1. What are the units for the interface area settings (x, y, size) of HarmonyOS image cropping?"></a>1. What are the units for the interface area settings (x, y, size) of HarmonyOS image cropping?</h4><p>The size is specified in pixels (px), and the units for x and y are also pixels (px).  </p>
<h4 id="2-How-to-disable-the-swipe-back-gesture-in-HarmonyOS"><a href="#2-How-to-disable-the-swipe-back-gesture-in-HarmonyOS" class="headerlink" title="2. How to disable the swipe-back gesture in HarmonyOS?"></a>2. How to disable the swipe-back gesture in HarmonyOS?</h4><p>An overlay layer is added using <code>context.getOverlayManager().addComponentContent</code>, but this layer cannot disable the swipe-back gesture.  </p>
<p><strong>Reference code (index page)</strong>:  </p>
<pre><code class="language-typescript">import &#123; AppRouter &#125; from &#39;./AppRouter&#39; 
import &#123; AppDialog &#125; from &#39;./AppDialog&#39; 
import &#123; PrivacyDialogViewBuilder &#125; from &#39;./PrivacyDialogView&#39;; 
import &#123; DefaultDialog &#125; from &#39;./DefaultDialog&#39;;
</code></pre>
<pre><code class="language-typescript">@Entry
@Component
struct Index &#123;
  @Builder
  PageMap(name: string) &#123;
    DefaultDialog()
  &#125;
  
  build() &#123;
    Navigation(AppRouter.getInstance().getPathStack()) &#123;
      Stack(&#123; alignContent: Alignment.Center &#125;) &#123;
        Column() &#123;
          Button(&#39;Custom Popup Based on Navigation&#39;, &#123; stateEffect: true, type: ButtonType.Capsule &#125;)
            .onClick(() =&gt; &#123;
              AppDialog.build(wrapBuilder(PrivacyDialogViewBuilder))
                .onBackPressed((): boolean =&gt; true)
                .open();
            &#125;)
        &#125;
      &#125;.height(&quot;100%&quot;).width(&quot;100%&quot;)
    &#125;.hideTitleBar(true).navDestination(this.PageMap)
  &#125;
&#125;
</code></pre>
<h4 id="3-What-are-the-specifications-for-HarmonyOS-app-icon-sizes-and-what-sizes-are-required-for-different-devices-How-does-an-app-adapt-to-multiple-device-requirements"><a href="#3-What-are-the-specifications-for-HarmonyOS-app-icon-sizes-and-what-sizes-are-required-for-different-devices-How-does-an-app-adapt-to-multiple-device-requirements" class="headerlink" title="3. What are the specifications for HarmonyOS app icon sizes, and what sizes are required for different devices? How does an app adapt to multiple device requirements?"></a>3. What are the specifications for HarmonyOS app icon sizes, and what sizes are required for different devices? How does an app adapt to multiple device requirements?</h4><p>Reference document: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/design-guides/ux-guidelines-general-0000001760708152#section1353515481417">https://developer.huawei.com/consumer/cn/doc/design-guides/ux-guidelines-general-0000001760708152#section1353515481417</a>  </p>
<p><strong>Visual Style</strong>  </p>
<p><strong>Color Contrast</strong>  </p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>Standard Number</td>
<td>2.1.4.1</td>
<td>Color Contrast</td>
</tr>
<tr>
<td>Standard Description</td>
<td></td>
<td>The colors used in the app must meet the minimum contrast requirements:<br><br>- The contrast ratio between icons or title text and the background is greater than 3:1.<br><br>- The contrast ratio between body text and the background is greater than 4.5:1.</td>
</tr>
<tr>
<td>Test Method</td>
<td></td>
<td>Obtain background color information and calculate the contrast between each control and the background.</td>
</tr>
<tr>
<td>Judgment Criteria</td>
<td></td>
<td>- Contrast ratio between icons or title text and background &gt; 3:1.<br><br>- Contrast ratio between body text and background &gt; 4.5:1.</td>
</tr>
<tr>
<td>Standard Level</td>
<td></td>
<td>Recommended</td>
</tr>
<tr>
<td>Applicable Device Types</td>
<td></td>
<td>Mobile phones, foldables, tablets, PC&#x2F;2in1</td>
</tr>
<tr>
<td>Special Considerations</td>
<td></td>
<td>None</td>
</tr>
<tr>
<td>System Capabilities</td>
<td></td>
<td>1. For setting component background color, refer to Background Settings - backgroundColor<br><br>2. For setting font color, refer to Text Common - fontColor</td>
</tr>
</tbody></table>
<p><strong>Font Size</strong>  </p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>Standard Number</td>
<td>2.1.4.2</td>
<td>Font Size</td>
</tr>
<tr>
<td>Standard Description</td>
<td></td>
<td>The text size in the app must meet the minimum font size requirement:<br><br>The text font size is not smaller than 12 fp (recommended), and the minimum must not be smaller than 8 fp (mandatory).</td>
</tr>
<tr>
<td>Test Method</td>
<td></td>
<td>Observe and obtain the text size within the app.</td>
</tr>
<tr>
<td>Judgment Criteria</td>
<td></td>
<td>Text font size ≥ 8 fp.</td>
</tr>
<tr>
<td>Standard Level</td>
<td></td>
<td>Mandatory</td>
</tr>
<tr>
<td>Applicable Device Types</td>
<td></td>
<td>Mobile phones, foldables, tablets, PC&#x2F;2in1</td>
</tr>
<tr>
<td>Special Considerations</td>
<td></td>
<td>None</td>
</tr>
<tr>
<td>System Capabilities</td>
<td></td>
<td>Refer to Text Common - fontSize</td>
</tr>
</tbody></table>
<h4 id="4-Why-does-inserting-data-into-a-HarmonyOS-relationalStore-database-table-that-hasn’t-been-created-throw-an-error-14800021"><a href="#4-Why-does-inserting-data-into-a-HarmonyOS-relationalStore-database-table-that-hasn’t-been-created-throw-an-error-14800021" class="headerlink" title="4. Why does inserting data into a HarmonyOS relationalStore database table that hasn’t been created throw an error 14800021?"></a>4. Why does inserting data into a HarmonyOS relationalStore database table that hasn’t been created throw an error 14800021?</h4><p>Errors occur during SQL execution, such as:  </p>
<ol>
<li>Inserting or updating a non-created table.  </li>
<li>Inserting or updating a non-existent column.  </li>
<li>Calling undefined functions, etc.</li>
</ol>
<h4 id="5-When-a-HarmonyOS-Text-component-is-set-to-omit-the-tail-for-excess-length-it-shows-abnormal-omission-in-specific-cases-omitting-early-when-space-remains-at-the-tail"><a href="#5-When-a-HarmonyOS-Text-component-is-set-to-omit-the-tail-for-excess-length-it-shows-abnormal-omission-in-specific-cases-omitting-early-when-space-remains-at-the-tail" class="headerlink" title="5. When a HarmonyOS Text component is set to omit the tail for excess length, it shows abnormal omission in specific cases (omitting early when space remains at the tail)."></a>5. When a HarmonyOS Text component is set to omit the tail for excess length, it shows abnormal omission in specific cases (omitting early when space remains at the tail).</h4><p>For omission in mixed text, set the <code>wordBreak</code> property to <code>WordBreak.BREAK_ALL</code> to resolve early omission.<br>Reference document: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-text-V5#textalign">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-text-V5#textalign</a>  </p>
<p><code>textAlign(value: TextAlign)</code>  </p>
<p>Sets the horizontal alignment of the text paragraph.  </p>
<p>The text paragraph width fills the Text component width.  </p>
<p>The vertical position of the text paragraph can be controlled via the <code>align</code> property. In this component, the <code>align</code> property cannot control the horizontal position (e.g., <code>Alignment.TopStart</code>, <code>Alignment.Top</code>, and <code>Alignment.TopEnd</code> all position content at the top; <code>Alignment.Start</code>, <code>Alignment.Center</code>, and <code>Alignment.End</code> center content vertically; <code>Alignment.BottomStart</code>, <code>Alignment.Bottom</code>, and <code>Alignment.BottomEnd</code> position content at the bottom). The horizontal position is controlled in conjunction with the <code>textAlign</code> property.  </p>
<p>When <code>textAlign</code> is set to <code>TextAlign.JUSTIFY</code>, the <code>wordBreak</code> property must be set based on the text content, and the last line of text does not participate in full justification, displaying a horizontal start alignment effect.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/419%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Stopping-Animations-Status-Bar-Text-Color-Using-this-in-Listeners-Adding-Images-to-Rich-Text-Components-Dropdown-Components/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/419%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Stopping-Animations-Status-Bar-Text-Color-Using-this-in-Listeners-Adding-Images-to-Rich-Text-Components-Dropdown-Components/" class="post-title-link" itemprop="url">【Daily HarmonyOS Next Knowledge】Stopping Animations, Status Bar Text Color, Using this in Listeners, Adding Images to Rich Text Components, Dropdown Components</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 07:08:24 / Modified: 07:08:45" itemprop="dateCreated datePublished" datetime="2025-06-25T07:08:24+08:00">2025-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Knowledge-Stopping-Animations-Status-Bar-Text-Color-Using-this-in-Listeners-Adding-Images-to-Rich-Text-Components-Dropdown-Components"><a href="#Daily-HarmonyOS-Next-Knowledge-Stopping-Animations-Status-Bar-Text-Color-Using-this-in-Listeners-Adding-Images-to-Rich-Text-Components-Dropdown-Components" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Stopping Animations, Status Bar Text Color, Using this in Listeners, Adding Images to Rich Text Components, Dropdown Components"></a>[Daily HarmonyOS Next Knowledge] Stopping Animations, Status Bar Text Color, Using <code>this</code> in Listeners, Adding Images to Rich Text Components, Dropdown Components</h3><h4 id="1-How-to-stop-an-animation-and-return-to-the-initial-static-state-in-HarmonyOS"><a href="#1-How-to-stop-an-animation-and-return-to-the-initial-static-state-in-HarmonyOS" class="headerlink" title="1. How to stop an animation and return to the initial static state in HarmonyOS?"></a>1. How to stop an animation and return to the initial static state in HarmonyOS?</h4><p><strong>Reference Demo</strong>:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// xxx.ets</span></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">AnimateToExample</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">widthSize</span>: <span class="built_in">number</span> = <span class="number">250</span></span><br><span class="line">  <span class="meta">@State</span> <span class="attr">heightSize</span>: <span class="built_in">number</span> = <span class="number">100</span></span><br><span class="line">  <span class="meta">@State</span> <span class="attr">rotateAngle</span>: <span class="built_in">number</span> = <span class="number">0</span></span><br><span class="line">  <span class="keyword">private</span> <span class="attr">flag</span>: <span class="built_in">boolean</span> = <span class="literal">true</span></span><br><span class="line">  </span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Button</span>(<span class="string">&#x27;change size&#x27;</span>)</span><br><span class="line">        .<span class="title function_">width</span>(<span class="variable language_">this</span>.<span class="property">widthSize</span>)</span><br><span class="line">        .<span class="title function_">height</span>(<span class="variable language_">this</span>.<span class="property">heightSize</span>)</span><br><span class="line">        .<span class="title function_">margin</span>(<span class="number">30</span>)</span><br><span class="line">        .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">flag</span>) &#123;</span><br><span class="line">            <span class="title function_">animateTo</span>(&#123;</span><br><span class="line">              <span class="attr">duration</span>: <span class="number">2000</span>,</span><br><span class="line">              <span class="attr">curve</span>: <span class="title class_">Curve</span>.<span class="property">EaseOut</span>,</span><br><span class="line">              <span class="attr">iterations</span>: <span class="number">3</span>,</span><br><span class="line">              <span class="attr">playMode</span>: <span class="title class_">PlayMode</span>.<span class="property">Normal</span>,</span><br><span class="line">              <span class="attr">onFinish</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&#x27;play end&#x27;</span>)</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">              <span class="variable language_">this</span>.<span class="property">widthSize</span> = <span class="number">150</span></span><br><span class="line">              <span class="variable language_">this</span>.<span class="property">heightSize</span> = <span class="number">60</span></span><br><span class="line">            &#125;)</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="title function_">animateTo</span>(&#123;</span><br><span class="line">              <span class="attr">duration</span>: <span class="number">0</span>,</span><br><span class="line">            &#125;, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">              <span class="variable language_">this</span>.<span class="property">widthSize</span> = <span class="number">250</span></span><br><span class="line">              <span class="variable language_">this</span>.<span class="property">heightSize</span> = <span class="number">100</span></span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">flag</span> = !<span class="variable language_">this</span>.<span class="property">flag</span></span><br><span class="line">          </span><br><span class="line">          <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">flag</span>) &#123;</span><br><span class="line">            <span class="title function_">animateTo</span>(&#123;</span><br><span class="line">              <span class="attr">duration</span>: <span class="number">2000</span>,</span><br><span class="line">              <span class="attr">curve</span>: <span class="title class_">Curve</span>.<span class="property">EaseOut</span>,</span><br><span class="line">              <span class="attr">iterations</span>: <span class="number">3</span>,</span><br><span class="line">              <span class="attr">playMode</span>: <span class="title class_">PlayMode</span>.<span class="property">Normal</span>,</span><br><span class="line">              <span class="attr">onFinish</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&#x27;play end&#x27;</span>)</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">              <span class="variable language_">this</span>.<span class="property">widthSize</span> = <span class="number">150</span></span><br><span class="line">              <span class="variable language_">this</span>.<span class="property">heightSize</span> = <span class="number">60</span></span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;.<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>).<span class="title function_">margin</span>(&#123; <span class="attr">top</span>: <span class="number">5</span> &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 2. How to dynamically change the text color of the HarmonyOS status bar?  </span></span><br><span class="line"><span class="string">In full-screen mode, the status bar text color needs to adapt to the page theme.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">1. Refer to examples for setting immersive windows.  </span></span><br><span class="line"><span class="string">2. Configure the window for full-screen layout, adjusting transparency, background/text colors, and highlighted icons of the navigation and status bars to maintain visual consistency with the main window.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="keyword">let</span> isLayoutFullScreen = <span class="literal">true</span>;</span><br><span class="line">windowClass.<span class="title function_">setWindowLayoutFullScreen</span>(isLayoutFullScreen, <span class="function">(<span class="params"><span class="attr">err</span>: <span class="title class_">BusinessError</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> <span class="attr">errCode</span>: <span class="built_in">number</span> = err.<span class="property">code</span>;</span><br><span class="line">  <span class="keyword">if</span> (errCode) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;Failed to set the window layout to full-screen mode. Cause:&#x27;</span> + <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(err));</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&#x27;Succeeded in setting the window layout to full-screen mode.&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">sysBarProps</span>: <span class="variable language_">window</span>.<span class="property">SystemBarProperties</span> = &#123;</span><br><span class="line">  <span class="attr">statusBarColor</span>: <span class="string">&#x27;#ff00ff&#x27;</span>,</span><br><span class="line">  <span class="attr">navigationBarColor</span>: <span class="string">&#x27;#00ff00&#x27;</span>,</span><br><span class="line">  <span class="attr">statusBarContentColor</span>: <span class="string">&#x27;#ffffff&#x27;</span>,</span><br><span class="line">  <span class="attr">navigationBarContentColor</span>: <span class="string">&#x27;#ffffff&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">windowClass.<span class="title function_">setWindowSystemBarProperties</span>(sysBarProps, <span class="function">(<span class="params"><span class="attr">err</span>: <span class="title class_">BusinessError</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> <span class="attr">errCode</span>: <span class="built_in">number</span> = err.<span class="property">code</span>;</span><br><span class="line">  <span class="keyword">if</span> (errCode) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;Failed to set the system bar properties. Cause: &#x27;</span> + <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(err));</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&#x27;Succeeded in setting the system bar properties.&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 3. Why can&#x27;t `</span><span class="variable language_">this</span><span class="string">` be used in listener callbacks in HarmonyOS ETS?  </span></span><br><span class="line"><span class="string">In ETS, calling other methods via `</span><span class="variable language_">this</span><span class="string">` within a listener callback results in `</span><span class="variable language_">this</span><span class="string">` being `</span><span class="literal">undefined</span><span class="string">`.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Problem Code**:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;</span><br><span class="line">  <span class="title function_">b</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">callback</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">b</span>(); <span class="comment">// Error: this is undefined</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title class_">Register</span>() &#123;</span><br><span class="line">    <span class="title function_">on</span>(<span class="string">&quot;xxx&quot;</span>, <span class="variable language_">this</span>.<span class="property">callback</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title class_">Unregister</span>() &#123;</span><br><span class="line">    <span class="title function_">off</span>(<span class="string">&quot;xxx&quot;</span>, <span class="variable language_">this</span>.<span class="property">callback</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Solution**: Use an arrow function to preserve `</span><span class="variable language_">this</span><span class="string">`:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="title function_">on</span>(<span class="string">&quot;xxx&quot;</span>, <span class="function">() =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">callback</span>())</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 4. Why does the cursor disappear after adding an image to a HarmonyOS RichEditor?  </span></span><br><span class="line"><span class="string">When using `</span>addImageSpan<span class="string">` or `</span>addBuilderSpan<span class="string">` in RichEditor, clicking the image causes the cursor to disappear.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Solution**:  </span></span><br><span class="line"><span class="string">Manually set the cursor position after adding content using `</span>setCaretOffset<span class="string">`:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="title class_">Button</span>(<span class="string">&quot;add image&quot;</span>)</span><br><span class="line">  .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">controller</span>.<span class="title function_">addImageSpan</span>($r(<span class="string">&quot;app.media.app_icon&quot;</span>), &#123;</span><br><span class="line">      <span class="attr">imageStyle</span>: &#123;</span><br><span class="line">        <span class="attr">size</span>: [<span class="string">&quot;50px&quot;</span>, <span class="string">&quot;50px&quot;</span>],</span><br><span class="line">        <span class="attr">verticalAlign</span>: <span class="title class_">ImageSpanAlignment</span>.<span class="property">BOTTOM</span>,</span><br><span class="line">        <span class="attr">layoutStyle</span>: &#123;</span><br><span class="line">          <span class="attr">borderRadius</span>: <span class="literal">undefined</span>,</span><br><span class="line">          <span class="attr">margin</span>: <span class="literal">undefined</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> moveOffset = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// Get the total content length</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">controller</span>.<span class="title function_">getSpans</span>(&#123; <span class="attr">start</span>: -<span class="number">1</span>, <span class="attr">end</span>: -<span class="number">1</span> &#125;).<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">      moveOffset += (item.<span class="property">offsetInSpan</span>[<span class="number">1</span>] - item.<span class="property">offsetInSpan</span>[<span class="number">0</span>])</span><br><span class="line">    &#125;)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Manually position the cursor after adding the image</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">controller</span>.<span class="title function_">setCaretOffset</span>(moveOffset)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&#x27;moveOffset&#x27;</span>, moveOffset)</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Note**:  </span></span><br><span class="line"><span class="string">- When inserting content in the middle of text, select a specific position first to ensure the cursor remains visible.  </span></span><br><span class="line"><span class="string">- Cursor positioning is only required when appending content; inserting within text maintains the cursor automatically.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 5. How to set a maximum height for the HarmonyOS Select() dropdown component?  </span></span><br><span class="line"><span class="string">The dropdown should scroll when there is a large dataset and adapt to content height for smaller datasets.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Solution**:  </span></span><br><span class="line"><span class="string">Apply `</span>.<span class="title function_">constraintSize</span>(&#123;<span class="attr">minHeight</span>:<span class="number">30</span>,<span class="attr">maxHeight</span>:<span class="number">100</span>&#125;)<span class="string">` to the Scroll component:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="title class_">Scroll</span>(<span class="variable language_">this</span>.<span class="property">scroller</span>) &#123;</span><br><span class="line">  <span class="title class_">Flex</span>(&#123; <span class="attr">direction</span>: <span class="title class_">FlexDirection</span>.<span class="property">Column</span>, <span class="attr">justifyContent</span>: <span class="title class_">FlexAlign</span>.<span class="property">Center</span>, <span class="attr">alignItems</span>: <span class="title class_">ItemAlign</span>.<span class="property">Center</span> &#125;) &#123;</span><br><span class="line">    <span class="title class_">ForEach</span>(<span class="variable language_">this</span>.<span class="property">homeList</span>, <span class="function">(<span class="params"><span class="attr">homeInfo</span>: <span class="built_in">string</span>, <span class="attr">index</span>: <span class="built_in">number</span></span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">Row</span>() &#123;</span><br><span class="line">          <span class="title class_">Text</span>(homeInfo)</span><br><span class="line">            .<span class="title function_">margin</span>(&#123; <span class="attr">top</span>: <span class="number">12</span> &#125;)</span><br><span class="line">            .<span class="title function_">maxLines</span>(<span class="number">1</span>)</span><br><span class="line">            .<span class="title function_">textOverflow</span>(&#123; <span class="attr">overflow</span>: <span class="title class_">TextOverflow</span>.<span class="property">Ellipsis</span> &#125;)</span><br><span class="line">            .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">              <span class="comment">// Handle selection</span></span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">        .<span class="title function_">margin</span>(&#123; <span class="attr">top</span>: <span class="number">6</span> &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  .<span class="title function_">margin</span>(&#123; <span class="attr">left</span>: <span class="number">12</span>, <span class="attr">right</span>: <span class="number">12</span> &#125;)</span><br><span class="line">&#125;</span><br><span class="line">.<span class="title function_">constraintSize</span>(&#123; <span class="attr">minHeight</span>: <span class="number">30</span>, <span class="attr">maxHeight</span>: <span class="number">100</span> &#125;) <span class="comment">// Set maximum height here</span></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/418%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Multi-task-Windows-Animation-Deformation-Clicks-Outside-Non-rectangular-Components-Skipping-Logo-Launch-Pages-Import-Syntax-Explanation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/418%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Multi-task-Windows-Animation-Deformation-Clicks-Outside-Non-rectangular-Components-Skipping-Logo-Launch-Pages-Import-Syntax-Explanation/" class="post-title-link" itemprop="url">418【Daily HarmonyOS Next Knowledge】Multi-task Windows, Animation Deformation, Clicks Outside Non-rectangular Components, Skipping Logo Launch Pages, Import Syntax Explanation</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2025-06-25 07:06:56" itemprop="dateCreated datePublished" datetime="2025-06-25T07:06:56+08:00">2025-06-25</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/417%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91-Text-Height-Issues-Long-press-Icon-Menu-Rounded-Gradient-Borders-ArkX-Queries-Progress-Animation-Cancellation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/417%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91-Text-Height-Issues-Long-press-Icon-Menu-Rounded-Gradient-Borders-ArkX-Queries-Progress-Animation-Cancellation/" class="post-title-link" itemprop="url">【Daily HarmonyOS Next Knowledge】 Text Height Issues, Long-press Icon Menu, Rounded Gradient Borders, ArkX Queries, Progress Animation Cancellation</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 07:05:28 / Modified: 07:05:59" itemprop="dateCreated datePublished" datetime="2025-06-25T07:05:28+08:00">2025-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Knowledge-Text-Height-Issues-Long-press-Icon-Menu-Rounded-Gradient-Borders-ArkX-Queries-Progress-Animation-Cancellation"><a href="#Daily-HarmonyOS-Next-Knowledge-Text-Height-Issues-Long-press-Icon-Menu-Rounded-Gradient-Borders-ArkX-Queries-Progress-Animation-Cancellation" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Text Height Issues, Long-press Icon Menu, Rounded Gradient Borders, ArkX Queries, Progress Animation Cancellation"></a>[Daily HarmonyOS Next Knowledge] Text Height Issues, Long-press Icon Menu, Rounded Gradient Borders, ArkX Queries, Progress Animation Cancellation</h3><h4 id="1-When-pulling-up-a-UIExtension-in-a-HarmonyOS-bindSheet-the-TextArea-component-in-UIAbility-displays-long-text-When-scrolling-the-text-the-bindSheet-page-also-scrolls-How-to-allow-only-text-scrolling-while-keeping-the-bindSheet-page-height-fixed"><a href="#1-When-pulling-up-a-UIExtension-in-a-HarmonyOS-bindSheet-the-TextArea-component-in-UIAbility-displays-long-text-When-scrolling-the-text-the-bindSheet-page-also-scrolls-How-to-allow-only-text-scrolling-while-keeping-the-bindSheet-page-height-fixed" class="headerlink" title="1. When pulling up a UIExtension in a HarmonyOS bindSheet, the TextArea component in UIAbility displays long text. When scrolling the text, the bindSheet page also scrolls. How to allow only text scrolling while keeping the bindSheet page height fixed?"></a>1. When pulling up a UIExtension in a HarmonyOS bindSheet, the TextArea component in UIAbility displays long text. When scrolling the text, the bindSheet page also scrolls. How to allow only text scrolling while keeping the bindSheet page height fixed?</h4><p>Try not using UIExtension and directly pulling up the page layout with bindSheet. In this case, the TextArea component can scroll to display text, and the bindSheet page maintains its height without being affected.  </p>
<p>Why does using UIExtension cause the bug where both the bindSheet page and TextArea text scroll simultaneously?  </p>
<p><strong>Pulling Side Code</strong>:  </p>
<pre><code class="language-typescript">import prompt from &#39;@ohos.prompt&#39;
import &#123; Button &#125; from &#39;@ohos.multimodalInput.mouseEvent&#39;;
@Entry
@Component
struct Second &#123;
  @State message1: string = &#39;大江东去，浪淘尽，千古风流人物。故垒西边，人道是：三国周郎赤壁。乱石崩云，惊涛裂岸，卷起千堆雪。江山如画，一时多少豪杰。&#39;
  @State visible: Visibility = Visibility.Hidden
  private proxy: UIExtensionProxy | null = null;
  @State isShow: boolean = false
  @Builder myBuilder() &#123;
    Column() &#123;
      UIExtensionComponent(&#123;
        bundleName: &quot;com.example.controllablebuildcomponent&quot;,
        abilityName: &quot;UIExtensionProvider&quot;,
        parameters: &#123;
          &quot;ability.want.params.uiExtensionType&quot;: &quot;sys/commonUI&quot;
        &#125;
      &#125;)
        .width(&#39;98%&#39;)
        .height(&#39;98%&#39;)
        .onResult((data) =&gt; &#123;
          console.log(&quot;fengsumei: onResult data : &quot; + JSON.stringify(data))
        &#125;)
        .onRelease((code) =&gt; &#123;
          console.log(&quot;release code : &quot; + code)
        &#125;)
        .onReceive((data) =&gt; &#123;
          console.log(&quot;onReceive data : &quot; + JSON.stringify(data))
        &#125;)
        .onRemoteReady((proxy) =&gt; &#123;
          console.info(&#39;onRemoteReady, for test&#39;)
          this.proxy = proxy
          this.proxy.off(&quot;asyncReceiverRegister&quot;);
        &#125;)
      // .hitTestBehavior(HitTestMode.None)
    &#125;
    .width(&#39;100%&#39;)
  &#125;

  build() &#123;
    Row() &#123;
      Column() &#123;
        Text(this.message1)
          .fontSize(20)
          .margin(20)
          .copyOption(CopyOptions.InApp)
          .onClick((event?: ClickEvent) =&gt; &#123;
            console.log(&quot;fengsumei: ClickEvent!&quot;)
          &#125;)
          .textMenuOptions([&#123; content: &quot;Creative&quot;, action: (selectContent: string) =&gt; &#123;
            console.log(&quot;selectContent: &quot; + selectContent)
            this.isShow = true
          &#125;&#125;])
          .bindSheet($$this.isShow, this.myBuilder(), &#123;
            showClose: false,
            shouldDismiss: ((sheetDismiss: SheetDismiss) =&gt; &#123;
              console.log(&quot;bind sheet shouldDismiss&quot;)
              sheetDismiss.dismiss()
            &#125;),
          &#125;)
      &#125;
      .width(&#39;100%&#39;)
      .height(&#39;100%&#39;)
    &#125;
    .height(&#39;100%&#39;)
  &#125;
&#125;
</code></pre>
<p><strong>Problematic Interface Code in the Pulled App</strong>:  </p>
<pre><code class="language-typescript">Tabs(&#123; barPosition: BarPosition.End, controller: this.tabsController, index: this.currentIndex &#125;) &#123;
  TabContent() &#123;
    TextArea(&#123;
      text: this.textResult,
      controller: this.textAreaController
    &#125;)
      .width(&#39;100%&#39;)
      .height(&#39;100%&#39;)
      .fontSize(16)
      .fontColor(&#39;#182431&#39;)
      .backgroundColor(&#39;#FFFFFF&#39;)
      .copyOption(CopyOptions.LocalDevice)
      .lineSpacing(LengthMetrics.px(20))
      .letterSpacing(2)
      .onChange((value: string) =&gt; &#123;
        this.textResult = value
      &#125;)
      .onTouch((event: TouchEvent) =&gt; &#123;
        console.debug(TAG, &quot;TextArea Touch!&quot;)
        // event.stopPropagation()
      &#125;)
      .onContentScroll(() =&gt; &#123;
        console.debug(TAG, &quot;TextArea content scroll!&quot;)
      &#125;)
  &#125;
  .backgroundColor(&#39;#FFFFFF&#39;)
  .borderRadius(15)
  .margin(&#123; left: 2, right: 2 &#125;)

  TabContent() &#123;
    TextArea(&#123;
      text: &#39;this.textResult 222&#39;,
      controller: this.textAreaController
    &#125;)
      .width(&#39;100%&#39;)
      .height(&#39;100%&#39;)
      .fontSize(16)
      .fontColor(&#39;#182431&#39;)
      .backgroundColor(&#39;#FFFFFF&#39;)
      .copyOption(CopyOptions.LocalDevice)
      .lineSpacing(LengthMetrics.px(20))
      .letterSpacing(2)
      .onChange((value: string) =&gt; &#123;
        // this.textResult = value
      &#125;)
  &#125;
  .backgroundColor(&#39;#FFFFFF&#39;)
  .borderRadius(15)
  .margin(&#123; left: 2, right: 2 &#125;)

  TabContent() &#123;
    TextArea(&#123;
      text: &#39;this.textResult 333&#39;,
      controller: this.textAreaController
    &#125;)
      .width(&#39;100%&#39;)
      .height(&#39;100%&#39;)
      .fontSize(16)
      .fontColor(&#39;#182431&#39;)
      .backgroundColor(&#39;#FFFFFF&#39;)
      .copyOption(CopyOptions.LocalDevice)
      .lineSpacing(LengthMetrics.px(20))
      .letterSpacing(2)
      .onChange((value: string) =&gt; &#123;
        // this.textResult = value
      &#125;)
  &#125;
  .backgroundColor(&#39;#FFFFFF&#39;)
  .borderRadius(15)
  .margin(&#123; left: 2, right: 2 &#125;)
&#125;
.vertical(false)
.barHeight(0)
.onChange((index: number) =&gt; &#123;
  this.currentIndex = index
  if (index == 0) &#123;
    this.previousSource = $r(&#39;app.media.ic_arrow_previous_off&#39;)
    this.nextSource = $r(&#39;app.media.ic_arrow_next_on&#39;)
  &#125; else if (index == this.totalPageNums - 1) &#123;
    this.previousSource = $r(&#39;app.media.ic_arrow_previous_on&#39;)
    this.nextSource = $r(&#39;app.media.ic_arrow_next_off&#39;)
  &#125; else &#123;
    this.previousSource = $r(&#39;app.media.ic_arrow_previous_on&#39;)
    this.nextSource = $r(&#39;app.media.ic_arrow_next_on&#39;)
  &#125;
&#125;)
.scrollable(true)
.width(&#39;85%&#39;)
.height(&#39;85%&#39;)
.animationDuration(400)
</code></pre>
<p><strong>Solution</strong>: Nest a Scroll within bindSheet. In this case, the semi-modal height remains unchanged, and only the content scrolls downward.  </p>
<h4 id="2-How-to-implement-an-animation-effect-where-a-menu-pops-up-from-a-corner-and-expands-from-small-to-large-when-long-pressing-an-app-icon-in-HarmonyOS"><a href="#2-How-to-implement-an-animation-effect-where-a-menu-pops-up-from-a-corner-and-expands-from-small-to-large-when-long-pressing-an-app-icon-in-HarmonyOS" class="headerlink" title="2. How to implement an animation effect where a menu pops up from a corner and expands from small to large when long-pressing an app icon in HarmonyOS?"></a>2. How to implement an animation effect where a menu pops up from a corner and expands from small to large when long-pressing an app icon in HarmonyOS?</h4><p>Refer to modal transitions: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-modal-transition-V5#%E4%BD%BF%E7%94%A8bindcontentcover%E6%9E%84%E5%BB%BA%E5%85%A8%E5%B1%8F%E6%A8%A1%E6%80%81%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-modal-transition-V5#%E4%BD%BF%E7%94%A8bindcontentcover%E6%9E%84%E5%BB%BA%E5%85%A8%E5%B1%8F%E6%A8%A1%E6%80%81%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C</a><br>Use <code>bindContentCover</code> to build full-screen modal transition effects.  </p>
<ol>
<li>Define the full-screen modal transition effect with <code>bindContentCover</code>.  </li>
<li>Define the modal display interface:</li>
</ol>
<pre><code class="language-typescript">// Build the modal display interface via @Builder
@Builder MyBuilder() &#123;
  Column() &#123;
    Text(&#39;my model view&#39;)
  &#125;
  // Implement appearance and disappearance transition effects via transition animation (transition should be added to the first component under builder)
  .transition(TransitionEffect.translate(&#123; y: 1000 &#125;).animation(&#123; curve: curves.springMotion(0.6, 0.8) &#125;))
&#125;
</code></pre>
<ol start="3">
<li>Invoke the modal display interface via the modal API and implement corresponding animation effects via transition or shared element animations:</li>
</ol>
<pre><code class="language-typescript">// Modal transition control variable
@State isPresent: boolean = false;

Button(&#39;Click to present model view&#39;)
  // Bind the modal display interface via the selected modal API. ModalTransition is the built-in ContentCover transition animation type; None here means the system adds no default animation, and the state variable change is controlled via onDisappear
  .bindContentCover(this.isPresent, this.MyBuilder(), &#123;
            modalTransition: ModalTransition.NONE,
            onDisappear: () =&gt; &#123;
              if (this.isPresent) &#123;
                this.isPresent = !this.isPresent;
              &#125;
            &#125;
          &#125;)
  .onClick(() =&gt; &#123;
    // Change the state variable to display the modal interface
    this.isPresent = !this.isPresent;
  &#125;)
</code></pre>
<h4 id="3-How-to-set-a-rounded-gradient-border-in-HarmonyOS"><a href="#3-How-to-set-a-rounded-gradient-border-in-HarmonyOS" class="headerlink" title="3. How to set a rounded gradient border in HarmonyOS?"></a>3. How to set a rounded gradient border in HarmonyOS?</h4><ol>
<li>How to set a rounded gradient border?  </li>
<li>Why does BorderImage shift downward, and how to adjust it? Using two layers of gradient backgrounds can achieve the effect, but transparency fails.</li>
</ol>
<p>A rounded gradient border can be implemented using the linear gradient <code>linearGradient</code>. Refer to the demo below:  </p>
<pre><code class="language-typescript">@Entry
@Component
struct BorderDemo &#123;
  build() &#123;
    Column() &#123;
        Row()&#123;
          Text(&#39;This is gradient color.&#39;)
            .textAlign(TextAlign.Center)
            .width(&#39;96%&#39;)
            .height(&#39;80%&#39;)
            .borderRadius(30)
            .linearGradient(&#123;
              direction: GradientDirection.Left, // Gradient direction
              repeating: true, // Whether gradient colors repeat
              colors: [[0xDCDCDC, 0.0],  [0xFFFFFF, 1.0]] // When the proportion of the last element in the array is less than 1, it satisfies the repeated coloring effect
            &#125;)
        &#125;
        .width(&#39;90%&#39;)
        .height(60)
        .borderRadius(30)
        .linearGradient(&#123;
          angle: 90,
          colors: [[0x87CEEB, 0.0], [0x2E8B57, 1.0]]
        &#125;)
        .opacity(0.6)
        .justifyContent(FlexAlign.Center)
    &#125;
    .height(&#39;100%&#39;)
  &#125;
&#125;
</code></pre>
<h4 id="4-Consultation-on-the-impact-of-HarmonyOS-ArkUI-X-cross-platform-on-host-APP-package-size-and-memory-usage"><a href="#4-Consultation-on-the-impact-of-HarmonyOS-ArkUI-X-cross-platform-on-host-APP-package-size-and-memory-usage" class="headerlink" title="4. Consultation on the impact of HarmonyOS ArkUI-X cross-platform on host APP package size and memory usage?"></a>4. Consultation on the impact of HarmonyOS ArkUI-X cross-platform on host APP package size and memory usage?</h4><p>What is the impact of using ArkUI-X cross-platform technology on the host APP package size (how much static size does it increase), and how much additional memory does the ArkTs runtime occupy? Are there any official data?  </p>
<ul>
<li><p>When including only the basic project and packaging only the armv8a architecture so library:  </p>
<ul>
<li>APK size: Approximately 12-13MB.  </li>
<li>Memory: Approximately 200MB.</li>
</ul>
</li>
<li><p>When introducing some device capability, network, etc., so libraries in actual projects:  </p>
<ul>
<li>APK size increases by approximately 30-40MB.  </li>
<li>Memory increases by approximately 80MB+.</li>
</ul>
</li>
</ul>
<h4 id="5-When-modifying-the-value-of-a-HarmonyOS-Progress-component-how-to-cancel-the-animation"><a href="#5-When-modifying-the-value-of-a-HarmonyOS-Progress-component-how-to-cancel-the-animation" class="headerlink" title="5. When modifying the value of a HarmonyOS Progress component, how to cancel the animation?"></a>5. When modifying the value of a HarmonyOS Progress component, how to cancel the animation?</h4><p>When modifying the <code>value</code> of a <code>Progress</code> component, there is a default animation. How to cancel it?  </p>
<pre><code class="language-typescript">Progress(&#123; value: this.progress, type: ProgressType.Linear &#125;)
</code></pre>
<p>Turn off the smooth progress animation by setting <code>enableSmoothEffect</code> to <code>false</code>. For example:  </p>
<pre><code class="language-typescript">Progress(&#123; value: this.progressValue, total: 100, type: ProgressType.Linear &#125;)
  .width(200)
  .height(50)
  .style(&#123; enableSmoothEffect: false &#125;)
</code></pre>
<p>Documentation reference: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-progress-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-progress-V5</a>  </p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/416%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91-Textbox-Focus-Acquisition-Custom-Component-Subcomponent-Addition-Floating-Button-Dialog-Button-Update-Variable-Name-Component/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/416%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91-Textbox-Focus-Acquisition-Custom-Component-Subcomponent-Addition-Floating-Button-Dialog-Button-Update-Variable-Name-Component/" class="post-title-link" itemprop="url">【Daily HarmonyOS Next Knowledge】 Textbox Focus Acquisition, Custom Component Subcomponent Addition, Floating Button, Dialog Button Update, Variable Name Component</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 07:01:40 / Modified: 07:10:32" itemprop="dateCreated datePublished" datetime="2025-06-25T07:01:40+08:00">2025-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="【Daily-HarmonyOS-Next-Knowledge】-Textbox-Focus-Acquisition-Custom-Component-Subcomponent-Addition-Floating-Button-Dialog-Button-Update-Variable-Name-Component"><a href="#【Daily-HarmonyOS-Next-Knowledge】-Textbox-Focus-Acquisition-Custom-Component-Subcomponent-Addition-Floating-Button-Dialog-Button-Update-Variable-Name-Component" class="headerlink" title="【Daily HarmonyOS Next Knowledge】 Textbox Focus Acquisition, Custom Component Subcomponent Addition, Floating Button, Dialog Button Update, Variable Name Component"></a>【Daily HarmonyOS Next Knowledge】 Textbox Focus Acquisition, Custom Component Subcomponent Addition, Floating Button, Dialog Button Update, Variable Name Component</h3><h4 id="1-Why-can’t-HarmonyOS-TextArea-automatically-focus-when-displayed"><a href="#1-Why-can’t-HarmonyOS-TextArea-automatically-focus-when-displayed" class="headerlink" title="1. Why can’t HarmonyOS TextArea automatically focus when displayed?"></a>1. Why can’t HarmonyOS TextArea automatically focus when displayed?</h4><p>Obtain focus through <code>requestFocus</code>. Refer to the demo below:  </p>
<pre><code class="language-typescript">import inputMethod from &#39;@ohos.inputMethod&#39;;

@Entry
@Component
export struct AsrPage &#123;
  @State message: string = &#39;Hello World&#39;
  @State show: boolean = false
  inputMethodController = inputMethod.getController();
  controller: TextInputController = new TextInputController()
  inputId: string = &#39;ceshi&#39;
  aboutToAppear(): void &#123;
    let textConfig: inputMethod.TextConfig = &#123;
      inputAttribute: &#123;
        textInputType: 0,
        enterKeyType: 1
      &#125;
    &#125;
    this.inputMethodController.attach(false, textConfig)
      .then(() =&gt; &#123;
      &#125;)
      .catch((reason: ESObject) =&gt; &#123;
      &#125;)
  &#125;
  build() &#123;
    NavDestination() &#123;
      Column() &#123;
        TextArea(&#123;
          placeholder: &#39;&#39;,
          text: &#39;&#39;
        &#125;)
          .width(&#39;100%&#39;)
          .height(26)
          .defaultFocus(true)
          .visibility(this.show ? Visibility.Visible : Visibility.None)
          .borderColor(&#39;#ff0000&#39;)
          .backgroundColor(&#39;#ff0000&#39;)
          .id(this.inputId)

        Button(&#39;打开&#39;).onClick(() =&gt; &#123;
          this.show = true
          this.controller.caretPosition(this.message.length)
          focusControl.requestFocus(this.inputId)
          this.inputMethodController.showTextInput().then(() =&gt; &#123;
          &#125;).catch((reason: ESObject) =&gt; &#123;

          &#125;)

        &#125;)
        Button(&#39;关闭&#39;).onClick(() =&gt; &#123;
          this.show = true
          this.inputMethodController.hideTextInput().then(() =&gt; &#123;
          &#125;).catch((reason: ESObject) =&gt; &#123;
          &#125;)

        &#125;)
      &#125;.justifyContent(FlexAlign.Center).width(&#39;100%&#39;).height(&#39;100%&#39;)
    &#125;.hideTitleBar(true)
  &#125;
&#125;
</code></pre>
<h4 id="2-How-to-add-child-controls-to-a-HarmonyOS-custom-component-when-using-it"><a href="#2-How-to-add-child-controls-to-a-HarmonyOS-custom-component-when-using-it" class="headerlink" title="2. How to add child controls to a HarmonyOS custom component when using it?"></a>2. How to add child controls to a HarmonyOS custom component when using it?</h4><p>If you have customized a control and want to add controls inside it like using containers such as Row or Column, refer to the following example. You can pass subcomponents to the custom component via <code>builder</code>:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-custom-component-layout-V5#sizeresult10">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-custom-component-layout-V5#sizeresult10</a>  </p>
<h4 id="3-Does-HarmonyOS-have-a-floatingActionButton-component"><a href="#3-Does-HarmonyOS-have-a-floatingActionButton-component" class="headerlink" title="3. Does HarmonyOS have a floatingActionButton component?"></a>3. Does HarmonyOS have a floatingActionButton component?</h4><p>There is no built-in <code>floatingActionButton</code> component. To achieve a floating button effect, you can customize it using the <code>Button()</code> component. Refer to the demo below:  </p>
<pre><code class="language-typescript">// xxx.ets
@Entry
@Component
struct HoverButtonExample &#123;
  private arr: number[] = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
  build() &#123;
    Stack() &#123;
      List(&#123; space: 20, initialIndex: 0 &#125;) &#123;
        ForEach(this.arr, (item: number) =&gt; &#123;
          ListItem() &#123;
            Text(&#39;&#39; + item)
              .width(&#39;100%&#39;).height(100).fontSize(16)
              .textAlign(TextAlign.Center).borderRadius(10).backgroundColor(0xFFFFFF)
          &#125;
        &#125;, (item: number) =&gt; item.toString())
      &#125;.width(&#39;90%&#39;)
      Button() &#123;
        Image($r(&#39;app.media.ic_public_add&#39;))
          .width(50)
          .height(50)
      &#125;
      .width(60)
      .height(60)
      .position(&#123; x: &#39;80%&#39;, y: 600 &#125;)
      .shadow(&#123; radius: 10 &#125;)
      .onClick(() =&gt; &#123;
        // Operations to be executed
      &#125;)
    &#125;
    .width(&#39;100%&#39;)
    .height(&#39;100%&#39;)
    .backgroundColor(0xDCDCDC)
    .padding(&#123; top: 5 &#125;)
  &#125;
&#125;
</code></pre>
<h4 id="4-How-to-update-the-button-content-of-AlertDialog-in-HarmonyOS"><a href="#4-How-to-update-the-button-content-of-AlertDialog-in-HarmonyOS" class="headerlink" title="4. How to update the button content of AlertDialog in HarmonyOS?"></a>4. How to update the button content of AlertDialog in HarmonyOS?</h4><p>When the cancel button content passed to AlertDialog is set with a <code>@State</code> variable, it does not update and always displays the initial value.  </p>
<p><img src="/../images/%E3%80%90%E6%AF%8F%E6%97%A5%E5%AD%A6%E7%82%B9HarmonyOS%20Next%E7%9F%A5%E8%AF%86%E3%80%9125.04.16.png"><br><img src="/../images/%E3%80%90%E6%AF%8F%E6%97%A5%E5%AD%A6%E7%82%B9HarmonyOS%20Next%E7%9F%A5%E8%AF%86%E3%80%9125.04.16-1.png"></p>
<p>AlertDialog does not support setting variables for the <code>value</code> of <code>primaryButton</code>. You can try customizing a pop-up window.<br>Refer to the document: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-methods-custom-dialog-box-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-methods-custom-dialog-box-V5</a>  </p>
<h4 id="5-How-to-use-variable-name-components-similar-to-React-in-HarmonyOS-ArkTS"><a href="#5-How-to-use-variable-name-components-similar-to-React-in-HarmonyOS-ArkTS" class="headerlink" title="5. How to use variable-name components (similar to React) in HarmonyOS ArkTS?"></a>5. How to use variable-name components (similar to React) in HarmonyOS ArkTS?</h4><p>In the following example, the subcomponent referenced in Row is a variable passed from outside, which may be View1 or View2. How to support syntax similar to the following:  </p>
<pre><code class="language-typescript">@Prop private view;
build() &#123;
  Row() &#123;
    view();
  &#125;
  .width(&#39;100%&#39;)
  .height(&#39;100%&#39;)
&#125;
</code></pre>
<p>Dynamic component loading can be achieved via <code>@builderParam</code>.<br>Refer to the official website example: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-builderparam-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-builderparam-V5</a>  </p>
<p>When developers create a custom component and want to add specific functions to it (e.g., adding a click-to-navigate operation to a specified custom component), embedding event methods directly in the component will cause all instances of the custom component to gain the function. To solve this, ArkUI introduces the <code>@BuilderParam</code> decorator, which decorates variables pointing to <code>@Builder</code> methods (i.e., <code>@BuilderParam</code> is used to承接 <code>@Builder</code> functions). Developers can assign values to the <code>@BuilderParam</code>-decorated custom build function in different ways (e.g., parameter modification, trailing closure, arrow function borrowing) when initializing the custom component, and add specific functions to the component by calling <code>@BuilderParam</code> inside the custom component. This decorator is used to declare an element of any UI description, similar to a slot placeholder.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/415%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Nested-Class-State-Observation-Text-Emoji-Display-Dynamic-Screenshot-Dialog-in-Functions-Component-Size-Change-Detection/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/415%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Nested-Class-State-Observation-Text-Emoji-Display-Dynamic-Screenshot-Dialog-in-Functions-Component-Size-Change-Detection/" class="post-title-link" itemprop="url">【Daily HarmonyOS Next Knowledge】Nested Class State Observation, Text & Emoji Display, Dynamic Screenshot, Dialog in Functions, Component Size Change Detection</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 06:59:03 / Modified: 06:59:33" itemprop="dateCreated datePublished" datetime="2025-06-25T06:59:03+08:00">2025-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="【Daily-HarmonyOS-Next-Knowledge】Nested-Class-State-Observation-Text-Emoji-Display-Dynamic-Screenshot-Dialog-in-Functions-Component-Size-Change-Detection"><a href="#【Daily-HarmonyOS-Next-Knowledge】Nested-Class-State-Observation-Text-Emoji-Display-Dynamic-Screenshot-Dialog-in-Functions-Component-Size-Change-Detection" class="headerlink" title="【Daily HarmonyOS Next Knowledge】Nested Class State Observation, Text &amp; Emoji Display, Dynamic Screenshot, Dialog in Functions, Component Size Change Detection"></a>【Daily HarmonyOS Next Knowledge】Nested Class State Observation, Text &amp; Emoji Display, Dynamic Screenshot, Dialog in Functions, Component Size Change Detection</h3><h4 id="1-HarmonyOS-nested-class-state-observation-issue"><a href="#1-HarmonyOS-nested-class-state-observation-issue" class="headerlink" title="1. HarmonyOS nested class state observation issue?"></a>1. HarmonyOS nested class state observation issue?</h4><pre><code class="language-typescript">@Observed
class A &#123;
  field1?: string
  field2?: Array&lt;ClassB&gt;
&#125;
@Observed
class B &#123;
  field3?: string
&#125;
@Component
struct View &#123;
  @ObjectLink a: ClassA
  build() &#123;
    if (this.a &amp;&amp; this.a.field2 &amp;&amp; this.a.field2.field3) &#123;
      Text(this.a.field2.field3)
    &#125;
  &#125;
&#125;
</code></pre>
<p>How to observe the state change of <code>field3</code> in ClassB? Currently, updating <code>field3</code> does not refresh the page.  </p>
<p><strong>Reference demo</strong>:  </p>
<pre><code class="language-typescript">@ObservedV2
class Son &#123;
  @Trace age: string = &quot;100&quot;;
&#125;
class Father &#123;
  son: Son = new Son();
&#125;
@Entry
@Component
struct Index &#123;
  father: Father = new Father();
  build() &#123;
    Column() &#123;
      // When clicking to change age, the Text component refreshes
      Text(`$&#123;this.father.son.age&#125;`)
        .onClick(() =&gt; &#123;
          this.father.son.age = &quot;102&quot;;
        &#125;)
      TextInput(&#123;text: `$&#123;this.father.son.age&#125;`, placeholder: &quot;aaa&quot;&#125;)
    &#125;
  &#125;
&#125;
</code></pre>
<h4 id="2-Does-the-HarmonyOS-text-component-support-simultaneous-display-of-text-and-emojis"><a href="#2-Does-the-HarmonyOS-text-component-support-simultaneous-display-of-text-and-emojis" class="headerlink" title="2. Does the HarmonyOS text component support simultaneous display of text and emojis?"></a>2. Does the HarmonyOS text component support simultaneous display of text and emojis?</h4><p>Is there a text component that supports displaying text and emojis together?  </p>
<p>The Text component does not support small images or emojis. Use the RichEditor component instead:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-richeditor-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-richeditor-V5</a>  </p>
<h4 id="3-Does-HarmonyOS-have-an-interface-for-dynamic-screenshot"><a href="#3-Does-HarmonyOS-have-an-interface-for-dynamic-screenshot" class="headerlink" title="3. Does HarmonyOS have an interface for dynamic screenshot?"></a>3. Does HarmonyOS have an interface for dynamic screenshot?</h4><p>Is there an interface to implement screenshot dynamically?  </p>
<p>Use component screenshot capabilities:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-arkui-componentsnapshot-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-arkui-componentsnapshot-V5</a><br><code>@ohos.arkui.componentSnapshot</code>  </p>
<p>This module provides screenshot capabilities for both loaded and unloaded components. It captures only the component’s defined area—content drawn outside the component or parent boundaries is not included, and sibling components are not visible in the screenshot.  </p>
<h4 id="4-How-to-trigger-a-custom-dialog-in-an-external-function-in-HarmonyOS"><a href="#4-How-to-trigger-a-custom-dialog-in-an-external-function-in-HarmonyOS" class="headerlink" title="4. How to trigger a custom dialog in an external function in HarmonyOS?"></a>4. How to trigger a custom dialog in an external function in HarmonyOS?</h4><p>Implement via global popups:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-promptaction-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-promptaction-V5</a><br><code>@ohos.promptAction</code>  </p>
<h4 id="5-How-to-accurately-obtain-component-size-changes-in-HarmonyOS-ArkUI"><a href="#5-How-to-accurately-obtain-component-size-changes-in-HarmonyOS-ArkUI" class="headerlink" title="5. How to accurately obtain component size changes in HarmonyOS ArkUI?"></a>5. How to accurately obtain component size changes in HarmonyOS ArkUI?</h4><ul>
<li><p><strong>onAreaChange</strong>: Triggers when the component’s display size or position changes.<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-component-area-change-event-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-component-area-change-event-V5</a>  </p>
</li>
<li><p><strong>onSizeChange</strong>: Triggers when the component’s display size changes.<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-component-size-change-event-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-component-size-change-event-V5</a>  </p>
</li>
<li><p><strong>onVisibleAreaChange</strong>: Triggers when the component’s screen visibility area changes, suitable for ad exposure tracking.<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-component-visible-area-change-event-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-component-visible-area-change-event-V5</a></p>
</li>
</ul>
<p><strong>onVisibleAreaChange(ratios: Array<number>, event: (isVisible: boolean, currentRatio: number) &#x3D;&gt; void): T</strong>  </p>
<ul>
<li><strong>ratios</strong>: Array of thresholds (0.0–1.0). The callback triggers when the visible area ratio approaches any threshold.  </li>
<li><strong>event</strong>:  <ul>
<li><code>isVisible</code>: True if the ratio increases, false if it decreases.  </li>
<li><code>currentRatio</code>: The visible area ratio when the callback triggers.### [Daily HarmonyOS Next Knowledge] Nested Class State Observation, Simultaneous Text and Emoji Display, Dynamic Screenshot Implementation, Popping Dialogs in Functions, Obtaining Component Size Changes</li>
</ul>
</li>
</ul>
<h4 id="1-HarmonyOS-Nested-Class-State-Observation-Issue"><a href="#1-HarmonyOS-Nested-Class-State-Observation-Issue" class="headerlink" title="1. HarmonyOS Nested Class State Observation Issue?"></a>1. HarmonyOS Nested Class State Observation Issue?</h4><pre><code class="language-typescript">@Observed
class A &#123;
  field1?: string;
  field2?: Array&lt;ClassB&gt;;
&#125;

@Observed
class B &#123;
  field3?: string;
&#125;

@Component
struct View &#123;
  @ObjectLink a: ClassA;
  
  build() &#123;
    if (this.a &amp;&amp; this.a.field2 &amp;&amp; this.a.filed2.field3) &#123;
      Text(this.a.filed2.field3);
    &#125;
  &#125;
&#125;
</code></pre>
<p>How can we observe state changes in <code>field3</code> of <code>ClassB</code>? Currently, the UI does not refresh when <code>field3</code> is updated.  </p>
<p><strong>Reference Demo</strong>:  </p>
<pre><code class="language-typescript">@ObservedV2
class Son &#123;
  @Trace age: string = &quot;100&quot;;
&#125;

class Father &#123;
  son: Son = new Son();
&#125;

@Entry
@Component
struct Index &#123;
  father: Father = new Father();
  
  build() &#123;
    Column() &#123;
      // The Text component refreshes when age is updated via click
      Text(`$&#123;this.father.son.age&#125;`)
        .onClick(() =&gt; &#123;
          this.father.son.age = &quot;102&quot;;
        &#125;);
      
      TextInput(&#123; text: `$&#123;this.father.son.age&#125;`, placeholder: &quot;aaa&quot; &#125;);
    &#125;
  &#125;
&#125;
</code></pre>
<h4 id="2-Does-the-HarmonyOS-Text-component-currently-support-simultaneous-display-of-text-and-emojis"><a href="#2-Does-the-HarmonyOS-Text-component-currently-support-simultaneous-display-of-text-and-emojis" class="headerlink" title="2. Does the HarmonyOS Text component currently support simultaneous display of text and emojis?"></a>2. Does the HarmonyOS Text component currently support simultaneous display of text and emojis?</h4><p>Is there a component that supports displaying both text and emojis?  </p>
<p>The <code>Text</code> component does not currently support small images or emojis. Use the <code>RichEditor</code> component instead:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-richeditor-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-richeditor-V5</a>  </p>
<h4 id="3-Are-there-interfaces-in-HarmonyOS-to-dynamically-capture-screenshots"><a href="#3-Are-there-interfaces-in-HarmonyOS-to-dynamically-capture-screenshots" class="headerlink" title="3. Are there interfaces in HarmonyOS to dynamically capture screenshots?"></a>3. Are there interfaces in HarmonyOS to dynamically capture screenshots?</h4><p>Can screenshots be dynamically captured via interfaces?  </p>
<p>Use the Component Snapshot API:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-arkui-componentsnapshot-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-arkui-componentsnapshot-V5</a><br><code>@ohos.arkui.componentSnapshot (Component Snapshot)</code>  </p>
<p>This module provides the ability to capture screenshots of components, including both loaded and unloaded components. The screenshot only captures the component’s defined area; content drawn outside this area (e.g., overflow or sibling components) will not be included.  </p>
<h4 id="4-How-to-display-a-custom-dialog-from-an-external-function-in-HarmonyOS"><a href="#4-How-to-display-a-custom-dialog-from-an-external-function-in-HarmonyOS" class="headerlink" title="4. How to display a custom dialog from an external function in HarmonyOS?"></a>4. How to display a custom dialog from an external function in HarmonyOS?</h4><p>Consider using global dialogs:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-promptaction-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-promptaction-V5</a><br><code>@ohos.promptAction (Dialogs)</code>  </p>
<h4 id="5-How-to-accurately-detect-component-size-changes-in-HarmonyOS-ArkUI"><a href="#5-How-to-accurately-detect-component-size-changes-in-HarmonyOS-ArkUI" class="headerlink" title="5. How to accurately detect component size changes in HarmonyOS ArkUI?"></a>5. How to accurately detect component size changes in HarmonyOS ArkUI?</h4><p><strong>Component Area Change Event (<code>onAreaChange</code>)</strong>:<br>Triggered when the component’s display size or position changes.<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-component-area-change-event-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-component-area-change-event-V5</a>  </p>
<p><strong>Component Size Change Event (<code>onSizeChange</code>)</strong>:<br>Triggered when the component’s display size changes.<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-component-size-change-event-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-component-size-change-event-V5</a>  </p>
<p><strong>Component Visible Area Change Event (<code>onVisibleAreaChange</code>)</strong>:<br>Triggered when the component’s visible area in the screen changes. Useful for scenarios like ad exposure tracking.<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-component-visible-area-change-event-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-component-visible-area-change-event-V5</a>  </p>
<pre><code class="language-typescript">onVisibleAreaChange(ratios: Array&lt;number&gt;, event: (isVisible: boolean, currentRatio: number) =&gt; void): T
</code></pre>
<p><strong>Parameters</strong>:  </p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>ratios</code></td>
<td><code>Array&lt;number&gt;</code></td>
<td>Yes</td>
<td>Threshold array. Each threshold represents the ratio of the component’s visible area (within its parent) to its total area. The callback triggers when this ratio approaches a threshold. Valid range: [0.0, 1.0]. Values outside this range are clamped to 0.0 or 1.0.<br><br><strong>Note</strong>: Values near 0 or 1 are rounded with a tolerance of 0.001 (e.g., 0.9997 becomes 1).</td>
</tr>
<tr>
<td><code>event</code></td>
<td><code>(isVisible: boolean, currentRatio: number) =&gt; void</code></td>
<td>Yes</td>
<td>- <code>isVisible</code>: Indicates if the visible ratio increased (<code>true</code>) or decreased (<code>false</code>).<br><br>- <code>currentRatio</code>: The current visible area ratio when the callback is triggered.</td>
</tr>
</tbody></table>
<p>This event is useful for scenarios like determining if a component is fully or partially visible on screen (e.g., for ad impression tracking).</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/414%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Intercepting-Touch-Events-Disabling-Side-Swipe-Back-Data-Driven-UI-Text-Ellipsis-Trigger-Obtaining-Component-Screen-Coordinates/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/414%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Intercepting-Touch-Events-Disabling-Side-Swipe-Back-Data-Driven-UI-Text-Ellipsis-Trigger-Obtaining-Component-Screen-Coordinates/" class="post-title-link" itemprop="url">414【Daily HarmonyOS Next Knowledge】Intercepting Touch Events, Disabling Side Swipe Back, Data-Driven UI, Text Ellipsis Trigger, Obtaining Component Screen Coordinates</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2025-06-25 06:57:30" itemprop="dateCreated datePublished" datetime="2025-06-25T06:57:30+08:00">2025-06-25</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Obtaining-App-Configuration-Information-Map-Type-Global-Popup-Dynamic-Import-Reflection-Default-Keyboard-Popup/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Obtaining-App-Configuration-Information-Map-Type-Global-Popup-Dynamic-Import-Reflection-Default-Keyboard-Popup/" class="post-title-link" itemprop="url">【Daily HarmonyOS Next Knowledge】Obtaining App Configuration Information, Map Type, Global Popup, Dynamic Import Reflection, Default Keyboard Popup</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2025-06-25 06:55:15" itemprop="dateCreated datePublished" datetime="2025-06-25T06:55:15+08:00">2025-06-25</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91-Bottom-Placement-Adding-Search-Component-to-Custom-Dialog-Modifying-APP-Name-and-Icon-Page-Navigation-Animation-Options/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91-Bottom-Placement-Adding-Search-Component-to-Custom-Dialog-Modifying-APP-Name-and-Icon-Page-Navigation-Animation-Options/" class="post-title-link" itemprop="url">【Daily HarmonyOS Next Knowledge】 Bottom Placement, Adding Search Component to Custom Dialog, Modifying APP Name and Icon, Page Navigation, Animation Options</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2025-06-25 06:53:43" itemprop="dateCreated datePublished" datetime="2025-06-25T06:53:43+08:00">2025-06-25</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Qingkouwei</p>
  <div class="site-description" itemprop="description">Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">68</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Qingkouwei</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
