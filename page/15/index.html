<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"harmonyostech.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next&#96;s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoo">
<meta property="og:type" content="website">
<meta property="og:title" content="HarmonyOS NEXT Knowledge Charging Station">
<meta property="og:url" content="https://harmonyostech.github.io/page/15/index.html">
<meta property="og:site_name" content="HarmonyOS NEXT Knowledge Charging Station">
<meta property="og:description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next&#96;s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Qingkouwei">
<meta property="article:tag" content="HarmonyOSNext, HarmonyOS NEXT, HarmonyOS, Cangjie">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://harmonyostech.github.io/page/15/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>HarmonyOS NEXT Knowledge Charging Station</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">HarmonyOS NEXT Knowledge Charging Station</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Analysis of Core Technologies and Application Scenarios of HarmonyOS NEXT</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/29/4126-Daily-HarmonyOS-Next-Knowledge-Desktop-Shortcut-API-Swiper-Display-Anomalies-Page-Screenshot-Prevention-Tabs-Component-Show-Hide-Listening-PDF-Page-Turning-Callbacks/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/29/4126-Daily-HarmonyOS-Next-Knowledge-Desktop-Shortcut-API-Swiper-Display-Anomalies-Page-Screenshot-Prevention-Tabs-Component-Show-Hide-Listening-PDF-Page-Turning-Callbacks/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] Desktop Shortcut API, Swiper Display Anomalies, Page Screenshot Prevention, Tabs Component Show/Hide Listening, PDF Page Turning Callbacks</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-29 00:08:05 / Modified: 00:08:24" itemprop="dateCreated datePublished" datetime="2025-06-29T00:08:05+08:00">2025-06-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Daily-HarmonyOS-Knowledge-Desktop-Shortcut-API-Swiper-Display-Anomalies-Page-Screenshot-Prevention-Tabs-Component-Show-Hide-Listening-PDF-Page-Turning-Callbacks"><a href="#Daily-HarmonyOS-Knowledge-Desktop-Shortcut-API-Swiper-Display-Anomalies-Page-Screenshot-Prevention-Tabs-Component-Show-Hide-Listening-PDF-Page-Turning-Callbacks" class="headerlink" title="[Daily HarmonyOS Knowledge] Desktop Shortcut API, Swiper Display Anomalies, Page Screenshot Prevention, Tabs Component Show&#x2F;Hide Listening, PDF Page Turning Callbacks"></a>[Daily HarmonyOS Knowledge] Desktop Shortcut API, Swiper Display Anomalies, Page Screenshot Prevention, Tabs Component Show&#x2F;Hide Listening, PDF Page Turning Callbacks</h1><h4 id="1-API-Description-for-HarmonyOS-desktop-shortcut-handling"><a href="#1-API-Description-for-HarmonyOS-desktop-shortcut-handling" class="headerlink" title="1. API Description for HarmonyOS desktop shortcut handling?"></a>1. API Description for HarmonyOS desktop shortcut handling?</h4><p>HarmonyOS does not consider opening desktop shortcut capabilities. It is recommended to use service cards to customize corresponding scenarios.  </p>
<p>Shortcuts displayed by long-pressing the app icon can be configured through the <code>shortcuts</code> tag in the <code>module.json5</code> file. These shortcuts only allow jumping to a specific UIAbility, cannot directly jump to non-entry pages, and can configure up to four shortcuts.  </p>
<p>For app shortcuts, developers can currently implement similar capabilities through service cards. Clicking a service card can jump to a specified UIAbility, and developers can launch different pages based on passed parameters. However, service cards cannot be created within the app and can only be added to the desktop by users through the steps: long-press the app -&gt; preview -&gt; add.  </p>
<p>Reference documents:  </p>
<ul>
<li><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/module-configuration-file-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/module-configuration-file-V5</a>  </li>
<li><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/formkit-overview-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/formkit-overview-V5</a></li>
</ul>
<h4 id="2-HarmonyOS-Swiper-shows-anomalies-after-using-customContentTransition-cards-overlap-instead-of-switching"><a href="#2-HarmonyOS-Swiper-shows-anomalies-after-using-customContentTransition-cards-overlap-instead-of-switching" class="headerlink" title="2. HarmonyOS Swiper shows anomalies after using customContentTransition (cards overlap instead of switching)?"></a>2. HarmonyOS Swiper shows anomalies after using customContentTransition (cards overlap instead of switching)?</h4><pre><code class="language-typescript">@Entry
@Component
struct Index &#123;
  @State cardChangeAnimationDuration: number = 0
  swiperController: SwiperController = new SwiperController()
  @State autoPlay: boolean = true
  userScrolled: boolean = false
  dataList: Color[] = [Color.Red, Color.Yellow, Color.Blue]

  aboutToAppear(): void &#123;
    setInterval(() =&gt; &#123;
      if (this.autoPlay) &#123;
        this.swiperController.showNext()
        promptAction.showToast(&#123; message: &#39;Switch to next card&#39; &#125;)
      &#125;
    &#125;, 2000);
  &#125;

  build() &#123;
    Stack() &#123;
      Swiper(this.swiperController) &#123;
        ForEach(this.dataList, (item: Color, index) =&gt; &#123;
          Text(`Card $&#123;index&#125;`)
            .textAlign(TextAlign.Center)
            .font(&#123; size: 17, weight: 500 &#125;)
            .backgroundColor(item)
            .opacity(0.5)
        &#125;)
      &#125;
      .autoPlay(false) // The component does not autoplay; autoplay logic is handled by VM calling scrollToIndex/showNext
      .loop(this.autoPlay)
      .indicator(false)
      .duration(this.cardChangeAnimationDuration) // Switching duration can be configured
      .curve(Curve.Linear) // Note: &lt;=API12 requires .curve(Curve.Linear) for duration to take effect
      .cachedCount(3)
      .width(&#39;100%&#39;)
      .height(&#39;100%&#39;)
      .nestedScroll(SwiperNestedScrollMode.SELF_FIRST)
      .onClick(() =&gt; &#123;
        this.cardChangeAnimationDuration = !this.autoPlay ? 700 : 400
        this.autoPlay = !this.autoPlay
        if (this.autoPlay) &#123;
          this.userScrolled = false
        &#125;
      &#125;)
      .onGestureSwipe((index: number, extraInfo: SwiperAnimationEvent) =&gt; &#123;
        this.userScrolled = true
      &#125;)
      .onAnimationEnd((index: number, extraInfo: SwiperAnimationEvent) =&gt; &#123;
        if (extraInfo.currentOffset == 0 &amp;&amp; this.userScrolled) &#123;
          this.autoPlay = false
        &#125;
      &#125;)
      .customContentTransition(&#123;
        timeout: 1000,
        transition: (proxy: SwiperContentTransitionProxy) =&gt; &#123;

        &#125;
      &#125;)
    &#125;
  &#125;
&#125;
</code></pre>
<p>Custom animations require handling relevant logic when implementing <code>customContentTransition</code>. Please refer to Example 4:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-container-swiper-V5#swipercontentanimatedtransition12%E5%AF%B9%E8%B1%A1%E8%AF%B4%E6%98%8E">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-container-swiper-V5#swipercontentanimatedtransition12%E5%AF%B9%E8%B1%A1%E8%AF%B4%E6%98%8E</a>  </p>
<h4 id="3-How-to-prevent-screenshot-for-a-specific-page-in-an-HSP-app-on-HarmonyOS"><a href="#3-How-to-prevent-screenshot-for-a-specific-page-in-an-HSP-app-on-HarmonyOS" class="headerlink" title="3. How to prevent screenshot for a specific page in an HSP app on HarmonyOS?"></a>3. How to prevent screenshot for a specific page in an HSP app on HarmonyOS?</h4><p>Reference document: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-window-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-window-V5</a>  </p>
<p>Implementation steps: Some pages require screenshot prevention. First, apply for privacy window permissions in <code>module.json5</code>. Then, obtain the current window object and set privacy mode in <code>onPageShow()</code>. Cancel privacy mode in the <code>onPageHide()</code> lifecycle when exiting the page.  </p>
<h4 id="4-How-to-listen-for-component-show-hide-when-switching-components-in-HarmonyOS-Tabs"><a href="#4-How-to-listen-for-component-show-hide-when-switching-components-in-HarmonyOS-Tabs" class="headerlink" title="4. How to listen for component show&#x2F;hide when switching components in HarmonyOS Tabs?"></a>4. How to listen for component show&#x2F;hide when switching components in HarmonyOS Tabs?</h4><p>Want to perform operations when components are displayed, but find that the <code>aboutToAppear</code> method is not triggered.  </p>
<p>Use <code>visibility</code> for show&#x2F;hide control:  </p>
<pre><code class="language-typescript">@Entry
@Component
struct VisibilityExample &#123;
  build() &#123;
    Column() &#123;
      Column() &#123;
        // Hidden without occupying space
        Text(&#39;None&#39;).fontSize(9).width(&#39;90%&#39;).fontColor(0xCCCCCC)
        Row().visibility(Visibility.None).width(&#39;90%&#39;).height(80).backgroundColor(0xAFEEEE)

        // Hidden but occupying space
        Text(&#39;Hidden&#39;).fontSize(9).width(&#39;90%&#39;).fontColor(0xCCCCCC)
        Row().visibility(Visibility.Hidden).width(&#39;90%&#39;).height(80).backgroundColor(0xAFEEEE)

        // Normally displayed, the default display mode for components
        Text(&#39;Visible&#39;).fontSize(9).width(&#39;90%&#39;).fontColor(0xCCCCCC)
        Row().visibility(Visibility.Visible).width(&#39;90%&#39;).height(80).backgroundColor(0xAFEEEE)
      &#125;.width(&#39;90%&#39;).border(&#123; width: 1 &#125;)
    &#125;.width(&#39;100%&#39;).margin(&#123; top: 5 &#125;)
  &#125;
&#125;
</code></pre>
<h4 id="5-Can-HarmonyOS-PDF-Kit-support-PDF-page-turning-callbacks"><a href="#5-Can-HarmonyOS-PDF-Kit-support-PDF-page-turning-callbacks" class="headerlink" title="5. Can HarmonyOS PDF Kit support PDF page turning callbacks?"></a>5. Can HarmonyOS PDF Kit support PDF page turning callbacks?</h4><p>PDF Kit currently does not support PDF page turning callbacks. It mainly provides functions such as opening PDF files, adding annotations to pages, headers&#x2F;footers, watermarks, backgrounds, and bookmarks.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/29/4125-Daily-HarmonyOS-Next-Knowledge-Gradient-Effects-Web-Component-Object-Registration-Errors-Deep-Copying-Lists-loadContent-Data-Sharing-and-Half-Screen-Popups/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/29/4125-Daily-HarmonyOS-Next-Knowledge-Gradient-Effects-Web-Component-Object-Registration-Errors-Deep-Copying-Lists-loadContent-Data-Sharing-and-Half-Screen-Popups/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] Gradient Effects, Web Component Object Registration Errors, Deep Copying Lists, loadContent Data Sharing, and Half-Screen Popups</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-29 00:07:03 / Modified: 00:07:23" itemprop="dateCreated datePublished" datetime="2025-06-29T00:07:03+08:00">2025-06-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Daily-HarmonyOS-Next-Knowledge-Gradient-Effects-Web-Component-Object-Registration-Errors-Deep-Copying-Lists-loadContent-Data-Sharing-and-Half-Screen-Popups"><a href="#Daily-HarmonyOS-Next-Knowledge-Gradient-Effects-Web-Component-Object-Registration-Errors-Deep-Copying-Lists-loadContent-Data-Sharing-and-Half-Screen-Popups" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Gradient Effects, Web Component Object Registration Errors, Deep Copying Lists, loadContent Data Sharing, and Half-Screen Popups"></a>[Daily HarmonyOS Next Knowledge] Gradient Effects, Web Component Object Registration Errors, Deep Copying Lists, loadContent Data Sharing, and Half-Screen Popups</h1><h4 id="1-Does-HarmonyOS-have-gradient-effects-similar-to-other-platforms"><a href="#1-Does-HarmonyOS-have-gradient-effects-similar-to-other-platforms" class="headerlink" title="1. Does HarmonyOS have gradient effects similar to other platforms?"></a>1. Does HarmonyOS have gradient effects similar to other platforms?</h4><p>To achieve gradient effects, refer to the following code:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Page240126155113078</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">message</span>: <span class="built_in">string</span> = <span class="string">&#x27;Hello World&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Row</span>() &#123;</span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">Row</span>() &#123;</span><br><span class="line">          <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">message</span>)</span><br><span class="line">            .<span class="title function_">fontSize</span>(<span class="number">50</span>)</span><br><span class="line">            .<span class="title function_">fontWeight</span>(<span class="title class_">FontWeight</span>.<span class="property">Bold</span>)</span><br><span class="line">            .<span class="title function_">blendMode</span>(<span class="title class_">BlendMode</span>.<span class="property">DST_IN</span>, <span class="title class_">BlendApplyType</span>.<span class="property">OFFSCREEN</span>)</span><br><span class="line">        &#125;.<span class="title function_">linearGradient</span>(&#123;</span><br><span class="line">          <span class="attr">direction</span>: <span class="title class_">GradientDirection</span>.<span class="property">Right</span>,</span><br><span class="line">          <span class="attr">colors</span>: [[<span class="number">0x000000</span>, <span class="number">0.0</span>], [<span class="number">0xffffff</span>, <span class="number">1.0</span>]]</span><br><span class="line">        &#125;).<span class="title function_">blendMode</span>(<span class="title class_">BlendMode</span>.<span class="property">SRC_OVER</span>, <span class="title class_">BlendApplyType</span>.<span class="property">OFFSCREEN</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>After testing, the following code produces a similar effect to the provided screenshot. Here’s the example code with minor adjustments:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Page240126155113078</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">message</span>: <span class="built_in">string</span> = <span class="string">&#x27;文化莞&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Row</span>() &#123;</span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">Row</span>() &#123;</span><br><span class="line">          <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">message</span>)</span><br><span class="line">            .<span class="title function_">fontSize</span>(<span class="number">20</span>)</span><br><span class="line">            .<span class="title function_">fontWeight</span>(<span class="title class_">FontWeight</span>.<span class="property">Bold</span>)</span><br><span class="line">            .<span class="title function_">blendMode</span>(<span class="title class_">BlendMode</span>.<span class="property">DST_IN</span>, <span class="title class_">BlendApplyType</span>.<span class="property">OFFSCREEN</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        .<span class="title function_">linearGradient</span>(&#123;</span><br><span class="line">          <span class="attr">direction</span>: <span class="title class_">GradientDirection</span>.<span class="property">Right</span>,</span><br><span class="line">          <span class="attr">colors</span>: [[<span class="number">0x000000</span>, <span class="number">0.0</span>], [<span class="number">0xffffff</span>, <span class="number">0.8</span>]]</span><br><span class="line">        &#125;)</span><br><span class="line">        .<span class="title function_">blendMode</span>(<span class="title class_">BlendMode</span>.<span class="property">SRC_OVER</span>, <span class="title class_">BlendApplyType</span>.<span class="property">OFFSCREEN</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// .backgroundColor(Color.Blue)</span></span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Based on your description, here’s a reference implementation for a horizontal list with gradient effects:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">ListExample</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">arr</span>: <span class="built_in">string</span>[] = [<span class="string">&#x27;Film&#x27;</span>, <span class="string">&#x27;Life&#x27;</span>, <span class="string">&#x27;Military&#x27;</span>, <span class="string">&#x27;History&#x27;</span>, <span class="string">&#x27;Novel&#x27;</span>, <span class="string">&#x27;Movie&#x27;</span>, <span class="string">&#x27;Reveal&#x27;</span>, <span class="string">&#x27;Star&#x27;</span>, <span class="string">&#x27;Society&#x27;</span>, <span class="string">&#x27;Explosion&#x27;</span>, <span class="string">&#x27;Good&#x27;</span>, <span class="string">&#x27;Featured&#x27;</span>];</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">scroller</span>: <span class="title class_">Scroller</span> = <span class="keyword">new</span> <span class="title class_">Scroller</span>();</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Stack</span>() &#123;</span><br><span class="line">      <span class="title class_">List</span>(&#123; <span class="attr">space</span>: <span class="number">10</span> &#125;) &#123;</span><br><span class="line">        <span class="title class_">ForEach</span>(<span class="variable language_">this</span>.<span class="property">arr</span>, <span class="function">(<span class="params"><span class="attr">item</span>: <span class="built_in">string</span></span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="title class_">ListItem</span>() &#123;</span><br><span class="line">            <span class="title class_">Text</span>(item)</span><br><span class="line">              .<span class="title function_">width</span>(<span class="number">50</span>)</span><br><span class="line">              .<span class="title function_">height</span>(<span class="number">64</span>)</span><br><span class="line">              .<span class="title function_">fontColor</span>(<span class="title class_">Color</span>.<span class="property">Black</span>)</span><br><span class="line">              .<span class="title function_">backgroundColor</span>(<span class="title class_">Color</span>.<span class="property">White</span>)</span><br><span class="line">              .<span class="title function_">textAlign</span>(<span class="title class_">TextAlign</span>.<span class="property">Center</span>)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;, <span class="function">(<span class="params"><span class="attr">item</span>: <span class="built_in">string</span></span>) =&gt;</span> item);</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">listDirection</span>(<span class="title class_">Axis</span>.<span class="property">Horizontal</span>)</span><br><span class="line">      .<span class="title function_">scrollBar</span>(<span class="title class_">BarState</span>.<span class="property">Off</span>)</span><br><span class="line">      .<span class="title function_">padding</span>(&#123; <span class="attr">top</span>: <span class="number">20</span>, <span class="attr">bottom</span>: <span class="number">20</span> &#125;)</span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&quot;80%&quot;</span>)</span><br><span class="line">      .<span class="title function_">height</span>(<span class="string">&quot;100%&quot;</span>)</span><br><span class="line"></span><br><span class="line">      <span class="title class_">Stack</span>() &#123;&#125;</span><br><span class="line">      .<span class="title function_">linearGradient</span>(&#123;</span><br><span class="line">        <span class="attr">angle</span>: <span class="number">90</span>,</span><br><span class="line">        <span class="attr">colors</span>: [ [<span class="string">&#x27;rgba(255,255,255,0)&#x27;</span>, <span class="number">0.9</span>], [<span class="number">0xffffff</span>, <span class="number">1.0</span>]]</span><br><span class="line">      &#125;)</span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&quot;80%&quot;</span>)</span><br><span class="line">      .<span class="title function_">height</span>(<span class="string">&quot;100%&quot;</span>)</span><br><span class="line">      .<span class="title function_">hitTestBehavior</span>(<span class="title class_">HitTestMode</span>.<span class="property">None</span>)</span><br><span class="line">    &#125;.<span class="title function_">height</span>(<span class="number">100</span>).<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>).<span class="title function_">backgroundColor</span>(<span class="title class_">Color</span>.<span class="property">White</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="2-When-registering-an-object-in-the-HarmonyOS-Web-component-the-object-declaration-reports-an-“ArkTS-no-untyped-obj-literals”-error"><a href="#2-When-registering-an-object-in-the-HarmonyOS-Web-component-the-object-declaration-reports-an-“ArkTS-no-untyped-obj-literals”-error" class="headerlink" title="2. When registering an object in the HarmonyOS Web component, the object declaration reports an “ArkTS-no-untyped-obj-literals” error?"></a>2. When registering an object in the HarmonyOS Web component, the object declaration reports an “ArkTS-no-untyped-obj-literals” error?</h4><p>To resolve the “ArkTS-no-untyped-obj-literals” error, refer to:<br><a target="_blank" rel="noopener" href="https://gitee.com/openharmony/docs/blob/master/zh-cn/application-dev/quick-start/arkts-more-cases.md#arkts-no-untyped-obj-literals">https://gitee.com/openharmony/docs/blob/master/zh-cn/application-dev/quick-start/arkts-more-cases.md#arkts-no-untyped-obj-literals</a>  </p>
<p>Import the type from the SDK and annotate the object literal:  </p>
<p><strong>Original Code</strong>  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> area = &#123;</span><br><span class="line">  <span class="attr">pixels</span>: <span class="keyword">new</span> <span class="title class_">ArrayBuffer</span>(<span class="number">8</span>),</span><br><span class="line">  <span class="attr">offset</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="attr">stride</span>: <span class="number">8</span>,</span><br><span class="line">  <span class="attr">region</span>: &#123; <span class="attr">size</span>: &#123; <span class="attr">height</span>: <span class="number">1</span>, <span class="attr">width</span>: <span class="number">2</span> &#125;, <span class="attr">x</span>: <span class="number">0</span>, <span class="attr">y</span>: <span class="number">0</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Recommended Fix</strong>  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; image &#125; <span class="keyword">from</span> <span class="string">&#x27;@kit.ImageKit&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">area</span>: image.<span class="property">PositionArea</span> = &#123;</span><br><span class="line">  <span class="attr">pixels</span>: <span class="keyword">new</span> <span class="title class_">ArrayBuffer</span>(<span class="number">8</span>),</span><br><span class="line">  <span class="attr">offset</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="attr">stride</span>: <span class="number">8</span>,</span><br><span class="line">  <span class="attr">region</span>: &#123; <span class="attr">size</span>: &#123; <span class="attr">height</span>: <span class="number">1</span>, <span class="attr">width</span>: <span class="number">2</span> &#125;, <span class="attr">x</span>: <span class="number">0</span>, <span class="attr">y</span>: <span class="number">0</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="3-How-to-perform-a-deep-copy-of-a-list-in-HarmonyOS"><a href="#3-How-to-perform-a-deep-copy-of-a-list-in-HarmonyOS" class="headerlink" title="3. How to perform a deep copy of a list in HarmonyOS?"></a>3. How to perform a deep copy of a list in HarmonyOS?</h4><p>Currently, ArkTS does not support the <code>any</code> type, making it challenging to write deep copy logic directly in .ets files. When implementing deep copy in .ts files, list data types may not be fully supported. Here’s a workaround:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">deepCopy</span>(<span class="params"><span class="attr">obj</span>: <span class="title class_">ESObject</span></span>): <span class="title class_">ESObject</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> obj !== <span class="string">&quot;object&quot;</span> || obj === <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> <span class="attr">copy</span>: <span class="title class_">ESObject</span>;</span><br><span class="line">  <span class="keyword">if</span> (<span class="title class_">Array</span>.<span class="title function_">isArray</span>(obj)) &#123;</span><br><span class="line">    copy = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; obj.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      copy[i] = <span class="title function_">deepCopy</span>(obj[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    copy = &#123;&#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">      <span class="keyword">if</span> (obj.<span class="title function_">hasOwnProperty</span>(key)) &#123;</span><br><span class="line">        copy[key] = <span class="title function_">deepCopy</span>(obj[key]);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> copy;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">arr1</span>: <span class="title class_">Array</span>&lt;<span class="built_in">number</span>&gt; = <span class="keyword">new</span> <span class="title class_">Array</span>&lt;<span class="built_in">number</span>&gt;(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"><span class="keyword">let</span> <span class="attr">arr2</span>: <span class="title class_">Array</span>&lt;<span class="built_in">number</span>&gt; = <span class="title function_">deepCopy</span>(arr1);</span><br><span class="line">arr2[<span class="number">2</span>] = <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;arr1: &#x27;</span> + <span class="title class_">String</span>(arr1)); <span class="comment">// Output: arr1: 1,2,3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;arr2: &#x27;</span> + <span class="title class_">String</span>(arr2)); <span class="comment">// Output: arr2: 1,2,4</span></span><br></pre></td></tr></table></figure>


<h4 id="4-How-to-share-data-between-the-EntryAbility-and-its-loaded-content-page-in-HarmonyOS"><a href="#4-How-to-share-data-between-the-EntryAbility-and-its-loaded-content-page-in-HarmonyOS" class="headerlink" title="4. How to share data between the EntryAbility and its loaded content page in HarmonyOS?"></a>4. How to share data between the EntryAbility and its loaded content page in HarmonyOS?</h4><p>Use <code>LocalStorage</code> to share data between EntryAbility and loaded pages. Refer to the <code>loadContent</code> documentation:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-window-V5#loadcontent9">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-window-V5#loadcontent9</a>  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">loadContent</span>(<span class="attr">path</span>: <span class="built_in">string</span>, <span class="attr">storage</span>: <span class="title class_">LocalStorage</span>, <span class="attr">callback</span>: <span class="title class_">AsyncCallback</span>&lt;<span class="built_in">void</span>&gt;): <span class="built_in">void</span></span><br></pre></td></tr></table></figure>

<p>Loads a specific page into the window and passes state properties via <code>LocalStorage</code> with an asynchronous callback.  </p>
<p><strong>Parameters</strong>:  </p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>path</td>
<td>string</td>
<td>Yes</td>
<td>Path to the page content to load (must be listed in <code>main_pages.json</code>).</td>
</tr>
<tr>
<td>storage</td>
<td>LocalStorage</td>
<td>Yes</td>
<td>Page-level UI state storage for passing properties to the loaded page.</td>
</tr>
<tr>
<td>callback</td>
<td><code>AsyncCallback&lt;void&gt;</code></td>
<td>Yes</td>
<td>Callback function.</td>
</tr>
</tbody></table>
<h4 id="5-How-to-create-a-half-screen-popup-with-CustomDialogController-in-HarmonyOS-allowing-interaction-outside-the-popup"><a href="#5-How-to-create-a-half-screen-popup-with-CustomDialogController-in-HarmonyOS-allowing-interaction-outside-the-popup" class="headerlink" title="5. How to create a half-screen popup with CustomDialogController in HarmonyOS, allowing interaction outside the popup?"></a>5. How to create a half-screen popup with CustomDialogController in HarmonyOS, allowing interaction outside the popup?</h4><ol>
<li><strong>Set the popup’s masking area</strong> to prevent event propagation within the mask but allow it outside.  </li>
<li><strong>Set <code>isModal</code> to <code>false</code></strong> and manually control the overlay’s visibility using <code>hitTestBehavior(HitTestMode.None)</code> to make the overlay non-interactive.</li>
</ol>
<p><strong>Sample Code</strong>:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@CustomDialog</span></span><br><span class="line">struct <span class="title class_">MyDialog</span> &#123;</span><br><span class="line">  <span class="meta">@Link</span> <span class="attr">visible</span>: <span class="title class_">Visibility</span>;</span><br><span class="line">  <span class="attr">controller1</span>: <span class="title class_">CustomDialogController</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Row</span>() &#123;</span><br><span class="line">      <span class="title class_">Column</span>(&#123; <span class="attr">space</span>: <span class="number">10</span> &#125;) &#123;</span><br><span class="line">        <span class="title class_">Text</span>(<span class="string">&#x27;Custom Popup&#x27;</span>).<span class="title function_">fontSize</span>(<span class="number">25</span>).<span class="title function_">fontColor</span>(<span class="title class_">Color</span>.<span class="property">Blue</span>);</span><br><span class="line">        <span class="title class_">Flex</span>(&#123; <span class="attr">justifyContent</span>: <span class="title class_">FlexAlign</span>.<span class="property">SpaceAround</span> &#125;) &#123;</span><br><span class="line">          <span class="title class_">Button</span>(<span class="string">&#x27;Cancel&#x27;</span>).<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">controller1</span>.<span class="title function_">close</span>();</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">visible</span> = <span class="title class_">Visibility</span>.<span class="property">None</span>;</span><br><span class="line">          &#125;).<span class="title function_">backgroundColor</span>(<span class="number">0xffffff</span>).<span class="title function_">fontColor</span>(<span class="title class_">Color</span>.<span class="property">Black</span>);</span><br><span class="line">          </span><br><span class="line">          <span class="title class_">Button</span>(<span class="string">&#x27;Confirm&#x27;</span>).<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">controller1</span>.<span class="title function_">close</span>();</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">visible</span> = <span class="title class_">Visibility</span>.<span class="property">None</span>;</span><br><span class="line">          &#125;).<span class="title function_">backgroundColor</span>(<span class="number">0xffffff</span>).<span class="title function_">fontColor</span>(<span class="title class_">Color</span>.<span class="property">Black</span>);</span><br><span class="line">        &#125;.<span class="title function_">width</span>(<span class="string">&quot;100%&quot;</span>);</span><br><span class="line">      &#125;.<span class="title function_">width</span>(<span class="string">&quot;100%&quot;</span>);</span><br><span class="line">    &#125;.<span class="title function_">height</span>(<span class="number">100</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Index</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">visible</span>: <span class="title class_">Visibility</span> = <span class="title class_">Visibility</span>.<span class="property">None</span>;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">arr</span>: <span class="built_in">number</span>[] = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>];</span><br><span class="line">  </span><br><span class="line">  <span class="attr">dialogController1</span>: <span class="title class_">CustomDialogController</span> = <span class="keyword">new</span> <span class="title class_">CustomDialogController</span>(&#123;</span><br><span class="line">    <span class="attr">builder</span>: <span class="title class_">MyDialog</span>(&#123; <span class="attr">visible</span>: <span class="variable language_">this</span>.<span class="property">visible</span> &#125;),</span><br><span class="line">    <span class="attr">offset</span>: &#123; <span class="attr">dx</span>: <span class="number">0</span>, <span class="attr">dy</span>: <span class="number">0</span> &#125;,</span><br><span class="line">    <span class="attr">autoCancel</span>: <span class="literal">false</span>,  <span class="comment">// Prevent closing when clicking outside</span></span><br><span class="line">    <span class="attr">isModal</span>: <span class="literal">false</span>,     <span class="comment">// Disable default modal behavior</span></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>(&#123; <span class="attr">space</span>: <span class="number">10</span> &#125;) &#123;</span><br><span class="line">      <span class="title class_">Button</span>(<span class="string">&#x27;Open Popup&#x27;</span>).<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">dialogController1</span>.<span class="title function_">open</span>();</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">visible</span> = <span class="title class_">Visibility</span>.<span class="property">Visible</span>;</span><br><span class="line">      &#125;);</span><br><span class="line">      </span><br><span class="line">      <span class="title class_">List</span>() &#123;</span><br><span class="line">        <span class="title class_">ForEach</span>(<span class="variable language_">this</span>.<span class="property">arr</span>, <span class="function">(<span class="params"><span class="attr">item</span>: <span class="built_in">number</span></span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="title class_">ListItem</span>() &#123;</span><br><span class="line">            <span class="title class_">Row</span>() &#123;</span><br><span class="line">              <span class="title class_">Text</span>(<span class="string">&#x27;Text&#x27;</span>)</span><br><span class="line">            &#125;.<span class="title function_">justifyContent</span>(<span class="title class_">FlexAlign</span>.<span class="property">Center</span>).<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>).<span class="title function_">backgroundColor</span>(<span class="number">0xFFFFFF</span>).<span class="title function_">height</span>(<span class="number">100</span>);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;.<span class="title function_">divider</span>(&#123; <span class="attr">strokeWidth</span>: <span class="number">2</span>, <span class="attr">color</span>: <span class="string">&#x27;#F1F3F5&#x27;</span> &#125;).<span class="title function_">height</span>(<span class="string">&#x27;90%&#x27;</span>);</span><br><span class="line">      </span><br><span class="line">      <span class="title class_">Column</span>()</span><br><span class="line">        .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">        .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">        .<span class="title function_">position</span>(&#123; <span class="attr">x</span>: <span class="number">0</span>, <span class="attr">y</span>: <span class="number">0</span> &#125;)</span><br><span class="line">        .<span class="title function_">zIndex</span>(<span class="number">10</span>)</span><br><span class="line">        .<span class="title function_">backgroundColor</span>(<span class="number">0x33000000</span>)</span><br><span class="line">        .<span class="title function_">visibility</span>(<span class="variable language_">this</span>.<span class="property">visible</span>)</span><br><span class="line">        .<span class="title function_">hitTestBehavior</span>(<span class="title class_">HitTestMode</span>.<span class="property">None</span>);</span><br><span class="line">    &#125;.<span class="title function_">width</span>(<span class="string">&quot;100%&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/29/4124-Daily-HarmonyOS-Next-Knowledge-App-Icon-Errors-ObservedV2-Best-Practices-Web-SSL-Errors-Taskpool-Issues-and-Network-Image-Downloading/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/29/4124-Daily-HarmonyOS-Next-Knowledge-App-Icon-Errors-ObservedV2-Best-Practices-Web-SSL-Errors-Taskpool-Issues-and-Network-Image-Downloading/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] App Icon Errors, @ObservedV2 Best Practices, Web SSL Errors, Taskpool Issues, and Network Image Downloading</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-29 00:05:52 / Modified: 00:07:30" itemprop="dateCreated datePublished" datetime="2025-06-29T00:05:52+08:00">2025-06-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Daily-HarmonyOS-Next-Knowledge-App-Icon-Errors-ObservedV2-Best-Practices-Web-SSL-Errors-Taskpool-Issues-and-Network-Image-Downloading"><a href="#Daily-HarmonyOS-Next-Knowledge-App-Icon-Errors-ObservedV2-Best-Practices-Web-SSL-Errors-Taskpool-Issues-and-Network-Image-Downloading" class="headerlink" title="[Daily HarmonyOS Next Knowledge] App Icon Errors, @ObservedV2 Best Practices, Web SSL Errors, Taskpool Issues, and Network Image Downloading"></a>[Daily HarmonyOS Next Knowledge] App Icon Errors, @ObservedV2 Best Practices, Web SSL Errors, Taskpool Issues, and Network Image Downloading</h1><h4 id="1-HarmonyOS-Occasional-app-icon-display-errors"><a href="#1-HarmonyOS-Occasional-app-icon-display-errors" class="headerlink" title="1. HarmonyOS: Occasional app icon display errors?"></a>1. HarmonyOS: Occasional app icon display errors?</h4><p>The app has set the icon in both <code>app.json5</code> and <code>module.json5</code>, but when returning to the home screen, an occasional image from the Resource folder appears as the icon.  </p>
<p>Possible causes of app icon display errors:  </p>
<ul>
<li><p><strong>Icon configuration error</strong>: The app icon must be configured with the <code>icon</code> tag in the <code>app.json5</code> file under the project’s AppScope directory. Ensure the icon is configured as a resource index of the image. For apps with multiple UIAbilities, configure the entry icon and label in the <code>module.json5</code> file.  </p>
</li>
<li><p><strong>Permission authorization issues</strong>: The app must correctly configure the <code>bundleName</code> tag in <code>app.json5</code> to ensure uniqueness. Incorrect permission configuration may cause the icon to not display or display incorrectly. Ensure user-granted permissions match the app’s actual needs and the correct icon is shown on the authorization page.  </p>
</li>
<li><p><strong>System control</strong>: The system strictly controls apps without icons to prevent malicious apps from hiding entry icons, which may confuse users. If hiding the entry icon is necessary, configure the <code>AllowAppDesktopIconHide</code> privilege.  </p>
</li>
<li><p><strong>Version declaration configuration</strong>: Configure the <code>versionCode</code> and <code>versionName</code> tags in <code>app.json5</code> to ensure correct version number and name settings.</p>
</li>
</ul>
<h4 id="2-Are-there-any-best-practices-or-comprehensive-examples-for-using-ObservedV2"><a href="#2-Are-there-any-best-practices-or-comprehensive-examples-for-using-ObservedV2" class="headerlink" title="2. Are there any best practices or comprehensive examples for using @ObservedV2?"></a>2. Are there any best practices or comprehensive examples for using @ObservedV2?</h4><p>@ObservedV2 enhances the state management framework’s ability to observe properties in class objects. Use the <code>@ObservedV2</code> and <code>@Trace</code> decorators to annotate classes and their properties. For usage scenarios, supported versions, and demos, refer to:<br><a target="_blank" rel="noopener" href="https://gitee.com/openharmony/docs/blob/master/zh-cn/application-dev/quick-start/arkts-new-observedV2-and-trace.md#%E5%B5%8C%E5%A5%97%E7%B1%BB%E5%9C%BA%E6%99%AF">https://gitee.com/openharmony/docs/blob/master/zh-cn/application-dev/quick-start/arkts-new-observedV2-and-trace.md#%E5%B5%8C%E5%A5%97%E7%B1%BB%E5%9C%BA%E6%99%AF</a>  </p>
<h4 id="3-How-to-get-the-exception-URL-when-handling-SSLError-events-in-HarmonyOS-WebView"><a href="#3-How-to-get-the-exception-URL-when-handling-SSLError-events-in-HarmonyOS-WebView" class="headerlink" title="3. How to get the exception URL when handling SSLError events in HarmonyOS WebView?"></a>3. How to get the exception URL when handling SSLError events in HarmonyOS WebView?</h4><p>The <code>onSslErrorEventReceive</code> method of the Web component does not provide a way to get the URL with the certificate exception in the <code>event</code>. How can we obtain and display this URL to the user?  </p>
<p>Use <code>onSslErrorEvent</code> to get the URL during SSLError. Refer to the documentation:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-web-V5#ZH-CN_TOPIC_0000001930757269__onsslerrorevent12">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-web-V5#ZH-CN_TOPIC_0000001930757269__onsslerrorevent12</a>  </p>
<h4 id="4-Using-taskpool-to-open-a-thread-for-file-operations-and-parsing-with-multiple-singleton-objects-Must-each-singleton-be-set-as-Sendable-for-the-main-thread-to-get-data-Are-there-other-solutions"><a href="#4-Using-taskpool-to-open-a-thread-for-file-operations-and-parsing-with-multiple-singleton-objects-Must-each-singleton-be-set-as-Sendable-for-the-main-thread-to-get-data-Are-there-other-solutions" class="headerlink" title="4. Using taskpool to open a thread for file operations and parsing, with multiple singleton objects. Must each singleton be set as Sendable for the main thread to get data? Are there other solutions?"></a>4. Using taskpool to open a thread for file operations and parsing, with multiple singleton objects. Must each singleton be set as Sendable for the main thread to get data? Are there other solutions?</h4><ul>
<li><p>If the main thread and taskpool need to read&#x2F;write the singleton together, both must set it as Sendable and pass it. If the singleton is obtained via different threads (e.g., calling a singleton getter from both), inconsistencies may occur. Refer to the solution:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-sendable-module-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-sendable-module-V5</a>  </p>
</li>
<li><p>To pass simple-type data from the singleton to the main thread, besides returning via taskpool execution, use Emitter:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/itc-with-emitter-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/itc-with-emitter-V5</a></p>
</li>
</ul>
<h4 id="5-How-to-get-the-size-of-an-image-downloaded-from-the-network-and-convert-the-data-stream-to-a-PixelMap-in-HarmonyOS"><a href="#5-How-to-get-the-size-of-an-image-downloaded-from-the-network-and-convert-the-data-stream-to-a-PixelMap-in-HarmonyOS" class="headerlink" title="5. How to get the size of an image downloaded from the network and convert the data stream to a PixelMap in HarmonyOS?"></a>5. How to get the size of an image downloaded from the network and convert the data stream to a PixelMap in HarmonyOS?</h4><ul>
<li><p>Decode the image stream into a PixelMap using ImageSource. Refer to:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/image-overview-0000001821000129">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/image-overview-0000001821000129</a>  </p>
</li>
<li><p>Get the image size via the <code>onComplete</code> event of the Image component, which triggers when image data is loaded and decoded successfully, returning the loaded dimensions. Refer to:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-image">https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-image</a></p>
</li>
</ul>
<p><strong>Note</strong>: For official API details, always refer to the latest HarmonyOS documentation.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/29/4123-Daily-HarmonyOS-Next-Knowledge-Subwindow-Orientation-RichEdit-Center-Alignment-Issue-Offline-Resource-Caching-for-Web-JSON-to-Object-Method-Loss-Listening-to-Content-Changes-in-State-Variable-Arrays/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/29/4123-Daily-HarmonyOS-Next-Knowledge-Subwindow-Orientation-RichEdit-Center-Alignment-Issue-Offline-Resource-Caching-for-Web-JSON-to-Object-Method-Loss-Listening-to-Content-Changes-in-State-Variable-Arrays/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] Subwindow Orientation, RichEdit Center Alignment Issue, Offline Resource Caching for Web, JSON to Object Method Loss, Listening to Content Changes in State Variable Arrays</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-29 00:04:59 / Modified: 00:05:15" itemprop="dateCreated datePublished" datetime="2025-06-29T00:04:59+08:00">2025-06-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Daily-HarmonyOS-Knowledge-Subwindow-Orientation-RichEdit-Center-Alignment-Issue-Offline-Resource-Caching-for-Web-JSON-to-Object-Method-Loss-Listening-to-Content-Changes-in-State-Variable-Arrays"><a href="#Daily-HarmonyOS-Knowledge-Subwindow-Orientation-RichEdit-Center-Alignment-Issue-Offline-Resource-Caching-for-Web-JSON-to-Object-Method-Loss-Listening-to-Content-Changes-in-State-Variable-Arrays" class="headerlink" title="[Daily HarmonyOS Knowledge] Subwindow Orientation, RichEdit Center Alignment Issue, Offline Resource Caching for Web, JSON to Object Method Loss, Listening to Content Changes in State Variable Arrays"></a>[Daily HarmonyOS Knowledge] Subwindow Orientation, RichEdit Center Alignment Issue, Offline Resource Caching for Web, JSON to Object Method Loss, Listening to Content Changes in State Variable Arrays</h1><h4 id="1-HarmonyOS-Subwindow-display-orientation-setting-does-not-take-effect"><a href="#1-HarmonyOS-Subwindow-display-orientation-setting-does-not-take-effect" class="headerlink" title="1. HarmonyOS: Subwindow display orientation setting does not take effect?"></a>1. HarmonyOS: Subwindow display orientation setting does not take effect?</h4><p>The subwindow’s <code>getPreferredOrientation</code> returns landscape, indicating the setting is correct, but the UI still displays in portrait.  </p>
<p><strong>Solution</strong>: Set the main window’s orientation directly. Refer to the demo:  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">import window from &#x27;@ohos.window&#x27;;</span><br><span class="line"></span><br><span class="line">@Entry</span><br><span class="line">@Component</span><br><span class="line">struct Index &#123;</span><br><span class="line">  @State message: string = &#x27;Hello World&#x27;;</span><br><span class="line"></span><br><span class="line">  build() &#123;</span><br><span class="line">    Row() &#123;</span><br><span class="line">      Column() &#123;</span><br><span class="line">        Text(&#x27;Reverse Landscape&#x27;)</span><br><span class="line">          .fontSize(50)</span><br><span class="line">          .fontWeight(FontWeight.Bold)</span><br><span class="line">          .onClick(async ()=&gt;&#123;</span><br><span class="line"></span><br><span class="line">            try &#123;</span><br><span class="line">              const topWindow = await window.getLastWindow(getContext(this));</span><br><span class="line">              console.info(&#x27;Succeeded in obtaining the top window. Data: &#x27; + JSON.stringify(topWindow));</span><br><span class="line">              await topWindow.setPreferredOrientation(window.Orientation.LANDSCAPE_INVERTED);</span><br><span class="line">              console.info(&#x27;Succeeded in setting window orientation.&#x27;);</span><br><span class="line">            &#125; catch (error) &#123;</span><br><span class="line">              console.error(&#x27;Failed to obtain or set the top window. Cause: &#x27; + JSON.stringify(error));</span><br><span class="line">            &#125;</span><br><span class="line">            /*window.getLastWindow(getContext(this),(err,win)=&gt;&#123;</span><br><span class="line">              win.setPreferredOrientation(window.Orientation.LANDSCAPE_INVERTED)</span><br><span class="line">            &#125;)*/</span><br><span class="line">          &#125;)</span><br><span class="line"></span><br><span class="line">        Text(&quot;Portrait&quot;)</span><br><span class="line">          .fontSize(50)</span><br><span class="line">          .fontWeight(FontWeight.Bold)</span><br><span class="line">          .onClick(async ()=&gt;&#123;</span><br><span class="line">            try &#123;</span><br><span class="line">              const topWindow = await window.getLastWindow(getContext(this));</span><br><span class="line">              console.info(&#x27;Succeeded in obtaining the top window. Data: &#x27; + JSON.stringify(topWindow));</span><br><span class="line">              await topWindow.setPreferredOrientation(window.Orientation.PORTRAIT);</span><br><span class="line">              console.info(&#x27;Succeeded in setting window orientation.&#x27;);</span><br><span class="line">            &#125; catch (error) &#123;</span><br><span class="line">              console.error(&#x27;Failed to obtain or set the top window. Cause: &#x27; + JSON.stringify(error));</span><br><span class="line">            &#125;</span><br><span class="line">            /*window.getLastWindow(getContext(this),(err,win)=&gt;&#123;</span><br><span class="line">              win.setPreferredOrientation(window.Orientation.PORTRAIT)</span><br><span class="line">            &#125;)*/</span><br><span class="line">          &#125;)</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line">      .width(&#x27;100%&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">    .height(&#x27;100%&#x27;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line">#### 2. HarmonyOS: RichEditor content is not centered?  </span><br><span class="line">**Reference code**:  </span><br></pre></td></tr></table></figure>
<p>RichEditor({ controller: this.controllerRich})<br>  .width(‘100%’)<br>  .height(40)<br>  .layoutWeight(1)<br>  .borderRadius(10)<br>  .backgroundColor(Color.Red)<br>  .margin({ top: 20 ,left:14,bottom:5})<br>  .key(‘RichEditor’)<br>  .id(‘id’)<br>  .placeholder(‘Platform advocates civilized language, please speak gently~’,{font:{size:12},fontColor:’#999999’})<br>  .defaultFocus(true)<br>  .onReady(() &#x3D;&gt; {<br>    this.controllerRich.addTextSpan(“0123456789\n”, {<br>      style: {<br>        fontColor: Color.Pink,<br>        fontSize: “32”,<br>      },<br>      paragraphStyle: {<br>        textAlign: TextAlign.Center,<br>        leadingMargin: 16<br>      }<br>    })<br>  })</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### 3. HarmonyOS: What is the difference between injectOfflineResources and precompileJavaScript?  </span><br><span class="line">Is `injectOfflineResources` also used to cache local resources for web use, similar to `precompileJavaScript`? Are there differences in underlying implementations, and which has better performance?  </span><br><span class="line"></span><br><span class="line">**Explanation**:  </span><br><span class="line">- `injectOfflineResources`: Injects local offline resources into memory cache to improve initial page loading speed.  </span><br><span class="line">- `precompileJavaScript`: Precompiles JavaScript to generate bytecode cache or updates existing bytecode cache based on provided parameters.  </span><br><span class="line"></span><br><span class="line">These two interfaces differ completely in purpose, definition, and underlying implementation. The former injects resources into memory cache, while the latter compiles JS into bytecode cache. Their performance is not directly comparable.  </span><br><span class="line">**Reference link**: https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-webview-V5#ZH-CN_TOPIC_0000001930676933__precompilejavascript12  </span><br><span class="line"></span><br><span class="line">#### 4. HarmonyOS: When converting JSON to a Class in ArkTS, the Class methods are lost?  </span><br><span class="line">**Issue**: `JSON.parse()` returns a plain object rather than an instance of the `DataBean` class, so it does not include class methods.  </span><br><span class="line"></span><br><span class="line">**Solution**: Manually create a class instance and assign JSON object properties to it.  </span><br><span class="line">**Reference**:  </span><br></pre></td></tr></table></figure>
<p>class DataBean {<br>  code &#x3D; -1;<br>  msg &#x3D; ‘’;</p>
<p>  isOK() {<br>    return this.code &#x3D;&#x3D;&#x3D; 0;<br>  }</p>
<p>  &#x2F;&#x2F; Static method to create a DataBean instance from a JSON string<br>  static fromJson(jsonString: string): DataBean {<br>    const jsonData:ESObject &#x3D; JSON.parse(jsonString);<br>    const dataBean &#x3D; new DataBean();<br>    dataBean.code &#x3D; jsonData.code;<br>    dataBean.msg &#x3D; jsonData.msg;<br>    return dataBean;<br>  }<br>}</p>
<p>let json &#x3D; ‘{“code”:0,”msg”:”success”}’;<br>let dataBean &#x3D; DataBean.fromJson(json);<br>console.log(“test”,dataBean.msg); &#x2F;&#x2F; success<br>console.log(“test”,dataBean.isOK()); &#x2F;&#x2F; true</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### 5. HarmonyOS: Using the @state decorator to listen for property changes in an Array object—what&#x27;s the best practice without adding/deleting/modifying the array?  </span><br><span class="line">Use the `@Observed` and `@ObjectLink` decorators to nest class object property changes.  </span><br><span class="line">**Reference link**: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-observed-and-objectlink-V5#%E5%AF%B9%E8%B1%A1%E6%95%B0%E7%BB%84  </span><br><span class="line"></span><br><span class="line">**Demo**:  </span><br></pre></td></tr></table></figure>
<p>@Observed<br>class InnerMessageVo {<br>  id?: number;<br>  readState?: boolean;</p>
<p>  constructor(id: number, readState: boolean) {<br>    this.id &#x3D; id;<br>    this.readState &#x3D; readState;<br>  }<br>}</p>
<p>@Component<br>struct ViweA {<br>  @ObjectLink a: InnerMessageVo;</p>
<p>  build() {<br>    Row() {<br>      Text(<code>$&#123;this.a.readState&#125;</code>)<br>    }<br>  }<br>}</p>
<p>@Entry<br>@Component<br>struct Index {<br>  @State arr1: InnerMessageVo[] &#x3D; [new InnerMessageVo(1, false), new InnerMessageVo(2, false)]</p>
<p>  build() {<br>    Row() {<br>      Column() {<br>        List() {<br>          ForEach(this.arr1, (item: InnerMessageVo, index: number) &#x3D;&gt; {<br>            ViweA({ a: this.arr1[index] })<br>          })<br>          ListItem() {<br>            Button(‘change’)<br>              .onClick(() &#x3D;&gt; {<br>                console.log(‘false’);<br>                this.arr1[1].readState &#x3D; true<br>              })<br>          }<br>        }<br>      }<br>      .width(‘100%’)<br>    }<br>    .height(‘100%’)<br>  }<br>}<br>&#96;&#96;&#96;</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/29/4122%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Passing-Component-Objects-as-Parameters-Using-2D-in-Worker-Threads-Linking-Tabs-Components-Focus-Control-in-Web-Components-and-Loading-Tibetan-Text-in-Text-Components/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/29/4122%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Passing-Component-Objects-as-Parameters-Using-2D-in-Worker-Threads-Linking-Tabs-Components-Focus-Control-in-Web-Components-and-Loading-Tibetan-Text-in-Text-Components/" class="post-title-link" itemprop="url">【Daily HarmonyOS Next Knowledge】Passing Component Objects as Parameters, Using 2D in Worker Threads, Linking Tabs Components, Focus Control in Web Components, and Loading Tibetan Text in Text Components</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-29 00:03:49 / Modified: 09:36:55" itemprop="dateCreated datePublished" datetime="2025-06-29T00:03:49+08:00">2025-06-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="【Daily-HarmonyOS-Next-Knowledge】Passing-Component-Objects-as-Parameters-Using-2D-in-Worker-Threads-Linking-Tabs-Components-Focus-Control-in-Web-Components-and-Loading-Tibetan-Text-in-Text-Components"><a href="#【Daily-HarmonyOS-Next-Knowledge】Passing-Component-Objects-as-Parameters-Using-2D-in-Worker-Threads-Linking-Tabs-Components-Focus-Control-in-Web-Components-and-Loading-Tibetan-Text-in-Text-Components" class="headerlink" title="【Daily HarmonyOS Next Knowledge】Passing Component Objects as Parameters, Using 2D in Worker Threads, Linking Tabs Components, Focus Control in Web Components, and Loading Tibetan Text in Text Components"></a>【Daily HarmonyOS Next Knowledge】Passing Component Objects as Parameters, Using 2D in Worker Threads, Linking Tabs Components, Focus Control in Web Components, and Loading Tibetan Text in Text Components</h1><h3 id="1-How-to-pass-a-Component-object-as-a-parameter-to-a-class-and-modify-element-visibility-within-the-class-in-HarmonyOS"><a href="#1-How-to-pass-a-Component-object-as-a-parameter-to-a-class-and-modify-element-visibility-within-the-class-in-HarmonyOS" class="headerlink" title="1. How to pass a Component object as a parameter to a class and modify element visibility within the class in HarmonyOS?"></a>1. How to pass a Component object as a parameter to a class and modify element visibility within the class in HarmonyOS?</h3><p>Currently, components cannot be directly passed as parameters. For custom components, you can declare the parameter as <code>builderParam</code> and pass a custom builder instead.</p>
<ul>
<li>Custom build functions: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-builder-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-builder-V5</a></li>
<li>Encapsulating global @Builder: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-wrapbuilder-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-wrapbuilder-V5</a></li>
</ul>
<h3 id="2-Does-CanvasRenderingContext2D-in-HarmonyOS-support-usage-in-TaskPool"><a href="#2-Does-CanvasRenderingContext2D-in-HarmonyOS-support-usage-in-TaskPool" class="headerlink" title="2. Does CanvasRenderingContext2D in HarmonyOS support usage in TaskPool?"></a>2. Does CanvasRenderingContext2D in HarmonyOS support usage in TaskPool?</h3><p>Drawing operations are UI-related and should not be performed in worker threads. If your drawing involves heavy data computation or processing, you can handle the data in a task, return the results to the main thread, and then perform the drawing. Canvas is not officially verified as thread-safe, so direct drawing in worker threads is not recommended.</p>
<p>Reference for thread-safe modules: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/multi-thread-concurrency-overview-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/multi-thread-concurrency-overview-V5</a></p>
<h3 id="3-Tabs-component-inside-bindSheet-does-not联动-with-scroll-events"><a href="#3-Tabs-component-inside-bindSheet-does-not联动-with-scroll-events" class="headerlink" title="3. Tabs component inside bindSheet does not联动 with scroll events?"></a>3. Tabs component inside bindSheet does not联动 with scroll events?</h3><p>This is a layout issue. The Tab and List layouts are not properly overlapped. Scrolling only works when pulling down from the top tabContent. Wrap them in an additional layout layer to fix this, as shown in the code below:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@Builder</span><br><span class="line">sheetBuilder() &#123;</span><br><span class="line">  Column() &#123;</span><br><span class="line">    Tabs() &#123;</span><br><span class="line">      ForEach([1, 2], (value: number) =&gt; &#123;</span><br><span class="line">        TabContent() &#123;</span><br><span class="line">          this.listBuilder()</span><br><span class="line">        &#125;.tabBar(value.toString())</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-How-to-prevent-a-web-page-loaded-in-a-HarmonyOS-Web-component-from-automatically-gaining-focus"><a href="#4-How-to-prevent-a-web-page-loaded-in-a-HarmonyOS-Web-component-from-automatically-gaining-focus" class="headerlink" title="4. How to prevent a web page loaded in a HarmonyOS Web component from automatically gaining focus?"></a>4. How to prevent a web page loaded in a HarmonyOS Web component from automatically gaining focus?</h3><p>Refer to the following API: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-webview-V5#ZH-CN_TOPIC_0000001930676933__oninactive">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-webview-V5#ZH-CN_TOPIC_0000001930676933__oninactive</a></p>
<p><code>requestFocus(): void</code> - Causes the current web page to gain focus.</p>
<p>Example code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">// xxx.ets</span><br><span class="line">import &#123; webview &#125; from &#x27;@kit.ArkWeb&#x27;;</span><br><span class="line">import &#123; BusinessError &#125; from &#x27;@kit.BasicServicesKit&#x27;;</span><br><span class="line"></span><br><span class="line">@Entry</span><br><span class="line">@Component</span><br><span class="line">struct WebComponent &#123;</span><br><span class="line">  controller: webview.WebviewController = new webview.WebviewController();</span><br><span class="line"></span><br><span class="line">  build() &#123;</span><br><span class="line">    Column() &#123;</span><br><span class="line">      Button(&#x27;requestFocus&#x27;)</span><br><span class="line">        .onClick(() =&gt; &#123;</span><br><span class="line">          try &#123;</span><br><span class="line">            this.controller.requestFocus();</span><br><span class="line">          &#125; catch (error) &#123;</span><br><span class="line">            console.error(`ErrorCode: $&#123;(error as BusinessError).code&#125;,  Message: $&#123;(error as BusinessError).message&#125;`);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">      Web(&#123; src: &#x27;www.example.com&#x27;, controller: this.controller &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-Tibetan-text-displays-abnormally-in-HarmonyOS-Text-components"><a href="#5-Tibetan-text-displays-abnormally-in-HarmonyOS-Text-components" class="headerlink" title="5. Tibetan text displays abnormally in HarmonyOS Text components?"></a>5. Tibetan text displays abnormally in HarmonyOS Text components?</h3><p>When using the Text component to display single-line minority language text (e.g., Tibetan) with <code>.maxLines(1)</code> set, there may be excessive leading whitespace. If both <code>.maxLines(1)</code> and <code>.textOverflow(&#123;overflow: TextOverflow.Ellipsis&#125;)</code> are set, the ellipsis may appear at the beginning instead of the end.</p>
<p>To center the text, use <code>.textAlign(TextAlign.Center)</code>. To fix the leading whitespace issue caused by premature ellipsis, use <code>.wordBreak(WordBreak.BREAK_ALL)</code>.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/28/AI-Detailed-Explanation-of-HarmonyOS-Next-Module-json5-Configuration/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/28/AI-Detailed-Explanation-of-HarmonyOS-Next-Module-json5-Configuration/" class="post-title-link" itemprop="url">Detailed Explanation of HarmonyOS Next Module.json5 Configuration</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-28 22:46:16 / Modified: 22:46:47" itemprop="dateCreated datePublished" datetime="2025-06-28T22:46:16+08:00">2025-06-28</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/HarmonyOS-Next-Tech/" itemprop="url" rel="index"><span itemprop="name">HarmonyOS Next Tech</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Detailed-Explanation-of-HarmonyOS-Next-Module-json5-Configuration"><a href="#Detailed-Explanation-of-HarmonyOS-Next-Module-json5-Configuration" class="headerlink" title="Detailed Explanation of HarmonyOS Next Module.json5 Configuration"></a>Detailed Explanation of HarmonyOS Next Module.json5 Configuration</h1><p>In the development of HarmonyOS Next, the <code>module.json5</code> configuration file plays a crucial role. It not only defines the basic attributes of a module but also describes the module’s behavior and characteristics in detail. This article will introduce the structure of the <code>module.json5</code> configuration file and the purposes of each tag through an example.  </p>
<h2 id="Parsing-of-the-Sample-Configuration-File"><a href="#Parsing-of-the-Sample-Configuration-File" class="headerlink" title="Parsing of the Sample Configuration File"></a>Parsing of the Sample Configuration File</h2><p>The following is a typical example of a <code>module.json5</code> configuration file:  </p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;module&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;entry&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;entry&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$string:module_desc&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;mainElement&quot;</span><span class="punctuation">:</span> <span class="string">&quot;EntryAbility&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;deviceTypes&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="string">&quot;tv&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;tablet&quot;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;deliveryWithInstall&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;installationFree&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;pages&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$profile:main_pages&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;virtualMachine&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ark&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;metadata&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;string&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;string&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;resource&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$profile:distributionFilter_config&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;abilities&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;EntryAbility&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;srcEntry&quot;</span><span class="punctuation">:</span> <span class="string">&quot;./ets/entryability/EntryAbility.ts&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$string:EntryAbility_desc&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;icon&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$media:icon&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$string:EntryAbility_label&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;startWindowIcon&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$media:icon&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;startWindowBackground&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$color:start_window_background&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;exported&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;skills&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">          <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;entities&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">              <span class="string">&quot;entity.system.home&quot;</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;actions&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">              <span class="string">&quot;ohos.want.action.home&quot;</span></span><br><span class="line">            <span class="punctuation">]</span></span><br><span class="line">          <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">]</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;requestPermissions&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ohos.abilitydemo.permission.PROVIDER&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;reason&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$string:reason&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;usedScene&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;abilities&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">            <span class="string">&quot;FormAbility&quot;</span></span><br><span class="line">          <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;when&quot;</span><span class="punctuation">:</span> <span class="string">&quot;inuse&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;targetModuleName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;feature&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;targetPriority&quot;</span><span class="punctuation">:</span> <span class="number">50</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;isolationMode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;nonisolationFirst&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### <span class="number">1.</span> `module` Tag  </span><br><span class="line"></span><br><span class="line">The `module` tag is the core part of the `module.json5` file<span class="punctuation">,</span> containing basic information and configurations of the module.  </span><br><span class="line"></span><br><span class="line">#### <span class="number">1.1</span> `name` (Module Name)  </span><br><span class="line">- **Meaning**<span class="punctuation">:</span> Identifies the name of the current module<span class="punctuation">,</span> ensuring uniqueness throughout the application.  </span><br><span class="line">- **Data Type**<span class="punctuation">:</span> String  </span><br><span class="line">- **Is it Optional**<span class="punctuation">:</span> No  </span><br><span class="line">- **Example**<span class="punctuation">:</span> `<span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;entry&quot;</span>`  </span><br><span class="line"></span><br><span class="line">#### <span class="number">1.2</span> `type` (Module Type)  </span><br><span class="line">- **Meaning**<span class="punctuation">:</span> Identifies the type of the current module<span class="punctuation">,</span> with supported values including `entry`<span class="punctuation">,</span> `feature`<span class="punctuation">,</span> `har`<span class="punctuation">,</span> and `shared`.  </span><br><span class="line">- **Data Type**<span class="punctuation">:</span> String  </span><br><span class="line">- **Is it Optional**<span class="punctuation">:</span> No  </span><br><span class="line">- **Example**<span class="punctuation">:</span> `<span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;entry&quot;</span>`  </span><br><span class="line"></span><br><span class="line">#### <span class="number">1.3</span> `description` (Module Description)  </span><br><span class="line">- **Meaning**<span class="punctuation">:</span> Provides a description of the current module<span class="punctuation">,</span> allowing developers to describe its functions and roles.  </span><br><span class="line">- **Data Type**<span class="punctuation">:</span> String  </span><br><span class="line">- **Is it Optional**<span class="punctuation">:</span> Yes<span class="punctuation">,</span> with a default empty value  </span><br><span class="line">- **Example**<span class="punctuation">:</span> `<span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$string:module_desc&quot;</span>`  </span><br><span class="line"></span><br><span class="line">#### <span class="number">1.4</span> `mainElement` (Main Element)  </span><br><span class="line">- **Meaning**<span class="punctuation">:</span> Identifies the name of the entry UIAbility or ExtensionAbility of the current module.  </span><br><span class="line">- **Data Type**<span class="punctuation">:</span> String  </span><br><span class="line">- **Is it Optional**<span class="punctuation">:</span> Yes<span class="punctuation">,</span> with a default empty value  </span><br><span class="line">- **Example**<span class="punctuation">:</span> `<span class="attr">&quot;mainElement&quot;</span><span class="punctuation">:</span> <span class="string">&quot;EntryAbility&quot;</span>`  </span><br><span class="line"></span><br><span class="line">#### <span class="number">1.5</span> `deviceTypes` (Device Types)  </span><br><span class="line">- **Meaning**<span class="punctuation">:</span> Specifies the types of devices on which the current module can run.  </span><br><span class="line">- **Data Type**<span class="punctuation">:</span> String array  </span><br><span class="line">- **Is it Optional**<span class="punctuation">:</span> No  </span><br><span class="line">- **Example**<span class="punctuation">:</span> `<span class="attr">&quot;deviceTypes&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;tv&quot;</span><span class="punctuation">,</span> <span class="string">&quot;tablet&quot;</span><span class="punctuation">]</span>`  </span><br><span class="line"></span><br><span class="line">#### <span class="number">1.6</span> `deliveryWithInstall` (Install with Package)  </span><br><span class="line">- **Meaning**<span class="punctuation">:</span> Indicates whether the current module is installed when the user actively installs the application.  </span><br><span class="line">- **Data Type**<span class="punctuation">:</span> Boolean  </span><br><span class="line">- **Is it Optional**<span class="punctuation">:</span> No  </span><br><span class="line">- **Example**<span class="punctuation">:</span> `<span class="attr">&quot;deliveryWithInstall&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span>`  </span><br><span class="line"></span><br><span class="line">#### <span class="number">1.7</span> `installationFree` (Install-Free Feature)  </span><br><span class="line">- **Meaning**<span class="punctuation">:</span> Indicates whether the current module supports the install-free feature.  </span><br><span class="line">- **Data Type**<span class="punctuation">:</span> Boolean  </span><br><span class="line">- **Is it Optional**<span class="punctuation">:</span> No  </span><br><span class="line">- **Example**<span class="punctuation">:</span> `<span class="attr">&quot;installationFree&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span>`  </span><br><span class="line"></span><br><span class="line">#### <span class="number">1.8</span> `pages` (Page Configuration)  </span><br><span class="line">- **Meaning**<span class="punctuation">:</span> References the profile resource of the current module<span class="punctuation">,</span> used to list information about each page.  </span><br><span class="line">- **Data Type**<span class="punctuation">:</span> String  </span><br><span class="line">- **Is it Optional**<span class="punctuation">:</span> Required in scenarios with UIAbility  </span><br><span class="line">- **Example**<span class="punctuation">:</span> `<span class="attr">&quot;pages&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$profile:main_pages&quot;</span>`  </span><br><span class="line"></span><br><span class="line">#### <span class="number">1.9</span> `virtualMachine` (Virtual Machine Type)  </span><br><span class="line">- **Meaning**<span class="punctuation">:</span> Specifies the type of target virtual machine where the current module runs.  </span><br><span class="line">- **Data Type**<span class="punctuation">:</span> String  </span><br><span class="line">- **Is it Optional**<span class="punctuation">:</span> Automatically inserted by the IDE when building HAP  </span><br><span class="line">- **Example**<span class="punctuation">:</span> `<span class="attr">&quot;virtualMachine&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ark&quot;</span>`  </span><br><span class="line"></span><br><span class="line">#### <span class="number">1.10</span> `metadata` (Metadata)  </span><br><span class="line">- **Meaning**<span class="punctuation">:</span> Stores custom metadata for the current module.  </span><br><span class="line">- **Data Type**<span class="punctuation">:</span> Object array  </span><br><span class="line">- **Is it Optional**<span class="punctuation">:</span> Yes<span class="punctuation">,</span> with a default empty value  </span><br><span class="line">- **Example**<span class="punctuation">:</span>  </span><br><span class="line">  ```json</span><br><span class="line">  <span class="attr">&quot;metadata&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;string&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;string&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;resource&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$profile:distributionFilter_config&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br></pre></td></tr></table></figure>

<h4 id="1-11-abilities-UIAbility-Configuration"><a href="#1-11-abilities-UIAbility-Configuration" class="headerlink" title="1.11 abilities (UIAbility Configuration)"></a>1.11 <code>abilities</code> (UIAbility Configuration)</h4><ul>
<li><strong>Meaning</strong>: Describes the configuration information of UIAbility components in the current module.  </li>
<li><strong>Data Type</strong>: Object array  </li>
<li><strong>Is it Optional</strong>: Yes, with a default empty value  </li>
<li><strong>Example</strong>:  <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;abilities&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;EntryAbility&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;srcEntry&quot;</span><span class="punctuation">:</span> <span class="string">&quot;./ets/entryability/EntryAbility.ts&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$string:EntryAbility_desc&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;icon&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$media:icon&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$string:EntryAbility_label&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;startWindowIcon&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$media:icon&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;startWindowBackground&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$color:start_window_background&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;exported&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;skills&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;entities&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">          <span class="string">&quot;entity.system.home&quot;</span></span><br><span class="line">        <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;actions&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">          <span class="string">&quot;ohos.want.action.home&quot;</span></span><br><span class="line">        <span class="punctuation">]</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="1-12-requestPermissions-Permission-Requests"><a href="#1-12-requestPermissions-Permission-Requests" class="headerlink" title="1.12 requestPermissions (Permission Requests)"></a>1.12 <code>requestPermissions</code> (Permission Requests)</h4><ul>
<li><strong>Meaning</strong>: Lists the permissions that the current application needs to request from the system at runtime.  </li>
<li><strong>Data Type</strong>: Object array  </li>
<li><strong>Is it Optional</strong>: Yes, with a default empty value  </li>
<li><strong>Example</strong>:  <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;requestPermissions&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ohos.abilitydemo.permission.PROVIDER&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;reason&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$string:reason&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;usedScene&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;abilities&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">&quot;FormAbility&quot;</span></span><br><span class="line">      <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;when&quot;</span><span class="punctuation">:</span> <span class="string">&quot;inuse&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="2-Other-Top-Level-Tags"><a href="#2-Other-Top-Level-Tags" class="headerlink" title="2. Other Top-Level Tags"></a>2. Other Top-Level Tags</h3><h4 id="2-1-targetModuleName-Target-Module-Name"><a href="#2-1-targetModuleName-Target-Module-Name" class="headerlink" title="2.1 targetModuleName (Target Module Name)"></a>2.1 <code>targetModuleName</code> (Target Module Name)</h4><ul>
<li><strong>Meaning</strong>: Identifies the target module specified by the current package, ensuring uniqueness throughout the application.  </li>
<li><strong>Data Type</strong>: String  </li>
<li><strong>Is it Optional</strong>: Yes, with a default empty value  </li>
<li><strong>Example</strong>: <code>&quot;targetModuleName&quot;: &quot;feature&quot;</code></li>
</ul>
<h4 id="2-2-targetPriority-Target-Priority"><a href="#2-2-targetPriority-Target-Priority" class="headerlink" title="2.2 targetPriority (Target Priority)"></a>2.2 <code>targetPriority</code> (Target Priority)</h4><ul>
<li><strong>Meaning</strong>: Specifies the priority of the current module, with a value range of 1 to 100.  </li>
<li><strong>Data Type</strong>: Integer  </li>
<li><strong>Is it Optional</strong>: Yes, with a default value of 1  </li>
<li><strong>Example</strong>: <code>&quot;targetPriority&quot;: 50</code></li>
</ul>
<h4 id="2-3-isolationMode-Multiprocess-Configuration"><a href="#2-3-isolationMode-Multiprocess-Configuration" class="headerlink" title="2.3 isolationMode (Multiprocess Configuration)"></a>2.3 <code>isolationMode</code> (Multiprocess Configuration)</h4><ul>
<li><strong>Meaning</strong>: Defines the multiprocess configuration for the current module.  </li>
<li><strong>Data Type</strong>: String  </li>
<li><strong>Is it Optional</strong>: Yes, with a default value of <code>nonisolationFirst</code>  </li>
<li><strong>Example</strong>: <code>&quot;isolationMode&quot;: &quot;nonisolationFirst&quot;</code></li>
</ul>
<h2 id="Detailed-Tag-Descriptions"><a href="#Detailed-Tag-Descriptions" class="headerlink" title="Detailed Tag Descriptions"></a>Detailed Tag Descriptions</h2><h3 id="2-1-abilities-Tag"><a href="#2-1-abilities-Tag" class="headerlink" title="2.1 abilities Tag"></a>2.1 <code>abilities</code> Tag</h3><p>The <code>abilities</code> tag describes the configuration information of UIAbility components.  </p>
<h4 id="2-1-1-name-UIAbility-Name"><a href="#2-1-1-name-UIAbility-Name" class="headerlink" title="2.1.1 name (UIAbility Name)"></a>2.1.1 <code>name</code> (UIAbility Name)</h4><ul>
<li><strong>Meaning</strong>: Identifies the name of the current UIAbility component, ensuring uniqueness throughout the application.  </li>
<li><strong>Data Type</strong>: String  </li>
<li><strong>Is it Optional</strong>: No  </li>
<li><strong>Example</strong>: <code>&quot;name&quot;: &quot;EntryAbility&quot;</code></li>
</ul>
<h4 id="2-1-2-srcEntry-Entry-Code-Path"><a href="#2-1-2-srcEntry-Entry-Code-Path" class="headerlink" title="2.1.2 srcEntry (Entry Code Path)"></a>2.1.2 <code>srcEntry</code> (Entry Code Path)</h4><ul>
<li><strong>Meaning</strong>: Specifies the code path of the entry UIAbility.  </li>
<li><strong>Data Type</strong>: String  </li>
<li><strong>Is it Optional</strong>: No  </li>
<li><strong>Example</strong>: <code>&quot;srcEntry&quot;: &quot;./ets/entryability/EntryAbility.ts&quot;</code></li>
</ul>
<h4 id="2-1-3-launchType-Launch-Mode"><a href="#2-1-3-launchType-Launch-Mode" class="headerlink" title="2.1.3 launchType (Launch Mode)"></a>2.1.3 <code>launchType</code> (Launch Mode)</h4><ul>
<li><strong>Meaning</strong>: Defines the launch mode of the current UIAbility component.  </li>
<li><strong>Data Type</strong>: String  </li>
<li><strong>Is it Optional</strong>: Yes, with a default value of <code>singleton</code>  </li>
<li><strong>Example</strong>: <code>&quot;launchType&quot;: &quot;singleton&quot;</code></li>
</ul>
<h4 id="2-1-4-description-UIAbility-Description"><a href="#2-1-4-description-UIAbility-Description" class="headerlink" title="2.1.4 description (UIAbility Description)"></a>2.1.4 <code>description</code> (UIAbility Description)</h4><ul>
<li><strong>Meaning</strong>: Provides a description of the current UIAbility component.  </li>
<li><strong>Data Type</strong>: String  </li>
<li><strong>Is it Optional</strong>: Yes, with a default empty value  </li>
<li><strong>Example</strong>: <code>&quot;description&quot;: &quot;$string:EntryAbility_desc&quot;</code></li>
</ul>
<h4 id="2-1-5-icon-UIAbility-Icon"><a href="#2-1-5-icon-UIAbility-Icon" class="headerlink" title="2.1.5 icon (UIAbility Icon)"></a>2.1.5 <code>icon</code> (UIAbility Icon)</h4><ul>
<li><strong>Meaning</strong>: Specifies the icon of the current UIAbility component.  </li>
<li><strong>Data Type</strong>: String  </li>
<li><strong>Is it Optional</strong>: Yes, with a default empty value  </li>
<li><strong>Example</strong>: <code>&quot;icon&quot;: &quot;$media:icon&quot;</code></li>
</ul>
<h4 id="2-1-6-label-UIAbility-Label"><a href="#2-1-6-label-UIAbility-Label" class="headerlink" title="2.1.6 label (UIAbility Label)"></a>2.1.6 <code>label</code> (UIAbility Label)</h4><ul>
<li><strong>Meaning</strong>: Defines the name displayed to users for the current UIAbility component.  </li>
<li><strong>Data Type</strong>: String  </li>
<li><strong>Is it Optional</strong>: Yes, with a default empty value  </li>
<li><strong>Example</strong>: <code>&quot;label&quot;: &quot;$string:EntryAbility_label&quot;</code></li>
</ul>
<h4 id="2-1-7-skills-Capabilities"><a href="#2-1-7-skills-Capabilities" class="headerlink" title="2.1.7 skills (Capabilities)"></a>2.1.7 <code>skills</code> (Capabilities)</h4><ul>
<li><strong>Meaning</strong>: Lists the set of Want characteristics that the current UIAbility component can receive.  </li>
<li><strong>Data Type</strong>: Object array  </li>
<li><strong>Is it Optional</strong>: Yes, with a default empty value  </li>
<li><strong>Example</strong>:  <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;skills&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;entities&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="string">&quot;entity.system.home&quot;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;actions&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="string">&quot;ohos.want.action.home&quot;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="2-2-metadata-Tag"><a href="#2-2-metadata-Tag" class="headerlink" title="2.2 metadata Tag"></a>2.2 <code>metadata</code> Tag</h3><p>The <code>metadata</code> tag stores custom metadata for HAP.  </p>
<h4 id="2-2-1-name-Metadata-Name"><a href="#2-2-1-name-Metadata-Name" class="headerlink" title="2.2.1 name (Metadata Name)"></a>2.2.1 <code>name</code> (Metadata Name)</h4><ul>
<li><strong>Meaning</strong>: Identifies the name of the data item.  </li>
<li><strong>Data Type</strong>: String  </li>
<li><strong>Is it Optional</strong>: Yes, with a default empty value  </li>
<li><strong>Example</strong>: <code>&quot;name&quot;: &quot;string&quot;</code></li>
</ul>
<h4 id="2-2-2-value-Metadata-Value"><a href="#2-2-2-value-Metadata-Value" class="headerlink" title="2.2.2 value (Metadata Value)"></a>2.2.2 <code>value</code> (Metadata Value)</h4><ul>
<li><strong>Meaning</strong>: Specifies the value of the data item.  </li>
<li><strong>Data Type</strong>: String  </li>
<li><strong>Is it Optional</strong>: Yes, with a default empty value  </li>
<li><strong>Example</strong>: <code>&quot;value&quot;: &quot;string&quot;</code></li>
</ul>
<h4 id="2-2-3-resource-Resource-Reference"><a href="#2-2-3-resource-Resource-Reference" class="headerlink" title="2.2.3 resource (Resource Reference)"></a>2.2.3 <code>resource</code> (Resource Reference)</h4><ul>
<li><strong>Meaning</strong>: References user-defined data, with the content being the resource index of the data.  </li>
<li><strong>Data Type</strong>: String  </li>
<li><strong>Is it Optional</strong>: Yes, with a default empty value  </li>
<li><strong>Example</strong>: <code>&quot;resource&quot;: &quot;$profile:distributionFilter_config&quot;</code></li>
</ul>
<h3 id="2-3-requestPermissions-Tag"><a href="#2-3-requestPermissions-Tag" class="headerlink" title="2.3 requestPermissions Tag"></a>2.3 <code>requestPermissions</code> Tag</h3><p>The <code>requestPermissions</code> tag lists the permissions that the current application needs to request from the system at runtime.  </p>
<h4 id="2-3-1-name-Permission-Name"><a href="#2-3-1-name-Permission-Name" class="headerlink" title="2.3.1 name (Permission Name)"></a>2.3.1 <code>name</code> (Permission Name)</h4><ul>
<li><strong>Meaning</strong>: Identifies the custom permission information for the current UIAbility component.  </li>
<li><strong>Data Type</strong>: String  </li>
<li><strong>Is it Optional</strong>: Yes, with a default empty value  </li>
<li><strong>Example</strong>: <code>&quot;name&quot;: &quot;ohos.abilitydemo.permission.PROVIDER&quot;</code></li>
</ul>
<h4 id="2-3-2-reason-Permission-Request-Reason"><a href="#2-3-2-reason-Permission-Request-Reason" class="headerlink" title="2.3.2 reason (Permission Request Reason)"></a>2.3.2 <code>reason</code> (Permission Request Reason)</h4><ul>
<li><strong>Meaning</strong>: States the reason for the permission request.  </li>
<li><strong>Data Type</strong>: String  </li>
<li><strong>Is it Optional</strong>: Yes, with a default empty value  </li>
<li><strong>Example</strong>: <code>&quot;reason&quot;: &quot;$string:reason&quot;</code></li>
</ul>
<h4 id="2-3-3-usedScene-Usage-Scenario"><a href="#2-3-3-usedScene-Usage-Scenario" class="headerlink" title="2.3.3 usedScene (Usage Scenario)"></a>2.3.3 <code>usedScene</code> (Usage Scenario)</h4><ul>
<li><strong>Meaning</strong>: Defines the scenario where the permission is used.  </li>
<li><strong>Data Type</strong>: Object  </li>
<li><strong>Is it Optional</strong>: Yes, with a default empty value  </li>
<li><strong>Example</strong>:  <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;usedScene&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;abilities&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;FormAbility&quot;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;when&quot;</span><span class="punctuation">:</span> <span class="string">&quot;inuse&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>The <code>module.json5</code> configuration file is an indispensable part of HarmonyOS Next application development. Through reasonable configuration, developers can achieve module independence, multiprocess management, permission control, and other functions. This article helps developers better understand and apply the <code>module.json5</code> configuration file through detailed tag descriptions and examples, enabling them to build efficient and stable HarmonyOS Next applications.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/27/A-Mastering-DevEco-Studio-Efficiently-Implementing-Glue-Code-Between-ArkTS-and-C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/27/A-Mastering-DevEco-Studio-Efficiently-Implementing-Glue-Code-Between-ArkTS-and-C/" class="post-title-link" itemprop="url">Mastering DevEco Studio: Efficiently Implementing Glue Code Between ArkTS and C++</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-27 14:13:57 / Modified: 14:16:36" itemprop="dateCreated datePublished" datetime="2025-06-27T14:13:57+08:00">2025-06-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/HarmonyOS-Next-Tech/" itemprop="url" rel="index"><span itemprop="name">HarmonyOS Next Tech</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Mastering-DevEco-Studio-Efficiently-Implementing-Glue-Code-Between-ArkTS-and-C"><a href="#Mastering-DevEco-Studio-Efficiently-Implementing-Glue-Code-Between-ArkTS-and-C" class="headerlink" title="Mastering DevEco Studio: Efficiently Implementing Glue Code Between ArkTS and C++"></a>Mastering DevEco Studio: Efficiently Implementing Glue Code Between ArkTS and C++</h1><h3 id="1-Background-Introduction"><a href="#1-Background-Introduction" class="headerlink" title="1. Background Introduction"></a>1. Background Introduction</h3><p>HarmonyOS primarily offers two development languages: ArkTS and C++.</p>
<ul>
<li><p><strong>ArkTS</strong> is the preferred main application development language for HarmonyOS. It extends the TypeScript (TS) ecosystem with additional features tailored for application development, maintaining the basic style of TS while enhancing static checks and analysis during development through standardized definitions. This improves program stability and performance. ArkTS is well-suited for efficient UI interface development scenarios.</p>
</li>
<li><p><strong>C++</strong> is supported through the NDK (Native Development Kit) toolset. The NDK is a collection of native APIs, corresponding compilation scripts, and toolchains provided by the HarmonyOS SDK, enabling developers to implement critical application functionalities using C or C++. The NDK only covers some of HarmonyOS’s basic underlying capabilities, such as the C runtime base library (libc), graphics libraries, window systems, multimedia, compression libraries, and Node-API for cross-language interoperability between ArkTS&#x2F;JS and C. It does not provide the complete capabilities of ArkTS&#x2F;JS APIs. C++ is suitable for the following scenarios:</p>
<ul>
<li>Performance-sensitive scenarios, such as gaming and physics simulations, which are compute-intensive.</li>
<li>Scenarios requiring the reuse of existing C or C++ libraries.</li>
<li>Scenarios needing specialized libraries tailored to CPU features, such as Neon acceleration.</li>
</ul>
</li>
</ul>
<p>Some capabilities in HarmonyOS are only available through C++ interfaces, such as audio and video encoding&#x2F;decoding. Notably, the latest HarmonyOS 5.0.1 version primarily introduces new capabilities through C APIs. To fully leverage HarmonyOS’s capabilities and become a proficient HarmonyOS developer, mastering mixed development with ArkTS and C++ is essential.</p>
<p>Calling C++ from ArkTS involves a series of complex processes. This article focuses on introducing a one-click tool provided by DevEco Studio to generate cross-language “glue” code, helping developers improve efficiency.</p>
<h3 id="2-ArkTS-Calling-C-Methods-Process"><a href="#2-ArkTS-Calling-C-Methods-Process" class="headerlink" title="2. ArkTS Calling C++ Methods Process"></a>2. ArkTS Calling C++ Methods Process</h3><p>Similar to Android’s JNI, HarmonyOS enables ArkTS to call C++ methods primarily through NAPI. This section uses a Native C++ project demo created in DevEco Studio to illustrate the process of ArkTS calling C++ methods. The following diagram shows the code structure after creating a Native C++ project:</p>
<p><img src="/../images/%E6%8E%8C%E6%8F%A1DevEco%20Studio%E8%BF%99%E4%B8%80%E5%8A%9F%E8%83%BD%EF%BC%8C%E9%AB%98%E6%95%88%E5%AE%9E%E7%8E%B0ArkTS%E4%B8%8EC++%E8%83%B6%E6%B0%B4%E4%BB%A3%E7%A0%81.png" alt="Mastering DevEco Studio: Efficiently Implementing Glue Code Between ArkTS and C++"></p>
<p>The project mainly consists of three parts:</p>
<ul>
<li><p><strong>types</strong>:</p>
<ul>
<li><code>Index.d.ts</code>: Contains the C++ interfaces exposed to ArkTS.</li>
<li><code>oh-package.json5</code>: Specifies the dynamic library name and the path to the <code>Index.d.ts</code> file.</li>
</ul>
</li>
<li><p><strong>CMakeLists.txt</strong>: The C++ code build script.</p>
</li>
<li><p><strong>napi_init.cpp</strong>: The C++ implementation code.</p>
</li>
</ul>
<p>Developing a Native module generally involves implementing the corresponding modules mentioned above.</p>
<h4 id="2-1-Declaring-C-Interfaces-in-Index-d-ts"><a href="#2-1-Declaring-C-Interfaces-in-Index-d-ts" class="headerlink" title="2.1 Declaring C++ Interfaces in Index.d.ts"></a>2.1 Declaring C++ Interfaces in Index.d.ts</h4><p>The declared functions are used for both C++ implementation and ArkTS calls.</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">add</span>: <span class="function">(<span class="params"><span class="attr">a</span>: <span class="built_in">number</span>, <span class="attr">b</span>: <span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">number</span>;</span><br></pre></td></tr></table></figure>

<h4 id="2-2-Registering-and-Implementing-Declared-Methods-in-C"><a href="#2-2-Registering-and-Implementing-Declared-Methods-in-C" class="headerlink" title="2.2 Registering and Implementing Declared Methods in C++"></a>2.2 Registering and Implementing Declared Methods in C++</h4><p>First, register the methods declared in <code>Index.d.ts</code> in the NAPI’s <code>Init</code> method:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">EXTERN_C_START  </span></span><br><span class="line"><span class="function"><span class="type">static</span> napi_value <span class="title">Init</span><span class="params">(napi_env env, napi_value exports)</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    napi_property_descriptor desc[] = &#123;  </span><br><span class="line">        &#123; <span class="string">&quot;add&quot;</span>, <span class="literal">nullptr</span>, Add, <span class="literal">nullptr</span>, <span class="literal">nullptr</span>, <span class="literal">nullptr</span>, napi_default, <span class="literal">nullptr</span> &#125;  </span><br><span class="line">    &#125;;  </span><br><span class="line">    <span class="built_in">napi_define_properties</span>(env, exports, <span class="built_in">sizeof</span>(desc) / <span class="built_in">sizeof</span>(desc[<span class="number">0</span>]), desc);  </span><br><span class="line">    <span class="keyword">return</span> exports;  </span><br><span class="line">&#125;  </span><br><span class="line">EXTERN_C_END</span><br></pre></td></tr></table></figure>

<p><code>napi_property_descriptor</code> is an array that can implement multiple methods. In the example, the string <code>&quot;add&quot;</code> represents the <code>add</code> method declared in <code>Index.d.ts</code>, and the third parameter <code>Add</code> is the name of the method implemented in C++. Next, implement the <code>Add</code> method:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">static</span> napi_value <span class="title">Add</span><span class="params">(napi_env env, napi_callback_info info)</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    <span class="type">size_t</span> argc = <span class="number">2</span>;  </span><br><span class="line">    napi_value args[<span class="number">2</span>] = &#123;<span class="literal">nullptr</span>&#125;;  </span><br><span class="line">  </span><br><span class="line">    <span class="built_in">napi_get_cb_info</span>(env, info, &amp;argc, args , <span class="literal">nullptr</span>, <span class="literal">nullptr</span>);  </span><br><span class="line">  </span><br><span class="line">    napi_valuetype valuetype0;  </span><br><span class="line">    <span class="built_in">napi_typeof</span>(env, args[<span class="number">0</span>], &amp;valuetype0);  </span><br><span class="line">  </span><br><span class="line">    napi_valuetype valuetype1;  </span><br><span class="line">    <span class="built_in">napi_typeof</span>(env, args[<span class="number">1</span>], &amp;valuetype1);  </span><br><span class="line">  </span><br><span class="line">    <span class="type">double</span> value0;  </span><br><span class="line">    <span class="built_in">napi_get_value_double</span>(env, args[<span class="number">0</span>], &amp;value0);  </span><br><span class="line">  </span><br><span class="line">    <span class="type">double</span> value1;  </span><br><span class="line">    <span class="built_in">napi_get_value_double</span>(env, args[<span class="number">1</span>], &amp;value1);  </span><br><span class="line">  </span><br><span class="line">    napi_value sum;  </span><br><span class="line">    <span class="built_in">napi_create_double</span>(env, value0 + value1, &amp;sum);  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> sum;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The structure of the NAPI implementation method is fixed. The return value must be <code>napi_value</code>, and the parameters must be <code>napi_env</code> and <code>napi_callback_info</code>. The method parses specific parameter information from <code>napi_callback_info</code> to implement the desired functionality.</p>
<h4 id="2-3-Configuring-the-Dynamic-Library-Name-and-C-Source-List-in-CMakeLists-txt"><a href="#2-3-Configuring-the-Dynamic-Library-Name-and-C-Source-List-in-CMakeLists-txt" class="headerlink" title="2.3 Configuring the Dynamic Library Name and C++ Source List in CMakeLists.txt"></a>2.3 Configuring the Dynamic Library Name and C++ Source List in CMakeLists.txt</h4><p><code>add_library</code> specifies the name of the compiled library and the list of C++ code files to be compiled:</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">add_library</span>(entry SHARED napi_init.cpp)</span><br></pre></td></tr></table></figure>

<p>For more information on this, refer to the CMake build tool documentation: <a target="_blank" rel="noopener" href="https://cmake.org/">https://cmake.org/</a></p>
<h4 id="2-4-Calling-the-Declared-Methods-in-ArkTS"><a href="#2-4-Calling-the-Declared-Methods-in-ArkTS" class="headerlink" title="2.4 Calling the Declared Methods in ArkTS"></a>2.4 Calling the Declared Methods in ArkTS</h4><p>Once implemented, you can call the corresponding methods in ArkTS:</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// First, import the dynamic library:</span></span><br><span class="line"><span class="keyword">import</span> testNapi <span class="keyword">from</span> <span class="string">&#x27;libentry.so&#x27;</span>;</span><br><span class="line"><span class="comment">// Call the corresponding add method</span></span><br><span class="line">hilog.<span class="title function_">info</span>(<span class="number">0x0000</span>, <span class="string">&#x27;testTag&#x27;</span>, <span class="string">&#x27;Test NAPI 2 + 3 = %&#123;public&#125;d&#x27;</span>, testNapi.<span class="title function_">add</span>(<span class="number">2</span>, <span class="number">3</span>));</span><br></pre></td></tr></table></figure>

<h3 id="3-DevEco-Studio’s-One-Click-Generation-of-Glue-Code"><a href="#3-DevEco-Studio’s-One-Click-Generation-of-Glue-Code" class="headerlink" title="3. DevEco Studio’s One-Click Generation of Glue Code"></a>3. DevEco Studio’s One-Click Generation of Glue Code</h3><p>From the ArkTS calling C++ methods process outlined above, it’s evident that the process is somewhat cumbersome, requiring handling in three places across two files. Is there a more convenient method? Don’t worry; the highlight of this article is the <strong>cross-language code editing</strong> feature provided by DevEco Studio IDE.</p>
<p>DevEco Studio IDE offers two creation methods:</p>
<ol>
<li>Write function declarations in <code>Index.d.ts</code> and generate C++ functions with one click.</li>
<li>Write C++ function declarations in a C++ header file and generate registration code with one click.</li>
</ol>
<p>The following sections provide detailed explanations of each method.</p>
<h4 id="3-1-Writing-Function-Declarations-in-Index-d-ts-and-Generating-C-Functions-with-One-Click"><a href="#3-1-Writing-Function-Declarations-in-Index-d-ts-and-Generating-C-Functions-with-One-Click" class="headerlink" title="3.1 Writing Function Declarations in Index.d.ts and Generating C++ Functions with One Click"></a>3.1 Writing Function Declarations in Index.d.ts and Generating C++ Functions with One Click</h4><p>After declaring methods in <code>Index.d.ts</code>, the IDE will prompt an error. Hovering over it will display the following prompt:</p>
<p><img src="/../images/%E6%8E%8C%E6%8F%A1DevEco%20Studio%E8%BF%99%E4%B8%80%E5%8A%9F%E8%83%BD%EF%BC%8C%E9%AB%98%E6%95%88%E5%AE%9E%E7%8E%B0ArkTS%E4%B8%8EC++%E8%83%B6%E6%B0%B4%E4%BB%A3%E7%A0%81-1.png" alt="Mastering DevEco Studio: Efficiently Implementing Glue Code Between ArkTS and C++ - 1"></p>
<p>Clicking “Generate native implementation” will quickly generate the registration code and implementation code in C++:</p>
<p><img src="/../images/%E6%8E%8C%E6%8F%A1DevEco%20Studio%E8%BF%99%E4%B8%80%E5%8A%9F%E8%83%BD%EF%BC%8C%E9%AB%98%E6%95%88%E5%AE%9E%E7%8E%B0ArkTS%E4%B8%8EC++%E8%83%B6%E6%B0%B4%E4%BB%A3%E7%A0%81-2.png" alt="Mastering DevEco Studio: Efficiently Implementing Glue Code Between ArkTS and C++ - 2"></p>
<p>This reduces three manual implementations to one, significantly improving efficiency by more than two-thirds.</p>
<h4 id="3-2-Writing-C-Function-Declarations-in-a-C-Header-File-and-Generating-Registration-Code-with-One-Click"><a href="#3-2-Writing-C-Function-Declarations-in-a-C-Header-File-and-Generating-Registration-Code-with-One-Click" class="headerlink" title="3.2 Writing C++ Function Declarations in a C++ Header File and Generating Registration Code with One Click"></a>3.2 Writing C++ Function Declarations in a C++ Header File and Generating Registration Code with One Click</h4><p>To create registration code with one click via C++ function declarations, you first need to create a header file and declare methods within it:</p>
<p><img src="/../images/%E6%8E%8C%E6%8F%A1DevEco%20Studio%E8%BF%99%E4%B8%80%E5%8A%9F%E8%83%BD%EF%BC%8C%E9%AB%98%E6%95%88%E5%AE%9E%E7%8E%B0ArkTS%E4%B8%8EC++%E8%83%B6%E6%B0%B4%E4%BB%A3%E7%A0%81-3.png" alt="Mastering DevEco Studio: Efficiently Implementing Glue Code Between ArkTS and C++ - 3"></p>
<p>Right-click the method and select “Generate”:</p>
<p><img src="/../images/%E6%8E%8C%E6%8F%A1DevEco%20Studio%E8%BF%99%E4%B8%80%E5%8A%9F%E8%83%BD%EF%BC%8C%E9%AB%98%E6%95%88%E5%AE%9E%E7%8E%B0ArkTS%E4%B8%8EC++%E8%83%B6%E6%B0%B4%E4%BB%A3%E7%A0%81-4.png" alt="Mastering DevEco Studio: Efficiently Implementing Glue Code Between ArkTS and C++ - 4"></p>
<p>Then, click on “NAPI”:</p>
<p><img src="/../images/%E6%8E%8C%E6%8F%A1DevEco%20Studio%E8%BF%99%E4%B8%80%E5%8A%9F%E8%83%BD%EF%BC%8C%E9%AB%98%E6%95%88%E5%AE%9E%E7%8E%B0ArkTS%E4%B8%8EC++%E8%83%B6%E6%B0%B4%E4%BB%A3%E7%A0%81-5.png" alt="Mastering DevEco Studio: Efficiently Implementing Glue Code Between ArkTS and C++ - 5"></p>
<p>The registration function and the corresponding NAPI function implementation are automatically generated:</p>
<p><img src="/../images/%E6%8E%8C%E6%8F%A1DevEco%20Studio%E8%BF%99%E4%B8%80%E5%8A%9F%E8%83%BD%EF%BC%8C%E9%AB%98%E6%95%88%E5%AE%9E%E7%8E%B0ArkTS%E4%B8%8EC++%E8%83%B6%E6%B0%B4%E4%BB%A3%E7%A0%81-6.png" alt="Mastering DevEco Studio: Efficiently Implementing Glue Code Between ArkTS and C++ - 6"></p>
<p>The method declaration in <code>Index.d.ts</code> is also automatically generated:</p>
<p><img src="/../images/%E6%8E%8C%E6%8F%A1DevEco%20Studio%E8%BF%99%E4%B8%80%E5%8A%9F%E8%83%BD%EF%BC%8C%E9%AB%98%E6%95%88%E5%AE%9E%E7%8E%B0ArkTS%E4%B8%8EC++%E8%83%B6%E6%B0%B4%E4%BB%A3%E7%A0%81-7.png" alt="Mastering DevEco Studio: Efficiently Implementing Glue Code Between ArkTS and C++ - 7"></p>
<p>With the IDE’s assistance, writing cross-language “glue” code significantly improves efficiency. It’s fair to say that this feature provided by DevEco Studio is quite impressive and considerate for developers.</p>
<p>There are three points to note:</p>
<ol>
<li>The header files supported for one-click code generation include <code>.hpp</code>, <code>.hxx</code>, <code>.hh</code>, and <code>.h</code>.</li>
<li>The NAPI function declarations that can be quickly generated currently support parameter types such as <code>bool</code>, <code>int</code>, <code>string</code>, <code>void</code>, <code>float</code>, <code>double</code>, <code>std::array</code>, and <code>std::vector</code>.</li>
<li>If the project already has a <code>napi_init.cpp</code> file, the <code>Init</code> function within it will be appended. If not, the IDE will automatically create it for you.</li>
</ol>
<h3 id="4-Enhancing-NAPI-Type-Conversion-Code-Writing-in-C-with-AI"><a href="#4-Enhancing-NAPI-Type-Conversion-Code-Writing-in-C-with-AI" class="headerlink" title="4. Enhancing NAPI Type Conversion Code Writing in C++ with AI"></a>4. Enhancing NAPI Type Conversion Code Writing in C++ with AI</h3><p>While the IDE’s automatic generation of cross-language glue code greatly aids Native code development, some developers may still find the TODO code generated to be cumbersome, with many ArkTS and C++ cross-language conversion codes being template-heavy and tedious. Is there a way to improve efficiency?</p>
<p>Taking the automatically generated <code>add</code> code as an example:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">static</span> napi_value <span class="title">Add</span><span class="params">(napi_env env, napi_callback_info info)</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    <span class="type">size_t</span> argc = <span class="number">2</span>;  </span><br><span class="line">    napi_value args[<span class="number">2</span>] = &#123;<span class="literal">nullptr</span>&#125;;  </span><br><span class="line">  </span><br><span class="line">    <span class="built_in">napi_get_cb_info</span>(env, info, &amp;argc, args , <span class="literal">nullptr</span>, <span class="literal">nullptr</span>);  </span><br><span class="line">  </span><br><span class="line">    napi_valuetype valuetype0;  </span><br><span class="line">    <span class="built_in">napi_typeof</span>(env, args[<span class="number">0</span>], &amp;valuetype0);  </span><br><span class="line">  </span><br><span class="line">    napi_valuetype valuetype1;  </span><br><span class="line">    <span class="built_in">napi_typeof</span>(env, args[<span class="number">1</span>], &amp;valuetype1);  </span><br><span class="line">  </span><br><span class="line">    <span class="type">double</span> value0;  </span><br><span class="line">    <span class="built_in">napi_get_value_double</span>(env, args[<span class="number">0</span>], &amp;value0);  </span><br><span class="line">  </span><br><span class="line">    <span class="type">double</span> value1;  </span><br><span class="line">    <span class="built_in">napi_get_value_double</span>(env, args[<span class="number">1</span>], &amp;value1);  </span><br><span class="line">  </span><br><span class="line">    napi_value sum;  </span><br><span class="line">    <span class="built_in">napi_create_double</span>(env, value0 + value1, &amp;sum);  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> sum;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>This code requires parsing two <code>int</code> type parameters from <code>napi_callback_info</code>, performing the operation, and then generating an <code>napi_value</code> to return.</p>
<p>Since this cross-language data type conversion is part of the NAPI protocol, the DevEco CodeGenie plugin also provides excellent support. You can install the Genie plugin in DevEco Studio to help quickly generate C++ implementation code:</p>
<p><img src="/../images/%E6%8E%8C%E6%8F%A1DevEco%20Studio%E8%BF%99%E4%B8%80%E5%8A%9F%E8%83%BD%EF%BC%8C%E9%AB%98%E6%95%88%E5%AE%9E%E7%8E%B0ArkTS%E4%B8%8EC++%E8%83%B6%E6%B0%B4%E4%BB%A3%E7%A0%81-8.png" alt="Mastering DevEco Studio: Efficiently Implementing Glue Code Between ArkTS and C++ - 8"></p>
<p>With just a few “TAB” key presses, the code is almost complete, and you can then implement your business logic as needed.</p>
<h3 id="5-Conclusion"><a href="#5-Conclusion" class="headerlink" title="5. Conclusion"></a>5. Conclusion</h3><p>This article primarily introduced the implementation steps for Native C++ code and the cross-language code editing tools provided by DevEco Studio IDE. These tools enable developers to write only function declarations and generate corresponding initialization registration methods and C++ implementation methods with one click. We hope you will explore and experience these tools to enhance your development efficiency.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/27/A-Embracing-HarmonyOS-Next-Efficient-Use-of-DevEco/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/27/A-Embracing-HarmonyOS-Next-Efficient-Use-of-DevEco/" class="post-title-link" itemprop="url">Embracing HarmonyOS Next: Efficient Use of DevEco</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-27 12:34:08 / Modified: 12:35:47" itemprop="dateCreated datePublished" datetime="2025-06-27T12:34:08+08:00">2025-06-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/HarmonyOS-Next-Tech/" itemprop="url" rel="index"><span itemprop="name">HarmonyOS Next Tech</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Embracing-HarmonyOS-Next-Efficient-Use-of-DevEco"><a href="#Embracing-HarmonyOS-Next-Efficient-Use-of-DevEco" class="headerlink" title="Embracing HarmonyOS Next: Efficient Use of DevEco"></a>Embracing HarmonyOS Next: Efficient Use of DevEco</h1><p>In the past six months, I worked on adapting our IM SDK to HarmonyOS. Now that the system has been launched on the app store alongside the app, I’d like to share some experience and tips from the adaptation process, hoping they will be helpful to others.</p>
<h2 id="1-AI-Assisted-Code-Translation"><a href="#1-AI-Assisted-Code-Translation" class="headerlink" title="1. AI-Assisted Code Translation"></a>1. AI-Assisted Code Translation</h2><p>The biggest difference between an IM SDK and a regular application lies in the amount of logical code. Those familiar with declarative UI know that declarative programming is very AI-friendly, offering high development efficiency. However, it’s less suitable for logic-heavy code. Moreover, the IM system itself has a lot of logic and historical baggage. The new platform’s SDK must also be compatible with these historical logics. Many new team members are unfamiliar with these historical logics, and getting up to speed would be time-consuming. Therefore, directly translating the code from Android and iOS was a good choice. However, manual translation is inefficient and requires proficiency in both Java&#x2F;Objective-C and TypeScript. Leveraging AI proved to be an excellent solution.</p>
<p>ArkTS imposes many constraints on TypeScript, and the foundational models of existing large language models lack this knowledge. Thus, directly translating code into immediately usable code isn’t realistic. Instead, we translated the code according to TypeScript syntax and made minor adjustments afterward. Here’s a prompt I used:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">You are a programming assistant. Convert the Java code I input into TypeScript code, preserving the comments in the code. Change the creation time in the comments to the current time. Initialize variable types by default, and initialize defined entity classes with default values. Replace JsonUtil.toJson() with JsonUtils.toJSONString() and JsonUtil.fromJson with JsonUtils.parse().</span><br></pre></td></tr></table></figure>

<p>This approach ensured that many tool calls in the translated code were directly compatible with the tools we封装 for HarmonyOS.</p>
<h2 id="2-Utilizing-Huawei’s-Official-AI-Tools"><a href="#2-Utilizing-Huawei’s-Official-AI-Tools" class="headerlink" title="2. Utilizing Huawei’s Official AI Tools"></a>2. Utilizing Huawei’s Official AI Tools</h2><p>Currently, programming assistants like GitHub Copilot and Alibaba Tongyi do not support ArkTS. However, after HDC, Huawei opened up its AI-assisted programming tools in DevEco Studio, which can be accessed through <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/activity/101718933685103243/singup">official channels</a>. These tools currently offer three functionalities: knowledge Q&amp;A, code generation, and Universal Cards. Compared to searching through official documentation, AI can significantly boost efficiency. In terms of code completion, it’s not yet on par with GitHub Copilot, but you can manually trigger it using the shortcut <code>alt+\</code>. The model requires that there are more than five lines of valid code within the previous ten lines of the cursor (excluding lines with only <code>&#123;&#125;</code>, <code>()</code>, <code>[]</code>, blank lines, or pure comments) to understand the code context. Here’s a demonstration:</p>
<p><img src="/../images/%E6%8B%A5%E6%8A%B1HarmonyOS%E4%B9%8B%E9%AB%98%E6%95%88%E4%BD%BF%E7%94%A8DevEco.gif" alt="Efficient Use of DevEco"></p>
<p>Although it can’t compete with the highly mature Copilot available in the market, it’s still a great tool for those new to HarmonyOS development.</p>
<h2 id="3-Configuring-Custom-Templates"><a href="#3-Configuring-Custom-Templates" class="headerlink" title="3. Configuring Custom Templates"></a>3. Configuring Custom Templates</h2><p>In Android Studio, when creating a new file, we can automatically generate comments with the author’s name, date, etc., by simply specifying what the file is for. DevEco offers similar configuration options:</p>
<ol>
<li>Open DevEco’s preference settings under the File and Code Template tab, where you can customize Files and Includes.</li>
<li>In the Files section, you can use <code>#parse(&quot;ArkTS Header&quot;)</code> to include custom parts defined in Includes.</li>
</ol>
<p><img src="/../images/%E6%8B%A5%E6%8A%B1HarmonyOS%E4%B9%8B%E9%AB%98%E6%95%88%E4%BD%BF%E7%94%A8DevEco.png" alt="Efficient Use of DevEco"></p>
<p>Using the <code>#parse</code> directive, you can include code snippets in file templates (Files tab). A template can be shared by multiple file templates. Besides static text, code, and comments, you can also use predefined variables that expand like macros into corresponding values.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">/*  </span><br><span class="line">* $&#123;PACKAGE_NAME&#125; The package name where the new file resides  </span><br><span class="line">* $&#123;USER&#125; The current user&#x27;s system login name, e.g., qingkouwei  </span><br><span class="line">* $&#123;DATE&#125; The current system date, e.g., 2024/03/05  </span><br><span class="line">* $&#123;TIME&#125; The current system time, e.g., 11:27  </span><br><span class="line">* $&#123;YEAR&#125; The current year, e.g., 2024  </span><br><span class="line">* $&#123;MONTH&#125; The current month, e.g., 03  </span><br><span class="line">* $&#123;MONTH_NAME_SHORT&#125; The first three letters of the current month, e.g., 2月  </span><br><span class="line">* $&#123;MONTH_NAME_FULL&#125; The full name of the current month, e.g., 二月  </span><br><span class="line">* $&#123;DAY&#125; The day of the current date, e.g., 05  </span><br><span class="line">* $&#123;DAY_NAME_SHORT&#125; The first three letters of the current day of the week, e.g., 周一  </span><br><span class="line">* $&#123;DAY_NAME_FULL&#125; The full name of the current day of the week, e.g., 星期一  </span><br><span class="line">* $&#123;HOUR&#125; The current hour, e.g., 11  </span><br><span class="line">* $&#123;MINUTE&#125; The current minute, e.g., 27  </span><br><span class="line">* $&#123;PROJECT_NAME&#125; The name of the current project, e.g., im_chat_module  </span><br><span class="line">*/</span><br></pre></td></tr></table></figure>

<p>Using templates is quite convenient. They can include text, code, comments, and a variety of predefined variables that automatically expand into the corresponding values.</p>
<p>Want to use your own custom variables? No problem, just use the format <code>$&#123;MY_CUSTOM_VAR&#125;</code>. When creating a new file in the IDE, if there are custom variables, it will prompt you for their values.</p>
<p>Template example:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ArkTS File Template Code</span><br><span class="line"></span><br><span class="line">/**  </span><br><span class="line">* $&#123;PROJECT_NAME&#125;  </span><br><span class="line">* $&#123;FILE_NAME&#125;  </span><br><span class="line">* Created by $&#123;USER&#125; on $&#123;DATE&#125;  </span><br><span class="line">*   </span><br><span class="line">*/</span><br></pre></td></tr></table></figure>

<p>Predefined variables configuration:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#parse(&quot;ArtTS Header&quot;)</span><br><span class="line">* $&#123;DATE&#125; The current system date, e.g., 2024/06/30</span><br><span class="line">* $&#123;PROJECT_NAME&#125; The name of the current project, e.g., my_main_module  </span><br><span class="line">* $&#123;USER&#125; The current user&#x27;s system login name, e.g., qingkouwei  </span><br></pre></td></tr></table></figure>

<p>You can also define custom code blocks, but we generally don’t need them, so I won’t elaborate further.</p>
<h2 id="4-IDE-Configuration-for-Chinese-Display"><a href="#4-IDE-Configuration-for-Chinese-Display" class="headerlink" title="4. IDE Configuration for Chinese Display"></a>4. IDE Configuration for Chinese Display</h2><p>By default, DevEco’s menu and other elements are in English. To display them in Chinese, you need to enable Chinese in the plugins:</p>
<p><img src="/../images/%E6%8B%A5%E6%8A%B1HarmonyOS%E4%B9%8B%E9%AB%98%E6%95%88%E4%BD%BF%E7%94%A8DevEco-1.png" alt="Efficient Use of DevEco - Chinese"></p>
<h2 id="5-Conclusion"><a href="#5-Conclusion" class="headerlink" title="5. Conclusion"></a>5. Conclusion</h2><p>This article shares some very useful tips for adapting old systems, using AI code completion tools, configuring templates, and displaying Chinese in the development process of HarmonyOS. I hope these insights will be beneficial to you.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/27/A-Understanding-What-HarmonyOS-Adds-to-OpenHarmony/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/27/A-Understanding-What-HarmonyOS-Adds-to-OpenHarmony/" class="post-title-link" itemprop="url">Understanding What HarmonyOS Adds to OpenHarmony</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-27 12:30:08 / Modified: 12:31:43" itemprop="dateCreated datePublished" datetime="2025-06-27T12:30:08+08:00">2025-06-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/HarmonyOS-Next-Tech/" itemprop="url" rel="index"><span itemprop="name">HarmonyOS Next Tech</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Understanding-What-HarmonyOS-Adds-to-OpenHarmony"><a href="#Understanding-What-HarmonyOS-Adds-to-OpenHarmony" class="headerlink" title="Understanding What HarmonyOS Adds to OpenHarmony"></a>Understanding What HarmonyOS Adds to OpenHarmony</h1><p>Many people wonder about the relationship between HarmonyOS and OpenHarmony. The simplest answer is that HarmonyOS is a distribution of OpenHarmony. A more detailed explanation would delve into their historical origins:</p>
<p>Huawei open-sourced the foundational capabilities of HarmonyOS and donated them to the OpenAtom Open Source Foundation, officially establishing the OpenHarmony open-source project. This laid the foundation for OpenHarmony’s development and created a shared technical origin for both. Both are designed based on distributed technology, supporting seamless connectivity across devices and aiming to build a unified operating system platform to enable multi-device collaboration and provide users with a better experience.</p>
<p>OpenHarmony is a completely open-source project managed by the OpenAtom Open Source Foundation, targeting global developers and manufacturers. It can be applied to various IoT devices and more scenarios. In contrast, HarmonyOS is Huawei’s commercial version. While some of its source code is open, it is primarily used for Huawei’s own devices and ecosystem, with a focus on consumer-grade smart devices. OpenHarmony emphasizes providing foundational functionalities and frameworks for system development, offering underlying support for the development of different hardware devices and applications. HarmonyOS, on the other hand, builds upon OpenHarmony by further integrating Huawei’s unique services.</p>
<p>This article will explore the specific services Huawei has integrated into HarmonyOS based on OpenHarmony, aiming to provide a comprehensive understanding of the capabilities HarmonyOS has added to OpenHarmony.</p>
<h2 id="OpenHarmony-Architecture-Overview"><a href="#OpenHarmony-Architecture-Overview" class="headerlink" title="OpenHarmony Architecture Overview"></a>OpenHarmony Architecture Overview</h2><p>The official technical architecture diagram of OpenHarmony is as follows:</p>
<p><img src="/../images/%E4%B8%80%E6%96%87%E7%9C%8B%E6%87%82HarmonyOS%E5%9C%A8Openharmony%E5%9F%BA%E7%A1%80%E4%B8%8A%E5%81%9A%E4%BA%86%E4%BB%80%E4%B9%88.png" alt="Understanding What HarmonyOS Adds to OpenHarmony"></p>
<p>It consists of four layers: the Kernel Layer, System Services Layer, Framework Layer, and Application Layer.</p>
<h3 id="Kernel-Layer"><a href="#Kernel-Layer" class="headerlink" title="Kernel Layer"></a>Kernel Layer</h3><p>In addition to the KAL (Kernel Abstraction Layer), the Kernel Layer includes the Driver Subsystem and HDF (Hardware Driver Foundation). HDF can be understood as analogous to Android’s HAL (Hardware Abstraction Layer). Different hardware vendors implement their own hardware drivers while maintaining consistent upper-layer interfaces. Since HarmonyOS runs on Huawei hardware, this layer is undoubtedly proprietary to Huawei.</p>
<h3 id="Framework-Layer-and-System-Services-Layer"><a href="#Framework-Layer-and-System-Services-Layer" class="headerlink" title="Framework Layer and System Services Layer"></a>Framework Layer and System Services Layer</h3><p>HarmonyOS also provides its own capabilities in the Framework Layer and System Services Layer, such as AI capabilities. The Framework Layer offers application development frameworks for multiple languages, including C&#x2F;C++, JS, and the ArkUI framework for JS-based applications, as well as multi-language framework APIs for various software and hardware services. Depending on the degree of system component modularization, this aspect remains consistent between HarmonyOS and OpenHarmony.</p>
<h3 id="Application-Layer"><a href="#Application-Layer" class="headerlink" title="Application Layer"></a>Application Layer</h3><p>HarmonyOS provides numerous system applications on the Application Layer, such as the AppGallery, which offers an app store and more.</p>
<p>In terms of overall design philosophy, both are highly aligned, emphasizing:</p>
<ul>
<li><strong>Hardware Mutual Assistance and Resource Sharing</strong></li>
<li><strong>Develop Once, Deploy Across Multiple Devices</strong></li>
<li><strong>Unified OS with Elastic Deployment</strong></li>
</ul>
<p>Moreover, Huawei has publicly committed to ensuring interoperability between OpenHarmony and HarmonyOS.</p>
<h2 id="Unique-Capabilities-of-HarmonyOS"><a href="#Unique-Capabilities-of-HarmonyOS" class="headerlink" title="Unique Capabilities of HarmonyOS"></a>Unique Capabilities of HarmonyOS</h2><p>Next, we will delve into the specific capabilities HarmonyOS offers on top of OpenHarmony.</p>
<p>The simplest way to understand this is by examining the official application services provided by HarmonyOS:</p>
<p><img src="/../images/%E4%B8%80%E6%96%87%E7%9C%8B%E6%87%82HarmonyOS%E5%9C%A8Openharmony%E5%9F%BA%E7%A1%80%E4%B8%8A%E5%81%9A%E4%BA%86%E4%BB%80%E4%B9%88-1.png" alt="Understanding What HarmonyOS Adds to OpenHarmony - Services"></p>
<p>These are Huawei’s “unique” services, connecting to Huawei’s servers and leveraging Huawei’s capabilities. They include:</p>
<ol>
<li>Huawei Account Service</li>
<li>Advertising Service</li>
<li>Calendar Service</li>
<li>Calling Service</li>
<li>Cloud Development Service</li>
<li>Contacts Service</li>
<li>Gaming Service</li>
<li>Health &amp; Fitness Service</li>
<li>In-App Payment Service</li>
<li>Live Window Service</li>
<li>Location Service</li>
<li>Map Service</li>
<li>User Notification Service</li>
<li>Huawei Payment Service</li>
<li>PDF Service</li>
<li>File Preview Service</li>
<li>Push Notification Service</li>
<li>Integrated Scenario Service</li>
<li>Sharing Service</li>
<li>App Market Service</li>
<li>Wallet Service</li>
<li>Weather Service</li>
</ol>
<p>These services provide users with a richer and more convenient experience by utilizing capabilities offered by Huawei’s servers. These are functionalities that OpenHarmony does not possess and cannot offer. If another mobile phone manufacturer were to develop a phone based on OpenHarmony, these services would need to be developed from scratch.</p>
<h3 id="AI-Capabilities-Exclusive-to-HarmonyOS"><a href="#AI-Capabilities-Exclusive-to-HarmonyOS" class="headerlink" title="AI Capabilities Exclusive to HarmonyOS"></a>AI Capabilities Exclusive to HarmonyOS</h3><p>Beyond these services, AI capabilities are also unique to HarmonyOS:</p>
<p><img src="/../images/%E4%B8%80%E6%96%87%E7%9C%8B%E6%87%82HarmonyOS%E5%9C%A8Openharmony%E5%9F%BA%E7%A1%80%E4%B8%8A%E5%81%9A%E4%BA%86%E4%BB%80%E4%B9%88-2.png" alt="Understanding What HarmonyOS Adds to OpenHarmony - AI"></p>
<p>Take the Intent Framework as an example. The Intents Kit (Intent Framework Service) is a HarmonyOS-level intent standard system that connects business functionalities within applications&#x2F;meta-services.</p>
<p>The Intent Framework helps developers intelligently distribute business functionalities within applications&#x2F;meta-services to various system entry points, a process known as intelligent distribution. These system entry points include:</p>
<ul>
<li>Xiaoyi (Huawei’s AI assistant) Conversation</li>
<li>Xiaoyi Search</li>
<li>Xiaoyi Suggestions</li>
</ul>
<p>The relationship between system entry points, the Intent Framework, and the HarmonyOS ecosystem is illustrated below:</p>
<p><img src="/../images/%E4%B8%80%E6%96%87%E7%9C%8B%E6%87%82HarmonyOS%E5%9C%A8Openharmony%E5%9F%BA%E7%A1%80%E4%B8%8A%E5%81%9A%E4%BA%86%E4%BB%80%E4%B9%88-3.png" alt="Understanding What HarmonyOS Adds to OpenHarmony - Ecosystem"></p>
<p>By leveraging HarmonyOS’s large models and multi-dimensional device perception AI capabilities, the framework accurately and promptly captures users’ explicit and potential intentions, enabling personalized, multimodal, and precise intelligent distribution. The intelligent distribution offers various feature categories, with habits recommendation, event recommendation, skill invocation (voice), and local search currently available, and more categories to be introduced in the future.</p>
<p>In the interaction between HarmonyOS and applications&#x2F;meta-services, intent operations are divided into intent invocation and intent sharing:</p>
<p><img src="/%E4%B8%80%E6%96%87%E7%9C%8B%E6%87%82HarmonyOS%E5%9C%A8Openharmony%E5%9F%BA%E7%A1%80%E4%B8%8A%E5%81%9A%E4%BA%86%E4%BB%80%E4%B9%88-4.png" alt="Understanding What HarmonyOS Adds to OpenHarmony - Intent Operations"></p>
<p>As shown in the diagram, these capabilities ultimately rely on Huawei’s cloud services, making them unique to HarmonyOS.</p>
<p>By now, when someone asks about the differences between HarmonyOS and OpenHarmony, you should be able to enumerate several specific unique capabilities that HarmonyOS offers.</p>
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>This article has introduced the application services and AI services provided by HarmonyOS on top of OpenHarmony, as well as an overview of the OpenHarmony architecture.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/27/A-Understanding-Various-Contexts-in-HarmonyOS-Next/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/27/A-Understanding-Various-Contexts-in-HarmonyOS-Next/" class="post-title-link" itemprop="url">Understanding Various Contexts in HarmonyOS Next</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-27 12:26:57 / Modified: 12:29:08" itemprop="dateCreated datePublished" datetime="2025-06-27T12:26:57+08:00">2025-06-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/HarmonyOS-Next-Tech/" itemprop="url" rel="index"><span itemprop="name">HarmonyOS Next Tech</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Understanding-Various-Contexts-in-HarmonyOS-Next"><a href="#Understanding-Various-Contexts-in-HarmonyOS-Next" class="headerlink" title="Understanding Various Contexts in HarmonyOS Next"></a>Understanding Various Contexts in HarmonyOS Next</h1><h3 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h3><p>Both Android and HarmonyOS Next incorporate the concept of Context, which is essential in many scenarios such as accessing file resources. There are various types of Contexts, each with different acquisition methods and purposes. To develop effectively for HarmonyOS, it’s crucial to understand these various Contexts.</p>
<h3 id="Concept-of-Context"><a href="#Concept-of-Context" class="headerlink" title="Concept of Context"></a>Concept of Context</h3><p>Context in an application provides contextual information about objects, including basic information such as <code>resourceManager</code> (resource management), <code>applicationInfo</code> (current application information), <code>dir</code> (application file paths), <code>area</code> (file partitions), and basic methods like <code>createBundleContext()</code> and <code>getApplicationContext()</code>.</p>
<p>Different components in HarmonyOS Next, such as UIAbility and various ExtensionAbility-derived components, have their own specific Context classes. These include the base class <code>Context</code>, <code>ApplicationContext</code>, <code>AbilityStageContext</code>, <code>UIAbilityContext</code>, <code>ExtensionContext</code>, <code>ServiceExtensionContext</code>, and other specialized Contexts.</p>
<p>The inheritance relationships among these various Contexts are illustrated in the following diagram:<br><img src="/../images/%E4%B8%80%E6%96%87%E6%90%9E%E6%87%82HarmonyOS%20Next%E4%B8%AD%E5%90%84%E7%A7%8DContext.png" alt="Understanding Various Contexts in HarmonyOS Next"></p>
<p>The ownership relationships among these Contexts are shown below:<br><img src="/../images/%E4%B8%80%E6%96%87%E6%90%9E%E6%87%82HarmonyOS%20Next%E4%B8%AD%E5%90%84%E7%A7%8DContext-1.png" alt="Understanding Various Contexts in HarmonyOS Next - Ownership"></p>
<p>There are nine types of Contexts mentioned:</p>
<ol>
<li>BaseContext</li>
<li>Context</li>
<li>ApplicationContext</li>
<li>AbilityStageContext</li>
<li>UIAbilityContext</li>
<li>ExtensionContext</li>
<li>Other ExtensionContext</li>
<li>FormExtensionContext</li>
<li>ServiceExtensionContext</li>
</ol>
<h3 id="Capabilities-Provided-by-Various-Contexts"><a href="#Capabilities-Provided-by-Various-Contexts" class="headerlink" title="Capabilities Provided by Various Contexts"></a>Capabilities Provided by Various Contexts</h3><p>Let’s explore the capabilities provided by each type of Context.</p>
<h4 id="BaseContext"><a href="#BaseContext" class="headerlink" title="BaseContext"></a>BaseContext</h4><p>The <code>BaseContext</code> abstract class is used to indicate whether the inheriting Context subclass is based on the Stage model or the FA (Feature Ability) model. It serves as the parent class for all Context types. The primary attribute it provides is:</p>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Type</th>
<th align="left">Readable</th>
<th align="left">Writable</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">stageMode</td>
<td align="left">boolean</td>
<td align="left">Yes</td>
<td align="left">Yes</td>
<td align="left">Indicates whether it is the Stage model.<br><br>true: Stage model<br><br>false: FA model</td>
</tr>
</tbody></table>
<h4 id="Context"><a href="#Context" class="headerlink" title="Context"></a>Context</h4><p>The <code>Context</code> class inherits from <code>BaseContext</code> and provides the ability to access the context of an ability or application, including accessing specific application resources. It offers the following attributes:</p>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Type</th>
<th align="left">Read-only</th>
<th align="left">Optional</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">resourceManager</td>
<td align="left">resmgr.ResourceManager</td>
<td align="left">No</td>
<td align="left">No</td>
<td align="left">Resource management object</td>
</tr>
<tr>
<td align="left">applicationInfo</td>
<td align="left">ApplicationInfo</td>
<td align="left">No</td>
<td align="left">No</td>
<td align="left">Information about the current application</td>
</tr>
<tr>
<td align="left">cacheDir</td>
<td align="left">string</td>
<td align="left">No</td>
<td align="left">No</td>
<td align="left">Cache directory</td>
</tr>
<tr>
<td align="left">tempDir</td>
<td align="left">string</td>
<td align="left">No</td>
<td align="left">No</td>
<td align="left">Temporary directory</td>
</tr>
<tr>
<td align="left">resourceDir</td>
<td align="left">string</td>
<td align="left">No</td>
<td align="left">No</td>
<td align="left">Resource directory</td>
</tr>
<tr>
<td align="left">filesDir</td>
<td align="left">string</td>
<td align="left">No</td>
<td align="left">No</td>
<td align="left">Files directory</td>
</tr>
<tr>
<td align="left">databaseDir</td>
<td align="left">string</td>
<td align="left">No</td>
<td align="left">No</td>
<td align="left">Database directory</td>
</tr>
<tr>
<td align="left">preferencesDir</td>
<td align="left">string</td>
<td align="left">No</td>
<td align="left">No</td>
<td align="left">Preferences directory</td>
</tr>
<tr>
<td align="left">bundleCodeDir</td>
<td align="left">string</td>
<td align="left">No</td>
<td align="left">No</td>
<td align="left">Installation package directory. Note: Path concatenation for accessing resource files is not allowed; use resource management interfaces instead</td>
</tr>
<tr>
<td align="left">distributedFilesDir</td>
<td align="left">string</td>
<td align="left">No</td>
<td align="left">No</td>
<td align="left">Distributed files directory</td>
</tr>
<tr>
<td align="left">cloudFileDir12+</td>
<td align="left">string</td>
<td align="left">No</td>
<td align="left">No</td>
<td align="left">Cloud files directory</td>
</tr>
<tr>
<td align="left">eventHub</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-inner-application-eventhub-V5">EventHub</a></td>
<td align="left">No</td>
<td align="left">No</td>
<td align="left">Event center, providing methods to subscribe, unsubscribe, and trigger events</td>
</tr>
<tr>
<td align="left">area</td>
<td align="left">contextConstant.AreaMode</td>
<td align="left">No</td>
<td align="left">No</td>
<td align="left">File partition information</td>
</tr>
</tbody></table>
<p>As seen, the <code>Context</code> class already provides attributes for accessing resources and resource paths.</p>
<p><strong>Methods Provided:</strong></p>
<ul>
<li><code>getApplicationContext(): ApplicationContext</code> - Retrieves the application context for the current application.</li>
<li><code>getGroupDir(dataGroupID: string): Promise&lt;string&gt;</code> - Retrieves the shared directory corresponding to the specified Group ID within the application, using a Promise for asynchronous callback.</li>
<li><code>getGroupDir(dataGroupID: string, callback: AsyncCallback&lt;string&gt;): void</code> - Retrieves the shared directory corresponding to the specified Group ID within the application, using a callback for asynchronous callback.</li>
</ul>
<h4 id="ApplicationContext"><a href="#ApplicationContext" class="headerlink" title="ApplicationContext"></a>ApplicationContext</h4><p>The <code>ApplicationContext</code> class inherits from <code>Context</code> and provides application-level context capabilities for developers. This includes interfaces for registering and unregistering listeners for component lifecycles within the application. The following methods are provided:</p>
<ul>
<li><code>on(type: &#39;abilityLifecycle&#39;, callback: AbilityLifecycleCallback): number</code> - Registers a listener for application lifecycle events. Uses a callback for asynchronous notification. Only supported on the main thread.</li>
<li><code>off(type: &#39;abilityLifecycle&#39;, callbackId: number, callback: AsyncCallback&lt;void&gt;): void</code> - Unregisters a listener for application lifecycle events. Uses a callback for asynchronous notification. Only supported on the main thread.</li>
<li><code>on(type: &#39;environment&#39;, callback: EnvironmentCallback): number</code> - Registers a listener for system environment changes. Uses a callback for asynchronous notification. Only supported on the main thread.</li>
<li><code>off(type: &#39;environment&#39;, callbackId: number, callback: AsyncCallback&lt;void&gt;): void</code> - Unregisters a listener for system environment changes. Uses a callback for asynchronous notification. Only supported on the main thread.</li>
<li><code>on(type: &#39;applicationStateChange&#39;, callback: ApplicationStateChangeCallback): void</code> - Registers a listener for foreground&#x2F;background state changes of the current application. Uses a callback for asynchronous notification. Only supported on the main thread.</li>
<li><code>off(type: &#39;applicationStateChange&#39;, callback?: ApplicationStateChangeCallback): void</code> - Unregisters all listeners for foreground&#x2F;background state changes of the current application. Uses a callback for asynchronous notification. Only supported on the main thread.</li>
<li><code>getRunningProcessInformation(): Promise&lt;Array&lt;ProcessInformation&gt;&gt;</code> - Retrieves information about running processes. Uses a Promise for asynchronous notification.</li>
<li><code>getRunningProcessInformation(callback: AsyncCallback&lt;Array&lt;ProcessInformation&gt;&gt;): void</code> - Retrieves information about running processes. Uses a callback for asynchronous notification.</li>
<li><code>killAllProcesses(): Promise&lt;void&gt;</code> - Terminates all processes of the application. Process termination does not follow the normal application lifecycle. Uses a Promise for asynchronous notification. Only supported on the main thread.</li>
<li><code>setColorMode(colorMode: ConfigurationConstant.ColorMode): void</code> - Sets the color mode of the application. Only supported on the main thread.</li>
<li><code>setLanguage(language: string): void</code> - Sets the language of the application. Only supported on the main thread.</li>
<li><code>clearUpApplicationData(): Promise&lt;void&gt;</code> - Clears the application’s own data and revokes permissions granted to the user. Uses a Promise for asynchronous notification. Only supported on the main thread.</li>
<li><code>clearUpApplicationData(callback: AsyncCallback&lt;void&gt;): void</code> - Clears the application’s own data and revokes permissions granted to the user. Uses a callback for asynchronous notification. Only supported on the main thread.</li>
<li><code>restartApp(want: Want): void</code> - Restarts the application and launches a specified UIAbility. The <code>onDestroy</code> callback is not invoked during restart. Only supported on the main thread, and the application to be restarted must be in the focused state.</li>
<li><code>getCurrentAppCloneIndex(): number</code> - Retrieves the current application’s clone index.</li>
<li><code>setFont(font: string): void</code> - Sets the font type of the application. Only supported on the main thread.</li>
<li><code>setSupportedProcessCache(isSupported : boolean): void</code> - Configures whether the application supports cached fast startup. Only supported on the main thread.</li>
</ul>
<h4 id="AbilityStageContext"><a href="#AbilityStageContext" class="headerlink" title="AbilityStageContext"></a>AbilityStageContext</h4><p><code>AbilityStageContext</code> is the context environment for <code>AbilityStage</code>, inheriting from <code>Context</code>.</p>
<p><code>AbilityStageContext</code> provides the ability to access resources specific to <code>AbilityStage</code>, including obtaining the <code>ModuleInfo</code> object corresponding to <code>AbilityStage</code> and environment change objects. The following attributes are provided:</p>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Type</th>
<th align="left">Readable</th>
<th align="left">Writable</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">currentHapModuleInfo</td>
<td align="left">HapModuleInfo</td>
<td align="left">Yes</td>
<td align="left">No</td>
<td align="left">The <code>ModuleInfo</code> object corresponding to <code>AbilityStage</code></td>
</tr>
<tr>
<td align="left">config</td>
<td align="left">Configuration</td>
<td align="left">Yes</td>
<td align="left">No</td>
<td align="left">Environment change object</td>
</tr>
</tbody></table>
<h4 id="UIAbilityContext"><a href="#UIAbilityContext" class="headerlink" title="UIAbilityContext"></a>UIAbilityContext</h4><p><code>UIAbilityContext</code> is the context corresponding to a UIAbility that needs to preserve state. It inherits from <code>Context</code> and provides configuration information related to UIAbility, as well as methods to operate UIAbility and <code>ServiceExtensionAbility</code>, such as starting UIAbility, stopping the current UIAbilityContext’s UIAbility, starting&#x2F;stopping&#x2F;connecting&#x2F;disconnecting <code>ServiceExtensionAbility</code>, etc. The following attributes are provided:</p>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Type</th>
<th align="left">Readable</th>
<th align="left">Writable</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">abilityInfo</td>
<td align="left">AbilityInfo</td>
<td align="left">Yes</td>
<td align="left">No</td>
<td align="left">Information related to UIAbility.<br><br><strong>Meta-Service API:</strong> Starting from API version 11, this interface is supported in meta-services.</td>
</tr>
<tr>
<td align="left">currentHapModuleInfo</td>
<td align="left">HapModuleInfo</td>
<td align="left">Yes</td>
<td align="left">No</td>
<td align="left">Information about the current HAP.<br><br><strong>Meta-Service API:</strong> Starting from API version 11, this interface is supported in meta-services.</td>
</tr>
<tr>
<td align="left">config</td>
<td align="left">Configuration</td>
<td align="left">Yes</td>
<td align="left">No</td>
<td align="left">Configuration information related to UIAbility, such as language and color mode.<br><br><strong>Meta-Service API:</strong> Starting from API version 11, this interface is supported in meta-services.</td>
</tr>
<tr>
<td align="left">windowStage12+</td>
<td align="left">window.WindowStage</td>
<td align="left">Yes</td>
<td align="left">No</td>
<td align="left">The current <code>WindowStage</code> object. Only supported on the main thread.<br><br><strong>Meta-Service API:</strong> Starting from API version 12, this interface is supported in meta-services.</td>
</tr>
</tbody></table>
<p><strong>Capabilities Provided:</strong></p>
<ul>
<li><strong>Start Ability:</strong> <code>startAbility</code>, <code>startAbilityForResult</code></li>
<li><strong>Stop Ability Itself:</strong> <code>terminateSelf</code>, <code>terminateSelfWithResult</code></li>
<li><strong>Connect Current Ability to a ServiceExtensionAbility:</strong> <code>connectServiceExtensionAbility</code></li>
<li><strong>Disconnect from a ServiceExtensionAbility:</strong> <code>disconnectServiceExtensionAbility</code> (After disconnection, the <code>remote</code> object returned upon successful connection should be set to null)</li>
<li><strong>Start a Specified Ability to Foreground or Background in Cross-Device Scenarios, and Obtain Its Caller Communication Interface:</strong> <code>startAbilityByCall</code> (The caller can use <code>Caller</code> to communicate with the started Ability)</li>
<li><strong>Set the Name Displayed by UIAbility in Tasks:</strong> <code>setMissionLabel</code></li>
<li><strong>Set the Flow State of UIAbility in Tasks:</strong> <code>setMissionContinueState</code></li>
<li><strong>Restore WindowStage Data in UIAbility:</strong> <code>restoreWindowStage</code></li>
<li><strong>Query Whether UIAbility Is in Terminating State:</strong> <code>isTerminating</code></li>
<li><strong>Start a ServiceExtensionAbility That Supports Modal Pop-ups:</strong> <code>requestDialogService</code> (After the <code>ServiceExtensionAbility</code> is started, the application displays a modal pop-up, and the caller can return results to the caller via <code>setRequestResult</code>)</li>
<li><strong>Provide a Callback Function for Developers When Page Loading Is Complete (<code>loadContent</code> Success):</strong> <code>reportDrawnCompleted</code></li>
<li><strong>Implicitly Start UIExtensionAbility via Type:</strong> <code>startAbilityByType</code> (Uses a callback for asynchronous notification)</li>
<li><strong>Show Current Ability:</strong> <code>showAbility</code></li>
<li><strong>Hide Current Ability:</strong> <code>hideAbility</code></li>
<li><strong>Move the Foreground Ability to the Background:</strong> <code>moveAbilityToBackground</code></li>
<li><strong>Jump-Start an EmbeddableUIAbility and Return Results:</strong> <code>openAtomicService</code></li>
<li><strong>Start UIAbility via AppLinking:</strong> <code>openLink</code></li>
<li><strong>Return Results to the Caller When Target Ability Is Launched via <code>startAbilityForResult</code> or <code>openLink</code> and Needs to Return Results:</strong> <code>backToCallerAbilityWithResult</code> (Unlike <code>terminateSelfWithResult</code>, this interface does not destroy the current Ability when returning results)</li>
</ul>
<h4 id="ExtensionContext"><a href="#ExtensionContext" class="headerlink" title="ExtensionContext"></a>ExtensionContext</h4><p><code>ExtensionContext</code> is the context environment for <code>Extension</code>, inheriting from <code>Context</code>.</p>
<p>The <code>ExtensionContext</code> module provides the ability to access resources specific to an Extension. For extended Extensions, you can directly use <code>ExtensionContext</code> as the context environment or define a type that inherits from <code>ExtensionContext</code> as the context environment.</p>
<p>The following attributes are provided:</p>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Type</th>
<th align="left">Readable</th>
<th align="left">Writable</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">currentHapModuleInfo</td>
<td align="left">HapModuleInfo</td>
<td align="left">Yes</td>
<td align="left">No</td>
<td align="left">Information about the owning HAP package.<br><br>(For details, refer to <code>api\bundle\hapModuleInfo.d.ts</code> in the SDK directory)</td>
</tr>
<tr>
<td align="left">config</td>
<td align="left">Configuration</td>
<td align="left">Yes</td>
<td align="left">No</td>
<td align="left">Configuration information of the owning Module.<br><br>(For details, refer to <code>api\@ohos.app.ability.Configuration.d.ts</code> in the SDK directory)</td>
</tr>
<tr>
<td align="left">extensionAbilityInfo</td>
<td align="left">ExtensionAbilityInfo</td>
<td align="left">Yes</td>
<td align="left">No</td>
<td align="left">Information about the owning Extension.<br><br>(For details, refer to <code>api\bundle\extensionAbilityInfo.d.ts</code> in the SDK directory)</td>
</tr>
</tbody></table>
<h3 id="Common-Usage-Scenarios-for-Context"><a href="#Common-Usage-Scenarios-for-Context" class="headerlink" title="Common Usage Scenarios for Context"></a>Common Usage Scenarios for Context</h3><p>From the analysis above, Context is primarily used in the following scenarios:</p>
<ul>
<li><strong>Accessing Application File Paths</strong></li>
<li><strong>Accessing and Modifying Encrypted Partitions</strong></li>
<li><strong>Obtaining Contexts of Other Modules within the Same Application</strong></li>
<li><strong>Subscribing to Lifecycle Changes of UIAbilities Within the Process</strong></li>
</ul>
<p><strong>Typical Example: Retrieving String Resources via <code>resourceManager</code></strong></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="title function_">getStringSync</span>(<span class="attr">context</span>: common.<span class="property">Context</span> | <span class="literal">undefined</span>, <span class="attr">resource</span>: <span class="title class_">Resource</span>): <span class="built_in">string</span> &#123;  </span><br><span class="line">  <span class="keyword">let</span> rscManager = (context ?? <span class="title function_">getContext</span>() <span class="keyword">as</span> common.<span class="property">UIAbilityContext</span>).<span class="property">resourceManager</span>;  </span><br><span class="line">    <span class="keyword">return</span> rscManager.<span class="title function_">getStringSync</span>(resource.<span class="property">id</span>)  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In this example, <code>Context</code> is required. What kind of <code>Context</code> do we get when calling <code>getContext()</code> in a general class?</p>
<p>When inspecting the <code>Context</code> type obtained via <code>getContext()</code> in a page and <code>getUIContext()</code>, we find they are <code>AbilityContext</code> and <code>UIContext</code>, respectively:<br><img src="/../images/%E4%B8%80%E6%96%87%E6%90%9E%E6%87%82HarmonyOS%20Next%E4%B8%AD%E5%90%84%E7%A7%8DContext-4.png" alt="Understanding Various Contexts in HarmonyOS Next - Context Types in Pages"></p>
<p>Similarly, in a ViewModel, <code>getContext()</code> also retrieves the same <code>AbilityContext</code>:<br><img src="/../images/%E4%B8%80%E6%96%87%E6%90%9E%E6%87%82HarmonyOS%20Next%E4%B8%AD%E5%90%84%E7%A7%8DContext-3.png" alt="Understanding Various Contexts in HarmonyOS Next - Context Types in ViewModels"></p>
<h3 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h3><p>This article has provided a detailed explanation of the relationships between various Contexts in HarmonyOS Next, along with the attributes and methods they offer.</p>
<h3 id="References"><a href="#References" class="headerlink" title="References"></a>References</h3><ul>
<li><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-inner-application-basecontext-V5">BaseContext</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-inner-application-context-V5#contextgetapplicationcontext">Context</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-inner-application-uiabilitycontext-V5">UIAbilityContext</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-inner-application-extensioncontext-V5">ExtensionContext</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-inner-application-abilitystagecontext-V5">AbilityStageContext</a></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/14/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><span class="page-number current">15</span><a class="page-number" href="/page/16/">16</a><span class="space">&hellip;</span><a class="page-number" href="/page/35/">35</a><a class="extend next" rel="next" href="/page/16/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Qingkouwei</p>
  <div class="site-description" itemprop="description">Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">347</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Qingkouwei</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
