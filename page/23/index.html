<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"harmonyostech.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next&#96;s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoo">
<meta property="og:type" content="website">
<meta property="og:title" content="HarmonyOS NEXT Knowledge Charging Station">
<meta property="og:url" content="https://harmonyostech.github.io/page/23/index.html">
<meta property="og:site_name" content="HarmonyOS NEXT Knowledge Charging Station">
<meta property="og:description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next&#96;s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Qingkouwei">
<meta property="article:tag" content="HarmonyOSNext, HarmonyOS NEXT, HarmonyOS, Cangjie">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://harmonyostech.github.io/page/23/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>HarmonyOS NEXT Knowledge Charging Station</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">HarmonyOS NEXT Knowledge Charging Station</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Analysis of Core Technologies and Application Scenarios of HarmonyOS NEXT</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/612-Daily-HarmonyOS-Next-Knowledge-Get-Width-Height-in-Page-Animation-for-Canvas-Drawing-Overload-Implementation-Search-Term-Highlighting-Countdown-Effect/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/612-Daily-HarmonyOS-Next-Knowledge-Get-Width-Height-in-Page-Animation-for-Canvas-Drawing-Overload-Implementation-Search-Term-Highlighting-Countdown-Effect/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] Get Width/Height in Page, Animation for Canvas Drawing, Overload Implementation, Search Term Highlighting, Countdown Effect</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 11:17:25 / Modified: 11:17:59" itemprop="dateCreated datePublished" datetime="2025-06-25T11:17:25+08:00">2025-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Knowledge-Get-Width-Height-in-Page-Animation-for-Canvas-Drawing-Overload-Implementation-Search-Term-Highlighting-Countdown-Effect"><a href="#Daily-HarmonyOS-Next-Knowledge-Get-Width-Height-in-Page-Animation-for-Canvas-Drawing-Overload-Implementation-Search-Term-Highlighting-Countdown-Effect" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Get Width&#x2F;Height in Page, Animation for Canvas Drawing, Overload Implementation, Search Term Highlighting, Countdown Effect"></a>[Daily HarmonyOS Next Knowledge] Get Width&#x2F;Height in Page, Animation for Canvas Drawing, Overload Implementation, Search Term Highlighting, Countdown Effect</h3><h4 id="1-How-to-get-the-window-width-height-in-a-HarmonyOS-Page"><a href="#1-How-to-get-the-window-width-height-in-a-HarmonyOS-Page" class="headerlink" title="1. How to get the window width&#x2F;height in a HarmonyOS Page?"></a>1. How to get the window width&#x2F;height in a HarmonyOS Page?</h4><p>Not the device dimensions, but the window size in split-screen (half&#x2F;third) or floating window modes.  </p>
<p>Use the <code>getWindowproperties().windowRect()</code> method to retrieve width and height properties:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Example code snippet</span></span><br><span class="line"><span class="keyword">const</span> windowRect = <span class="variable language_">this</span>.<span class="property">context</span>.<span class="title function_">getWindowStage</span>().<span class="title function_">getMainWindow</span>().<span class="title function_">getWindowProperties</span>().<span class="property">windowRect</span>;</span><br><span class="line"><span class="keyword">const</span> &#123; width, height &#125; = windowRect;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">`Window width: <span class="subst">$&#123;width&#125;</span>, height: <span class="subst">$&#123;height&#125;</span>`</span>);</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 2. How to animate Canvas content changes in HarmonyOS?  </span></span><br><span class="line"><span class="string">Need to draw content with Canvas and apply animations when component state changes.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Reference demo for Canvas animations:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="keyword">import</span> curves <span class="keyword">from</span> <span class="string">&#x27;@ohos.curves&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">AnimationDemo</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">animate</span>: <span class="built_in">boolean</span> = <span class="literal">false</span>; <span class="comment">// Step 1: Declare state variables</span></span><br><span class="line">  <span class="meta">@State</span> <span class="attr">rotateValue</span>: <span class="built_in">number</span> = <span class="number">0</span>; <span class="comment">// Rotation angle for component 1</span></span><br><span class="line">  <span class="meta">@State</span> <span class="attr">translateX</span>: <span class="built_in">number</span> = <span class="number">0</span>; <span class="comment">// Translation offset for component 2</span></span><br><span class="line">  <span class="meta">@State</span> <span class="attr">opacityValue</span>: <span class="built_in">number</span> = <span class="number">1</span>; <span class="comment">// Opacity for component 2</span></span><br><span class="line">  <span class="keyword">private</span> <span class="attr">settings</span>: <span class="title class_">RenderingContextSettings</span> = <span class="keyword">new</span> <span class="title class_">RenderingContextSettings</span>(<span class="literal">true</span>);</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">context</span>: <span class="title class_">CanvasRenderingContext2D</span> = <span class="keyword">new</span> <span class="title class_">CanvasRenderingContext2D</span>(<span class="variable language_">this</span>.<span class="property">settings</span>); <span class="comment">// Step 2: Bind state to animatable properties</span></span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Row</span>() &#123;</span><br><span class="line">      <span class="comment">// Component 1</span></span><br><span class="line">      <span class="title class_">Flex</span>(&#123; <span class="attr">direction</span>: <span class="title class_">FlexDirection</span>.<span class="property">Column</span>, <span class="attr">alignItems</span>: <span class="title class_">ItemAlign</span>.<span class="property">Center</span>, <span class="attr">justifyContent</span>: <span class="title class_">FlexAlign</span>.<span class="property">Center</span> &#125;) &#123;</span><br><span class="line">        <span class="title class_">Canvas</span>(<span class="variable language_">this</span>.<span class="property">context</span>)</span><br><span class="line">          .<span class="title function_">onReady</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">context</span>.<span class="title function_">fillRect</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">          &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">opacity</span>(<span class="variable language_">this</span>.<span class="property">opacityValue</span>)</span><br><span class="line">      .<span class="title function_">rotate</span>(&#123; <span class="attr">angle</span>: <span class="variable language_">this</span>.<span class="property">rotateValue</span> &#125;)</span><br><span class="line">      .<span class="title function_">animation</span>(&#123; <span class="attr">curve</span>: curves.<span class="title function_">springMotion</span>() &#125;) <span class="comment">// Enable property animation</span></span><br><span class="line">      .<span class="title function_">backgroundColor</span>(<span class="string">&#x27;#317AF7&#x27;</span>)</span><br><span class="line">      .<span class="title function_">width</span>(<span class="number">100</span>)</span><br><span class="line">      .<span class="title function_">height</span>(<span class="number">100</span>)</span><br><span class="line">      .<span class="title function_">borderRadius</span>(<span class="number">30</span>)</span><br><span class="line">      .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">animate</span> = !<span class="variable language_">this</span>.<span class="property">animate</span>;</span><br><span class="line">        <span class="comment">// Update state variables to trigger animations</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">rotateValue</span> = <span class="variable language_">this</span>.<span class="property">animate</span> ? <span class="number">90</span> : <span class="number">0</span>; <span class="comment">// Rotation animation</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">translateX</span> = <span class="variable language_">this</span>.<span class="property">animate</span> ? <span class="number">50</span> : <span class="number">0</span>; <span class="comment">// Translation animation</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">opacityValue</span> = <span class="variable language_">this</span>.<span class="property">animate</span> ? <span class="number">0.6</span> : <span class="number">1</span>; <span class="comment">// Opacity animation</span></span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      <span class="comment">// Component 2</span></span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">justifyContent</span>(<span class="title class_">FlexAlign</span>.<span class="property">Center</span>)</span><br><span class="line">      .<span class="title function_">width</span>(<span class="number">100</span>)</span><br><span class="line">      .<span class="title function_">height</span>(<span class="number">100</span>)</span><br><span class="line">      .<span class="title function_">backgroundColor</span>(<span class="string">&#x27;#D94838&#x27;</span>)</span><br><span class="line">      .<span class="title function_">borderRadius</span>(<span class="number">30</span>)</span><br><span class="line">      .<span class="title function_">opacity</span>(<span class="variable language_">this</span>.<span class="property">opacityValue</span>)</span><br><span class="line">      .<span class="title function_">translate</span>(&#123; <span class="attr">x</span>: <span class="variable language_">this</span>.<span class="property">translateX</span> &#125;)</span><br><span class="line">      .<span class="title function_">animation</span>(&#123; <span class="attr">curve</span>: curves.<span class="title function_">springMotion</span>() &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">justifyContent</span>(<span class="title class_">FlexAlign</span>.<span class="property">Center</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 3. How to implement method overloading in HarmonyOS ArkTS?  </span></span><br><span class="line"><span class="string">Use optional parameters to achieve overloading:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">name</span>: <span class="built_in">string</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="attr">name</span>?: <span class="built_in">string</span>, <span class="attr">age</span>: <span class="built_in">number</span> = <span class="number">18</span></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (name) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">getAge</span>(): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">age</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">getName</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">hasSkill</span>(<span class="attr">skills</span>?: <span class="title class_">Array</span>&lt;<span class="built_in">string</span>&gt; | <span class="built_in">string</span>): <span class="built_in">string</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> skillsMsg = <span class="string">&#x27;Reading&#x27;</span>;</span><br><span class="line">    <span class="keyword">if</span> (skills) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> skills === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">        skillsMsg += skills;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        skills.<span class="title function_">forEach</span>(<span class="function"><span class="params">s</span> =&gt;</span> &#123;</span><br><span class="line">          skillsMsg += <span class="string">&#x27;、&#x27;</span> + s;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Skills: &#x27;</span> + skillsMsg;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Usage example</span></span><br><span class="line"><span class="keyword">let</span> t1 = <span class="keyword">new</span> <span class="title class_">Test</span>();</span><br><span class="line"><span class="keyword">let</span> t2 = <span class="keyword">new</span> <span class="title class_">Test</span>(<span class="string">&#x27;t2Name&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> t3 = <span class="keyword">new</span> <span class="title class_">Test</span>(<span class="string">&#x27;t3Name&#x27;</span>, <span class="number">100</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`t1# name: <span class="subst">$&#123;t1.getName()&#125;</span>, age: <span class="subst">$&#123;t1.getAge()&#125;</span>, skills: <span class="subst">$&#123;t1.hasSkill()&#125;</span>`</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`t2# name: <span class="subst">$&#123;t2.getName()&#125;</span>, age: <span class="subst">$&#123;t2.getAge()&#125;</span>, skills: <span class="subst">$&#123;t2.hasSkill(<span class="string">&#x27;Arithmetic&#x27;</span>)&#125;</span>`</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`t3# name: <span class="subst">$&#123;t3.getName()&#125;</span>, age: <span class="subst">$&#123;t3.getAge()&#125;</span>, skills: <span class="subst">$&#123;t3.hasSkill([<span class="string">&#x27;Singing&#x27;</span>, <span class="string">&#x27;Dancing&#x27;</span>])&#125;</span>`</span>);</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 4. How to highlight search terms with color in HarmonyOS?  </span></span><br><span class="line"><span class="string">Need to make search terms red in search results.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Method 1**: Use Text with multiple Span components and add onClick events:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">DialogExample</span> &#123;</span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Text</span>(<span class="string">&#x27;Thank you for using!&#x27;</span>)</span><br><span class="line">      <span class="title class_">Text</span>() &#123;</span><br><span class="line">        <span class="title class_">Span</span>(<span class="string">&#x27;We highly value your personal information and privacy protection. In accordance with latest regulations, we updated the&#x27;</span>)</span><br><span class="line">        <span class="title class_">Span</span>(<span class="string">&#x27;《Personal Information Protection Guidelines》&#x27;</span>).<span class="title function_">fontColor</span>(<span class="title class_">Color</span>.<span class="property">Blue</span>)</span><br><span class="line">          .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Click event triggered&#x27;</span>)</span><br><span class="line">          &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;.<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Method 2**: Use RichText or RichEditor components:  </span></span><br><span class="line"><span class="string">Reference: https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-richtext-V5  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**RichText** parses and displays HTML-formatted text.  </span></span><br><span class="line"><span class="string">**Use Cases**:  </span></span><br><span class="line"><span class="string">- Load and display HTML strings without extensive customization.  </span></span><br><span class="line"><span class="string">- Supports limited generic properties and events.  </span></span><br><span class="line"><span class="string">**Constraints**:  </span></span><br><span class="line"><span class="string">- Mobile viewport defaults to 980px width. If RichText width is smaller, HTML content may scroll within the component.  </span></span><br><span class="line"><span class="string">- To override defaults, add the following meta tag in HTML content:  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 5. How to implement a resettable countdown for verification codes in HarmonyOS?  </span></span><br><span class="line"><span class="string">After the countdown ends, clicking &quot;Resend&quot; should restart the countdown.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Page</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">elapsedTime</span>: <span class="built_in">number</span> = <span class="number">0</span>;</span><br><span class="line">  <span class="attr">textTimerController</span>: <span class="title class_">TextTimerController</span> = <span class="keyword">new</span> <span class="title class_">TextTimerController</span>();</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Row</span>() &#123;</span><br><span class="line">        <span class="title class_">TextTimer</span>(&#123; <span class="attr">isCountDown</span>: <span class="literal">true</span>, <span class="attr">count</span>: <span class="number">59000</span>, <span class="attr">controller</span>: <span class="variable language_">this</span>.<span class="property">textTimerController</span> &#125;)</span><br><span class="line">          .<span class="title function_">format</span>(<span class="string">&quot;ss&quot;</span>)</span><br><span class="line">          .<span class="title function_">fontColor</span>($r(<span class="string">&quot;app.color.theme_color_m&quot;</span>))</span><br><span class="line">          .<span class="title function_">onTimer</span>(<span class="function">(<span class="params"><span class="attr">utc</span>: <span class="built_in">number</span>, <span class="attr">elapsedTime</span>: <span class="built_in">number</span></span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">elapsedTime</span> = elapsedTime;</span><br><span class="line">          &#125;)</span><br><span class="line">        <span class="title class_">Text</span>($r(<span class="string">&quot;app.string.login&quot;</span>))</span><br><span class="line">          .<span class="title function_">fontSize</span>(<span class="number">15</span>)</span><br><span class="line">          .<span class="title function_">fontColor</span>($r(<span class="string">&quot;app.color.theme_color_m&quot;</span>))</span><br><span class="line">          .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">textTimerController</span>.<span class="title function_">start</span>();</span><br><span class="line">          &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">margin</span>(&#123; <span class="attr">top</span>: <span class="number">25</span> &#125;)</span><br><span class="line">      .<span class="title function_">visibility</span>(<span class="variable language_">this</span>.<span class="property">elapsedTime</span> === <span class="number">59000</span> ? <span class="title class_">Visibility</span>.<span class="property">None</span> : <span class="title class_">Visibility</span>.<span class="property">Visible</span>);</span><br><span class="line"></span><br><span class="line">      <span class="title class_">Button</span>(<span class="string">&#x27;Reset and Start&#x27;</span>)</span><br><span class="line">        .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">textTimerController</span>.<span class="title function_">reset</span>();</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">textTimerController</span>.<span class="title function_">start</span>();</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">      <span class="title class_">Text</span>() &#123;</span><br><span class="line">        <span class="title class_">Span</span>(<span class="string">&#x27;1111111111111&#x27;</span>)</span><br><span class="line">          .<span class="title function_">fontColor</span>($r(<span class="string">&quot;app.color.theme_color_m&quot;</span>))</span><br><span class="line">        <span class="title class_">Span</span>(<span class="string">&#x27;2222222222222&#x27;</span>)</span><br><span class="line">          .<span class="title function_">fontColor</span>($r(<span class="string">&quot;app.color.theme_color_m&quot;</span>))</span><br><span class="line">          .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">textTimerController</span>.<span class="title function_">reset</span>();</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">textTimerController</span>.<span class="title function_">start</span>();</span><br><span class="line">          &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">textAlign</span>(<span class="title class_">TextAlign</span>.<span class="property">Center</span>)</span><br><span class="line">      .<span class="title function_">fontSize</span>(<span class="number">13</span>)</span><br><span class="line">      .<span class="title function_">margin</span>(&#123; <span class="attr">top</span>: <span class="number">25</span> &#125;)</span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&quot;90%&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/611-Daily-HarmonyOS-Next-Knowledge-Automatic-Focus-Acquisition-Global-Popups-Data-Change-Monitoring-Size-Display-Anomalies-One-Click-Closure-of-All-Pages/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/611-Daily-HarmonyOS-Next-Knowledge-Automatic-Focus-Acquisition-Global-Popups-Data-Change-Monitoring-Size-Display-Anomalies-One-Click-Closure-of-All-Pages/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] Automatic Focus Acquisition, Global Popups, Data Change Monitoring, Size Display Anomalies, One-Click Closure of All Pages</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 11:16:25 / Modified: 12:24:57" itemprop="dateCreated datePublished" datetime="2025-06-25T11:16:25+08:00">2025-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Knowledge-Automatic-Focus-Acquisition-Global-Popups-Data-Change-Monitoring-Size-Display-Anomalies-One-Click-Closure-of-All-Pages"><a href="#Daily-HarmonyOS-Next-Knowledge-Automatic-Focus-Acquisition-Global-Popups-Data-Change-Monitoring-Size-Display-Anomalies-One-Click-Closure-of-All-Pages" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Automatic Focus Acquisition, Global Popups, Data Change Monitoring, Size Display Anomalies, One-Click Closure of All Pages"></a>[Daily HarmonyOS Next Knowledge] Automatic Focus Acquisition, Global Popups, Data Change Monitoring, Size Display Anomalies, One-Click Closure of All Pages</h3><h4 id="1-HarmonyOS-TextInput-automatic-focus-issue"><a href="#1-HarmonyOS-TextInput-automatic-focus-issue" class="headerlink" title="1. HarmonyOS TextInput automatic focus issue?"></a>1. HarmonyOS TextInput automatic focus issue?</h4><p>A TextInput and a button are arranged vertically on the page. Clicking the button triggers a popup using CustomDialogController. After closing the popup, the TextInput automatically gains focus. How to prevent automatic focus acquisition? Setting <code>.defaultFocus(false).groupDefaultFocus(false)</code> is ineffective.  </p>
<p>Use <code>requestFocus</code> as shown in the demo:  </p>
<pre><code class="language-typescript">import prompt from &#39;@ohos.prompt&#39;;

@Entry
@Component
struct Index &#123;
  @State message: string = &#39;Hello World&#39;;
  @State isboole: boolean = true;

  build() &#123;
    Row() &#123;
      Column() &#123;
        Text(this.message)
          .id(&#39;1sa&#39;)
          .fontSize(50)
          .fontWeight(FontWeight.Bold)
        Button(&#39;I will get focus&#39;)
          .key(&#39;BBB&#39;)
        TextInput(&#123; placeholder: &#39;AAAAA&#39; &#125;)
          .id(&#39;AAAA1&#39;)
          .type(InputType.Normal)
        Button(&#39;Click to transfer focus&#39;)
          .onClick(() =&gt; &#123;
            let res = focusControl.requestFocus(&#39;BBB&#39;)
            if (res) &#123;
              prompt.showToast(&#123; message: &#39;Request success&#39; &#125;)
            &#125; else &#123;
              prompt.showToast(&#123; message: &#39;Request failed&#39; &#125;)
            &#125;
          &#125;)
        Button(&#39;Click to get focus&#39;)
          .onClick(() =&gt; &#123;
            this.isboole = true
            sendEventByKey(&quot;AAAA1&quot;, 10, &quot;&quot;) // Send click event to component with id &quot;longClick&quot;
          &#125;)
      &#125;
      .width(&#39;100%&#39;)
    &#125;
    .height(&#39;100%&#39;)
  &#125;
&#125;
</code></pre>
<h4 id="2-How-to-encapsulate-global-popups-in-HarmonyOS-What-is-the-best-practice"><a href="#2-How-to-encapsulate-global-popups-in-HarmonyOS-What-is-the-best-practice" class="headerlink" title="2. How to encapsulate global popups in HarmonyOS? What is the best practice?"></a>2. How to encapsulate global popups in HarmonyOS? What is the best practice?</h4><ol>
<li>What is the optimal way to encapsulate public popups?  </li>
<li>How to use popups in non-UI components?</li>
</ol>
<p>To encapsulate a globally usable popup, use <code>promptAction</code> to wrap a custom dialog:<br>Reference documentation: See the example code for <code>promptAction.openCustomDialog</code> (<a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-promptaction-V5#promptactionopencustomdialog11">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-promptaction-V5#promptactionopencustomdialog11</a>)<br>Sample code:  </p>
<pre><code class="language-typescript">let customDialogId: number = 0

export function showCustomDialog() &#123;
  let result: CustomDialogController = new CustomDialogController(&#123;
    builder: SimpleDialog(&#123;&#125;),
    alignment: DialogAlignment.Bottom,
    customStyle: true,
    offset: &#123;
      dx: 0,
      dy: CommonConstants.DY_OFFSET
    &#125;
  &#125;)
  result.open()
&#125;

...

onClick: () =&gt; &#123;
  promptAction.openCustomDialog(&#123;
    builder: showCustomDialog.bind(this)
  &#125;).then((dialogId: number) =&gt; &#123;
    customDialogId = dialogId;
  &#125;)
&#125;

// Confirm/cancel popup
promptAction.closeCustomDialog(customDialogId)
</code></pre>
<h4 id="3-How-to-monitor-data-changes-of-isNormalMode-within-a-Builder-decorator-in-HarmonyOS"><a href="#3-How-to-monitor-data-changes-of-isNormalMode-within-a-Builder-decorator-in-HarmonyOS" class="headerlink" title="3. How to monitor data changes of isNormalMode within a @Builder decorator in HarmonyOS?"></a>3. How to monitor data changes of <code>isNormalMode</code> within a @Builder decorator in HarmonyOS?</h4><p>Need to update the Image component’s source when <code>isNormalMode</code> changes. Currently, if written directly in <code>build</code> without @Builder, the Image updates normally. When written in @Builder, data changes are not detected. How to monitor data changes within @Builder?  </p>
<pre><code class="language-typescript">@State isNormalMode: boolean = true;

@Builder
showImage(source: string | Resource, onImageClick: () =&gt; void = () =&gt; &#123;&#125;) &#123;

  Image(source)
    .fitOriginalSize(true)
    .objectFit(ImageFit.Auto)
    .width(Constants.FULL_PARENT)
    .onClick(() =&gt; &#123;
      console.log(&quot;obclick&quot;)
      onImageClick();
    &#125;)
    .padding(&#123; /// Inner area padding
      top: $r(&#39;app.float.screen_margin_left_right&#39;)
    &#125;)
&#125;

build() &#123;
  Stack(&#123; alignContent: Alignment.TopStart &#125;) &#123;
    Flex(&#123; direction: FlexDirection.Column &#125;) &#123;

      TitleBar(&#123; model: $model &#125;)

      Column() &#123;

        this.showImage(this.isNormalMode ? $r(&#39;app.media.normal_mode_selected&#39;) : $r(&#39;app.media.normal_mode_unselect&#39;), () =&gt; &#123;
          console.log(&quot;setImageobclick&quot;)
          this.isNormalMode = true;
        &#125;);

        this.showImage(this.isNormalMode ? $r(&#39;app.media.easy_mode_unselect&#39;) : $r(&#39;app.media.easy_mode_selected&#39;), () =&gt; &#123;
          console.log(&quot;setImageobclick&quot;)
          this.isNormalMode = false;
        &#125;);
      &#125;
      .padding(&#123; /// Inner area padding
        left: $r(&#39;app.float.screen_margin_left_right&#39;),
        right: $r(&#39;app.float.screen_margin_left_right&#39;),
      &#125;)
      .width(Constants.FULL_PARENT)
      .height(Constants.FULL_PARENT)
    &#125;
  &#125;
  .width(Constants.FULL_PARENT)
  .height(Constants.FULL_PARENT)
&#125;
</code></pre>
<p>When calling a @Builder-decorated function, parameters are passed by value. Changes to state variables (passed by value) do not trigger UI refresh within @Builder. For state variables, use reference passing.<br>Reference: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-builder-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-builder-V5</a><br>Sample code:  </p>
<pre><code class="language-typescript">class ImageParams &#123;
  imageUrl: string | Resource = &#39;&#39;
  onImageClick: () =&gt; void = () =&gt; &#123;
  &#125;
&#125;

@Entry
@Component
struct Index &#123;
  @State isNormalMode: boolean = true;
  @State imgUrl: string | Resource = $r(&#39;app.media.img1&#39;)

  @Builder
  showImageNew(params: ImageParams) &#123;

    Image(params.imageUrl)
      .fitOriginalSize(true)
      .objectFit(ImageFit.Auto)
      .width(200)
      .onClick(() =&gt; &#123;
        console.log(&quot;obclick&quot;)
        params.onImageClick();
      &#125;)
  &#125;

  @Builder
  showImage(source: string | Resource, onImageClick: () =&gt; void = () =&gt; &#123;
  &#125;) &#123;
    Image(source)
      .fitOriginalSize(true)
      .objectFit(ImageFit.Auto)
      .width(200)
      .onClick(() =&gt; &#123;
        console.log(&quot;obclick&quot;)
        onImageClick();
      &#125;)
  &#125;

  build() &#123;
    Stack(&#123; alignContent: Alignment.TopStart &#125;) &#123;
      Flex(&#123; direction: FlexDirection.Column &#125;) &#123;

        Column() &#123;

          Text(&quot;Status: &quot; + this.isNormalMode)
          Text(&quot; imgUrl: &quot; + JSON.stringify(this.imgUrl))

          this.showImage(this.imgUrl, () =&gt; &#123;
            console.log(&quot;setImageobclick&quot;)
            this.isNormalMode = !this.isNormalMode;
            this.imgUrl = this.isNormalMode ? $r(&#39;app.media.img1&#39;) : $r(&#39;app.media.img2&#39;)
          &#125;)

          Button(&quot;Change type (only status, image unchanged)&quot;).onClick(() =&gt; &#123;
            this.isNormalMode = !this.isNormalMode
          &#125;)

          //=================Use the following approach==========================
          this.showImageNew(
            &#123;
              imageUrl: this.imgUrl,
              onImageClick: () =&gt; &#123;
                this.isNormalMode = !this.isNormalMode;
                this.imgUrl = this.isNormalMode ? $r(&#39;app.media.img1&#39;) : $r(&#39;app.media.img2&#39;)
              &#125;
            &#125;
          )
          if (this.isNormalMode) &#123;
            this.showImageNew(
              &#123;
                imageUrl: $r(&quot;app.media.img1&quot;),
                onImageClick: () =&gt; &#123;
                  this.isNormalMode = !this.isNormalMode;
                  this.imgUrl = this.isNormalMode ? $r(&#39;app.media.img1&#39;) : $r(&#39;app.media.img2&#39;)
                &#125;
              &#125;
            )
          &#125; else &#123;
            this.showImageNew(
              &#123;
                imageUrl: $r(&quot;app.media.img2&quot;),
                onImageClick: () =&gt; &#123;
                  this.isNormalMode = !this.isNormalMode;
                  this.imgUrl = this.isNormalMode ? $r(&#39;app.media.img1&#39;) : $r(&#39;app.media.img2&#39;)
                &#125;
              &#125;
            )
          &#125;

        &#125;
        .width(&quot;100%&quot;)
        .height(&quot;100%&quot;)
      &#125;
    &#125;
    .width(&quot;100%&quot;)
    .height(&quot;100%&quot;)
  &#125;
&#125;
</code></pre>
<h4 id="4-HarmonyOS-component-size-display-anomaly"><a href="#4-HarmonyOS-component-size-display-anomaly" class="headerlink" title="4. HarmonyOS component size display anomaly?"></a>4. HarmonyOS component size display anomaly?</h4><p>In the following code, the width is set to 100%, but the actual width does not fill the screen as shown in the screenshot.  </p>
<pre><code class="language-typescript">@Entry
@Component
struct AlignRuleTestPage &#123;
  @State message: string = &#39;Hello World&#39;;

  build() &#123;
    RelativeContainer() &#123;
      Text(this.message)
        .id(&#39;AlignRuleTestPageHelloWorld&#39;)
        .fontSize(30)
        .width(&quot;100%&quot;)
        .aspectRatio(6)
        .margin(&#123;
          top: &quot;14%&quot;
        &#125;)
        .backgroundColor(Color.Red)
        .fontWeight(FontWeight.Bold)
        .alignRules(&#123;
          top: &#123; anchor: &#39;__container__&#39;, align: VerticalAlign.Top &#125;,
          left: &#123; anchor: &#39;__container__&#39;, align: HorizontalAlign.Start &#125;,
          right: &#123; anchor: &#39;__container__&#39;, align: HorizontalAlign.End &#125;,
        &#125;)
    &#125;
    .height(&#39;100%&#39;)
    .width(&#39;100%&#39;)
  &#125;
&#125;
</code></pre>
<p>Refer to the demo:  </p>
<pre><code class="language-typescript">@Component
struct Index &#123;
  @State message: string = &#39;Hello World&#39;;

  build() &#123;
    RelativeContainer() &#123;
      Text(this.message)
        .id(&#39;AlignRuleTestPageHelloWorld&#39;)
        .fontSize(30)//.aspectRatio(0)  Remove this line
        .margin(&#123;
          top: &quot;14%&quot;
        &#125;)
        .backgroundColor(Color.Red)
        .fontWeight(FontWeight.Bold)
        .width(&quot;100%&quot;)
        .height(&#39;100%&#39;)
    &#125;
    .height(&#39;100%&#39;)
    .width(&#39;100%&#39;)
  &#125;
&#125;
</code></pre>
<p>Reference for <code>aspectRatio</code>: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-attributes-layout-constraints-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-attributes-layout-constraints-V5</a>  </p>
<h4 id="5-How-to-close-all-previous-pages-with-one-click-in-HarmonyOS"><a href="#5-How-to-close-all-previous-pages-with-one-click-in-HarmonyOS" class="headerlink" title="5. How to close all previous pages with one click in HarmonyOS?"></a>5. How to close all previous pages with one click in HarmonyOS?</h4><p>After navigating through multiple pages (e.g., A-B-C-D), how to close A, B, and C with one click?  </p>
<p>To close pages A and B, use <code>router.clear()</code> to clear all historical pages from the stack, leaving only the current page as the top.<br>Reference: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-router-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-router-V5</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/610-Daily-HarmonyOS-Next-Knowledge-Object-Undefined-Issue-Object-Non-Settable-String-Encoding-Decoding-Parameters-for-Navigating-to-Existing-Pages-Animation-Handling/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/610-Daily-HarmonyOS-Next-Knowledge-Object-Undefined-Issue-Object-Non-Settable-String-Encoding-Decoding-Parameters-for-Navigating-to-Existing-Pages-Animation-Handling/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] Object Undefined Issue, Object Non-Settable, String Encoding/Decoding, Parameters for Navigating to Existing Pages, Animation Handling</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 11:14:20 / Modified: 12:23:16" itemprop="dateCreated datePublished" datetime="2025-06-25T11:14:20+08:00">2025-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Knowledge-Object-Undefined-Issue-Object-Non-Settable-String-Encoding-Decoding-Parameters-for-Navigating-to-Existing-Pages-Animation-Handling"><a href="#Daily-HarmonyOS-Next-Knowledge-Object-Undefined-Issue-Object-Non-Settable-String-Encoding-Decoding-Parameters-for-Navigating-to-Existing-Pages-Animation-Handling" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Object Undefined Issue, Object Non-Settable, String Encoding&#x2F;Decoding, Parameters for Navigating to Existing Pages, Animation Handling"></a>[Daily HarmonyOS Next Knowledge] Object Undefined Issue, Object Non-Settable, String Encoding&#x2F;Decoding, Parameters for Navigating to Existing Pages, Animation Handling</h3><h4 id="1-HarmonyOS-Error-“Object-is-possibly-‘undefined’”"><a href="#1-HarmonyOS-Error-“Object-is-possibly-‘undefined’”" class="headerlink" title="1. HarmonyOS Error: “Object is possibly ‘undefined’”?"></a>1. HarmonyOS Error: “Object is possibly ‘undefined’”?</h4><p>The error persists even after checking if a variable is empty.<br><img src="/../images/%E3%80%90%E6%AF%8F%E6%97%A5%E5%AD%A6%E7%82%B9HarmonyOS%20Next%E7%9F%A5%E8%AF%86%E3%80%9125.06.10.png"> </p>
<p>Refer to the following syntax:  </p>
<pre><code class="language-typescript">if (this.port_pair_map !== undefined &amp;&amp; this.port_pair_map.get(&quot;123&quot;) !== undefined) &#123;
  const arr: webview.WebMessagePort[] = this.port_pair_map.get(&quot;123&quot;) as webview.WebMessagePort[];
  // arr[1].postMessageEvent(&quot;11111&quot;);
  (this.port_pair_map.get(&quot;123&quot;) as webview.WebMessagePort[])[1].postMessageEvent(&quot;1111&quot;);
&#125;
</code></pre>
<h4 id="2-HarmonyOS-Error-“Cannot-set-property-when-setter-is-undefined”"><a href="#2-HarmonyOS-Error-“Cannot-set-property-when-setter-is-undefined”" class="headerlink" title="2. HarmonyOS Error: “Cannot set property when setter is undefined”?"></a>2. HarmonyOS Error: “Cannot set property when setter is undefined”?</h4><pre><code class="language-typescript">aboutToReuse(params: ReusableParams): void &#123; // &#123; ui: ThemeCard, isEnabling: boolean &#125;
  Log.error(TAG, &#39;aboutToReuse: &#39; + this.ui?.title + &#39;, params:&#39; + JSON.stringify(params));
  if (params !== undefined &amp;&amp; params.ui !== undefined) &#123;
    this.ui = params?.ui as ThemeCard;
    Log.error(TAG, &#39;aboutToReuse ------ : &#39; + this.ui.getUnlockWallpaperUrl());
  &#125;
&#125;
</code></pre>
<p>An error occurs when assigning a value to <code>this.ui</code>.  </p>
<p><strong>Explanation</strong>:<br>This error typically occurs when trying to set a value for a property without a setter method. This might happen if you’re trying to modify a read-only property or a property lacking a setter.  </p>
<p><strong>Solution</strong>:<br>Check your code for properties without setter methods and add setters where necessary.  </p>
<h4 id="3-How-to-perform-Base64-encoding-and-decoding-for-strings-in-HarmonyOS"><a href="#3-How-to-perform-Base64-encoding-and-decoding-for-strings-in-HarmonyOS" class="headerlink" title="3. How to perform Base64 encoding and decoding for strings in HarmonyOS?"></a>3. How to perform Base64 encoding and decoding for strings in HarmonyOS?</h4><p>Convert via <code>buffer</code> first. Refer to: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-util-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-util-V5</a>  </p>
<p><strong>@ohos.util (Utility Functions)</strong><br>This module provides common utility functions, including string encoding&#x2F;decoding (TextEncoder, TextDecoder), rational number operations (RationalNumber), buffer management (LRUCache), range checking (ScopeHelper), Base64 encoding&#x2F;decoding (Base64Helper), built-in object type checking (types), and method interception&#x2F;replacement (Aspect).  </p>
<h4 id="4-How-to-close-a-specific-page-or-update-parameters-when-navigating-to-an-existing-page-in-HarmonyOS"><a href="#4-How-to-close-a-specific-page-or-update-parameters-when-navigating-to-an-existing-page-in-HarmonyOS" class="headerlink" title="4. How to close a specific page or update parameters when navigating to an existing page in HarmonyOS?"></a>4. How to close a specific page or update parameters when navigating to an existing page in HarmonyOS?</h4><p><strong>Scenario</strong>: A reading page A exists in memory. Navigating from page B to page A (unique in the stack) requires updating page A’s parameters with data from page B.  </p>
<p><strong>Solution</strong>: Use the <code>@Provide</code> and <code>@Consume</code> decorators for two-way component synchronization.  </p>
<h4 id="5-HarmonyOS-Animation-Effects-Gestures"><a href="#5-HarmonyOS-Animation-Effects-Gestures" class="headerlink" title="5. HarmonyOS Animation Effects + Gestures?"></a>5. HarmonyOS Animation Effects + Gestures?</h4><p><strong>Official Documentation</strong>:  </p>
<ul>
<li><p>Edge Effects: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-container-scroll-V5#edgeeffect">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-container-scroll-V5#edgeeffect</a><br><code>edgeEffect(edgeEffect: EdgeEffect, options?: EdgeEffectOptions)</code><br>Sets edge sliding effects.  </p>
</li>
<li><p>Calendar Swipe Gestures: Refer to drag gesture usage in the official documentation:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-gestures-pangesture-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-gestures-pangesture-V5</a></p>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/609-Daily-HarmonyOS-Next-Knowledge-Component-Rotation-Notification-Management-Issues-Window-Status-Acquisition-Foreground-Background-Switch-Monitoring-Differences-Between-Conditional-Judgment-and-Visibility-Control/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/609-Daily-HarmonyOS-Next-Knowledge-Component-Rotation-Notification-Management-Issues-Window-Status-Acquisition-Foreground-Background-Switch-Monitoring-Differences-Between-Conditional-Judgment-and-Visibility-Control/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] Component Rotation, Notification Management Issues, Window Status Acquisition, Foreground/Background Switch Monitoring, Differences Between Conditional Judgment and Visibility Control</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 11:13:21 / Modified: 11:13:35" itemprop="dateCreated datePublished" datetime="2025-06-25T11:13:21+08:00">2025-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Knowledge-Component-Rotation-Notification-Management-Issues-Window-Status-Acquisition-Foreground-Background-Switch-Monitoring-Differences-Between-Conditional-Judgment-and-Visibility-Control"><a href="#Daily-HarmonyOS-Next-Knowledge-Component-Rotation-Notification-Management-Issues-Window-Status-Acquisition-Foreground-Background-Switch-Monitoring-Differences-Between-Conditional-Judgment-and-Visibility-Control" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Component Rotation, Notification Management Issues, Window Status Acquisition, Foreground&#x2F;Background Switch Monitoring, Differences Between Conditional Judgment and Visibility Control"></a>[Daily HarmonyOS Next Knowledge] Component Rotation, Notification Management Issues, Window Status Acquisition, Foreground&#x2F;Background Switch Monitoring, Differences Between Conditional Judgment and Visibility Control</h3><h4 id="1-HarmonyOS-component-translation-direction-error-after-rotation"><a href="#1-HarmonyOS-component-translation-direction-error-after-rotation" class="headerlink" title="1. HarmonyOS component translation direction error after rotation?"></a>1. HarmonyOS component translation direction error after rotation?</h4><p>After component rotation, the x and y axes of the component remain in their original directions.  </p>
<pre><code class="language-typescript">import json from &#39;@ohos.util.json&#39;

@Entry
@Component
struct Index &#123;
  @State imageWidth: number = 0
  @State imageHeight: number = 0
  @State offsetX: number = 0
  @State offsetY: number = 0
  @State positionX: number = 0
  @State positionY: number = 0
  @State angle: number = 0
  @State rotateValue: number = 0
  @State scaleValue: number = 1
  @State pinchValue: number = 1
  @State pinchX: number = 0
  @State pinchY: number = 0
  @State centerX: number = 0
  @State centerY: number = 0

  aboutToAppear(): void &#123;

  &#125;

  build() &#123;
    Column() &#123;
      Text(&#39;Title Bar&#39;)
        .width(&#39;100%&#39;)
        .height(50)
        .textAlign(TextAlign.Center)

      Column() &#123;
        Image($r(&#39;app.media.img&#39;))
          .width(200)
          .height(200)
          .scale(&#123; x: this.scaleValue, y: this.scaleValue, z: 1 &#125;)
          .translate(&#123; x: this.offsetX, y: this.offsetY, z: 0 &#125;)
          .rotate(&#123;
            angle: this.angle,
          &#125;)
          .gesture(GestureGroup(GestureMode.Parallel,
            PanGesture()
              .onActionUpdate((event: GestureEvent) =&gt; &#123;
                if (event) &#123;
                  this.offsetX = this.positionX + event.offsetX
                  this.offsetY = this.positionY + event.offsetY
                &#125;
              &#125;)
              .onActionEnd(() =&gt; &#123;
                this.positionX = this.offsetX
                this.positionY = this.offsetY
                console.info(&#39;Pan end&#39;)
              &#125;),

            RotationGesture()
              .onActionUpdate((event: GestureEvent) =&gt; &#123;
                if (event) &#123;
                  this.angle = this.rotateValue + event.angle

                &#125;
              &#125;)
              .onActionEnd((event: GestureEvent) =&gt; &#123;
                this.rotateValue = this.angle
                console.error(`$&#123;json.stringify(event)&#125;`)
                console.error(`$&#123;this.rotateValue&#125;`)
                console.info(&#39;Rotation end&#39;)
              &#125;)
          )
          )
      &#125;.width(500).height(500)

    &#125;
  &#125;
&#125;
</code></pre>
<p>To avoid this, place the combined gesture in the parent component:  </p>
<pre><code class="language-typescript">import json from &#39;@ohos.util.json&#39;

@Entry
@Component
struct Index &#123;
  @State imageWidth: number = 0
  @State imageHeight: number = 0
  @State offsetX: number = 0
  @State offsetY: number = 0
  @State positionX: number = 0
  @State positionY: number = 0
  @State angle: number = 0
  @State rotateValue: number = 0
  @State scaleValue: number = 1
  @State pinchValue: number = 1
  @State pinchX: number = 0
  @State pinchY: number = 0
  @State centerX: number = 0
  @State centerY: number = 0

  aboutToAppear(): void &#123;

  &#125;

  build() &#123;
    Column() &#123;
      Text(&#39;Title Bar&#39;)
        .width(&#39;100%&#39;)
        .height(50)
        .textAlign(TextAlign.Center)

      Column() &#123;
        Image($r(&#39;app.media.app_icon&#39;))
          .width(200)
          .height(200)
          .scale(&#123; x: this.scaleValue, y: this.scaleValue, z: 1 &#125;)
          .translate(&#123; x: this.offsetX, y: this.offsetY &#125;)
          .rotate(&#123;
            angle: this.angle,
          &#125;)

      &#125;.width(500).height(500)
      .gesture(GestureGroup(GestureMode.Parallel,
        PanGesture()
          .onActionUpdate((event: GestureEvent) =&gt; &#123;
            if (event) &#123;
              this.offsetX = this.positionX + event.offsetX
              this.offsetY = this.positionY + event.offsetY
            &#125;
          &#125;)
          .onActionEnd(() =&gt; &#123;
            this.positionX = this.offsetX
            this.positionY = this.offsetY
            console.info(&#39;Pan end&#39;)
          &#125;),

        RotationGesture()
          .onActionUpdate((event: GestureEvent) =&gt; &#123;
            if (event) &#123;
              this.angle = this.rotateValue + event.angle

            &#125;
          &#125;)
          .onActionEnd((event: GestureEvent) =&gt; &#123;
            this.rotateValue = this.angle
            console.error(`$&#123;json.stringify(event)&#125;`)
            console.error(`$&#123;this.rotateValue&#125;`)
            console.info(&#39;Rotation end&#39;)
          &#125;)
      )
      )
    &#125;
  &#125;
&#125;
</code></pre>
<h4 id="2-HarmonyOS-notificationManager-issues"><a href="#2-HarmonyOS-notificationManager-issues" class="headerlink" title="2. HarmonyOS notificationManager issues?"></a>2. HarmonyOS notificationManager issues?</h4><p>When a user clicks a notification in the notification bar, they can jump to other pages or publish public events via wantagent. How to implement calling an interface upon notification click?  </p>
<p>Trigger a public event on notification click and call the interface in the public event callback.  </p>
<h4 id="3-How-to-obtain-windowStage-in-Ability-test-ets-for-HarmonyOS"><a href="#3-How-to-obtain-windowStage-in-Ability-test-ets-for-HarmonyOS" class="headerlink" title="3. How to obtain windowStage in Ability.test.ets for HarmonyOS?"></a>3. How to obtain windowStage in Ability.test.ets for HarmonyOS?</h4><p>After updating DevEco Studio to 5.0, the testability testrunner in the ohosTest directory of the project was removed. How to obtain windowStage in Ability.test.ets?  </p>
<p>Refer to the following document: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-window-V5#windowstage9">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-window-V5#windowstage9</a>  </p>
<p><strong>WindowStage</strong><br>Manages window instances as the window manager. The following API examples require calling corresponding methods using a WindowStage instance within the onWindowStageCreate() function.  </p>
<p><strong>getMainWindow</strong><br><code>getMainWindow(callback: AsyncCallback&lt;Window&gt;): void</code><br>Asynchronously obtains the main window under the WindowStage instance via callback.  </p>
<h4 id="4-How-to-monitor-foreground-application-switching-in-HarmonyOS"><a href="#4-How-to-monitor-foreground-application-switching-in-HarmonyOS" class="headerlink" title="4. How to monitor foreground application switching in HarmonyOS?"></a>4. How to monitor foreground application switching in HarmonyOS?</h4><p>Refer to the document: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-inner-application-applicationcontext-V5#applicationcontextontype-applicationstatechange-callback-applicationstatechangecallback10">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-inner-application-applicationcontext-V5#applicationcontextontype-applicationstatechange-callback-applicationstatechangecallback10</a>  </p>
<p><strong>ApplicationContext.on(‘abilityLifecycle’)</strong><br><code>on(type: &#39;abilityLifecycle&#39;, callback: AbilityLifecycleCallback): number</code><br>Registers to listen for in-application lifecycles with an asynchronous callback. Only callable from the main thread.  </p>
<p><strong>Example</strong>:  </p>
<pre><code class="language-typescript">import &#123; UIAbility, AbilityLifecycleCallback &#125; from &#39;@kit.AbilityKit&#39;;
import &#123; BusinessError &#125; from &#39;@kit.BasicServicesKit&#39;;


let lifecycleId: number;


export default class EntryAbility extends UIAbility &#123;
  onCreate() &#123;
    console.log(&#39;MyAbility onCreate&#39;);
    const abilityLifecycleCallback: AbilityLifecycleCallback = &#123;
      onAbilityCreate(ability) &#123;
        console.log(`AbilityLifecycleCallback onAbilityCreate ability: $&#123;ability&#125;`);
      &#125;,
      onWindowStageCreate(ability, windowStage) &#123;
        console.log(`AbilityLifecycleCallback onWindowStageCreate ability: $&#123;ability&#125;`);
        console.log(`AbilityLifecycleCallback onWindowStageCreate windowStage: $&#123;windowStage&#125;`);
      &#125;,
      onWindowStageActive(ability, windowStage) &#123;
        console.log(`AbilityLifecycleCallback onWindowStageActive ability: $&#123;ability&#125;`);
        console.log(`AbilityLifecycleCallback onWindowStageActive windowStage: $&#123;windowStage&#125;`);
      &#125;,
      onWindowStageInactive(ability, windowStage) &#123;
        console.log(`AbilityLifecycleCallback onWindowStageInactive ability: $&#123;ability&#125;`);
        console.log(`AbilityLifecycleCallback onWindowStageInactive windowStage: $&#123;windowStage&#125;`);
      &#125;,
      onWindowStageDestroy(ability, windowStage) &#123;
        console.log(`AbilityLifecycleCallback onWindowStageDestroy ability: $&#123;ability&#125;`);
        console.log(`AbilityLifecycleCallback onWindowStageDestroy windowStage: $&#123;windowStage&#125;`);
      &#125;,
      onAbilityDestroy(ability) &#123;
        console.log(`AbilityLifecycleCallback onAbilityDestroy ability: $&#123;ability&#125;`);
      &#125;,
      onAbilityForeground(ability) &#123;
        console.log(`AbilityLifecycleCallback onAbilityForeground ability: $&#123;ability&#125;`);
      &#125;,
      onAbilityBackground(ability) &#123;
        console.log(`AbilityLifecycleCallback onAbilityBackground ability: $&#123;ability&#125;`);
      &#125;,
      onAbilityContinue(ability) &#123;
        console.log(`AbilityLifecycleCallback onAbilityContinue ability: $&#123;ability&#125;`);
      &#125;
    &#125;
    // 1. Get applicationContext via the context property
    const applicationContext = this.context.getApplicationContext();
    try &#123;
      // 2. Register to listen for in-application lifecycles via applicationContext
      lifecycleId = applicationContext.on(&#39;abilityLifecycle&#39;, abilityLifecycleCallback);
    &#125; catch (paramError) &#123;
      console.error(`error: $&#123;(paramError as BusinessError).code&#125;, $&#123;(paramError as BusinessError).message&#125;`);
    &#125;
    console.log(`registerAbilityLifecycleCallback lifecycleId: $&#123;lifecycleId&#125;`);
  &#125;
&#125;
</code></pre>
<p><strong>AbilityLifecycleCallback.onAbilityForeground</strong><br><code>onAbilityForeground(ability: UIAbility): void</code><br>Triggers when the ability transitions from background to foreground after registering for lifecycle listening.  </p>
<p><strong>AbilityLifecycleCallback.onAbilityBackground</strong><br><code>onAbilityBackground(ability: UIAbility): void</code><br>Triggers when the ability transitions from foreground to background after registering for lifecycle listening.  </p>
<h4 id="5-How-to-choose-between-performance-when-controlling-component-rendering-via-if-condition-or-visibility-in-HarmonyOS"><a href="#5-How-to-choose-between-performance-when-controlling-component-rendering-via-if-condition-or-visibility-in-HarmonyOS" class="headerlink" title="5. How to choose between performance when controlling component rendering via if condition or visibility in HarmonyOS?"></a>5. How to choose between performance when controlling component rendering via if condition or visibility in HarmonyOS?</h4><p><strong>Action Modes</strong>:<br>Developers can switch between component display and hiding states through if conditional rendering or visibility control. The difference in their action modes is as follows:  </p>
<ul>
<li><strong>Conditional rendering via if</strong>: Creates the component when the condition is met and destroys it when not met.  <ul>
<li>The component is only created when the condition is satisfied.  </li>
<li>When the condition is not met, the component is destroyed and not mounted in the component tree.</li>
</ul>
</li>
<li><strong>Visibility control</strong>: Controls component display or hiding based on parameter values.  <ol>
<li>The component is created initially regardless of display status.  </li>
<li>When hidden, the component remains mounted in the component tree but is in an invisible state.</li>
</ol>
</li>
</ul>
<p><strong>Scenario Selection</strong>:  </p>
<ul>
<li><strong>Advantageous scenarios for visibility control</strong>:  <ul>
<li>When components have complex animations and need to switch frequently between display and hiding, use visibility control to avoid frequent creation and destruction, improving performance.</li>
</ul>
</li>
<li><strong>Advantageous scenarios for conditional rendering</strong>:  <ul>
<li>During cold start, if components do not need to be displayed initially, use conditional rendering to reduce rendering time and speed up startup.  </li>
<li>If components have simple or no animations, do not switch frequently, or are mostly hidden, use conditional rendering to reduce interface complexity and nesting levels, improving performance.  </li>
<li>If controlled components occupy large memory, prioritize conditional rendering to destroy unused components immediately and save memory.</li>
</ul>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/608-Daily-HarmonyOS-Next-Knowledge-Semi-modal-Page-Margins-Mouse-Hover-on-List-Items-Default-Options-for-Select-Components-Different-Text-Sizes-String-Encoding/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/608-Daily-HarmonyOS-Next-Knowledge-Semi-modal-Page-Margins-Mouse-Hover-on-List-Items-Default-Options-for-Select-Components-Different-Text-Sizes-String-Encoding/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] Semi-modal Page Margins, Mouse Hover on List Items, Default Options for Select Components, Different Text Sizes, String Encoding</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 11:10:49 / Modified: 11:12:11" itemprop="dateCreated datePublished" datetime="2025-06-25T11:10:49+08:00">2025-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Knowledge-Semi-modal-Page-Margins-Mouse-Hover-on-List-Items-Default-Options-for-Select-Components-Different-Text-Sizes-String-Encoding"><a href="#Daily-HarmonyOS-Next-Knowledge-Semi-modal-Page-Margins-Mouse-Hover-on-List-Items-Default-Options-for-Select-Components-Different-Text-Sizes-String-Encoding" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Semi-modal Page Margins, Mouse Hover on List Items, Default Options for Select Components, Different Text Sizes, String Encoding"></a>[Daily HarmonyOS Next Knowledge] Semi-modal Page Margins, Mouse Hover on List Items, Default Options for Select Components, Different Text Sizes, String Encoding</h3><h4 id="1-Can-HarmonyOS-ArkTS-semi-modal-pages-set-left-and-right-margins-for-mobile-phones"><a href="#1-Can-HarmonyOS-ArkTS-semi-modal-pages-set-left-and-right-margins-for-mobile-phones" class="headerlink" title="1. Can HarmonyOS ArkTS semi-modal pages set left and right margins for mobile phones?"></a>1. Can HarmonyOS ArkTS semi-modal pages set left and right margins for mobile phones?</h4><p>Since API 12, the width of semi-modals can be set.<br>Reference link: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-attributes-sheet-transition-V5#bindsheet">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-attributes-sheet-transition-V5#bindsheet</a>  </p>
<h4 id="2-For-Image-components-traversed-by-HarmonyOS-LazyForEach-how-to-handle-mouse-hover-scenarios-to-target-the-selected-Image-rather-than-the-entire-outer-component"><a href="#2-For-Image-components-traversed-by-HarmonyOS-LazyForEach-how-to-handle-mouse-hover-scenarios-to-target-the-selected-Image-rather-than-the-entire-outer-component" class="headerlink" title="2. For Image components traversed by HarmonyOS LazyForEach, how to handle mouse hover scenarios to target the selected Image rather than the entire outer component?"></a>2. For Image components traversed by HarmonyOS LazyForEach, how to handle mouse hover scenarios to target the selected Image rather than the entire outer component?</h4><p>Assign the index to a variable in <code>onHover</code>, then judge whether the variable matches the current index in the specific Image attribute and change the attribute value if they match.  </p>
<pre><code class="language-typescript">.onHover((isHover?: boolean) =&gt; &#123;
  if (isHover) &#123;
    this.hoverIndex = index;
  &#125;
&#125;)
</code></pre>
<h4 id="3-How-to-set-a-default-value-for-the-HarmonyOS-ArkTS-select-component"><a href="#3-How-to-set-a-default-value-for-the-HarmonyOS-ArkTS-select-component" class="headerlink" title="3. How to set a default value for the HarmonyOS ArkTS select component?"></a>3. How to set a default value for the HarmonyOS ArkTS select component?</h4><p>Can the select component set a default value to automatically select an option when the program starts without manual selection?  </p>
<p>Use the <code>selected</code> attribute to set the index of the initial option in the drop-down menu.<br>Documentation link: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-select-V5#selected">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-select-V5#selected</a>  </p>
<p><code>selected(value: number | Resource)</code>  </p>
<p>Sets the index of the initial option in the drop-down menu (index 0 for the first item). If <code>selected</code> is not set or an invalid value is provided, the default selection is -1 (no item selected). If set to <code>undefined</code> or <code>null</code>, the first item is selected.  </p>
<h4 id="4-How-to-use-different-font-sizes-for-a-single-line-of-text-in-HarmonyOS"><a href="#4-How-to-use-different-font-sizes-for-a-single-line-of-text-in-HarmonyOS" class="headerlink" title="4. How to use different font sizes for a single line of text in HarmonyOS?"></a>4. How to use different font sizes for a single line of text in HarmonyOS?</h4><p><img src="/../images/%E3%80%90%E6%AF%8F%E6%97%A5%E5%AD%A6%E7%82%B9HarmonyOS%20Next%E7%9F%A5%E8%AF%86%E3%80%9125.06.08.png"></p>
<p>How to implement different font sizes for a single line of text while considering internationalization and left-right position changes?  </p>
<p>Use <code>Span</code> to fill partial content and configure the <code>direction</code> attribute for left-right position changes.  </p>
<h4 id="5-HarmonyOS-string-encoding-issues"><a href="#5-HarmonyOS-string-encoding-issues" class="headerlink" title="5. HarmonyOS string encoding issues?"></a>5. HarmonyOS string encoding issues?</h4><p>Which encoding in <code>BufferEncoding</code> is equivalent to Java’s GB18030 encoding, used in the SM3 digest algorithm?  </p>
<p>API 12 supports this.<br>Reference document: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-util-V5#textencoder">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-util-V5#textencoder</a>  </p>
<p><code>TextEncoder</code> encodes strings into byte arrays and supports multiple encoding formats.  </p>
<p>Note: The number of bytes per character varies by encoding format. Specify the encoding format explicitly when using <code>TextEncoder</code> to ensure correct encoding results.<br><img src="/../images/%E3%80%90%E6%AF%8F%E6%97%A5%E5%AD%A6%E7%82%B9HarmonyOS%20Next%E7%9F%A5%E8%AF%86%E3%80%9125.06.08-1.png"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/607-Daily-Harmony-Learnings-on-HarmonyOS-Next-Dialog-Controller-ArkUI-X-Marquee-Light-Dark-Mode-Global-Popup-Callback/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/607-Daily-Harmony-Learnings-on-HarmonyOS-Next-Dialog-Controller-ArkUI-X-Marquee-Light-Dark-Mode-Global-Popup-Callback/" class="post-title-link" itemprop="url">[Daily Harmony Learnings on HarmonyOS Next] Dialog Controller, ArkUI-X, Marquee, Light/Dark Mode, Global Popup Callback</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 11:08:42 / Modified: 12:25:00" itemprop="dateCreated datePublished" datetime="2025-06-25T11:08:42+08:00">2025-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Learnings/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Learnings</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-Harmony-Learnings-on-HarmonyOS-Next-Dialog-Controller-ArkUI-X-Marquee-Light-Dark-Mode-Global-Popup-Callback"><a href="#Daily-Harmony-Learnings-on-HarmonyOS-Next-Dialog-Controller-ArkUI-X-Marquee-Light-Dark-Mode-Global-Popup-Callback" class="headerlink" title="[Daily Harmony Learnings on HarmonyOS Next] Dialog Controller, ArkUI-X, Marquee, Light&#x2F;Dark Mode, Global Popup Callback"></a>[Daily Harmony Learnings on HarmonyOS Next] Dialog Controller, ArkUI-X, Marquee, Light&#x2F;Dark Mode, Global Popup Callback</h3><h4 id="1-Why-is-HarmonyOS-CustomDialogController-always-undefined"><a href="#1-Why-is-HarmonyOS-CustomDialogController-always-undefined" class="headerlink" title="1. Why is HarmonyOS CustomDialogController always undefined?"></a>1. Why is HarmonyOS CustomDialogController always undefined?</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">export</span> struct <span class="title class_">DialogBug</span> &#123;</span><br><span class="line">  <span class="attr">dialogController</span>: <span class="title class_">CustomDialogController</span> = <span class="keyword">new</span> <span class="title class_">CustomDialogController</span>(&#123;</span><br><span class="line">    <span class="attr">builder</span>: <span class="title function_">getPublishWidgetBuilder</span>().<span class="property">builder</span>,</span><br><span class="line">    <span class="attr">cornerRadius</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">customStyle</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">alignment</span>: <span class="title class_">DialogAlignment</span>.<span class="property">Center</span>,</span><br><span class="line">    <span class="attr">maskColor</span>: <span class="number">0x77000000</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Button</span>(<span class="string">&#x27;open&#x27;</span>)</span><br><span class="line">        .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">dialogController</span>.<span class="title function_">open</span>()</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">margin</span>(&#123; <span class="attr">top</span>: <span class="number">200</span> &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getPublishWidgetBuilder</span>(<span class="params"></span>): <span class="title class_">WrappedBuilder</span>&lt;[]&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">wrapBuilder</span>(<span class="title class_">DialogBuilder</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Builder</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">DialogBuilder</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title class_">Mydialog</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@CustomDialog</span></span><br><span class="line">struct <span class="title class_">Mydialog</span> &#123;</span><br><span class="line">  <span class="attr">dialogController</span>?: <span class="title class_">CustomDialogController</span></span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Button</span>(<span class="string">&#x27;close&#x27;</span>)</span><br><span class="line">        .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">dialogController</span>?.<span class="title function_">close</span>()</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Supplementary Note**: Using `</span><span class="keyword">new</span> <span class="title class_">CustomDialogController</span><span class="string">` in `</span><span class="title class_">Mydialog</span><span class="string">` still fails to close the dialog.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Refer to the following modifications**:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Test5</span> &#123;</span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">DialogBug</span>()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">export</span> struct <span class="title class_">DialogBug</span> &#123;</span><br><span class="line">  <span class="attr">dialogController</span>: <span class="title class_">CustomDialogController</span> = <span class="keyword">new</span> <span class="title class_">CustomDialogController</span>(&#123;</span><br><span class="line">    <span class="attr">builder</span>: <span class="title class_">Mydialog</span>(), <span class="comment">// Directly use the component instead of wrapBuilder</span></span><br><span class="line">    <span class="attr">cornerRadius</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">customStyle</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">alignment</span>: <span class="title class_">DialogAlignment</span>.<span class="property">Center</span>,</span><br><span class="line">    <span class="attr">maskColor</span>: <span class="number">0x77000000</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Button</span>(<span class="string">&#x27;open&#x27;</span>).<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">dialogController</span>.<span class="title function_">open</span>()</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">margin</span>(&#123; <span class="attr">top</span>: <span class="number">200</span> &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getPublishWidgetBuilder</span>(<span class="params"></span>): <span class="title class_">WrappedBuilder</span>&lt;[]&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">wrapBuilder</span>(<span class="title class_">DialogBuilder</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Builder</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">DialogBuilder</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title class_">Mydialog</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@CustomDialog</span></span><br><span class="line">struct <span class="title class_">Mydialog</span> &#123;</span><br><span class="line">  <span class="attr">dialogController</span>?: <span class="title class_">CustomDialogController</span></span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Button</span>(<span class="string">&#x27;close&#x27;</span>).<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">dialogController</span> !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">dialogController</span>.<span class="title function_">close</span>()</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&#x27;dialogController is undefined&#x27;</span>)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 2. What are the advantages and disadvantages of HarmonyOS ArkUI-X compared to other cross-platform frameworks like React Native, Flutter, and Taro?  </span></span><br><span class="line"><span class="string">**Advantages**:  </span></span><br><span class="line"><span class="string">1. Development paradigm aligns with HarmonyOS, requiring no extra framework learning.  </span></span><br><span class="line"><span class="string">2. Cross-platform and cross-device compatibility.  </span></span><br><span class="line"><span class="string">3. Dynamism (core libraries, dynamic bundles).  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 3. Can HarmonyOS marquee and font adaptive sizing coexist?  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title class_">Row</span>() &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Text</span>(<span class="string">&#x27;一二三四&#x27;</span>)</span><br><span class="line">        .<span class="title function_">width</span>(<span class="string">&#x27;250px&#x27;</span>)</span><br><span class="line">        .<span class="title function_">height</span>(<span class="string">&#x27;50px&#x27;</span>)</span><br><span class="line">        .<span class="title function_">maxFontSize</span>(<span class="string">&#x27;50px&#x27;</span>)</span><br><span class="line">        .<span class="title function_">minFontSize</span>(<span class="string">&#x27;30px&#x27;</span>)</span><br><span class="line">        .<span class="title function_">maxLines</span>(<span class="number">1</span>)</span><br><span class="line">        .<span class="title function_">fontWeight</span>(<span class="title class_">FontWeight</span>.<span class="property">Bold</span>)</span><br><span class="line">        .<span class="title function_">fontColor</span>(<span class="title class_">Color</span>.<span class="property">Gray</span>)</span><br><span class="line">        .<span class="title function_">textAlign</span>(<span class="title class_">TextAlign</span>.<span class="property">Center</span>)</span><br><span class="line">        .<span class="title function_">margin</span>(&#123; <span class="attr">top</span>: <span class="string">&#x27;30px&#x27;</span> &#125;)</span><br><span class="line">        .<span class="title function_">textOverflow</span>(&#123; <span class="attr">overflow</span>: <span class="title class_">TextOverflow</span>.<span class="property">MARQUEE</span> &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Conclusion**: Marquee and font adaptive sizing cannot coexist.  </span></span><br><span class="line"><span class="string">**Reference**: https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-text  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 4. Does the HarmonyOS &quot;Hello World&quot; demo not follow the system light/dark mode?  </span></span><br><span class="line"><span class="string">Add the following line in `</span>onCreate<span class="string">`:  </span></span><br><span class="line"><span class="string">`</span><span class="variable language_">this</span>.<span class="property">context</span>.<span class="title function_">getApplicationContext</span>().<span class="title function_">setColorMode</span>(<span class="title class_">ConfigurationConstant</span>.<span class="property">ColorMode</span>.<span class="property">COLOR_MODE_NOT_SET</span>)<span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 5. Example of globally custom popups with callback functions in HarmonyOS  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="comment">// CustomDialog_Globally.ets</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">BusinessError</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@ohos.base&#x27;</span>;</span><br><span class="line"><span class="comment">// CustomDialog_Globally_other01.ets</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ComponentContent</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@kit.ArkUI&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; buildText, <span class="title class_">Params</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./CustomDialog_Globally&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">Params</span> &#123;</span><br><span class="line">  <span class="attr">text</span>: <span class="built_in">string</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="attr">callback</span>: <span class="function">(<span class="params"><span class="attr">volumeType</span>: <span class="built_in">string</span>, <span class="attr">value</span>: <span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">void</span> = <span class="function">() =&gt;</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="attr">text</span>: <span class="built_in">string</span>, <span class="attr">callback</span>: (volumeType: <span class="built_in">string</span>, value: <span class="built_in">number</span>) =&gt; <span class="built_in">void</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">text</span> = text;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">callback</span> = callback;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Builder</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">buildText</span>(<span class="params"><span class="attr">params</span>: <span class="title class_">Params</span></span>) &#123;</span><br><span class="line">  <span class="comment">// Popup content</span></span><br><span class="line">  <span class="title class_">Column</span>() &#123;</span><br><span class="line">    <span class="title class_">Text</span>(params.<span class="property">text</span>)</span><br><span class="line">      .<span class="title function_">fontSize</span>(<span class="number">50</span>)</span><br><span class="line">      .<span class="title function_">fontWeight</span>(<span class="title class_">FontWeight</span>.<span class="property">Bold</span>)</span><br><span class="line">      .<span class="title function_">margin</span>(&#123; <span class="attr">bottom</span>: <span class="number">36</span> &#125;)</span><br><span class="line">    <span class="title class_">Button</span>(<span class="string">&quot;Login&quot;</span>)</span><br><span class="line">      .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        params.<span class="property">text</span> = <span class="string">&#x27;Login button clicked&#x27;</span>;</span><br><span class="line">        <span class="comment">// Login result callback</span></span><br><span class="line">        params.<span class="title function_">callback</span>(<span class="string">&#x27;1&#x27;</span>, <span class="number">2</span>);</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;.<span class="title function_">backgroundColor</span>(<span class="title class_">Color</span>.<span class="property">Yellow</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">CustomDialog</span>_Globally &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">message</span>: <span class="built_in">string</span> = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Row</span>() &#123;</span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">Button</span>(<span class="string">&quot;Click Me&quot;</span>)</span><br><span class="line">          .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> uiContext = <span class="variable language_">this</span>.<span class="title function_">getUIContext</span>();</span><br><span class="line">            <span class="keyword">const</span> promptAction = uiContext.<span class="title function_">getPromptAction</span>();</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">              <span class="keyword">const</span> contentNode = <span class="keyword">new</span> <span class="title class_">ComponentContent</span>(</span><br><span class="line">                uiContext,</span><br><span class="line">                <span class="title function_">wrapBuilder</span>(buildText),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">Params</span>(<span class="variable language_">this</span>.<span class="property">message</span>, <span class="function">(<span class="params"><span class="keyword">type</span>, val</span>) =&gt;</span> &#123;</span><br><span class="line">                  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Callback: type=<span class="subst">$&#123;<span class="keyword">type</span>&#125;</span>, value=<span class="subst">$&#123;val&#125;</span>`</span>);</span><br><span class="line">                &#125;)</span><br><span class="line">              );</span><br><span class="line">              promptAction.<span class="title function_">openCustomDialog</span>(contentNode);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">              <span class="keyword">const</span> code = (error <span class="keyword">as</span> <span class="title class_">BusinessError</span>).<span class="property">code</span>;</span><br><span class="line">              <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`OpenCustomDialog error code: <span class="subst">$&#123;code&#125;</span>`</span>);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">      .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">CustomDialog</span>_Globally_other01 &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">message</span>: <span class="built_in">string</span> = <span class="string">&#x27;Hello World&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">message</span>)</span><br><span class="line">        .<span class="title function_">id</span>(<span class="string">&#x27;HelloWorld&#x27;</span>)</span><br><span class="line">        .<span class="title function_">fontSize</span>(<span class="number">50</span>)</span><br><span class="line">        .<span class="title function_">fontWeight</span>(<span class="title class_">FontWeight</span>.<span class="property">Bold</span>)</span><br><span class="line">        .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">const</span> uiContext = <span class="variable language_">this</span>.<span class="title function_">getUIContext</span>();</span><br><span class="line">          <span class="keyword">const</span> promptAction = uiContext.<span class="title function_">getPromptAction</span>();</span><br><span class="line">          <span class="keyword">const</span> <span class="title function_">callback</span> = (<span class="params"><span class="attr">volumeType</span>: <span class="built_in">string</span>, <span class="attr">value</span>: <span class="built_in">number</span></span>) =&gt; &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Result: type=<span class="subst">$&#123;volumeType&#125;</span>, value=<span class="subst">$&#123;value&#125;</span>`</span>);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">message</span> = volumeType;</span><br><span class="line">          &#125;;</span><br><span class="line">          <span class="keyword">const</span> contentNode = <span class="keyword">new</span> <span class="title class_">ComponentContent</span>(</span><br><span class="line">            uiContext,</span><br><span class="line">            <span class="title function_">wrapBuilder</span>(buildText),</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Params</span>(<span class="variable language_">this</span>.<span class="property">message</span>, callback)</span><br><span class="line">          );</span><br><span class="line">          <span class="keyword">try</span> &#123;</span><br><span class="line">            promptAction.<span class="title function_">openCustomDialog</span>(contentNode);</span><br><span class="line">          &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">            <span class="keyword">const</span> msg = (error <span class="keyword">as</span> <span class="title class_">BusinessError</span>).<span class="property">message</span>;</span><br><span class="line">            <span class="keyword">const</span> code = (error <span class="keyword">as</span> <span class="title class_">BusinessError</span>).<span class="property">code</span>;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`Error: code=<span class="subst">$&#123;code&#125;</span>, message=<span class="subst">$&#123;msg&#125;</span>`</span>);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/606-Daily-Harmony-Learnings-on-HarmonyOS-Next-Dialog-Controller-ArkUI-X-Marquee-Light-Dark-Mode-Global-Popup-Callback/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/606-Daily-Harmony-Learnings-on-HarmonyOS-Next-Dialog-Controller-ArkUI-X-Marquee-Light-Dark-Mode-Global-Popup-Callback/" class="post-title-link" itemprop="url">[Daily Harmony Learnings on HarmonyOS Next] Dialog Controller, ArkUI-X, Marquee, Light/Dark Mode, Global Popup Callback</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 11:08:29 / Modified: 12:37:14" itemprop="dateCreated datePublished" datetime="2025-06-25T11:08:29+08:00">2025-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="【Daily-HarmonyOS-Next-Knowledge】Removing-Overlays-Navigating-from-Non-Build-Functions-Controlling-Line-Breaks-in-Flow-Layouts-Global-Focus-Events-and-Forcing-Portrait-Orientation-in-Floating-Windows-on-Landscape-Screens"><a href="#【Daily-HarmonyOS-Next-Knowledge】Removing-Overlays-Navigating-from-Non-Build-Functions-Controlling-Line-Breaks-in-Flow-Layouts-Global-Focus-Events-and-Forcing-Portrait-Orientation-in-Floating-Windows-on-Landscape-Screens" class="headerlink" title="【Daily HarmonyOS Next Knowledge】Removing Overlays, Navigating from Non-Build Functions, Controlling Line Breaks in Flow Layouts, Global Focus Events, and Forcing Portrait Orientation in Floating Windows on Landscape Screens"></a>【Daily HarmonyOS Next Knowledge】Removing Overlays, Navigating from Non-Build Functions, Controlling Line Breaks in Flow Layouts, Global Focus Events, and Forcing Portrait Orientation in Floating Windows on Landscape Screens</h3><h4 id="1-How-to-remove-the-overlay-in-HarmonyOS’s-bindsheet"><a href="#1-How-to-remove-the-overlay-in-HarmonyOS’s-bindsheet" class="headerlink" title="1. How to remove the overlay in HarmonyOS’s bindsheet?"></a>1. How to remove the overlay in HarmonyOS’s bindsheet?</h4><p>In the options object, there is a <code>maskColor</code> property used to set the color of the overlay. To ensure the overlay is completely transparent, set <code>maskColor</code> to a transparent value (e.g., <code>Transparent</code>). This will make the overlay invisible.</p>
<h4 id="2-How-to-use-this-navPathStack-pushDestination-outside-of-the-build-function-in-HarmonyOS"><a href="#2-How-to-use-this-navPathStack-pushDestination-outside-of-the-build-function-in-HarmonyOS" class="headerlink" title="2. How to use this.navPathStack?.pushDestination outside of the build function in HarmonyOS?"></a>2. How to use <code>this.navPathStack?.pushDestination</code> outside of the <code>build</code> function in HarmonyOS?</h4><p>The documentation only shows examples of using <code>this.navPathStack?.pushDestination</code> within the <code>build</code> function, triggered by an <code>onClick</code> event. However, when trying to use it elsewhere (e.g., for a link), it throws an error without any error message.</p>
<p><strong>Solution</strong>: <code>NavPathStack</code> must be initialized within a <code>Navigation</code> component to enable navigation.</p>
<h4 id="3-How-to-control-the-spacing-between-lines-in-a-HarmonyOS-flex-flow-layout-when-components-wrap"><a href="#3-How-to-control-the-spacing-between-lines-in-a-HarmonyOS-flex-flow-layout-when-components-wrap" class="headerlink" title="3. How to control the spacing between lines in a HarmonyOS flex flow layout when components wrap?"></a>3. How to control the spacing between lines in a HarmonyOS flex flow layout when components wrap?</h4><p>In earlier API versions, the <code>space</code> property in <code>Flex(&#123; wrap: FlexWrap.Wrap &#125;)</code> might not be available. For older APIs, refer to the documentation:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-container-flex-V5#Example6">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-container-flex-V5#Example6</a></p>
<p><strong>Workaround</strong>: Use alternative properties or layout components available in your API version.</p>
<h4 id="4-Does-HarmonyOS-provide-a-global-focus-event-callback-at-the-application-level-similar-to-OH-NativeXComponent-RegisterFocusEventCallback-for-XComponents"><a href="#4-Does-HarmonyOS-provide-a-global-focus-event-callback-at-the-application-level-similar-to-OH-NativeXComponent-RegisterFocusEventCallback-for-XComponents" class="headerlink" title="4. Does HarmonyOS provide a global focus event callback at the application level, similar to OH_NativeXComponent_RegisterFocusEventCallback for XComponents?"></a>4. Does HarmonyOS provide a global focus event callback at the application level, similar to <code>OH_NativeXComponent_RegisterFocusEventCallback</code> for XComponents?</h4><p>Is there a window-level focus event?</p>
<p><strong>Answer</strong>: Focus events are component-level; there is no application-level focus event.<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-window">https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-window</a></p>
<h4 id="5-How-to-force-a-floating-window-to-display-in-portrait-orientation-on-a-landscape-screen-in-HarmonyOS"><a href="#5-How-to-force-a-floating-window-to-display-in-portrait-orientation-on-a-landscape-screen-in-HarmonyOS" class="headerlink" title="5. How to force a floating window to display in portrait orientation on a landscape screen in HarmonyOS?"></a>5. How to force a floating window to display in portrait orientation on a landscape screen in HarmonyOS?</h4><p>When creating a floating window, setting it to强制 portrait orientation does not work as expected:<br>![[【Daily HarmonyOS Next Knowledge】25.06.06.png]]</p>
<p><strong>Solution</strong>: Use <code>windowClass.setPreferredOrientation(window.Orientation.LOCKED)</code> to lock the orientation based on the current display. Here’s an example:</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="variable language_">window</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@kit.ArkUI&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Test</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">message</span>: <span class="built_in">string</span> = <span class="string">&#x27;Hello World&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">message</span>)</span><br><span class="line">        .<span class="title function_">id</span>(<span class="string">&#x27;Index4HelloWorld&#x27;</span>)</span><br><span class="line">        .<span class="title function_">fontSize</span>(<span class="number">50</span>)</span><br><span class="line">        .<span class="title function_">fontWeight</span>(<span class="title class_">FontWeight</span>.<span class="property">Bold</span>)</span><br><span class="line">        .<span class="title function_">fontColor</span>(<span class="title class_">Color</span>.<span class="property">Black</span>)</span><br><span class="line">        .<span class="title function_">alignRules</span>(&#123;</span><br><span class="line">          <span class="attr">center</span>: &#123; <span class="attr">anchor</span>: <span class="string">&#x27;__container__&#x27;</span>, <span class="attr">align</span>: <span class="title class_">VerticalAlign</span>.<span class="property">Center</span> &#125;,</span><br><span class="line">          <span class="attr">middle</span>: &#123; <span class="attr">anchor</span>: <span class="string">&#x27;__container__&#x27;</span>, <span class="attr">align</span>: <span class="title class_">HorizontalAlign</span>.<span class="property">Center</span> &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      <span class="title class_">Button</span>(<span class="string">&#x27;Lock Orientation&#x27;</span>).<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="title function_">getLastWindow</span>(<span class="title function_">getContext</span>(<span class="variable language_">this</span>), <span class="function">(<span class="params">err, win</span>) =&gt;</span> &#123;</span><br><span class="line">          win.<span class="title function_">setPreferredOrientation</span>(<span class="variable language_">window</span>.<span class="property">Orientation</span>.<span class="property">LOCKED</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">        .<span class="title function_">fontColor</span>(<span class="title class_">Color</span>.<span class="property">Black</span>)</span><br><span class="line"></span><br><span class="line">      <span class="title class_">Button</span>(<span class="string">&#x27;Unlock Orientation&#x27;</span>)</span><br><span class="line">        .<span class="title function_">fontColor</span>(<span class="title class_">Color</span>.<span class="property">Black</span>)</span><br><span class="line">        .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">window</span>.<span class="title function_">getLastWindow</span>(<span class="title function_">getContext</span>(<span class="variable language_">this</span>), <span class="function">(<span class="params">err, win</span>) =&gt;</span> &#123;</span><br><span class="line">            win.<span class="title function_">setPreferredOrientation</span>(<span class="variable language_">window</span>.<span class="property">Orientation</span>.<span class="property">AUTO_ROTATION</span>)</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">backgroundColor</span>(<span class="title class_">Color</span>.<span class="property">Orange</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Note</strong>: <code>LOCKED</code> locks the screen to the current orientation (portrait or landscape). Use <code>ORIENTATION_PORTRAIT</code> to force portrait mode regardless of the device orientation.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/605-Daily-HarmonyOS-Next-Knowledge-Add-Mask-to-Main-View-Stealth-Screenshot-Custom-Password-Icon-Flex-Subcomponent-Compression-Set-Minimum-Height-for-Popup-Dialog/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/605-Daily-HarmonyOS-Next-Knowledge-Add-Mask-to-Main-View-Stealth-Screenshot-Custom-Password-Icon-Flex-Subcomponent-Compression-Set-Minimum-Height-for-Popup-Dialog/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] Add Mask to Main View, Stealth Screenshot, Custom Password Icon, Flex Subcomponent Compression, Set Minimum Height for Popup Dialog</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 11:04:12 / Modified: 11:05:05" itemprop="dateCreated datePublished" datetime="2025-06-25T11:04:12+08:00">2025-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Knowledge-Add-Mask-to-Main-View-Stealth-Screenshot-Custom-Password-Icon-Flex-Subcomponent-Compression-Set-Minimum-Height-for-Popup-Dialog"><a href="#Daily-HarmonyOS-Next-Knowledge-Add-Mask-to-Main-View-Stealth-Screenshot-Custom-Password-Icon-Flex-Subcomponent-Compression-Set-Minimum-Height-for-Popup-Dialog" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Add Mask to Main View, Stealth Screenshot, Custom Password Icon, Flex Subcomponent Compression, Set Minimum Height for Popup Dialog"></a>[Daily HarmonyOS Next Knowledge] Add Mask to Main View, Stealth Screenshot, Custom Password Icon, Flex Subcomponent Compression, Set Minimum Height for Popup Dialog</h3><h4 id="1-Can-HarmonyOS-support-adding-a-full-screen-mask-to-the-main-view-in-a-structure-like-NavDestination-tab-index-main-view"><a href="#1-Can-HarmonyOS-support-adding-a-full-screen-mask-to-the-main-view-in-a-structure-like-NavDestination-tab-index-main-view" class="headerlink" title="1. Can HarmonyOS support adding a full-screen mask to the main view in a structure like NavDestination-tab-index (main view)?"></a>1. Can HarmonyOS support adding a full-screen mask to the main view in a structure like NavDestination-tab-index (main view)?</h4><p>The current structure is a Tab containing Navigation, with a mask added to the main view within Navigation. Although the height is set to 100%, the bottom tab bar is not covered. How can the tab bar be masked?  </p>
<p>Components added within Navigation do not extend beyond its boundaries. Add a full-screen sibling component to the Tab as the mask layer.  </p>
<h4 id="2-How-to-implement-stealth-screenshot-reporting-entire-screen-including-floating-windows-in-HarmonyOS"><a href="#2-How-to-implement-stealth-screenshot-reporting-entire-screen-including-floating-windows-in-HarmonyOS" class="headerlink" title="2. How to implement stealth screenshot reporting (entire screen including floating windows) in HarmonyOS?"></a>2. How to implement stealth screenshot reporting (entire screen including floating windows) in HarmonyOS?</h4><p>When detecting user actions such as screen switching, floating windows, or subtitle activation, the app silently captures a full-screen screenshot (including overlays) and reports it to the backend.  </p>
<p><strong>References</strong>:  </p>
<ol>
<li><p>Component Screenshot: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-arkui-componentsnapshot-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-arkui-componentsnapshot-V5</a><br>This module provides the ability to capture component screenshots, including loaded and unloaded components. The screenshot only captures the component’s defined area; content drawn outside this area (e.g., overflow from child or sibling components) will not be included.  </p>
</li>
<li><p>Window Screenshot: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/map-map-V5#section4803202315197">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/map-map-V5#section4803202315197</a></p>
</li>
</ol>
<h4 id="3-Why-does-the-custom-passwordIcon-stop-working-when-TextInput-enabled-false-is-set-in-HarmonyOS"><a href="#3-Why-does-the-custom-passwordIcon-stop-working-when-TextInput-enabled-false-is-set-in-HarmonyOS" class="headerlink" title="3. Why does the custom passwordIcon stop working when TextInput .enabled(false) is set in HarmonyOS?"></a>3. Why does the custom passwordIcon stop working when TextInput .enabled(false) is set in HarmonyOS?</h4><p>In a password input field, the custom passwordIcon does not work when enabled is set to false.  </p>
<pre><code class="language-typescript">TextInput(&#123;
  text: &#39;this.mWifiPassword&#39;
&#125;)
  .type(InputType.Password)
  .passwordIcon(&#123; onIconSrc: $r(&quot;app.media.ic_open_eye&quot;), offIconSrc: $r(&quot;app.media.ic_close_eye&quot;) &#125;)
  .height(44)
  .enabled(false)
</code></pre>
<p><strong>Explanation</strong>:  </p>
<ol>
<li>Setting the <code>enabled</code> property of TextInput to <code>false</code> disables all interactions (clicks, presses, focus).  </li>
<li><code>passwordIcon</code> is a property of TextInput for the end-of-field icon in password mode.  </li>
<li>When <code>enabled</code> is <code>false</code>, <code>passwordIcon</code> cannot respond to clicks or presses because the component itself is non-interactive.</li>
</ol>
<p><strong>Solution</strong>: To ensure the passwordIcon works, keep <code>enabled</code> set to <code>true</code>.  </p>
<h4 id="4-Does-Flex-compress-subcomponents-in-HarmonyOS-Should-constraintSize-min-be-used-to-fix-subcomponent-width-height"><a href="#4-Does-Flex-compress-subcomponents-in-HarmonyOS-Should-constraintSize-min-be-used-to-fix-subcomponent-width-height" class="headerlink" title="4. Does Flex compress subcomponents in HarmonyOS? Should constraintSize({min}) be used to fix subcomponent width&#x2F;height?"></a>4. Does Flex compress subcomponents in HarmonyOS? Should constraintSize({min}) be used to fix subcomponent width&#x2F;height?</h4><p><img src="/../images/%E3%80%90%E6%AF%8F%E6%97%A5%E5%AD%A6%E7%82%B9HarmonyOS%20Next%E7%9F%A5%E8%AF%86%E3%80%9125.06.05.png"><br>As shown, the component has left&#x2F;right icons with adaptive middle content that truncates when overflowing. When the text is too long, the left Image component is compressed.  </p>
<p><strong>Solution</strong>: Flex may compress subcomponents. Use <code>constraintSize(&#123;min&#125;)</code> to set fixed dimensions for internal components.  </p>
<h4 id="5-How-to-set-a-minimum-height-for-the-bindSheet-modal-dialog-in-HarmonyOS"><a href="#5-How-to-set-a-minimum-height-for-the-bindSheet-modal-dialog-in-HarmonyOS" class="headerlink" title="5. How to set a minimum height for the bindSheet modal dialog in HarmonyOS?"></a>5. How to set a minimum height for the bindSheet modal dialog in HarmonyOS?</h4><p>Where can I check if the Build Mode is Debug, Release, or <code>&lt;None&gt;</code> during compilation for HAP and HSP?  </p>
<p><strong>Solution</strong>:<br>The bindSheet modal dialog supports setting height using <code>SheetSize | Length</code>.<br>Reference: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-attributes-sheet-transition-V5#sheetoptions">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-attributes-sheet-transition-V5#sheetoptions</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/604-Daily-HarmonyOS-Next-Knowledge-Search-Component-Callback-Print-Object-Specific-Type-Uninitialized-Exception-Semi-Modal-Failure-to-Display-Linear-Gradient-Adaptation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/604-Daily-HarmonyOS-Next-Knowledge-Search-Component-Callback-Print-Object-Specific-Type-Uninitialized-Exception-Semi-Modal-Failure-to-Display-Linear-Gradient-Adaptation/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] Search Component Callback, Print Object Specific Type, Uninitialized Exception, Semi-Modal Failure to Display, Linear Gradient Adaptation</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 10:56:19 / Modified: 11:02:31" itemprop="dateCreated datePublished" datetime="2025-06-25T10:56:19+08:00">2025-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="Daily-HarmonyOS-Next-Knowledge-Search-Component-Callback-Print-Object-Specific-Type-Uninitialized-Exception-Semi-Modal-Failure-to-Display-Linear-Gradient-Adaptation"><a href="#Daily-HarmonyOS-Next-Knowledge-Search-Component-Callback-Print-Object-Specific-Type-Uninitialized-Exception-Semi-Modal-Failure-to-Display-Linear-Gradient-Adaptation" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Search Component Callback, Print Object Specific Type, Uninitialized Exception, Semi-Modal Failure to Display, Linear Gradient Adaptation"></a>[Daily HarmonyOS Next Knowledge] Search Component Callback, Print Object Specific Type, Uninitialized Exception, Semi-Modal Failure to Display, Linear Gradient Adaptation</h4><h6 id="1-Does-the-HarmonyOS-Search-component-have-a-callback-event-for-the-“×”-icon-What-is-it-specifically"><a href="#1-Does-the-HarmonyOS-Search-component-have-a-callback-event-for-the-“×”-icon-What-is-it-specifically" class="headerlink" title="1. Does the HarmonyOS Search component have a callback event for the “×” icon? What is it specifically?"></a>1. Does the HarmonyOS Search component have a callback event for the “×” icon? What is it specifically?</h6><p><img src="/../images/%E3%80%90%E6%AF%8F%E6%97%A5%E5%AD%A6%E7%82%B9HarmonyOS%20Next%E7%9F%A5%E8%AF%86%E3%80%9125.06.04.png"></p>
<p>You can use <code>onChange</code> to listen for when the content is empty.  </p>
<h6 id="2-How-to-print-the-specific-type-of-an-object-in-HarmonyOS"><a href="#2-How-to-print-the-specific-type-of-an-object-in-HarmonyOS" class="headerlink" title="2. How to print the specific type of an object in HarmonyOS?"></a>2. How to print the specific type of an object in HarmonyOS?</h6><p>As shown below, except for clear types like <code>string/number/undefined</code>, others are all <code>Object</code>? Or are there other keywords to print?  </p>
<pre><code class="language-typescript">let a = &#39;&#39;;
let b = null;
let c = undefined;
let d = 4;
// let e = &#123;&#125;;
let f = [];
console.log(a, typeof(a)); // string
console.log(b, typeof(b)); // null object
console.log(c, typeof(c)); // undefined undefined
console.log(&#39;&#39;, d, typeof(d)); // 4 number
console.log(&#39;&#39;, f, typeof(f)); // object
// Ideally, it should be Array

let g: User = new User();
console.log(&#39;&#39;, typeof(g)); // object
// Ideally, it should display as xx.User object

class User &#123;
  id: number = 0;
  name: string = &#39;&#39;;
&#125;
</code></pre>
<p>In TypeScript, you can use <code>Object.getPrototypeOf(a).constructor.name</code> to get the object type.  </p>
<h6 id="3-When-a-static-readonly-constant-is-declared-in-a-HarmonyOS-class-the-app-runs-with-an-error-that-the-class-is-not-initialized"><a href="#3-When-a-static-readonly-constant-is-declared-in-a-HarmonyOS-class-the-app-runs-with-an-error-that-the-class-is-not-initialized" class="headerlink" title="3. When a static readonly constant is declared in a HarmonyOS class, the app runs with an error that the class is not initialized."></a>3. When a static readonly constant is declared in a HarmonyOS class, the app runs with an error that the class is not initialized.</h6><pre><code class="language-typescript">// Example of declaring a static readonly constant in class RouterConstant:
export class RouterConstant &#123;
  // Home page
  public static readonly MAIN_NOTDATA_PAGE: string = &#39;RemoteViewPage&#39;;
&#125;
</code></pre>
<p>Error message during runtime: <code>AAFwkAppKit: [invalidDomain]Error message: RouterConstant is not initialized</code>  </p>
<p><strong>Solutions</strong>:  </p>
<ol>
<li>Dynamic loading failure exists in the app, and there is an error in the reference chain.<br>Verification method: Use a static <code>import</code> statement in the entry file to preload the file containing the uninitialized variable. If no error occurs after this operation, it indicates dynamic loading failure.  </li>
<li>Circular dependency in the code. Reference: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/ide_no-cycle-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/ide_no-cycle-V5</a></li>
</ol>
<h6 id="4-When-switching-semi-modal-gears-in-HarmonyOS-the-UX-occasionally-fails-to-fully-display"><a href="#4-When-switching-semi-modal-gears-in-HarmonyOS-the-UX-occasionally-fails-to-fully-display" class="headerlink" title="4. When switching semi-modal gears in HarmonyOS, the UX occasionally fails to fully display."></a>4. When switching semi-modal gears in HarmonyOS, the UX occasionally fails to fully display.</h6><p>When switching a semi-modal from half-screen to full-screen, a gray area sometimes appears, causing the interface to fail to load completely.  </p>
<p>This issue can be resolved by using properties introduced in semi-modal API 12.<br><img src="/../images/%E3%80%90%E6%AF%8F%E6%97%A5%E5%AD%A6%E7%82%B9HarmonyOS%20Next%E7%9F%A5%E8%AF%86%E3%80%9125.06.04-1.png"></p>
<h6 id="5-HarmonyOS-linearGradient-is-not-adapted-to-mirrored-languages"><a href="#5-HarmonyOS-linearGradient-is-not-adapted-to-mirrored-languages" class="headerlink" title="5. HarmonyOS linearGradient is not adapted to mirrored languages."></a>5. HarmonyOS linearGradient is not adapted to mirrored languages.</h6><p>When switching to a mirrored language, the property <code>GradientDirection.Left</code> does not change to <code>GradientDirection.Right</code>.  </p>
<pre><code class="language-typescript">Row()
  .size(&#123; width: &#39;100%&#39;, height: 50 &#125;)
  .linearGradient(&#123;
    direction: GradientDirection.Left,
    colors: [[this.getColorString(this.bottomColorInfo.mainColor, 0), 0.0],
      [this.getColorString(this.bottomColorInfo.mainColor, 1), 1.0]]
  &#125;)
</code></pre>
<p><code>linearGradient</code> does not require adaptation; <code>Left</code> remains the <code>Left</code> direction (it is not <code>start</code>). The app can determine the display angle based on RTL (right-to-left) logic independently.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/603-Daily-HarmonyOS-Next-Knowledge-Ability-Communication-Subcomponents-Click-Dropdown-Component-Refresh-XML-Processing/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/603-Daily-HarmonyOS-Next-Knowledge-Ability-Communication-Subcomponents-Click-Dropdown-Component-Refresh-XML-Processing/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] Ability Communication, Subcomponents, Click Dropdown, Component Refresh, XML Processing</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 10:54:45 / Modified: 10:55:17" itemprop="dateCreated datePublished" datetime="2025-06-25T10:54:45+08:00">2025-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Knowledge-Ability-Communication-Subcomponents-Click-Dropdown-Component-Refresh-XML-Processing"><a href="#Daily-HarmonyOS-Next-Knowledge-Ability-Communication-Subcomponents-Click-Dropdown-Component-Refresh-XML-Processing" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Ability Communication, Subcomponents, Click Dropdown, Component Refresh, XML Processing"></a>[Daily HarmonyOS Next Knowledge] Ability Communication, Subcomponents, Click Dropdown, Component Refresh, XML Processing</h3><h4 id="1-How-does-communication-work-between-HarmonyOS-UIExtensionAbility-and-UIAbility"><a href="#1-How-does-communication-work-between-HarmonyOS-UIExtensionAbility-and-UIAbility" class="headerlink" title="1. How does communication work between HarmonyOS UIExtensionAbility and UIAbility?"></a>1. How does communication work between HarmonyOS UIExtensionAbility and UIAbility?</h4><p>After storing the windowStage object in AppStorage within UIAbility, when navigating from a UIAbility-loaded page to a page in extensionAbility, the value retrieved from AppStorage is undefined.  </p>
<p>For communication, refer to the document:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-inner-application-uiextensioncontext-V5#uiextensioncontextstartability">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-inner-application-uiextensioncontext-V5#uiextensioncontextstartability</a>  </p>
<h4 id="2-Does-HarmonyOS-List-allow-using-Builder-as-its-subcomponent"><a href="#2-Does-HarmonyOS-List-allow-using-Builder-as-its-subcomponent" class="headerlink" title="2. Does HarmonyOS List allow using @Builder as its subcomponent?"></a>2. Does HarmonyOS List allow using @Builder as its subcomponent?</h4><h4 id="3-Does-HarmonyOS-ArkTS-have-an-event-triggered-by-clicking-a-dropdown"><a href="#3-Does-HarmonyOS-ArkTS-have-an-event-triggered-by-clicking-a-dropdown" class="headerlink" title="3. Does HarmonyOS ArkTS have an event triggered by clicking a dropdown?"></a>3. Does HarmonyOS ArkTS have an event triggered by clicking a dropdown?</h4><p>The select event only triggers after an option is chosen. Since select options need to be dynamically queried via an interface, is there a way to implement this?  </p>
<pre><code class="language-typescript">// xxx.ets
@Entry
@Component
struct SelectExample &#123;
  @State text: string = &quot;TTTTT&quot;
  @State index: number = 2
  @State space: number = 8
  @State arrowPosition: ArrowPosition = ArrowPosition.END
  @State options: Array&lt;SelectOption&gt; = [
    &#123; value: &#39;aaa&#39;, icon: $r(&quot;app.media.app_icon&quot;) &#125;,
    &#123; value: &#39;bbb&#39;, icon: $r(&quot;app.media.app_icon&quot;) &#125;,
    &#123; value: &#39;ccc&#39;, icon: $r(&quot;app.media.app_icon&quot;) &#125;,
    &#123; value: &#39;ddd&#39;, icon: $r(&quot;app.media.app_icon&quot;) &#125;]
  @State options2: Array&lt;SelectOption&gt; = []
  @State selected: string = &#39;&#39;
  @State @Watch(&#39;onSelectedIndexUpData&#39;) selectedIndex: number = -1

  onSelectedIndexUpData() &#123;
    console.info(&#39;Data changed&#39;)
    if (this.selectedIndex &lt; 0) &#123;
      return
    &#125;
    this.options2.push(this.options[this.selectedIndex])
  &#125;

  build() &#123;
    Row() &#123;
      TextInput(&#123; placeholder: &#39;input ...&#39;, text: this.selected &#125;)
        .onChange((value: string) =&gt; &#123;
          this.selected = value
          let index = this.options.findIndex(item =&gt; item.value === value)
          this.selectedIndex = index &gt;= 0 ? index : -1
          console.info(index.toString())
        &#125;)
        .width(&#39;60%&#39;)
      Select(this.options2)//.selected(this.index)
        .value(this.text)
        .font(&#123; size: 16, weight: 500 &#125;)
        .onSelect((index: number, text?: string | undefined) =&gt; &#123;
          console.info(&#39;Select:&#39; + index)
          this.index = index;
          if (text) &#123;
            this.text = text;
          &#125;
          this.options2.pop()
          this.selectedIndex = -1
        &#125;)
    &#125;.width(&#39;100%&#39;)
  &#125;
&#125;
</code></pre>
<h4 id="4-How-to-refresh-the-content-of-HarmonyOS-Builder"><a href="#4-How-to-refresh-the-content-of-HarmonyOS-Builder" class="headerlink" title="4. How to refresh the content of HarmonyOS @Builder?"></a>4. How to refresh the content of HarmonyOS @Builder?</h4><pre><code class="language-typescript">/**
 Online status area content for the title bar
 */
@ObservedV2
export class AIOTitleOnlineStatusItem &#123;
  builder: WrappedBuilder&lt;[AIOTitleOnlineStatusItem]&gt; | undefined = undefined;
  @Trace title: string = &#39;&#39;;
  @Trace subTitle: string = &#39;&#39;;
&#125;
/**
 Data entity for title bar updates
 */
@ObservedV2
export class AIOTitleModel &#123;
  @Trace title: string = &#39;&#39;;

  @Trace unreadCnt: number = 0;

  @Trace memberCnt: number = 0;

  @Trace onlineStatusItem: AIOTitleOnlineStatusItem | undefined = undefined;

&#125;

const TAG = &#39;TroopAIOTitleComponent&#39;;

@Extend(Text) function navigationTextStyle() &#123;
  .lineHeight(24)
  .fontColor(Color.Black)
  .fontSize(17)
  .textAlign(TextAlign.Start)
  .fontWeight(500)
  .textOverflow(&#123; overflow: TextOverflow.Ellipsis &#125;)
  .maxLines(1)
&#125;

@Builder
export function getOnlineStatusBuilder(statusItem: AIOTitleOnlineStatusItem) &#123;
  Row() &#123;
    Text(statusItem.title).lineHeight(16)
      .fontSize(12)
    Text(statusItem.subTitle).lineHeight(16)
      .fontSize(12)
  &#125;.width(&#39;100%&#39;)
  .align(Alignment.Start)
    .height(20)
&#125;

const model: AIOTitleModel = new AIOTitleModel();

@Entry
@Component
export struct Test &#123;
  aboutToAppear(): void &#123;
    model.title = &#39;Test Title&#39;;
    model.unreadCnt = 25;
  &#125;
  build() &#123;
    Column() &#123;
      TitleComponent()
      Button(&#39;Click to change title content&#39;).onClick(() =&gt; &#123;
        if (model.onlineStatusItem != undefined) &#123;
          model.onlineStatusItem.title += &#39;11&#39;;
          model.onlineStatusItem.builder = wrapBuilder(getOnlineStatusBuilder)
          // model.onlineStatusItem.builder = wrapBuilder(getOnlineStatusBuilder(&#123; paramsItem: this.onlineStatusItem &#125;))
        &#125; else &#123;
          model.onlineStatusItem = &#123;
            builder: wrapBuilder(getOnlineStatusBuilder),
            // builder: wrapBuilder(getOnlineStatusBuilder(&#123; paramsItem: this.onlineStatusItem &#125;)),
            title: &#39;Currently Online&#39;,
            subTitle: &#39;-test&#39;
          &#125;;
        &#125;
      &#125;).margin(&#123;
        top: 20
      &#125;)
    &#125;.alignItems(HorizontalAlign.Center)
  &#125;
&#125;

@Component
export struct TitleComponent &#123;

  build() &#123;
    // Content area
    Flex(&#123; wrap: FlexWrap.Wrap, justifyContent: FlexAlign.Start, alignContent: FlexAlign.SpaceEvenly &#125;) &#123;
      // Nickname
      Text() &#123;
        // Left ear
        Span(&quot;TitleComponent&quot;)
        // Title
        Span(model.title)
        // Right ear
        // Group member count
        Span(($&#123;model.memberCnt&#125;))

      &#125;.navigationTextStyle()
      .alignSelf(ItemAlign.Start)
      .width(&#39;60%&#39;)
      .backgroundColor(Color.Pink)
      // Online status
      if (model.onlineStatusItem != undefined) &#123;
        model.onlineStatusItem.builder?.builder(model.onlineStatusItem)
      &#125;
    &#125;.height(44)
    .alignSelf(ItemAlign.Center)
    .backgroundColor(Color.Yellow)
  &#125;
&#125;
</code></pre>
<p>@ObservedV2 must be initialized with <code>new</code> and cannot be directly assigned.  </p>
<h4 id="5-How-to-save-a-written-ohos-xml-as-a-file-in-HarmonyOS"><a href="#5-How-to-save-a-written-ohos-xml-as-a-file-in-HarmonyOS" class="headerlink" title="5. How to save a written ohos.xml as a file in HarmonyOS?"></a>5. How to save a written ohos.xml as a file in HarmonyOS?</h4><pre><code class="language-typescript">// 1. Construct an XmlSerializer object based on ArrayBuffer
let arrayBuffer: ArrayBuffer = new ArrayBuffer(2048); // Create a 2048-byte buffer
let thatSer: xml.XmlSerializer = new xml.XmlSerializer(arrayBuffer); // Construct XmlSerializer based on ArrayBuffer

thatSer.setDeclaration(); // Write the XML declaration
thatSer.startElement(&#39;bookstore&#39;); // Write the start tag of the element
thatSer.startElement(&#39;book&#39;); // Write the start tag of the nested element
thatSer.setAttributes(&#39;category&#39;, &#39;COOKING&#39;); // Write attributes and values
thatSer.startElement(&#39;title&#39;);
thatSer.setAttributes(&#39;lang&#39;, &#39;en&#39;);
thatSer.setText(&#39;Everyday&#39;); // Write the tag value
thatSer.endElement(); // Write the end tag
thatSer.startElement(&#39;author&#39;);
thatSer.setText(&#39;Giada&#39;);
thatSer.endElement();
thatSer.startElement(&#39;year&#39;);
thatSer.setText(&#39;2005&#39;);
thatSer.endElement();
thatSer.endElement();
thatSer.endElement();
</code></pre>
<p>Reference: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/xml-generation-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/xml-generation-V5</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/22/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/22/">22</a><span class="page-number current">23</span><a class="page-number" href="/page/24/">24</a><span class="space">&hellip;</span><a class="page-number" href="/page/30/">30</a><a class="extend next" rel="next" href="/page/24/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Qingkouwei</p>
  <div class="site-description" itemprop="description">Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">300</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Qingkouwei</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
