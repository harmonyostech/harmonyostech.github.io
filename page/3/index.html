<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"harmonyostech.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next&#96;s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoo">
<meta property="og:type" content="website">
<meta property="og:title" content="HarmonyOS NEXT Knowledge Charging Station">
<meta property="og:url" content="https://harmonyostech.github.io/page/3/index.html">
<meta property="og:site_name" content="HarmonyOS NEXT Knowledge Charging Station">
<meta property="og:description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next&#96;s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Qingkouwei">
<meta property="article:tag" content="HarmonyOSNext, HarmonyOS NEXT, HarmonyOS, Cangjie">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://harmonyostech.github.io/page/3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>HarmonyOS NEXT Knowledge Charging Station</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">HarmonyOS NEXT Knowledge Charging Station</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Analysis of Core Technologies and Application Scenarios of HarmonyOS NEXT</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/511-Daily-HarmonyOS-Next-Knowledge-List-Concatenation-Sliding-List-Spacing-Obtaining-Unique-Object-Identifiers-Node-Container-Usage-Examples-Navigation-Bar/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/511-Daily-HarmonyOS-Next-Knowledge-List-Concatenation-Sliding-List-Spacing-Obtaining-Unique-Object-Identifiers-Node-Container-Usage-Examples-Navigation-Bar/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] List Concatenation Sliding, List Spacing, Obtaining Unique Object Identifiers, Node Container Usage Examples, Navigation Bar</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 08:21:34 / Modified: 08:21:56" itemprop="dateCreated datePublished" datetime="2025-06-25T08:21:34+08:00">2025-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Knowledge-List-Concatenation-Sliding-List-Spacing-Obtaining-Unique-Object-Identifiers-Node-Container-Usage-Examples-Navigation-Bar"><a href="#Daily-HarmonyOS-Next-Knowledge-List-Concatenation-Sliding-List-Spacing-Obtaining-Unique-Object-Identifiers-Node-Container-Usage-Examples-Navigation-Bar" class="headerlink" title="[Daily HarmonyOS Next Knowledge] List Concatenation Sliding, List Spacing, Obtaining Unique Object Identifiers, Node Container Usage Examples, Navigation Bar"></a>[Daily HarmonyOS Next Knowledge] List Concatenation Sliding, List Spacing, Obtaining Unique Object Identifiers, Node Container Usage Examples, Navigation Bar</h3><h4 id="1-HarmonyOS-List-Concatenation-Sliding-Issue-For-example-if-the-child-components-of-a-Column-are-3-Grids-how-to-enable-sliding-Nested-Scroll-did-not-work"><a href="#1-HarmonyOS-List-Concatenation-Sliding-Issue-For-example-if-the-child-components-of-a-Column-are-3-Grids-how-to-enable-sliding-Nested-Scroll-did-not-work" class="headerlink" title="1. HarmonyOS List Concatenation Sliding Issue: For example, if the child components of a Column are 3 Grids, how to enable sliding? Nested Scroll did not work."></a>1. HarmonyOS List Concatenation Sliding Issue: For example, if the child components of a Column are 3 Grids, how to enable sliding? Nested Scroll did not work.</h4><p>Do not set a height for the outer component. This allows the child component content to slide when it exceeds the height range. Refer to the following simple demo:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Index</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">message</span>: <span class="built_in">string</span> = <span class="string">&#x27;Hello World&#x27;</span>;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">list</span>: <span class="built_in">number</span>[] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Scroll</span>() &#123;</span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">Grid</span>() &#123;</span><br><span class="line">          <span class="title class_">ForEach</span>(<span class="variable language_">this</span>.<span class="property">list</span>, <span class="function">(<span class="params"><span class="attr">item</span>: <span class="built_in">number</span>, <span class="attr">index</span>: <span class="built_in">number</span></span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="title class_">GridItem</span>() &#123;</span><br><span class="line">              <span class="title class_">Text</span>(<span class="string">`Component 1 Data Item <span class="subst">$&#123;item&#125;</span>`</span>);</span><br><span class="line">            &#125;.<span class="title function_">height</span>(<span class="number">300</span>);</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;.<span class="title function_">columnsTemplate</span>(<span class="string">&#x27;1fr 1fr&#x27;</span>).<span class="title function_">backgroundColor</span>(<span class="title class_">Color</span>.<span class="property">Red</span>);</span><br><span class="line">        <span class="title class_">Grid</span>() &#123;</span><br><span class="line">          <span class="title class_">ForEach</span>(<span class="variable language_">this</span>.<span class="property">list</span>, <span class="function">(<span class="params"><span class="attr">item</span>: <span class="built_in">number</span>, <span class="attr">index</span>: <span class="built_in">number</span></span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="title class_">GridItem</span>() &#123;</span><br><span class="line">              <span class="title class_">Text</span>(<span class="string">`Component 2 Data Item <span class="subst">$&#123;item&#125;</span>`</span>);</span><br><span class="line">            &#125;.<span class="title function_">height</span>(<span class="number">300</span>);</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;.<span class="title function_">columnsTemplate</span>(<span class="string">&#x27;1fr 1fr&#x27;</span>).<span class="title function_">backgroundColor</span>(<span class="title class_">Color</span>.<span class="property">Green</span>);</span><br><span class="line">        <span class="title class_">Grid</span>() &#123;</span><br><span class="line">          <span class="title class_">ForEach</span>(<span class="variable language_">this</span>.<span class="property">list</span>, <span class="function">(<span class="params"><span class="attr">item</span>: <span class="built_in">number</span>, <span class="attr">index</span>: <span class="built_in">number</span></span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="title class_">GridItem</span>() &#123;</span><br><span class="line">              <span class="title class_">Text</span>(<span class="string">`Component 3 Data Item <span class="subst">$&#123;item&#125;</span>`</span>);</span><br><span class="line">            &#125;.<span class="title function_">height</span>(<span class="number">300</span>);</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;.<span class="title function_">columnsTemplate</span>(<span class="string">&#x27;1fr 1fr&#x27;</span>).<span class="title function_">backgroundColor</span>(<span class="title class_">Color</span>.<span class="property">Blue</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">      <span class="comment">// .height(&#x27;100%&#x27;)</span></span><br><span class="line">      .<span class="title function_">justifyContent</span>(<span class="title class_">FlexAlign</span>.<span class="property">Center</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 2. HarmonyOS List Space Issue: When setting multiple columns with `</span>lanes<span class="string">` in a vertical List, how to add horizontal spacing? The `</span>space<span class="string">` attribute of List only adds vertical spacing. Is there an elegant way besides adding padding or margin to each ListItem?  </span></span><br><span class="line"><span class="string">The second parameter of `</span>lanes<span class="string">` is the spacing, e.g., `</span><span class="title function_">lanes</span>(<span class="number">2</span>, <span class="number">8</span>)<span class="string">` for 2 columns with 8vp spacing. See the following demo with spacing set to 20:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="comment">// ListLanesExample.ets</span></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">ListLanesExample</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">arr</span>: <span class="built_in">string</span>[] =</span><br><span class="line">    [<span class="string">&quot;0&quot;</span>, <span class="string">&quot;1&quot;</span>, <span class="string">&quot;2&quot;</span>, <span class="string">&quot;3&quot;</span>, <span class="string">&quot;4&quot;</span>, <span class="string">&quot;5&quot;</span>, <span class="string">&quot;6&quot;</span>, <span class="string">&quot;7&quot;</span>, <span class="string">&quot;8&quot;</span>, <span class="string">&quot;9&quot;</span>, <span class="string">&quot;10&quot;</span>, <span class="string">&quot;11&quot;</span>, <span class="string">&quot;12&quot;</span>, <span class="string">&quot;13&quot;</span>, <span class="string">&quot;14&quot;</span>, <span class="string">&quot;15&quot;</span>, <span class="string">&quot;16&quot;</span>, <span class="string">&quot;17&quot;</span>, <span class="string">&quot;18&quot;</span>, <span class="string">&quot;19&quot;</span>];</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">alignListItem</span>: <span class="title class_">ListItemAlign</span> = <span class="title class_">ListItemAlign</span>.<span class="property">Center</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">List</span>(&#123; <span class="attr">space</span>: <span class="number">20</span>, <span class="attr">initialIndex</span>: <span class="number">0</span> &#125;) &#123;</span><br><span class="line">        <span class="title class_">ForEach</span>(<span class="variable language_">this</span>.<span class="property">arr</span>, <span class="function">(<span class="params"><span class="attr">item</span>: <span class="built_in">string</span></span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="title class_">ListItem</span>() &#123;</span><br><span class="line">            <span class="title class_">Text</span>(<span class="string">&#x27;&#x27;</span> + item)</span><br><span class="line">              .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">              .<span class="title function_">height</span>(<span class="number">100</span>)</span><br><span class="line">              .<span class="title function_">fontSize</span>(<span class="number">16</span>)</span><br><span class="line">              .<span class="title function_">textAlign</span>(<span class="title class_">TextAlign</span>.<span class="property">Center</span>)</span><br><span class="line">              .<span class="title function_">borderRadius</span>(<span class="number">10</span>)</span><br><span class="line">              .<span class="title function_">backgroundColor</span>(<span class="number">0xFFFFFF</span>);</span><br><span class="line">          &#125;</span><br><span class="line">          .<span class="title function_">border</span>(&#123; <span class="attr">width</span>: <span class="number">2</span>, <span class="attr">color</span>: <span class="title class_">Color</span>.<span class="property">Green</span> &#125;);</span><br><span class="line">        &#125;, <span class="function">(<span class="params"><span class="attr">item</span>: <span class="built_in">string</span></span>) =&gt;</span> item);</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">height</span>(<span class="number">300</span>)</span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&quot;90%&quot;</span>)</span><br><span class="line">      .<span class="title function_">friction</span>(<span class="number">0.6</span>)</span><br><span class="line">      .<span class="title function_">border</span>(&#123; <span class="attr">width</span>: <span class="number">3</span>, <span class="attr">color</span>: <span class="title class_">Color</span>.<span class="property">Red</span> &#125;)</span><br><span class="line">      .<span class="title function_">lanes</span>(&#123; <span class="attr">minLength</span>: <span class="number">40</span>, <span class="attr">maxLength</span>: <span class="number">40</span> &#125;, <span class="number">20</span>) <span class="comment">// Set column count and spacing</span></span><br><span class="line">      .<span class="title function_">alignListItem</span>(<span class="variable language_">this</span>.<span class="property">alignListItem</span>)</span><br><span class="line">      .<span class="title function_">scrollBar</span>(<span class="title class_">BarState</span>.<span class="property">Off</span>);</span><br><span class="line">    &#125;.<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>).<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>).<span class="title function_">backgroundColor</span>(<span class="number">0xDCDCDC</span>).<span class="title function_">padding</span>(&#123; <span class="attr">top</span>: <span class="number">5</span> &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 3. HarmonyOS: How to obtain a unique identifier for an Object?  </span></span><br><span class="line"><span class="string">Want to get a unique identifier for an object to distinguish if it&#x27;s the same object.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">ArkTS, migrated from TypeScript, also lacks a method to obtain a hashCode.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Reference link: https://stackoverflow.com/questions/36811284/how-to-get-hash-value-of-an-object-in-typescript  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Two possible solutions:  </span></span><br><span class="line"><span class="string">1. Try using a third-party library: https://stackoverflow.com/questions/36811284/how-to-get-hash-value-of-an-object-in-typescript  </span></span><br><span class="line"><span class="string">   `</span><span class="title class_">Md5</span>.<span class="title function_">hashStr</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(yourObject))<span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">2. Implement a hashCode method yourself:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">hashCode</span>(<span class="params"><span class="attr">obj</span>: <span class="built_in">object</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> <span class="attr">str</span>: <span class="built_in">string</span> = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(obj);</span><br><span class="line">  <span class="keyword">let</span> <span class="attr">h</span>: <span class="built_in">number</span> = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; str.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    h = <span class="number">31</span> * h + str.<span class="title function_">charCodeAt</span>(i);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> h &amp; <span class="number">0xFFFFFFFF</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 4. HarmonyOS NodeContainer Usage Example  </span></span><br><span class="line"><span class="string">Save windowClass in utils/GlobalThis:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">BuilderNode</span>, <span class="title class_">FrameNode</span>, <span class="title class_">NodeController</span>, <span class="title class_">Size</span>, <span class="title class_">UIContext</span>, <span class="variable language_">window</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@kit.ArkUI&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">GlobalThis</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;../utils/GlobalThis&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">BusinessError</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@kit.BasicServicesKit&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">VideoParams</span> &#123;</span><br><span class="line">  <span class="attr">controller</span>: <span class="title class_">VideoController</span> | <span class="literal">undefined</span>;</span><br><span class="line">  <span class="attr">innerResource</span>: <span class="title class_">Resource</span> | <span class="literal">undefined</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Builder</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">videoBuilder</span>(<span class="params"><span class="attr">params</span>: <span class="title class_">VideoParams</span></span>) &#123;</span><br><span class="line">  <span class="title class_">Column</span>() &#123;</span><br><span class="line">    <span class="title class_">Video</span>(&#123;</span><br><span class="line">      <span class="attr">src</span>: params.<span class="property">innerResource</span>,</span><br><span class="line">      <span class="attr">controller</span>: params.<span class="property">controller</span></span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">videoNode</span>: <span class="title class_">BuilderNode</span>&lt;[<span class="title class_">VideoParams</span>]&gt; | <span class="literal">null</span> = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">VideoNodeController</span> <span class="keyword">extends</span> <span class="title class_ inherited__">NodeController</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">wrapBuilder</span>: <span class="title class_">WrappedBuilder</span>&lt;[<span class="title class_">VideoParams</span>]&gt; = <span class="title function_">wrapBuilder</span>(videoBuilder);</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">controller</span>: <span class="title class_">VideoController</span> | <span class="literal">undefined</span>;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">innerResource</span>: <span class="title class_">Resource</span> | <span class="literal">undefined</span>;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">isShow</span>: <span class="built_in">boolean</span> = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="attr">isShow</span>: <span class="built_in">boolean</span>, <span class="attr">controller</span>: <span class="title class_">VideoController</span> | <span class="literal">undefined</span>, <span class="attr">src</span>: <span class="title class_">Resource</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>();</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">isShow</span> = isShow;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">controller</span> = controller;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">innerResource</span> = src;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">makeNode</span>(<span class="attr">uiContext</span>: <span class="title class_">UIContext</span>): <span class="title class_">FrameNode</span> | <span class="literal">null</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">isShow</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (videoNode == <span class="literal">null</span>) &#123;</span><br><span class="line">      videoNode = <span class="keyword">new</span> <span class="title class_">BuilderNode</span>&lt;[<span class="title class_">VideoParams</span>]&gt;(uiContext);</span><br><span class="line">      videoNode.<span class="title function_">build</span>(<span class="variable language_">this</span>.<span class="property">wrapBuilder</span>, &#123; <span class="attr">controller</span>: <span class="variable language_">this</span>.<span class="property">controller</span>, <span class="attr">innerResource</span>: <span class="variable language_">this</span>.<span class="property">innerResource</span> &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> frameNode = videoNode?.<span class="title function_">getFrameNode</span>();</span><br><span class="line">    <span class="keyword">return</span> frameNode ? frameNode : <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">aboutToResize</span>(<span class="params"><span class="attr">size</span>: <span class="title class_">Size</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;aboutToResize width : &quot;</span> + size.<span class="property">width</span> + <span class="string">&quot; height : &quot;</span> + size.<span class="property">height</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">aboutToAppear</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;aboutToAppear&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">aboutToDisappear</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;aboutToDisappear&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">onTouchEvent</span>(<span class="params"><span class="attr">event</span>: <span class="title class_">TouchEvent</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;onTouchEvent&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">toShow</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">isShow</span> = <span class="literal">true</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">rebuild</span>();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">toHide</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">isShow</span> = <span class="literal">false</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">rebuild</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">controller</span>: <span class="title class_">VideoController</span> | <span class="literal">undefined</span> = <span class="literal">undefined</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">innerResource</span>: <span class="title class_">Resource</span> = $rawfile(<span class="string">&#x27;video.mp4&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> <span class="attr">videoController1</span>: <span class="title class_">VideoNodeController</span> = <span class="keyword">new</span> <span class="title class_">VideoNodeController</span>(<span class="literal">true</span>, controller, innerResource);</span><br><span class="line"><span class="keyword">let</span> <span class="attr">videoController2</span>: <span class="title class_">VideoNodeController</span> = <span class="keyword">new</span> <span class="title class_">VideoNodeController</span>(<span class="literal">false</span>, controller, innerResource);</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Index</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">status</span>: <span class="built_in">boolean</span> = <span class="literal">true</span>;</span><br><span class="line">  <span class="attr">windowClass</span>: <span class="variable language_">window</span>.<span class="property">Window</span> | <span class="literal">null</span> = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">aboutToAppear</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">windowClass</span> = <span class="title class_">GlobalThis</span>.<span class="title function_">getInstance</span>().<span class="title function_">getMainWindow</span>();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Stack</span>() &#123;</span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">NodeContainer</span>(videoController1)</span><br><span class="line">          .<span class="title function_">height</span>(<span class="string">&quot;30%&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">padding</span>(&#123; <span class="attr">left</span>: <span class="number">35</span>, <span class="attr">right</span>: <span class="number">35</span>, <span class="attr">top</span>: <span class="number">35</span> &#125;)</span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&quot;100%&quot;</span>)</span><br><span class="line">      .<span class="title function_">height</span>(<span class="string">&quot;100%&quot;</span>);</span><br><span class="line">      </span><br><span class="line">      <span class="title class_">NodeContainer</span>(videoController2)</span><br><span class="line">        .<span class="title function_">height</span>(<span class="string">&quot;100%&quot;</span>)</span><br><span class="line">        .<span class="title function_">visibility</span>(<span class="variable language_">this</span>.<span class="property">status</span> ? <span class="title class_">Visibility</span>.<span class="property">None</span> : <span class="title class_">Visibility</span>.<span class="property">Visible</span>);</span><br><span class="line"></span><br><span class="line">      <span class="title class_">Button</span>(<span class="string">&quot;Change&quot;</span>)</span><br><span class="line">        .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">status</span>) &#123;</span><br><span class="line">            videoController1.<span class="title function_">toHide</span>();</span><br><span class="line">            videoController2.<span class="title function_">toShow</span>();</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            videoController1.<span class="title function_">toShow</span>();</span><br><span class="line">            videoController2.<span class="title function_">toHide</span>();</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">status</span> = !<span class="variable language_">this</span>.<span class="property">status</span>;</span><br><span class="line">          <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">windowClass</span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">setOrientation</span>(<span class="variable language_">this</span>.<span class="property">status</span> ? <span class="variable language_">window</span>.<span class="property">Orientation</span>.<span class="property">PORTRAIT</span> : <span class="variable language_">window</span>.<span class="property">Orientation</span>.<span class="property">LANDSCAPE</span>);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">setOrientation</span>(<span class="params"><span class="attr">orientation</span>: <span class="variable language_">window</span>.<span class="title class_">Orientation</span></span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">windowClass</span>?.<span class="title function_">setPreferredOrientation</span>(orientation, <span class="function">(<span class="params"><span class="attr">err</span>: <span class="title class_">BusinessError</span></span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> <span class="attr">errCode</span>: <span class="built_in">number</span> = err.<span class="property">code</span>;</span><br><span class="line">        <span class="keyword">if</span> (errCode) &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`Failed to set window orientation. Cause code: <span class="subst">$&#123;err.code&#125;</span>, message: <span class="subst">$&#123;err.message&#125;</span>`</span>);</span><br><span class="line">          <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&#x27;Succeeded in setting window orientation.&#x27;</span>);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (exception) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`Failed to set window orientation. Cause code: <span class="subst">$&#123;exception.code&#125;</span>, message: <span class="subst">$&#123;exception.message&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 5. HarmonyOS Channel Navigation Bar Function Example  </span></span><br><span class="line"><span class="string">For developing a news app&#x27;s channel function, how to layout an image after Tabs as a button to jump to the channel customization page? Using `</span><span class="title class_">Row</span>()&#123;<span class="title class_">Tabs</span>() <span class="title class_">Image</span>()&#125;<span class="string">` causes the TabContent inside Tabs to not fill the width.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Refer to the following example code:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="keyword">import</span> &#123; router &#125; <span class="keyword">from</span> <span class="string">&#x27;@kit.ArkUI&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="variable constant_">AAA</span> &#123;</span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Stack</span>() &#123;</span><br><span class="line">        <span class="title class_">Tabs</span>(&#123; <span class="attr">barPosition</span>: <span class="title class_">BarPosition</span>.<span class="property">End</span>, <span class="attr">controller</span>: <span class="variable language_">this</span>.<span class="property">controller001</span> &#125;) &#123;</span><br><span class="line">          <span class="title class_">TabContent</span>() &#123;</span><br><span class="line">            <span class="title class_">Column</span>() &#123;</span><br><span class="line">              <span class="title class_">Text</span>(<span class="string">&#x27;Tab1&#x27;</span>)</span><br><span class="line">                .<span class="title function_">fontSize</span>(<span class="number">36</span>)</span><br><span class="line">                .<span class="title function_">fontColor</span>(<span class="string">&#x27;#182431&#x27;</span>)</span><br><span class="line">                .<span class="title function_">fontWeight</span>(<span class="number">500</span>)</span><br><span class="line">                .<span class="title function_">opacity</span>(<span class="number">0.4</span>)</span><br><span class="line">                .<span class="title function_">margin</span>(&#123; <span class="attr">top</span>: <span class="number">30</span>, <span class="attr">bottom</span>: <span class="number">56.5</span> &#125;);</span><br><span class="line">              <span class="title class_">Divider</span>()</span><br><span class="line">                .<span class="title function_">strokeWidth</span>(<span class="number">0.5</span>)</span><br><span class="line">                .<span class="title function_">color</span>(<span class="string">&#x27;#182431&#x27;</span>)</span><br><span class="line">                .<span class="title function_">opacity</span>(<span class="number">0.05</span>);</span><br><span class="line">            &#125;.<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>);</span><br><span class="line">          &#125;.<span class="title function_">tabBar</span>(<span class="variable language_">this</span>.<span class="title function_">tabBuilder001</span>(<span class="number">0</span>));</span><br><span class="line">          </span><br><span class="line">          <span class="title class_">TabContent</span>() &#123;</span><br><span class="line">            <span class="title class_">Column</span>() &#123;</span><br><span class="line">              <span class="title class_">Text</span>(<span class="string">&#x27;Tab2&#x27;</span>)</span><br><span class="line">                .<span class="title function_">fontSize</span>(<span class="number">36</span>)</span><br><span class="line">                .<span class="title function_">fontColor</span>(<span class="string">&#x27;#182431&#x27;</span>)</span><br><span class="line">                .<span class="title function_">fontWeight</span>(<span class="number">500</span>)</span><br><span class="line">                .<span class="title function_">opacity</span>(<span class="number">0.4</span>)</span><br><span class="line">                .<span class="title function_">margin</span>(&#123; <span class="attr">top</span>: <span class="number">30</span>, <span class="attr">bottom</span>: <span class="number">56.5</span> &#125;);</span><br><span class="line">              <span class="title class_">Divider</span>()</span><br><span class="line">                .<span class="title function_">strokeWidth</span>(<span class="number">0.5</span>)</span><br><span class="line">                .<span class="title function_">color</span>(<span class="string">&#x27;#182431&#x27;</span>)</span><br><span class="line">                .<span class="title function_">opacity</span>(<span class="number">0.05</span>);</span><br><span class="line">            &#125;.<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>);</span><br><span class="line">          &#125;.<span class="title function_">tabBar</span>(<span class="variable language_">this</span>.<span class="title function_">tabBuilder001</span>(<span class="number">1</span>));</span><br><span class="line">          </span><br><span class="line">          <span class="title class_">TabContent</span>() &#123;</span><br><span class="line">            <span class="title class_">Column</span>() &#123;</span><br><span class="line">              <span class="title class_">Text</span>(<span class="string">&#x27;Tab3&#x27;</span>)</span><br><span class="line">                .<span class="title function_">fontSize</span>(<span class="number">36</span>)</span><br><span class="line">                .<span class="title function_">fontColor</span>(<span class="string">&#x27;#182431&#x27;</span>)</span><br><span class="line">                .<span class="title function_">fontWeight</span>(<span class="number">500</span>)</span><br><span class="line">                .<span class="title function_">opacity</span>(<span class="number">0.4</span>)</span><br><span class="line">                .<span class="title function_">margin</span>(&#123; <span class="attr">top</span>: <span class="number">30</span>, <span class="attr">bottom</span>: <span class="number">56.5</span> &#125;);</span><br><span class="line">              <span class="title class_">Divider</span>()</span><br><span class="line">                .<span class="title function_">strokeWidth</span>(<span class="number">0.5</span>)</span><br><span class="line">                .<span class="title function_">color</span>(<span class="string">&#x27;#182431&#x27;</span>)</span><br><span class="line">                .<span class="title function_">opacity</span>(<span class="number">0.05</span>);</span><br><span class="line">            &#125;.<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>);</span><br><span class="line">          &#125;.<span class="title function_">tabBar</span>(<span class="variable language_">this</span>.<span class="title function_">tabBuilder001</span>(<span class="number">2</span>));</span><br><span class="line">          </span><br><span class="line">          <span class="title class_">TabContent</span>() &#123;</span><br><span class="line">            <span class="title class_">Column</span>() &#123;</span><br><span class="line">              <span class="title class_">Text</span>(<span class="string">&#x27;Tab4&#x27;</span>)</span><br><span class="line">                .<span class="title function_">fontSize</span>(<span class="number">36</span>)</span><br><span class="line">                .<span class="title function_">fontColor</span>(<span class="string">&#x27;#182431&#x27;</span>)</span><br><span class="line">                .<span class="title function_">fontWeight</span>(<span class="number">500</span>)</span><br><span class="line">                .<span class="title function_">opacity</span>(<span class="number">0.4</span>)</span><br><span class="line">                .<span class="title function_">margin</span>(&#123; <span class="attr">top</span>: <span class="number">30</span>, <span class="attr">bottom</span>: <span class="number">56.5</span> &#125;);</span><br><span class="line">              <span class="title class_">Divider</span>()</span><br><span class="line">                .<span class="title function_">strokeWidth</span>(<span class="number">0.5</span>)</span><br><span class="line">                .<span class="title function_">color</span>(<span class="string">&#x27;#182431&#x27;</span>)</span><br><span class="line">                .<span class="title function_">opacity</span>(<span class="number">0.05</span>);</span><br><span class="line">            &#125;.<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>);</span><br><span class="line">          &#125;.<span class="title function_">tabBar</span>(<span class="variable language_">this</span>.<span class="title function_">tabBuilder001</span>(<span class="number">3</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        .<span class="title function_">vertical</span>(<span class="literal">false</span>)</span><br><span class="line">        .<span class="title function_">barHeight</span>(<span class="number">56</span>)</span><br><span class="line">        .<span class="title function_">onChange</span>(<span class="function">(<span class="params"><span class="attr">index</span>: <span class="built_in">number</span></span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">currentIndex</span> = index;</span><br><span class="line">        &#125;)</span><br><span class="line">        .<span class="title function_">width</span>(<span class="number">360</span>)</span><br><span class="line">        .<span class="title function_">height</span>(<span class="number">190</span>)</span><br><span class="line">        .<span class="title function_">backgroundColor</span>(<span class="string">&#x27;#F1F3F5&#x27;</span>)</span><br><span class="line">        .<span class="title function_">margin</span>(&#123; <span class="attr">top</span>: <span class="number">38</span> &#125;);</span><br><span class="line">        </span><br><span class="line">        <span class="title class_">Image</span>($r(<span class="string">&quot;app.media.app_icon&quot;</span>))</span><br><span class="line">          .<span class="title function_">width</span>(<span class="string">&#x27;5%&#x27;</span>)</span><br><span class="line">          .<span class="title function_">margin</span>(&#123; <span class="attr">top</span>: <span class="number">180</span>, <span class="attr">left</span>: <span class="number">320</span> &#125;)</span><br><span class="line">          .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">            router.<span class="title function_">pushUrl</span>(&#123; <span class="attr">url</span>: <span class="string">&quot;pages/page2&quot;</span> &#125;);</span><br><span class="line">          &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;.<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@State</span> <span class="attr">fontColor</span>: <span class="built_in">string</span> = <span class="string">&#x27;#182431&#x27;</span>;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">selectedFontColor</span>: <span class="built_in">string</span> = <span class="string">&#x27;#007DFF&#x27;</span>;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">currentIndex</span>: <span class="built_in">number</span> = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">controller001</span>: <span class="title class_">TabsController</span> = <span class="keyword">new</span> <span class="title class_">TabsController</span>();</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Builder</span></span><br><span class="line">  <span class="title function_">tabBuilder001</span>(<span class="params"><span class="attr">index</span>: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Text</span>(<span class="string">`Tab<span class="subst">$&#123;index + <span class="number">1</span>&#125;</span>`</span>)</span><br><span class="line">        .<span class="title function_">fontColor</span>(<span class="variable language_">this</span>.<span class="property">currentIndex</span> === index ? <span class="variable language_">this</span>.<span class="property">selectedFontColor</span> : <span class="variable language_">this</span>.<span class="property">fontColor</span>)</span><br><span class="line">        .<span class="title function_">fontSize</span>(<span class="number">10</span>)</span><br><span class="line">        .<span class="title function_">fontWeight</span>(<span class="number">500</span>)</span><br><span class="line">        .<span class="title function_">lineHeight</span>(<span class="number">14</span>);</span><br><span class="line">    &#125;.<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/510-Daily-HarmonyOS-Next-Knowledge-Swipe-Triggered-Clicks-Unfired-Page-Display-Callbacks-Keyboard-Squeezed-Popups-Dynamic-Component-Addition-to-Pages-and-Immersive-Effects/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/510-Daily-HarmonyOS-Next-Knowledge-Swipe-Triggered-Clicks-Unfired-Page-Display-Callbacks-Keyboard-Squeezed-Popups-Dynamic-Component-Addition-to-Pages-and-Immersive-Effects/" class="post-title-link" itemprop="url">510[Daily HarmonyOS Next Knowledge] Swipe-Triggered Clicks, Unfired Page Display Callbacks, Keyboard-Squeezed Popups, Dynamic Component Addition to Pages, and Immersive Effects</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2025-06-25 08:18:48" itemprop="dateCreated datePublished" datetime="2025-06-25T08:18:48+08:00">2025-06-25</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/509-Daily-HarmonyOS-Next-Knowledge-Notification-Sending-Popup-Refresh-Active-Input-Focus-Triggering-Pagination-List-Implementation-Rich-Text-Editor-Input-State-Control/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/509-Daily-HarmonyOS-Next-Knowledge-Notification-Sending-Popup-Refresh-Active-Input-Focus-Triggering-Pagination-List-Implementation-Rich-Text-Editor-Input-State-Control/" class="post-title-link" itemprop="url">509[Daily HarmonyOS Next Knowledge] Notification Sending, Popup Refresh, Active Input Focus Triggering, Pagination List Implementation, Rich Text Editor Input State Control</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2025-06-25 08:17:09" itemprop="dateCreated datePublished" datetime="2025-06-25T08:17:09+08:00">2025-06-25</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/508%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91-Countdown-Effect-Implementation-Flex-Properties-Foldable-Screen-Switching-Dynamic-Import-in-Functions-UI-Design-Dimensions/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/508%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91-Countdown-Effect-Implementation-Flex-Properties-Foldable-Screen-Switching-Dynamic-Import-in-Functions-UI-Design-Dimensions/" class="post-title-link" itemprop="url">508Daily HarmonyOS Next Knowledge Countdown Effect Implementation, Flex Properties, Foldable Screen Switching, Dynamic Import in Functions, UI Design Dimensions</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2025-06-25 08:14:56" itemprop="dateCreated datePublished" datetime="2025-06-25T08:14:56+08:00">2025-06-25</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/507%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91-Custom-Dialogs-Swipe-Gestures-Canvas-Refresh-Side-Swipe-Events-and-Unit-Inconsistency-Issues/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/507%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91-Custom-Dialogs-Swipe-Gestures-Canvas-Refresh-Side-Swipe-Events-and-Unit-Inconsistency-Issues/" class="post-title-link" itemprop="url">Daily HarmonyOS Next Knowledge Custom Dialogs, Swipe Gestures, Canvas Refresh, Side-Swipe Events, and Unit Inconsistency Issues</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 08:12:04 / Modified: 08:12:39" itemprop="dateCreated datePublished" datetime="2025-06-25T08:12:04+08:00">2025-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-KnowledgeCustom-Dialogs-Swipe-Gestures-Canvas-Refresh-Side-Swipe-Events-and-Unit-Inconsistency-Issues"><a href="#Daily-HarmonyOS-Next-KnowledgeCustom-Dialogs-Swipe-Gestures-Canvas-Refresh-Side-Swipe-Events-and-Unit-Inconsistency-Issues" class="headerlink" title="Daily HarmonyOS Next KnowledgeCustom Dialogs, Swipe Gestures, Canvas Refresh, Side-Swipe Events, and Unit Inconsistency Issues"></a>Daily HarmonyOS Next KnowledgeCustom Dialogs, Swipe Gestures, Canvas Refresh, Side-Swipe Events, and Unit Inconsistency Issues</h3><h4 id="1-HarmonyOS-CustomDialogController-Custom-popups-cannot-be-normally-triggered-in-classes-or-static-methods"><a href="#1-HarmonyOS-CustomDialogController-Custom-popups-cannot-be-normally-triggered-in-classes-or-static-methods" class="headerlink" title="1. HarmonyOS CustomDialogController: Custom popups cannot be normally triggered in classes or static methods"></a>1. HarmonyOS CustomDialogController: Custom popups cannot be normally triggered in classes or static methods</h4><p>Currently, CustomDialog does not support encapsulation in classes because popups require context to trigger. It is recommended to use <code>promptAction.openCustomDialog</code>: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-promptaction-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-promptaction-V5</a>  </p>
<h4 id="2-HarmonyOS-Implementing-left-right-swipe-gestures-with-SwipeGesture--how-to-identify-swipe-direction"><a href="#2-HarmonyOS-Implementing-left-right-swipe-gestures-with-SwipeGesture--how-to-identify-swipe-direction" class="headerlink" title="2. HarmonyOS: Implementing left&#x2F;right swipe gestures with SwipeGesture  how to identify swipe direction?"></a>2. HarmonyOS: Implementing left&#x2F;right swipe gestures with SwipeGesture  how to identify swipe direction?</h4><p>Implement the <code>onAction(event: (event: GestureEvent) =&gt; void)</code> listener. The <code>GestureEvent</code> callback object can distinguish direction. Reference documents:  </p>
<ol>
<li>SwipeGesture triggers swipe events when the speed exceeds 100vp&#x2F;s. Usage: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-gestures-swipegesture-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-gestures-swipegesture-V5</a>  </li>
<li>GestureEvent binds different gesture events to components and sets response methods. Parameter description: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-gesture-settings-V5#ZH-CN_TOPIC_0000001930676517__gestureevent%E5%AF%B9%E8%B1%A1%E8%AF%B4%E6%98%8E">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-gesture-settings-V5#ZH-CN_TOPIC_0000001930676517__gestureevent%E5%AF%B9%E8%B1%A1%E8%AF%B4%E6%98%8E</a></li>
</ol>
<ul>
<li><code>offsetX: number</code>: X-offset of the gesture event (unit: vp), used in PanGesture scenarios. Swiping left to right gives positive <code>offsetX</code>, while right to left gives negative.</li>
</ul>
<h4 id="3-HarmonyOS-How-to-refresh-a-Canvas"><a href="#3-HarmonyOS-How-to-refresh-a-Canvas" class="headerlink" title="3. HarmonyOS: How to refresh a Canvas?"></a>3. HarmonyOS: How to refresh a Canvas?</h4><pre><code class="language-typescript">@State aa: number = 0;
Canvas(this.canvasCtx)
  .onReady(() =&gt; &#123;
    this.canvasCtx.draw(aa);
  &#125;);
</code></pre>
<p>When <code>aa</code> changes, the Canvas does not refresh. How to trigger redrawing?  </p>
<p>Use the CanvasRenderingContext2D interface, which supports refreshing drawing content in the next frame. Calling this interface will automatically trigger a refresh in the next frame. Reference: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-faqs-V5/faqs-arkui-kit-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-faqs-V5/faqs-arkui-kit-V5</a>  </p>
<h4 id="4-HarmonyOS-Side-swipe-events--how-to-block-swipe-to-go-back"><a href="#4-HarmonyOS-Side-swipe-events--how-to-block-swipe-to-go-back" class="headerlink" title="4. HarmonyOS: Side-swipe events  how to block swipe-to-go-back?"></a>4. HarmonyOS: Side-swipe events  how to block swipe-to-go-back?</h4><p>Only components decorated with <code>@Entry</code> can listen for back events. Use <code>onBackPress</code> to control this. Specific usage: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-custom-component-lifecycle-V5#onbackpress">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-custom-component-lifecycle-V5#onbackpress</a>  </p>
<p>In an <code>@Entry</code>-decorated page, override the lifecycle method:  </p>
<pre><code class="language-typescript">onBackPress() &#123;
  return true; // Block default back behavior
&#125;
</code></pre>
<h4 id="5-HarmonyOS-Unit-inconsistency--Text-vs-Web-component-font-sizes"><a href="#5-HarmonyOS-Unit-inconsistency--Text-vs-Web-component-font-sizes" class="headerlink" title="5. HarmonyOS: Unit inconsistency  Text vs. Web component font sizes"></a>5. HarmonyOS: Unit inconsistency  Text vs. Web component font sizes</h4><p><code>Text().fontSize(16)</code> vs. <code>Web().defaultFontSize(16)</code>: How to set the Web components default font size to match Text? Directly setting 16 makes it too small, while <code>vp2px</code> makes it too large.  </p>
<p>Reference: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-pixel-units-V5#%E5%83%8F%E7%B4%A0%E5%8D%95%E4%BD%8D%E8%BD%AC%E6%8D%A2">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-pixel-units-V5#%E5%83%8F%E7%B4%A0%E5%8D%95%E4%BD%8D%E8%BD%AC%E6%8D%A2</a>  </p>
<p>Try setting both to <code>fontSize(&#39;16fp&#39;)</code> or <code>fontSize(&#39;16px&#39;) / fontSize(&#39;16vp&#39;)</code>.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/506%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Popup-Components-Object-Passing-Obtaining-Current-Route-Component-Instances-Irregular-Polygon-Drawing-and-Checkbox-Groups/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/506%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Popup-Components-Object-Passing-Obtaining-Current-Route-Component-Instances-Irregular-Polygon-Drawing-and-Checkbox-Groups/" class="post-title-link" itemprop="url">Daily HarmonyOS Next KnowledgePopup Components, Object Passing, Obtaining Current Route Component Instances, Irregular Polygon Drawing, and Checkbox Groups</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 08:09:35 / Modified: 08:10:55" itemprop="dateCreated datePublished" datetime="2025-06-25T08:09:35+08:00">2025-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Knowledge-Popup-Components-Object-Passing-Obtaining-Current-Route-Component-Instances-Irregular-Polygon-Drawing-and-Checkbox-Groups"><a href="#Daily-HarmonyOS-Next-Knowledge-Popup-Components-Object-Passing-Obtaining-Current-Route-Component-Instances-Irregular-Polygon-Drawing-and-Checkbox-Groups" class="headerlink" title="Daily HarmonyOS Next Knowledge Popup Components, Object Passing, Obtaining Current Route Component Instances, Irregular Polygon Drawing, and Checkbox Groups"></a>Daily HarmonyOS Next Knowledge Popup Components, Object Passing, Obtaining Current Route Component Instances, Irregular Polygon Drawing, and Checkbox Groups</h3><h4 id="1-Recommend-a-Popup-Component-in-HarmonyOS-that-Can-Anchor-Below-a-Specific-Component"><a href="#1-Recommend-a-Popup-Component-in-HarmonyOS-that-Can-Anchor-Below-a-Specific-Component" class="headerlink" title="1. Recommend a Popup Component in HarmonyOS that Can Anchor Below a Specific Component"></a>1. Recommend a Popup Component in HarmonyOS that Can Anchor Below a Specific Component</h4><p>Is there a recommended popup component that allows setting the position to anchor below a specific component? Can a global custom popup meet this requirement?  </p>
<p>Currently, <code>bindPopup</code> can be used. Refer to the link: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-attributes-popup-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-attributes-popup-V5</a>  </p>
<p><strong>Reference demo</strong>:  </p>
<pre><code class="language-typescript">@Entry
@Component
struct Index &#123;
  @State message: string = &#39;Hello World&#39;;
  @State handlePopup: boolean = false;

  build() &#123;
    Column() &#123;
      Column() &#123;
        Text(this.message)
          .fontSize(50)
          .fontWeight(FontWeight.Bold)
      &#125;
      .width(&#39;100%&#39;)
      .height(&#39;200vp&#39;)
      .alignItems(HorizontalAlign.Start)
      .justifyContent(FlexAlign.Start)
      .backgroundColor(Color.Orange)
      .onClick(() =&gt; &#123;
        this.handlePopup = !this.handlePopup;
      &#125;)
      .bindPopup(this.handlePopup, &#123; 
        message: &#39;This is a popup with PopupOptions This is a popup with PopupOptions&#39; +
                 &#39; xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#39; +
                 &#39; xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#39; +
                 &#39; xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#39; +
                 &#39; xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#39;,
        messageOptions: &#123; 
          textColor: Color.Red,
          font: &#123;
            size: &#39;14vp&#39;,
            style: FontStyle.Italic,
            weight: FontWeight.Bolder
          &#125;
        &#125;,
        placement: Placement.Bottom,
        enableArrow: false,
        width: &#39;100%&#39;,
        radius: 0,
        onStateChange: (e) =&gt; &#123;
          console.info(JSON.stringify(e.isVisible));
          if (!e.isVisible) &#123;
            this.handlePopup = false;
          &#125;
        &#125;
      &#125;);
    &#125;
    .height(&#39;100%&#39;);
  &#125;
&#125;
</code></pre>
<h4 id="2-How-to-Use-ObjectLink-in-HarmonyOS"><a href="#2-How-to-Use-ObjectLink-in-HarmonyOS" class="headerlink" title="2. How to Use @ObjectLink in HarmonyOS"></a>2. How to Use @ObjectLink in HarmonyOS</h4><p>The page data is an array of <code>ClassA</code>, and <code>ClassA</code> contains an array of <code>ClassB</code>, structured as follows:  </p>
<pre><code class="language-typescript">@Observed
export class ClassA &#123;
  a: number;
  datas: ClassB[];
&#125;

@Observed
export class ClassB &#123;
  b: number;
  c: number;
&#125;

@Entry
@Component
struct Index &#123;
  @State pageDatas: ClassA[] = [];

  build() &#123;
    Tabs(&#123; barPosition: BarPosition.Start, index: this.currentIndex, controller: this.controller &#125;) &#123;
      ForEach(this.pageDatas, (page_item: ClassA, page_index: number) =&gt; &#123;
        TabContent() &#123;
          PageView(&#123;
            page_item: page_item,
          &#125;)
        &#125;
      &#125;);
    &#125;
  &#125;

  @Component
  export struct PageView &#123;
    @ObjectLink page_item: ClassA;

    build() &#123;
      Column() &#123;
        Text(this.page_item.a + &quot;&quot;)
          .onClick((e: ClickEvent) =&gt; &#123;
            // Pop up a dialog to select the &#39;a&#39; value
            this.page_item.a = selecta;
          &#125;);

        ForEach(this.page_item.datas, (item: ClassB, index: number) =&gt; &#123;
          ItemView(&#123;
            page_item: this.page_item,
            item: item
          &#125;);
        &#125;, (item: ClassB) =&gt; JSON.stringify(item));
      &#125;
    &#125;
  &#125;

  @Component
  export struct ItemView &#123;
    @ObjectLink page_item: ClassA;
    @ObjectLink item: ClassB;

    build() &#123;
      Row() &#123;
        Button(&quot;1&quot;)
          .onClick((e: ClickEvent) =&gt; &#123;
            this.item.b = this.item.b + 1;
          &#125;);

        TextInput(&#123; text: this.item.b === 0 ? &#39;&#39; : this.item.b.toString() &#125;)
          .onChange((value: string) =&gt; &#123;
            if (value === null || value === undefined || value === &#39;&#39;) &#123;
              this.item.b = 0;
            &#125; else &#123;
              this.item.b = parseInt(value);
            &#125;
          &#125;);

        Text(this.page_item.a * this.item.b * this.item.c + &quot;m&quot;);
      &#125;
    &#125;
  &#125;
&#125;
</code></pre>
<p><strong>Desired effects</strong>:  </p>
<ol>
<li>Clicking in each page of the <code>Index</code> page pops up a dialog to select the <code>a</code> value, which should update the display of <code>Text(this.page_item.a * item.b * item.c + &quot;m&quot;)</code>.  </li>
<li>Entering values in <code>TextInput</code> should also update the above text.  </li>
<li>Clicking the <code>Button</code> should update the value in <code>TextInput</code> and the above text.</li>
</ol>
<p><strong>Solution</strong>: Use the <code>@ObjectLink</code> decorator to monitor deep nested object changes. For complex nested objects, refer to:  </p>
<ul>
<li>Object array usage: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-observed-and-objectlink-V5#%E5%AF%B9%E8%B1%A1%E6%95%B0%E7%BB%84">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-observed-and-objectlink-V5#%E5%AF%B9%E8%B1%A1%E6%95%B0%E7%BB%84</a>  </li>
<li>Cases where nested object property changes fail: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-observed-and-objectlink-V5#%E5%A4%8D%E6%9D%82%E5%B5%8C%E5%A5%97%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7%E6%9B%B4%E6%94%B9%E5%A4%B1%E6%95%88">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-observed-and-objectlink-V5#%E5%A4%8D%E6%9D%82%E5%B5%8C%E5%A5%97%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7%E6%9B%B4%E6%94%B9%E5%A4%B1%E6%95%88</a></li>
</ul>
<h4 id="3-Can-HarmonyOS-Obtain-the-Instance-of-the-Current-Routes-Page-Component"><a href="#3-Can-HarmonyOS-Obtain-the-Instance-of-the-Current-Routes-Page-Component" class="headerlink" title="3. Can HarmonyOS Obtain the Instance of the Current Routes Page Component?"></a>3. Can HarmonyOS Obtain the Instance of the Current Routes Page Component?</h4><p><strong>Application scenario</strong>: Encapsulate independent dialog components (e.g., Loading, Toast).  </p>
<pre><code class="language-typescript">function getCurrentPageInstance() &#123;
  return // Get the instance of the current route&#39;s page component
&#125;

@Builder
function XLoadingBuilder(text: string) &#123;
  // ...
&#125;

export class XLoading &#123;
  static show() &#123;
    promptAction.openCustomDialog(&#123;
      builder: XLoadingBuilder.bind(getCurrentPageInstance(), &#39;...&#39;),
      alignment: DialogAlignment.Center,
      isModal: true,
      backgroundColor: Color.Transparent,
      maskColor: Color.Transparent,
      autoCancel: true,
    &#125;);
  &#125;
&#125;

// Usage:
XLoading.show();
</code></pre>
<p><strong>References</strong>:  </p>
<ul>
<li>UIContext: <a target="_blank" rel="noopener" href="https://gitee.com/openharmony/docs/blob/master/zh-cn/application-dev/reference/apis-arkui/js-apis-arkui-UIContext.md#uicontext">https://gitee.com/openharmony/docs/blob/master/zh-cn/application-dev/reference/apis-arkui/js-apis-arkui-UIContext.md#uicontext</a>  </li>
<li><code>openCustomDialog</code>: <a target="_blank" rel="noopener" href="https://gitee.com/openharmony/docs/blob/master/zh-cn/application-dev/reference/apis-arkui/js-apis-arkui-UIContext.md#opencustomdialog12">https://gitee.com/openharmony/docs/blob/master/zh-cn/application-dev/reference/apis-arkui/js-apis-arkui-UIContext.md#opencustomdialog12</a></li>
</ul>
<h4 id="4-How-to-Draw-Irregular-Polygons-and-Add-Click-Events-in-HarmonyOS"><a href="#4-How-to-Draw-Irregular-Polygons-and-Add-Click-Events-in-HarmonyOS" class="headerlink" title="4. How to Draw Irregular Polygons and Add Click Events in HarmonyOS"></a>4. How to Draw Irregular Polygons and Add Click Events in HarmonyOS</h4><p><strong>Method</strong>: Find an icon on <a target="_blank" rel="noopener" href="http://www.iconfont.cn/">www.iconfont.cn</a>, copy the SVG code, and paste the <code>d</code> attribute from the <code>path</code> tag into the <code>commands</code> property.  </p>
<p><strong>Demo</strong>:  </p>
<pre><code class="language-typescript">let d = &#39;M1016.832 606.208q2.048 12.288-1.024 29.696t-10.24 35.328-17.408 32.256-22.528 20.48-21.504 6.144-20.48-4.096q-10.24-3.072-25.6-5.632t-31.232-1.024-31.744 6.656-27.136 17.408q-24.576 25.6-28.672 58.368t9.216 62.464q10.24 20.48-3.072 40.96-6.144 8.192-19.456 16.896t-29.184 15.872-33.28 11.264-30.72 4.096q-9.216 0-17.408-7.168t-11.264-15.36l-1.024 0q-11.264-31.744-38.4-54.784t-62.976-23.04q-34.816 0-62.976 23.04t-39.424 53.76q-5.12 12.288-15.36 17.92t-22.528 5.632q-14.336 0-32.256-5.12t-35.84-12.8-32.256-17.92-21.504-20.48q-5.12-7.168-5.632-16.896t7.68-27.136q11.264-23.552 8.704-53.76t-26.112-55.808q-14.336-15.36-34.816-19.968t-38.912-3.584q-21.504 1.024-44.032 8.192-14.336 4.096-28.672-2.048-11.264-4.096-20.992-18.944t-17.408-32.768-11.776-36.864-2.048-31.232q3.072-22.528 20.48-28.672 30.72-12.288 55.296-40.448t24.576-62.976q0-35.84-24.576-62.464t-55.296-38.912q-9.216-3.072-15.36-14.848t-6.144-24.064q0-13.312 4.096-29.696t10.752-31.744 15.36-28.16 18.944-18.944q8.192-5.12 15.872-4.096t16.896 4.096q30.72 12.288 64 7.68t58.88-29.184q12.288-12.288 17.92-30.208t7.168-35.328 0-31.744-2.56-20.48q-2.048-6.144-3.584-14.336t1.536-14.336q6.144-14.336 22.016-25.088t34.304-17.92 35.84-10.752 27.648-3.584q13.312 0 20.992 8.704t10.752 17.92q11.264 27.648 36.864 48.64t60.416 20.992q35.84 0 63.488-19.968t38.912-50.688q4.096-8.192 12.8-16.896t17.92-8.704q14.336 0 31.232 4.096t33.28 11.264 30.208 18.432 22.016 24.576q5.12 8.192 3.072 17.92t-4.096 13.824q-13.312 29.696-8.192 62.464t29.696 57.344 60.416 27.136 66.56-11.776q8.192-5.12 19.968-4.096t19.968 9.216q15.36 14.336 27.136 43.52t15.872 58.88q2.048 17.408-5.632 27.136t-15.872 12.8q-31.744 11.264-54.272 39.424t-22.528 64q0 34.816 18.944 60.928t49.664 37.376q7.168 4.096 12.288 8.192 11.264 9.216 15.36 23.552zM540.672 698.368q46.08 0 87.04-17.408t71.168-48.128 47.616-71.168 17.408-86.528-17.408-86.528-47.616-70.656-71.168-47.616-87.04-17.408-86.528 17.408-70.656 47.616-47.616 70.656-17.408 86.528 17.408 86.528 47.616 71.168 70.656 48.128 86.528 17.408z&#39;;

@Entry
@Component
struct Index &#123;
  build() &#123;
    Column() &#123;
      Path().width(&#39;100%&#39;).height(&#39;100%&#39;)
        .commands(d)
        .stroke(&#39;#8a8a8a&#39;).strokeWidth(3);
    &#125;
  &#125;
&#125;
</code></pre>
<h4 id="5-Can-CheckboxGroup-in-HarmonyOS-Reference-an-Upper-Level-CheckboxGroup"><a href="#5-Can-CheckboxGroup-in-HarmonyOS-Reference-an-Upper-Level-CheckboxGroup" class="headerlink" title="5. Can CheckboxGroup in HarmonyOS Reference an Upper-Level CheckboxGroup?"></a>5. Can CheckboxGroup in HarmonyOS Reference an Upper-Level CheckboxGroup?</h4><p><strong>Can CheckboxGroup reference an upper-level CheckboxGroup?</strong>  </p>
<p>The CheckboxGroup component can associate with other CheckboxGroup components to reference an upper-level group. Implementation steps:  </p>
<ol>
<li><p><strong>Basic functions of CheckboxGroup</strong>:  </p>
<ul>
<li>CheckboxGroup is a checkbox group component that controls whether checkboxes in the group are fully selected.  </li>
<li>Each CheckboxGroup has a unique <code>group</code> value; CheckboxGroup and Checkbox with the same <code>group</code> value belong to the same group.</li>
</ul>
</li>
<li><p><strong>Referencing an upper-level CheckboxGroup</strong>:  </p>
<ul>
<li>Set the <code>group</code> attribute of CheckboxGroup to associate with another CheckboxGroup.  </li>
<li>Two CheckboxGroups with the same <code>group</code> value are treated as the same group.</li>
</ul>
</li>
<li><p><strong>Example</strong>:  </p>
<ul>
<li>Suppose there are two CheckboxGroups: CheckboxGroupA and CheckboxGroupB.  </li>
<li>To make CheckboxGroupB reference CheckboxGroupA, set CheckboxGroupBs <code>group</code> value to CheckboxGroupAs <code>group</code> value.</li>
</ul>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/505%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91-Brightness-Adjustment-Margin-Settings-Scroll-Calculation-Units-Dialog-Safe-Area-Issues-and-Flex-Overflow-Prevention/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/505%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91-Brightness-Adjustment-Margin-Settings-Scroll-Calculation-Units-Dialog-Safe-Area-Issues-and-Flex-Overflow-Prevention/" class="post-title-link" itemprop="url">505Daily HarmonyOS Next Knowledge Brightness Adjustment, Margin Settings, Scroll Calculation Units, Dialog Safe Area Issues, and Flex Overflow Prevention</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 08:07:56 / Modified: 08:08:17" itemprop="dateCreated datePublished" datetime="2025-06-25T08:07:56+08:00">2025-06-25</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Knowledge-Brightness-Adjustment-Margin-Settings-Scroll-Calculation-Units-Dialog-Safe-Area-Issues-and-Flex-Overflow-Prevention"><a href="#Daily-HarmonyOS-Next-Knowledge-Brightness-Adjustment-Margin-Settings-Scroll-Calculation-Units-Dialog-Safe-Area-Issues-and-Flex-Overflow-Prevention" class="headerlink" title="Daily HarmonyOS Next Knowledge Brightness Adjustment, Margin Settings, Scroll Calculation Units, Dialog Safe Area Issues, and Flex Overflow Prevention"></a>Daily HarmonyOS Next Knowledge Brightness Adjustment, Margin Settings, Scroll Calculation Units, Dialog Safe Area Issues, and Flex Overflow Prevention</h3><h4 id="1-How-to-modify-the-system-brightness-in-HarmonyOS"><a href="#1-How-to-modify-the-system-brightness-in-HarmonyOS" class="headerlink" title="1. How to modify the system brightness in HarmonyOS?"></a>1. How to modify the system brightness in HarmonyOS?</h4><p>You can check the documentation related to windows and use <code>setWindowBrightness</code>. Refer to the document: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-window-V5#setwindowbrightness9-1">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-window-V5#setwindowbrightness9-1</a>  </p>
<p><code>setWindowBrightness(brightness: number): Promise&lt;void&gt;</code><br>Allows the applications main window to set the screen brightness value using a Promise for asynchronous callbacks.<br><strong>Current screen brightness specifications</strong>: When the window sets the screen brightness, the control center cannot adjust the system screen brightness. After the window restores the default system brightness, the control center can adjust the system screen brightness.  </p>
<table>
<thead>
<tr>
<th>Parameter Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>brightness</td>
<td>number</td>
<td>Yes</td>
<td>Screen brightness value. This parameter is a floating-point number, with a value range of [0.0, 1.0] or -1.0. 1.0 represents the brightest, and -1.0 represents the default brightness.</td>
</tr>
</tbody></table>
<h4 id="2-Issues-with-setting-margins-as-percentages-in-HarmonyOS"><a href="#2-Issues-with-setting-margins-as-percentages-in-HarmonyOS" class="headerlink" title="2. Issues with setting margins as percentages in HarmonyOS"></a>2. Issues with setting margins as percentages in HarmonyOS</h4><p>Setting <code>margin top 40%</code> does not appear to have the correct spacing (incorrect in both portrait and landscape orientations).  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="variable language_">window</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@kit.ArkUI&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Index</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">message</span>: <span class="built_in">string</span> = <span class="string">&#x27;Hello World&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">onPageShow</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="comment">// window.getLastWindow(getContext(this)).then((lastWindow) =&gt; &#123;</span></span><br><span class="line">    <span class="comment">//   // Landscape</span></span><br><span class="line">    <span class="comment">//   lastWindow.setPreferredOrientation(window.Orientation.LANDSCAPE_INVERTED);</span></span><br><span class="line">    <span class="comment">//   // Full screen</span></span><br><span class="line">    <span class="comment">//   lastWindow.setWindowLayoutFullScreen(true);</span></span><br><span class="line">    <span class="comment">//   // Hide status bar and navigation bar</span></span><br><span class="line">    <span class="comment">//   lastWindow.setSpecificSystemBarEnabled(&#x27;status&#x27;, false);</span></span><br><span class="line">    <span class="comment">// &#125;)</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">RelativeContainer</span>() &#123;</span><br><span class="line">      <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">message</span>)</span><br><span class="line">        .<span class="title function_">fontSize</span>(<span class="number">50</span>)</span><br><span class="line">        .<span class="title function_">fontWeight</span>(<span class="title class_">FontWeight</span>.<span class="property">Bold</span>)</span><br><span class="line">        .<span class="title function_">alignRules</span>(&#123;</span><br><span class="line">          <span class="attr">top</span>: &#123; <span class="attr">anchor</span>: <span class="string">&quot;__container__&quot;</span>, <span class="attr">align</span>: <span class="title class_">VerticalAlign</span>.<span class="property">Top</span> &#125;,</span><br><span class="line">          <span class="attr">middle</span>: &#123; <span class="attr">anchor</span>: <span class="string">&quot;__container__&quot;</span>, <span class="attr">align</span>: <span class="title class_">HorizontalAlign</span>.<span class="property">Center</span> &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        .<span class="title function_">margin</span>(&#123; <span class="attr">top</span>: <span class="string">&#x27;40%&#x27;</span> &#125;)</span><br><span class="line">        .<span class="title function_">backgroundColor</span>(<span class="title class_">Color</span>.<span class="property">Blue</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string">**Explanation**: The margin of `</span><span class="title class_">RelativeContainer</span><span class="string">` is calculated from the anchor point. When setting margins as percentages, the reference is the parent container&#x27;s width, not its length or height.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">- `</span><span class="title class_">RelativeContainer</span><span class="string">` reference: https://gitee.com/openharmony/docs/blob/master/zh-cn/application-dev/reference/apis-arkui/arkui-ts/ts-container-relativecontainer.md  </span></span><br><span class="line"><span class="string">- `</span>margin<span class="string">` reference: https://gitee.com/openharmony/docs/blob/master/zh-cn/application-dev/reference/apis-arkui/arkui-ts/ts-universal-attributes-size.md#margin  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="title function_">margin</span>(<span class="attr">value</span>: <span class="title class_">Margin</span> | <span class="title class_">Length</span> | <span class="title class_">LocalizedMargin</span>)<span class="string">`  </span></span><br><span class="line"><span class="string">Sets the margin attribute.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">| Parameter Name | Type                                     | Required | Description                                                                                                                                                                                                                        |</span></span><br><span class="line"><span class="string">|----------|----------------------------------------|------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|</span></span><br><span class="line"><span class="string">| value      | Margin \| Length \| LocalizedMargin12+ | Yes  | Sets the component&#x27;s margin. &lt;br&gt;When the parameter is of type Length, margins for all four directions take effect simultaneously. &lt;br&gt;Default value: 0 &lt;br&gt;Unit: vp &lt;br&gt;When setting the margin as a percentage, the top, bottom, left, and right margins are all based on the parent container&#x27;s width. When laying out in the cross-axis of Row, Column, or Flex, the sum of the child component&#x27;s cross-axis size and margin equals the overall size. &lt;br&gt;For example, if a Column container is 100 units wide, and a child component is 50 units wide with a margin of 10 on the left and 20 on the right, the child component will be offset by 10 units horizontally. |</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 3. Unit issues in HarmonyOS scroll calculations  </span></span><br><span class="line"><span class="string">What is the unit of `</span>yOffset<span class="string">` in `</span><span class="title function_">onScroll</span>(<span class="function">(<span class="params"><span class="attr">xOffset</span>: <span class="built_in">number</span>, <span class="attr">yOffset</span>: <span class="built_in">number</span></span>) =&gt;</span> <span class="string">`? It needs to be compared with the `</span>avoidArea.<span class="property">topRect</span>.<span class="property">height</span><span class="string">` (status bar height), requiring unit consistency.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Unit**: vp. Reference link: https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-container-scroll-V5  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 4. Can BaseDialogOptions in HarmonyOS support extending the dialog layout to non-safe areas?  </span></span><br><span class="line"><span class="string">**Requirement**: When the dialog is displayed at the bottom, can it be configured to extend the background to non-safe areas (e.g., navigation bar)?  </span></span><br><span class="line"><span class="string">**Current behavior**: The dialog avoids non-safe areas at the bottom, causing the background to not fully cover the area.  </span></span><br><span class="line"><span class="string">**Solution**: Use `</span>offset<span class="string">` to override the navigation bar. Reference: https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-promptaction-V5  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 5. How to prevent content overflow in a HarmonyOS Flex container?  </span></span><br><span class="line"><span class="string">In the following demo, search history content overflows. How to restrict this?  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Queue</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@kit.ArkTS&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">StartupConfigEntry</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@kit.AbilityKit&#x27;</span>;</span><br><span class="line"><span class="title class_">PersistentStorage</span>.<span class="title function_">persistProp</span>(<span class="string">&#x27;inputArrayProp&#x27;</span>, [])</span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">TestPersistPage</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">message</span>: <span class="built_in">string</span> = <span class="string">&#x27;Hello World&#x27;</span>;</span><br><span class="line">  <span class="meta">@StorageLink</span>(<span class="string">&#x27;inputArrayProp&#x27;</span>) <span class="attr">inputArr</span>: <span class="title class_">Array</span>&lt;<span class="built_in">string</span>&gt; =</span><br><span class="line">    [<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(<span class="keyword">new</span> <span class="title class_">StockSearchModel</span>(<span class="string">&#x27;StockSearchModel&#x27;</span>, <span class="string">&#x27;300033&#x27;</span>, <span class="string">&#x27;33&#x27;</span>))]</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">searchHistory</span>: <span class="title class_">Array</span>&lt;<span class="title class_">StockSearchModel</span>&gt; = []</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">gridItems</span>: <span class="title class_">Array</span>&lt;<span class="title class_">StockSearchModel</span>&gt; =</span><br><span class="line">    [<span class="keyword">new</span> <span class="title class_">StockSearchModel</span>(<span class="string">&#x27;StockSearchModel&#x27;</span>, <span class="string">&#x27;300033&#x27;</span>, <span class="string">&#x27;33&#x27;</span>), <span class="keyword">new</span> <span class="title class_">StockSearchModel</span>(<span class="string">&#x27;StockSearchModel&#x27;</span>, <span class="string">&#x27;300033&#x27;</span>, <span class="string">&#x27;33&#x27;</span>),</span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">StockSearchModel</span>(<span class="string">&#x27;StockSearchModel&#x27;</span>, <span class="string">&#x27;300033&#x27;</span>, <span class="string">&#x27;33&#x27;</span>)</span><br><span class="line">      , <span class="keyword">new</span> <span class="title class_">StockSearchModel</span>(<span class="string">&#x27;StockSearchModel&#x27;</span>, <span class="string">&#x27;300033&#x27;</span>, <span class="string">&#x27;33&#x27;</span>), <span class="keyword">new</span> <span class="title class_">StockSearchModel</span>(<span class="string">&#x27;StockSearchModel&#x27;</span>, <span class="string">&#x27;300033&#x27;</span>, <span class="string">&#x27;33&#x27;</span>),</span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">StockSearchModel</span>(<span class="string">&#x27;StockSearchModel&#x27;</span>, <span class="string">&#x27;300033&#x27;</span>, <span class="string">&#x27;33&#x27;</span>)]</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">i</span>: <span class="built_in">number</span> = <span class="number">0</span>;</span><br><span class="line">  <span class="title function_">aboutToAppear</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">inputArr</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">element</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">searchHistory</span>.<span class="title function_">push</span>(<span class="title class_">JSON</span>.<span class="title function_">parse</span>(element))</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">aboutToDisappear</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="attr">tempArr</span>: <span class="title class_">Array</span>&lt;<span class="built_in">string</span>&gt; = []</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">searchHistory</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">      tempArr.<span class="title function_">push</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(item))</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">inputArr</span> = tempArr</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Scroll</span>() &#123;</span><br><span class="line">      <span class="title class_">Flex</span>(&#123;</span><br><span class="line">        <span class="attr">direction</span>: <span class="title class_">FlexDirection</span>.<span class="property">Column</span>,</span><br><span class="line">        <span class="attr">justifyContent</span>: <span class="title class_">FlexAlign</span>.<span class="property">Start</span>,</span><br><span class="line">        <span class="attr">alignItems</span>: <span class="title class_">ItemAlign</span>.<span class="property">Start</span>,</span><br><span class="line">        <span class="attr">wrap</span>: <span class="title class_">FlexWrap</span>.<span class="property">NoWrap</span></span><br><span class="line">      &#125;) &#123;</span><br><span class="line">        <span class="title class_">Row</span>() &#123;</span><br><span class="line">          <span class="title class_">Text</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">            .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">              <span class="variable language_">this</span>.<span class="property">searchHistory</span>.<span class="title function_">unshift</span>(<span class="keyword">new</span> <span class="title class_">StockSearchModel</span>(<span class="string">`StockSearchModel<span class="subst">$&#123;<span class="variable language_">this</span>.i++&#125;</span>`</span>, <span class="string">&#x27;300033&#x27;</span>, <span class="string">&#x27;33&#x27;</span>))</span><br><span class="line">            &#125;)</span><br><span class="line">            .<span class="title function_">fontColor</span>(<span class="string">&#x27;#D6000000&#x27;</span>)</span><br><span class="line">            .<span class="title function_">fontWeight</span>(<span class="number">500</span>)</span><br><span class="line">            .<span class="title function_">fontSize</span>(<span class="number">18</span>)</span><br><span class="line">            .<span class="title function_">lineHeight</span>(<span class="number">22</span>)</span><br><span class="line">            .<span class="title function_">textAlign</span>(<span class="title class_">TextAlign</span>.<span class="property">Start</span>)</span><br><span class="line">          <span class="title class_">Image</span>($r(<span class="string">&#x27;app.media.app_icon&#x27;</span>))</span><br><span class="line">            .<span class="title function_">height</span>(<span class="number">20</span>)</span><br><span class="line">            .<span class="title function_">width</span>(<span class="number">20</span>)</span><br><span class="line">            .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">              <span class="variable language_">this</span>.<span class="property">searchHistory</span> = [];</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">        .<span class="title function_">justifyContent</span>(<span class="title class_">FlexAlign</span>.<span class="property">SpaceBetween</span>)</span><br><span class="line">        .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">        .<span class="title function_">height</span>(<span class="number">22</span>)</span><br><span class="line">        <span class="title class_">Flex</span>(&#123; <span class="attr">wrap</span>: <span class="title class_">FlexWrap</span>.<span class="property">Wrap</span> &#125;) &#123;</span><br><span class="line">          <span class="title class_">ForEach</span>(<span class="variable language_">this</span>.<span class="property">searchHistory</span>, <span class="function">(<span class="params"><span class="attr">item</span>: <span class="title class_">StockSearchModel</span>, <span class="attr">index</span>: <span class="built_in">number</span></span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="title class_">Text</span>(item.<span class="property">stockName</span>)</span><br><span class="line">              .<span class="title function_">maxLines</span>(<span class="number">1</span>)</span><br><span class="line">              .<span class="title function_">fontColor</span>(<span class="string">&#x27;#D600000&#x27;</span>)</span><br><span class="line">              .<span class="title function_">fontSize</span>(<span class="number">14</span>)</span><br><span class="line">              .<span class="title function_">padding</span>(&#123;</span><br><span class="line">                <span class="attr">left</span>: <span class="number">10</span>,</span><br><span class="line">                <span class="attr">right</span>: <span class="number">10</span>,</span><br><span class="line">                <span class="attr">bottom</span>: <span class="number">4</span>,</span><br><span class="line">                <span class="attr">top</span>: <span class="number">4</span></span><br><span class="line">              &#125;)</span><br><span class="line">              .<span class="title function_">margin</span>(&#123; <span class="attr">right</span>: <span class="number">12</span>, <span class="attr">top</span>: <span class="number">12</span> &#125;)</span><br><span class="line">              .<span class="title function_">backgroundColor</span>(<span class="string">&#x27;#0a000000&#x27;</span>)</span><br><span class="line">              .<span class="title function_">borderRadius</span>(<span class="number">4</span>)</span><br><span class="line">              .<span class="title function_">height</span>(<span class="number">28</span>)</span><br><span class="line">              .<span class="title function_">fontWeight</span>(<span class="number">400</span>)</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">        .<span class="title function_">constraintSize</span>(&#123; <span class="attr">maxHeight</span>: <span class="number">200</span>, <span class="attr">minHeight</span>: <span class="number">100</span> &#125;)</span><br><span class="line">        <span class="title class_">Text</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">          .<span class="title function_">fontColor</span>(<span class="string">&#x27;#D600000&#x27;</span>)</span><br><span class="line">          .<span class="title function_">fontWeight</span>(<span class="number">500</span>)</span><br><span class="line">          .<span class="title function_">fontSize</span>(<span class="number">18</span>)</span><br><span class="line">          .<span class="title function_">lineHeight</span>(<span class="number">22</span>)</span><br><span class="line">          .<span class="title function_">textAlign</span>(<span class="title class_">TextAlign</span>.<span class="property">Start</span>)</span><br><span class="line">          .<span class="title function_">margin</span>(&#123; <span class="attr">top</span>: <span class="number">20</span> &#125;)</span><br><span class="line">        <span class="title class_">Grid</span>() &#123;</span><br><span class="line">          <span class="title class_">ForEach</span>(<span class="variable language_">this</span>.<span class="property">gridItems</span>, <span class="function">(<span class="params"><span class="attr">item</span>: <span class="title class_">StockSearchModel</span>, <span class="attr">index</span>: <span class="built_in">number</span></span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="title class_">GridItem</span>() &#123;</span><br><span class="line">              <span class="title class_">Text</span>(item.<span class="property">stockName</span>)</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">        .<span class="title function_">margin</span>(&#123; <span class="attr">top</span>: <span class="number">20</span> &#125;)</span><br><span class="line">        .<span class="title function_">rowsTemplate</span>(<span class="string">&#x27;1fr 1fr 1fr&#x27;</span>)</span><br><span class="line">        .<span class="title function_">columnsTemplate</span>(<span class="string">&#x27;1fr 1fr&#x27;</span>)</span><br><span class="line">        .<span class="title function_">columnsGap</span>(<span class="number">0</span>)</span><br><span class="line">        .<span class="title function_">rowsGap</span>(<span class="number">0</span>)</span><br><span class="line">        .<span class="title function_">height</span>(<span class="string">&#x27;30%&#x27;</span>)</span><br><span class="line">        .<span class="title function_">constraintSize</span>(&#123;</span><br><span class="line">          <span class="attr">minHeight</span>: <span class="number">200</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">constraintSize</span>(&#123;</span><br><span class="line">        <span class="attr">minHeight</span>: <span class="number">500</span></span><br><span class="line">      &#125;)</span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">      .<span class="title function_">layoutWeight</span>(<span class="number">1</span>)</span><br><span class="line">      .<span class="title function_">backgroundColor</span>(<span class="string">&#x27;#FFFFFFFF&#x27;</span>)</span><br><span class="line">      .<span class="title function_">padding</span>(&#123;</span><br><span class="line">        <span class="attr">top</span>: <span class="number">16</span>,</span><br><span class="line">        <span class="attr">bottom</span>: <span class="number">16</span>,</span><br><span class="line">        <span class="attr">left</span>: <span class="number">16</span>,</span><br><span class="line">        <span class="attr">right</span>: <span class="number">16</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">scrollBar</span>(<span class="title class_">BarState</span>.<span class="property">Off</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Observed</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">StockSearchModel</span> &#123;</span><br><span class="line">  <span class="attr">stockCode</span>: <span class="built_in">string</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="attr">stockMarket</span>: <span class="built_in">string</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="attr">stockName</span>: <span class="built_in">string</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="attr">stockName</span>: <span class="built_in">string</span>, <span class="attr">stockCode</span>?: <span class="built_in">string</span>, <span class="attr">stockMarket</span>?: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">stockName</span> = stockName;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">stockCode</span> = stockCode || <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">stockMarket</span> = <span class="variable language_">this</span>.<span class="property">stockMarket</span> || <span class="string">&#x27;&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string">**Solution**: Add the `</span>.<span class="title function_">clip</span>(<span class="literal">true</span>)<span class="string">` attribute to the Flex container for historical records to truncate overflowing content. Pseudocode example:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="title class_">Flex</span>(&#123; <span class="attr">wrap</span>: <span class="title class_">FlexWrap</span>.<span class="property">Wrap</span> &#125;) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line">.<span class="title function_">constraintSize</span>(&#123; <span class="attr">maxHeight</span>: <span class="number">200</span>, <span class="attr">minHeight</span>: <span class="number">100</span> &#125;)</span><br><span class="line">.<span class="title function_">clip</span>(<span class="literal">true</span>)</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/504%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Getting-Keyboard-Height-Animation-Methods-Text-Component-Overflow-Anchor-Points-in-Relative-Layout-Attribute-Declaration/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/504%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Getting-Keyboard-Height-Animation-Methods-Text-Component-Overflow-Anchor-Points-in-Relative-Layout-Attribute-Declaration/" class="post-title-link" itemprop="url">Daily HarmonyOS Next KnowledgeGetting Keyboard Height, Animation Methods, Text Component Overflow, Anchor Points in Relative Layout, Attribute Declaration</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 08:03:54 / Modified: 08:04:35" itemprop="dateCreated datePublished" datetime="2025-06-25T08:03:54+08:00">2025-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-KnowledgeGetting-Keyboard-Height-Animation-Methods-Text-Component-Overflow-Anchor-Points-in-Relative-Layout-Attribute-Declaration"><a href="#Daily-HarmonyOS-Next-KnowledgeGetting-Keyboard-Height-Animation-Methods-Text-Component-Overflow-Anchor-Points-in-Relative-Layout-Attribute-Declaration" class="headerlink" title="Daily HarmonyOS Next KnowledgeGetting Keyboard Height, Animation Methods, Text Component Overflow, Anchor Points in Relative Layout, Attribute Declaration"></a>Daily HarmonyOS Next KnowledgeGetting Keyboard Height, Animation Methods, Text Component Overflow, Anchor Points in Relative Layout, Attribute Declaration</h3><h4 id="1-Why-does-the-keyboard-height-obtained-in-HarmonyOS-appear-taller-than-before"><a href="#1-Why-does-the-keyboard-height-obtained-in-HarmonyOS-appear-taller-than-before" class="headerlink" title="1. Why does the keyboard height obtained in HarmonyOS appear taller than before?"></a>1. Why does the keyboard height obtained in HarmonyOS appear taller than before?</h4><p>The soft keyboard height in the latest DEV ECO simulator is higher than previously obtained values.  </p>
<p>Use window-related APIs to get the soft keyboard height. The code is as follows:  </p>
<pre><code class="language-typescript">aboutToAppear() &#123;
  window.getLastWindow(getContext(this))
    .then(currentWindow =&gt; &#123;
      // Get the windowClass object
      let property = currentWindow.getWindowProperties(); // Method 1: Get the avoid area
      let avoidArea = currentWindow.getWindowAvoidArea(window.AvoidAreaType.TYPE_KEYBOARD);
      // Initialize the display area height
      this.screenHeight = px2vp(property.windowRect.height - avoidArea.bottomRect.height);
      // Monitor the pop-up and retraction of the soft keyboard
      currentWindow.on(&#39;avoidAreaChange&#39;,
      async (data) =&gt; &#123;
        if (data.type !== window.AvoidAreaType.TYPE_KEYBOARD) &#123;
          return;
        &#125;
        this.screenHeight = px2vp(data.area.bottomRect.height);
        console.log(this.screenHeight + &#39;&#39; + &#39;foo xxx&#39;
        ); // The console output shows the keyboard height
      &#125;
      );
      // Method 2: Directly get the soft keyboard height
      currentWindow.on(&#39;keyboardHeightChange&#39;, (data) =&gt; &#123;
        console.log(&quot;foo data&quot; + px2vp(data));
        // The console output shows the keyboard height
      &#125;
      );
    &#125;);
&#125;
</code></pre>
<p>Reference link: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-window-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-window-V5</a>  </p>
<h4 id="2-Can-HarmonyOS-animation-methods-only-be-used-in-click-events-not-directly"><a href="#2-Can-HarmonyOS-animation-methods-only-be-used-in-click-events-not-directly" class="headerlink" title="2. Can HarmonyOS animation methods only be used in click events, not directly?"></a>2. Can HarmonyOS animation methods only be used in click events, not directly?</h4><p>Animation methods add smooth transition effects to UI changes when property interfaces are modified. Click events are used to trigger property changes, but animations can be added whenever animatable properties change. Property interfaces (hereinafter referred to as properties) include various types such as size, layout, and position properties, controlling component behavior. For components on the current interface, changes in some properties (e.g., position) trigger UI changes. Adding animations allows property values to transition gradually from start to end, creating continuous animation effects. Properties are categorized as animatable or non-animatable based on whether animations can be added during changes, determined by two criteria:  </p>
<ol>
<li>The property change must trigger UI changes. For example, the <code>enabled</code> property controls whether a component responds to clicks or touches but does not change the UI, so it is unsuitable as an animatable property.  </li>
<li>The property change should naturally support animation as a transition. For example, the <code>focusable</code> property determines if a component can gain focus and should switch immediately to the target value to respond to user actions, making animation unsuitable.</li>
</ol>
<ul>
<li>Attribute animation overview: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-attribute-animation-overview-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-attribute-animation-overview-V5</a>  </li>
<li>Attribute animation API description: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-attribute-animation-apis-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-attribute-animation-apis-V5</a></li>
</ul>
<h4 id="3-Does-the-HarmonyOS-Text-component-support-configuring-the-position-of-ellipses-for-overflowing-text"><a href="#3-Does-the-HarmonyOS-Text-component-support-configuring-the-position-of-ellipses-for-overflowing-text" class="headerlink" title="3. Does the HarmonyOS Text component support configuring the position of ellipses for overflowing text?"></a>3. Does the HarmonyOS Text component support configuring the position of ellipses for overflowing text?</h4><p>How to configure the ellipsis position property for the component.  </p>
<p>Key code:  </p>
<pre><code class="language-typescript">Text(&#39;I am an extra long text, with ellipses displayed for any excess&#39;)
       .width(250)
       .textOverflow(&#123; overflow: TextOverflow.Ellipsis &#125;)
       .maxLines(1)
       .ellipsisMode(EllipsisMode.CENTER)// Must be used with textOverflow and maxLines
       .fontSize(12)
       .border(&#123; width: 1 &#125;)
       .padding(10)
</code></pre>
<p>Reference link: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-text-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-text-V5</a>  </p>
<h4 id="4-Does-setting-anchor-points-in-a-HarmonyOS-relative-layout-still-support-adaptive-width-and-height"><a href="#4-Does-setting-anchor-points-in-a-HarmonyOS-relative-layout-still-support-adaptive-width-and-height" class="headerlink" title="4. Does setting anchor points in a HarmonyOS relative layout still support adaptive width and height?"></a>4. Does setting anchor points in a HarmonyOS relative layout still support adaptive width and height?</h4><p>When using a relative layout (RelativeContainer) and setting anchor points (alignRules), the adaptive width and height effect disappears. Can adaptive width and height still be supported after setting anchor points in a relative layout?  </p>
<p>If the anchor point is a component within the container, setting <code>auto</code> takes effect. If it is the parent container, it does not take effect.  </p>
<h4 id="5-Why-cant-the-second-data-type-be-used-in-HarmonyOS-attribute-declaration"><a href="#5-Why-cant-the-second-data-type-be-used-in-HarmonyOS-attribute-declaration" class="headerlink" title="5. Why cant the second data type be used in HarmonyOS attribute declaration?"></a>5. Why cant the second data type be used in HarmonyOS attribute declaration?</h4><p>The second data type in attribute declaration cannot be used.  </p>
<pre><code class="language-typescript">export class MyDataSource&lt;T&gt; implements IDataSource &#123;
  private listeners: DataChangeListener[] = [];
  private originDataArray: T[] = [];
  public totalCount(): number &#123;
    return this.originDataArray.length;
  &#125;
  public getData(index: number) &#123;
    return this.originDataArray[index];
  &#125;
  public arrAndArr(data: Array&lt;T&gt;): void &#123;
    this.originDataArray = data;
    this.notifyDataReload();
  &#125;
  public pushData(data: T): void &#123;
    this.originDataArray.push(data);
    this.notifyDataAdd(this.originDataArray.length - 1);
  &#125;
  registerDataChangeListener(listener: DataChangeListener): void &#123;
    if (this.listeners.indexOf(listener) &lt; 0) &#123;
      console.info(&#39;add listener&#39;);
      this.listeners.push(listener);
    &#125;
  &#125;
  unregisterDataChangeListener(listener: DataChangeListener): void &#123;
    const pos = this.listeners.indexOf(listener);
    if (pos &gt;= 0) &#123;
      console.info(&#39;remove listener&#39;);
      this.listeners.splice(pos, 1);
    &#125;
  &#125;
  notifyDataReload(): void &#123;
    this.listeners.forEach(listener =&gt; &#123;
      listener.onDataReloaded();
    &#125;);
  &#125;
  notifyDataAdd(index: number): void &#123;
    this.listeners.forEach(listener =&gt; &#123;
      listener.onDataAdd(index);
    &#125;);
  &#125;
  notifyDataChange(index: number): void &#123;
    this.listeners.forEach(listener =&gt; &#123;
      listener.onDataChange(index);
    &#125;);
  &#125;
  notifyDataDelete(index: number): void &#123;
    this.listeners.forEach(listener =&gt; &#123;
      listener.onDataDelete(index);
    &#125;);
  &#125;
  notifyDataMove(from: number, to: number): void &#123;
    this.listeners.forEach(listener =&gt; &#123;
      listener.onDataMove(from, to);
    &#125;);
  &#125;
&#125;
</code></pre>
<p>For two declared types, use type assertion: <code>as titletopmodel.menus as IDataSource</code>.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/503%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91-Grid-Layout-Adaptive-Height-Persistent-Storage-Rounded-Dialogs-Value-Passing-Between-Pages-Emoji-Truncation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/503%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91-Grid-Layout-Adaptive-Height-Persistent-Storage-Rounded-Dialogs-Value-Passing-Between-Pages-Emoji-Truncation/" class="post-title-link" itemprop="url">Daily HarmonyOS Next Knowledge Grid Layout Adaptive Height, Persistent Storage, Rounded Dialogs, Value Passing Between Pages, Emoji Truncation</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 08:00:53 / Modified: 08:01:22" itemprop="dateCreated datePublished" datetime="2025-06-25T08:00:53+08:00">2025-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Knowledge-Grid-Layout-Adaptive-Height-Persistent-Storage-Rounded-Dialogs-Value-Passing-Between-Pages-Emoji-Truncation"><a href="#Daily-HarmonyOS-Next-Knowledge-Grid-Layout-Adaptive-Height-Persistent-Storage-Rounded-Dialogs-Value-Passing-Between-Pages-Emoji-Truncation" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Grid Layout Adaptive Height, Persistent Storage, Rounded Dialogs, Value Passing Between Pages, Emoji Truncation"></a>[Daily HarmonyOS Next Knowledge] Grid Layout Adaptive Height, Persistent Storage, Rounded Dialogs, Value Passing Between Pages, Emoji Truncation</h3><h4 id="1-Can-the-HarmonyOS-grid-layout-adapt-its-height-automatically-based-on-the-number-of-data-items"><a href="#1-Can-the-HarmonyOS-grid-layout-adapt-its-height-automatically-based-on-the-number-of-data-items" class="headerlink" title="1. Can the HarmonyOS grid layout adapt its height automatically based on the number of data items?"></a>1. Can the HarmonyOS grid layout adapt its height automatically based on the number of data items?</h4><p>Can the grid layout adapt its height automatically based on the number of data items?  </p>
<p>Calculate the number of rows (<code>rowCount</code>) to display, then derive <code>GridHeight</code> and <code>GridRowsTemplate</code> from <code>rowCount</code>. Refer to the demo:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">ABPage</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">message</span>: <span class="built_in">string</span> = <span class="string">&#x27;Hello World&#x27;</span>;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">controller</span>: <span class="title class_">TextInputController</span> = <span class="keyword">new</span> <span class="title class_">TextInputController</span>();</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">simpleList</span>: <span class="title class_">Array</span>&lt;<span class="built_in">string</span>&gt; = [<span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;three&#x27;</span>, <span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;three&#x27;</span>, <span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;three&#x27;</span>, <span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>];</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">getCategoryRowCount</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">ceil</span>(<span class="variable language_">this</span>.<span class="property">simpleList</span>.<span class="property">length</span> / <span class="number">3</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">getCategoryRowTmpl</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> count = <span class="variable language_">this</span>.<span class="title function_">getCategoryRowCount</span>();</span><br><span class="line">    <span class="keyword">const</span> <span class="attr">arr</span>: <span class="built_in">string</span>[] = <span class="keyword">new</span> <span class="title class_">Array</span>(count || <span class="number">1</span>).<span class="title function_">fill</span>(<span class="string">&#x27;1fr&#x27;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;tmpl &#x27;</span>, arr.<span class="title function_">join</span>(<span class="string">&#x27; &#x27;</span>));</span><br><span class="line">    <span class="keyword">return</span> arr.<span class="title function_">join</span>(<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">getCategoryViewHeight</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;<span class="number">50</span> * <span class="variable language_">this</span>.getCategoryRowCount()&#125;</span>vp`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">Grid</span>() &#123;</span><br><span class="line">          <span class="title class_">ForEach</span>(<span class="variable language_">this</span>.<span class="property">simpleList</span>, <span class="function">(<span class="params"><span class="attr">item</span>: <span class="built_in">string</span></span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">gridItemBuilder</span>(item);</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        .<span class="title function_">height</span>(<span class="variable language_">this</span>.<span class="title function_">getCategoryViewHeight</span>())</span><br><span class="line">        .<span class="title function_">rowsTemplate</span>(<span class="variable language_">this</span>.<span class="title function_">getCategoryRowTmpl</span>())</span><br><span class="line">        .<span class="title function_">columnsTemplate</span>(<span class="string">&#x27;1fr 1fr 1fr &#x27;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// .height(&quot;15%&quot;)</span></span><br><span class="line">      .<span class="title function_">backgroundColor</span>(<span class="string">&#x27;#ff02194c&#x27;</span>)</span><br><span class="line">      .<span class="title function_">justifyContent</span>(<span class="title class_">FlexAlign</span>.<span class="property">SpaceEvenly</span>);</span><br><span class="line">      </span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">List</span>() &#123;</span><br><span class="line">          <span class="title class_">ForEach</span>(<span class="variable language_">this</span>.<span class="property">simpleList</span>, <span class="function">(<span class="params"><span class="attr">item</span>: <span class="built_in">string</span></span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">gridItemBuilder</span>(item);</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">backgroundColor</span>(<span class="string">&#x27;#ffcff10c&#x27;</span>)</span><br><span class="line">      .<span class="title function_">height</span>(<span class="string">&quot;100%&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">width</span>(<span class="string">&#x27;94%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;80%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">borderRadius</span>(<span class="number">10</span>)</span><br><span class="line">    .<span class="title function_">backgroundColor</span>(<span class="string">&#x27;#ff8f1616&#x27;</span>)</span><br><span class="line">    .<span class="title function_">justifyContent</span>(<span class="title class_">FlexAlign</span>.<span class="property">Start</span>)</span><br><span class="line">    .<span class="title function_">margin</span>(&#123; <span class="attr">top</span>: <span class="string">&#x27;10%&#x27;</span>, <span class="attr">left</span>: <span class="string">&#x27;3%&#x27;</span>, <span class="attr">right</span>: <span class="string">&#x27;3%&#x27;</span>, <span class="attr">bottom</span>: <span class="string">&#x27;10%&#x27;</span> &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Builder</span></span><br><span class="line">  <span class="title function_">gridItemBuilder</span>(<span class="params"><span class="attr">content</span>: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="title class_">GridItem</span>() &#123;</span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">Text</span>(content)</span><br><span class="line">          .<span class="title function_">fontSize</span>(<span class="number">15</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">justifyContent</span>(<span class="title class_">FlexAlign</span>.<span class="property">Center</span>)</span><br><span class="line">      .<span class="title function_">borderRadius</span>(<span class="number">10</span>)</span><br><span class="line">      .<span class="title function_">backgroundColor</span>(<span class="string">&#x27;#ffeabe4f&#x27;</span>)</span><br><span class="line">      .<span class="title function_">height</span>(<span class="string">&#x27;25vp&#x27;</span>)</span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">      .<span class="title function_">margin</span>(&#123; <span class="attr">top</span>: <span class="string">&#x27;5vp&#x27;</span> &#125;)</span><br><span class="line">      .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// Handle click event</span></span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 2. Why is persistent data empty after restarting the app with HarmonyOS PersistentStorage?  </span></span><br><span class="line"><span class="string">PersistentStorage.persistProp fails to save data persistently.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">1. Execute `</span><span class="title class_">PersistentStorage</span>.<span class="title function_">persistProp</span>(<span class="string">&#x27;aProp&#x27;</span>, <span class="number">47</span>)<span class="string">` in a button&#x27;s `</span>onClick<span class="string">` event.  </span></span><br><span class="line"><span class="string">2. After restarting the app, execute `</span><span class="title class_">AppStorage</span>.<span class="property">get</span>&lt;<span class="built_in">number</span>&gt;(<span class="string">&#x27;aProp&#x27;</span>)<span class="string">` in another button&#x27;s `</span>onClick<span class="string">` event; returns `</span><span class="literal">undefined</span><span class="string">`.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Reason**: PersistentStorage is associated with the UIContext and must be called when the UIContext is. Use `</span>runScopedTask<span class="string">` to the context. Failure to do so will result in data not being persisted.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Example of calling in `</span>onWindowStageCreate<span class="string">`:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line">windowStage.<span class="title function_">loadContent</span>(<span class="string">&#x27;pages/Index&#x27;</span>, <span class="function">(<span class="params">err, data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (err.<span class="property">code</span>) &#123;</span><br><span class="line">    hilog.<span class="title function_">error</span>(<span class="number">0x0000</span>, <span class="string">&#x27;testTag&#x27;</span>, <span class="string">&#x27;Failed to load the content. Cause: %&#123;public&#125;s&#x27;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(err) ?? <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> <span class="variable language_">window</span> = windowStage.<span class="title function_">getMainWindow</span>();</span><br><span class="line">  <span class="variable language_">window</span>.<span class="title function_">then</span>(<span class="function"><span class="params">win</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> uiContext = win.<span class="title function_">getUIContext</span>();</span><br><span class="line">    uiContext.<span class="title function_">runScopedTask</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="title class_">PersistentStorage</span>.<span class="title function_">persistProp</span>(<span class="string">&#x27;aProp&#x27;</span>, <span class="number">47</span>);</span><br><span class="line">      <span class="comment">// AppStorage.setOrCreate(&quot;aProp&quot;, 50)</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">11</span> $&#123;<span class="title class_">AppStorage</span>.<span class="title function_">get</span>(<span class="string">&#x27;aProp&#x27;</span>)&#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">  </span><br><span class="line">  hilog.<span class="title function_">info</span>(<span class="number">0x0000</span>, <span class="string">&#x27;testTag&#x27;</span>, <span class="string">&#x27;Succeeded in loading the content. Data: %&#123;public&#125;s&#x27;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data) ?? <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 3. How to set rounded corners for CustomDialog in HarmonyOS?  </span></span><br><span class="line"><span class="string">Why does `</span><span class="title function_">borderRadius</span>(<span class="number">10</span>)<span class="string">` not work when `</span>customStyle=<span class="literal">true</span><span class="string">` in CustomDialog?  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Explanation**: `</span>customStyle<span class="string">` determines whether the dialog container&#x27;s style is custom.  </span></span><br><span class="line"><span class="string">- **Default**: `</span><span class="literal">false</span><span class="string">`. The container width adapts to the grid system (not child nodes), height adapts to child nodes (max 90% of window height), and corner radius is 24vp.  </span></span><br><span class="line"><span class="string">- **When `</span><span class="literal">true</span><span class="string">`**: Width adapts to child nodes, corner radius is 0, and background is transparent.  </span></span><br><span class="line"><span class="string">Reference: https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-methods-custom-dialog-box-V5#customdialogcontrolleroptions%E5%AF%B9%E8%B1%A1%E8%AF%B4%E6%98%8E  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 4. App crashes when passing custom data types between pages in HarmonyOS. How to fix this?  </span></span><br><span class="line"><span class="string">**Possible causes** of crashes when passing custom data types:  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">1. **Unsupported data types**: Objects passed via `</span>router<span class="string">` become proxy objects, losing their original prototype. Methods in classes are not supported.  </span></span><br><span class="line"><span class="string">2. **Parameter passing mechanism**: By default, parameters are passed via URL. If the custom type cannot be serialized into a URL, data loss or crashes may occur.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Solutions**:  </span></span><br><span class="line"><span class="string">1. **Use JSON**: Convert the custom object to JSON before passing, then parse it in the target page.  </span></span><br><span class="line"><span class="string">2. **Use global variables**: Store the object in a global variable before navigation and retrieve it in the target page.  </span></span><br><span class="line"><span class="string">3. **Use event bus**: For navigation within the same page, pass data via events.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Example of passing data from Page 1**:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">RouteParams</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="attr">key1</span>?: <span class="built_in">string</span>, <span class="attr">key2</span>?: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">key1</span> = key1;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">key2</span> = key2;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Parameters to pass</span></span><br><span class="line">  <span class="keyword">public</span> <span class="attr">key1</span>?: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">public</span> <span class="attr">key2</span>?: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Copy parameters from another instance</span></span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">copy</span>(<span class="params"><span class="attr">oldParams</span>?: <span class="title class_">RouteParams</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">key1</span> = oldParams?.<span class="property">key1</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">key2</span> = oldParams?.<span class="property">key2</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Test method</span></span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">doTest</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;doTest&#x27;</span>, <span class="string">`key1: <span class="subst">$&#123;<span class="variable language_">this</span>.key1&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">message</span>)</span><br><span class="line">  .<span class="title function_">fontSize</span>(<span class="number">50</span>)</span><br><span class="line">  .<span class="title function_">fontWeight</span>(<span class="title class_">FontWeight</span>.<span class="property">Bold</span>)</span><br><span class="line">  .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> routeParams = <span class="keyword">new</span> <span class="title class_">RouteParams</span>(<span class="string">&#x27;value1&#x27;</span>, <span class="string">&#x27;value2&#x27;</span>);</span><br><span class="line">    router.<span class="title function_">pushUrl</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&quot;pages/Page20&quot;</span>,</span><br><span class="line">      <span class="attr">params</span>: routeParams</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Receiving data in Page 2**:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="title function_">onPageShow</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">  <span class="comment">// Receive parameters (note: actual object is a proxy, methods are lost)</span></span><br><span class="line">  <span class="keyword">let</span> params = router.<span class="title function_">getParams</span>() <span class="keyword">as</span> <span class="title class_">RouteParams</span> | <span class="literal">undefined</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&#x27;aboutToAppear: &#x27;</span> + <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(params));</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Create a new object and copy data</span></span><br><span class="line">  <span class="keyword">let</span> newRouteParams = <span class="keyword">new</span> <span class="title class_">RouteParams</span>();</span><br><span class="line">  newRouteParams.<span class="title function_">copy</span>(params);</span><br><span class="line">  newRouteParams.<span class="title function_">doTest</span>(); <span class="comment">// May log undefined if key1 is not set</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 5. Setting maxLength on textInput/textarea in HarmonyOS truncates emojis and clears the input.  </span></span><br><span class="line"><span class="string">**Issue**: Setting `</span>maxLength<span class="string">` on `</span><span class="title class_">TextInput</span><span class="string">` or `</span><span class="title class_">TextArea</span><span class="string">` truncates emojis and clears the input.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Solution**: Use `</span><span class="keyword">for</span>...<span class="keyword">of</span><span class="string">` to iterate over Unicode characters correctly:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">export</span> struct <span class="title class_">MyTextInput</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="keyword">private</span> <span class="attr">inputText</span>: <span class="built_in">string</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="meta">@Prop</span> <span class="meta">@Watch</span>(<span class="string">&#x27;onTextUpdated&#x27;</span>) <span class="attr">text</span>: <span class="built_in">string</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="keyword">public</span> <span class="attr">maxLength</span>: <span class="built_in">number</span> = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">onTextUpdated</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">inputText</span> = <span class="variable language_">this</span>.<span class="title function_">sliceTools</span>(<span class="variable language_">this</span>.<span class="property">text</span>, <span class="variable language_">this</span>.<span class="property">maxLength</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">aboutToAppear</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">onTextUpdated</span>();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">sliceTools</span>(<span class="params"><span class="attr">str</span>: <span class="built_in">string</span>, <span class="attr">maxLength</span>: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> res = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> element <span class="keyword">of</span> str) &#123;</span><br><span class="line">      <span class="keyword">if</span> (res.<span class="property">length</span> + element.<span class="property">length</span> &gt; maxLength) &#123;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        res = res + element;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">TextInput</span>(&#123; <span class="attr">text</span>: $$this.<span class="property">inputText</span> &#125;)</span><br><span class="line">      .<span class="title function_">maxLength</span>(<span class="variable language_">this</span>.<span class="property">maxLength</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/502%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91-Lazy-Loop-Routing-Overlay-Layout-Dark-Mode-Status-Bar-Album-Video-Thumbnail/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/502%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91-Lazy-Loop-Routing-Overlay-Layout-Dark-Mode-Status-Bar-Album-Video-Thumbnail/" class="post-title-link" itemprop="url">Daily HarmonyOS Next Knowledge Lazy Loop, Routing, Overlay Layout, Dark Mode Status Bar, Album Video Thumbnail</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 07:58:23 / Modified: 07:59:34" itemprop="dateCreated datePublished" datetime="2025-06-25T07:58:23+08:00">2025-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Knowledge-Lazy-Loop-Routing-Overlay-Layout-Dark-Mode-Status-Bar-Album-Video-Thumbnail"><a href="#Daily-HarmonyOS-Next-Knowledge-Lazy-Loop-Routing-Overlay-Layout-Dark-Mode-Status-Bar-Album-Video-Thumbnail" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Lazy Loop, Routing, Overlay Layout, Dark Mode Status Bar, Album Video Thumbnail"></a>[Daily HarmonyOS Next Knowledge] Lazy Loop, Routing, Overlay Layout, Dark Mode Status Bar, Album Video Thumbnail</h3><h4 id="1-HarmonyOS-lazyForEach-related-example"><a href="#1-HarmonyOS-lazyForEach-related-example" class="headerlink" title="1. HarmonyOS lazyForEach related example?"></a>1. HarmonyOS lazyForEach related example?</h4><p><strong>lazyForEach principle introduction</strong>: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/best-practices-V5/bpta-best-practices-long-list-V5">https://developer.huawei.com/consumer/cn/doc/best-practices-V5/bpta-best-practices-long-list-V5</a>  </p>
<p>Lists are one of the most common development scenarios in application development. They can organize messy information into a regular, understandable, and operable form, facilitating users to search for and obtain needed information. Common list scenarios in applications include news lists, shopping cart lists, various leaderboards, etc. With the accumulation of information data, especially in some news apps, shopping apps, and chat apps, list data often reaches tens of thousands of entries. For such long-list applications with large data loading, optimizing the performance of long lists is crucial. A correct and high-performance long-list application can significantly reduce list rendering time, improve page sliding frame rate, reduce application memory usage, and greatly enhance the user experience.  </p>
<p>For the scenario of long-list loading, this article introduces the following 5 optimization methods. Using these optimizations individually or in combination can optimize list rendering time, page sliding frame rate, application memory usage, etc., and improve performance and user experience:  </p>
<ul>
<li><strong>Lazy loading</strong>: Provides the ability to load list data on demand, solving the problems of long loading time and excessive resource occupation caused by loading of long-list data, which can improve page response speed.  </li>
<li><strong>List item caching</strong>: Provides the ability to custom adjust the length of list items outside the screen visible area. Combined with lazy loading settings, it can cache list item parameters and improve the list sliding experience through preloading data.  </li>
<li><strong>Dynamic preloading</strong>: Dynamically adjusts the number of prefetching data outside the screen visible area based on historical task loading time. Combined with lazy loading settings, it can update list data in real-time outside the screen visible area during continuous list sliding, improving the list sliding experience through prefetching and pre-rendering data.  </li>
<li><strong>Component reuse</strong>: Provides a cache resource pool for reusable component objects. By reusing created and cached component objects, it reduces the overhead of frequent creation and destruction of the same components in a short time, improving component rendering efficiency.  </li>
<li><strong>Layout optimization</strong>: Uses a flat layout scheme to reduce view nesting levels and the number of components, avoid over-drawing, and improve page rendering efficiency.</li>
</ul>
<p>The principle and rendering process of LazyForEach lazy loading are as follows:  </p>
<ol>
<li>LazyForEach loads data on demand according to the number of components that can be accommodated in the screen visible area.  </li>
<li>Creates components based on the loaded data volume, mounts them on the component tree, and constructs a short component tree. That is, it creates and mounts as many ListItem component nodes on the List component root node as the number of list item components that can be displayed on the screen.  </li>
<li>Only part of the components are displayed in the screen visible area. When components outside the visible area need to be displayed on the screen, the process of data loading, component creation, and component tree mounting must be completed from the beginning until they are rendered on the screen.</li>
</ol>
<p>The schematic diagram of its data loading, component tree mounting, and page rendering is as follows:<br><img src="/../images/%E3%80%90%E6%AF%8F%E6%97%A5%E5%AD%A6%E7%82%B9HarmonyOS%20Next%E7%9F%A5%E8%AF%86%E3%80%9125.05.02.png"></p>
<p>LazyForEach realizes on-demand loading, which reduces the time consumption of loading data and the memory peak value for scenarios with large list data and complex list components. However, during the sliding of long lists, because it is necessary to continuously load new content according to the users sliding behavior, this requires additional data requests and processing, which will increase the calculation amount during sliding and affect performance to a certain extent. However, reasonably using the on-demand loading capability of LazyForEach and loading only when the sliding stops or reaches a certain threshold can reduce unnecessary calculations and requests, thereby improving performance and bringing a better experience to users. In short, in scenarios where on-demand loading is implemented, it is necessary to comprehensively consider the balance between performance and user experience, and reasonably optimize the loading logic and rendering method to improve the overall performance.  </p>
<p><strong>Demo example</strong>:  </p>
<pre><code class="language-typescript">interface listItem &#123;
  money: string
  text: string
  title: string
  data: string
&#125;

class StringData &#123;
  money: string
  text: string
  title: string
  data: string
  constructor(money: string, text: string, title: string, data: string) &#123;
    this.money = money
    this.text = text
    this.title = title
    this.data = data
  &#125;
&#125;

class BasicDataSource implements IDataSource &#123;
  private listeners: DataChangeListener[] = []
  private originDataArray: StringData[] = []

  public totalCount(): number &#123;
    return 0
  &#125;

  public getData(index: number): StringData &#123;
    return this.originDataArray[index]
  &#125;

  registerDataChangeListener(listener: DataChangeListener): void &#123;
    if (this.listeners.indexOf(listener) &lt; 0) &#123;
      console.info(&#39;add listener&#39;)
      this.listeners.push(listener)
    &#125;
  &#125;

  unregisterDataChangeListener(listener: DataChangeListener): void &#123;
    const pos = this.listeners.indexOf(listener)
    if (pos &gt;= 0) &#123;
      console.info(&#39;remove listener&#39;)
      this.listeners.splice(pos, 1)
    &#125;
  &#125;

  notifyDataReload(): void &#123;
    this.listeners.forEach(listener =&gt; &#123;
      listener.onDataReloaded()
    &#125;)
  &#125;

  notifyDataAdd(index: number): void &#123;
    this.listeners.forEach(listener =&gt; &#123;
      listener.onDataAdd(index)
    &#125;)
  &#125;

  notifyDataChange(index: number): void &#123;
    this.listeners.forEach(listener =&gt; &#123;
      listener.onDataChange(index)
    &#125;)
  &#125;

  notifyDataDelete(index: number): void &#123;
    this.listeners.forEach(listener =&gt; &#123;
      listener.onDataDelete(index)
    &#125;)
  &#125;

  notifyDataMove(from: number, to: number): void &#123;
    this.listeners.forEach(listener =&gt; &#123;
      listener.onDataMove(from, to)
    &#125;)
  &#125;
&#125;

class MyDataSource extends BasicDataSource &#123;
  private dataArray: StringData[] = []

  public totalCount(): number &#123;
    return this.dataArray.length
  &#125;

  public getData(index: number): StringData &#123;
    return this.dataArray[index]
  &#125;

  public addData(index: number, data: StringData): void &#123;
    this.dataArray.splice(index, 0, data)
    this.notifyDataAdd(index)
  &#125;

  public pushData(data: StringData): void &#123;
    this.dataArray.push(data)
    this.notifyDataAdd(this.dataArray.length - 1)
  &#125;

  public reloadData(): void &#123;
    this.notifyDataReload()
  &#125;
&#125;

@Entry
@Component
struct Index &#123;
  private title: string = &#39;&#39;
  private data: MyDataSource = new MyDataSource()
  @State listDate: listItem[] = [
    &#123;
      money: &#39;360&#39;,
      text: &#39;3500&#39;,
      title: &#39;&#39;,
      data: &#39;2024.02.23-2024.03.15&#39;
    &#125;,
    &#123;
      money: &#39;250&#39;,
      text: &#39;2500&#39;,
      title: &#39;&#39;,
      data: &#39;2024.02.23-2024.03.15&#39;
    &#125;,
    &#123;
      money: &#39;200&#39;,
      text: &#39;1800&#39;,
      title: &#39;&#39;,
      data: &#39;2024.02.23-2024.03.15&#39;
    &#125;,
    &#123;
      money: &#39;150&#39;,
      text: &#39;1300&#39;,
      title: &#39;&#39;,
      data: &#39;2024.02.23-2024.03.15&#39;
    &#125;,
    &#123;
      money: &#39;80&#39;,
      text: &#39;800&#39;,
      title: &#39;&#39;,
      data: &#39;2024.02.23-2024.03.15&#39;
    &#125;,
    &#123;
      money: &#39;360&#39;,
      text: &#39;3500&#39;,
      title: &#39;&#39;,
      data: &#39;2024.02.23-2024.03.15&#39;
    &#125;,
    &#123;
      money: &#39;250&#39;,
      text: &#39;2500&#39;,
      title: &#39;&#39;,
      data: &#39;2024.02.23-2024.03.15&#39;
    &#125;,
    &#123;
      money: &#39;200&#39;,
      text: &#39;1800&#39;,
      title: &#39;&#39;,
      data: &#39;2024.02.23-2024.03.15&#39;
    &#125;,
    &#123;
      money: &#39;150&#39;,
      text: &#39;1300&#39;,
      title: &#39;&#39;,
      data: &#39;2024.02.23-2024.03.15&#39;
    &#125;,
    &#123;
      money: &#39;80&#39;,
      text: &#39;800&#39;,
      title: &#39;&#39;,
      data: &#39;2024.02.23-2024.03.15&#39;
    &#125;,
    &#123;
      money: &#39;360&#39;,
      text: &#39;3500&#39;,
      title: &#39;&#39;,
      data: &#39;2024.02.23-2024.03.15&#39;
    &#125;,
    &#123;
      money: &#39;250&#39;,
      text: &#39;2500&#39;,
      title: &#39;&#39;,
      data: &#39;2024.02.23-2024.03.15&#39;
    &#125;,
    &#123;
      money: &#39;200&#39;,
      text: &#39;1800&#39;,
      title: &#39;&#39;,
      data: &#39;2024.02.23-2024.03.15&#39;
    &#125;,
    &#123;
      money: &#39;150&#39;,
      text: &#39;1300&#39;,
      title: &#39;&#39;,
      data: &#39;2024.02.23-2024.03.15&#39;
    &#125;,
    &#123;
      money: &#39;80&#39;,
      text: &#39;800&#39;,
      title: &#39;&#39;,
      data: &#39;2024.02.23-2024.03.15&#39;
    &#125;,
    &#123;
      money: &#39;360&#39;,
      text: &#39;3500&#39;,
      title: &#39;&#39;,
      data: &#39;2024.02.23-2024.03.15&#39;
    &#125;,
    &#123;
      money: &#39;250&#39;,
      text: &#39;2500&#39;,
      title: &#39;&#39;,
      data: &#39;2024.02.23-2024.03.15&#39;
    &#125;,
    &#123;
      money: &#39;200&#39;,
      text: &#39;1800&#39;,
      title: &#39;&#39;,
      data: &#39;2024.02.23-2024.03.15&#39;
    &#125;,
    &#123;
      money: &#39;150&#39;,
      text: &#39;1300&#39;,
      title: &#39;&#39;,
      data: &#39;2024.02.23-2024.03.15&#39;
    &#125;,
    &#123;
      money: &#39;80&#39;,
      text: &#39;800&#39;,
      title: &#39;&#39;,
      data: &#39;2024.02.23-2024.03.15&#39;
    &#125;,
    &#123;
      money: &#39;360&#39;,
      text: &#39;3500&#39;,
      title: &#39;&#39;,
      data: &#39;2024.02.23-2024.03.15&#39;
    &#125;,
    &#123;
      money: &#39;250&#39;,
      text: &#39;2500&#39;,
      title: &#39;&#39;,
      data: &#39;2024.02.23-2024.03.15&#39;
    &#125;,
    &#123;
      money: &#39;200&#39;,
      text: &#39;1800&#39;,
      title: &#39;&#39;,
      data: &#39;2024.02.23-2024.03.15&#39;
    &#125;,
    &#123;
      money: &#39;150&#39;,
      text: &#39;1300&#39;,
      title: &#39;&#39;,
      data: &#39;2024.02.23-2024.03.15&#39;
    &#125;,
    &#123;
      money: &#39;80&#39;,
      text: &#39;800&#39;,
      title: &#39;&#39;,
      data: &#39;2024.02.23-2024.03.15&#39;
    &#125;,
    &#123;
      money: &#39;360&#39;,
      text: &#39;3500&#39;,
      title: &#39;&#39;,
      data: &#39;2024.02.23-2024.03.15&#39;
    &#125;,
    &#123;
      money: &#39;250&#39;,
      text: &#39;2500&#39;,
      title: &#39;&#39;,
      data: &#39;2024.02.23-2024.03.15&#39;
    &#125;,
    &#123;
      money: &#39;200&#39;,
      text: &#39;1800&#39;,
      title: &#39;&#39;,
      data: &#39;2024.02.23-2024.03.15&#39;
    &#125;,
    &#123;
      money: &#39;150&#39;,
      text: &#39;1300&#39;,
      title: &#39;&#39;,
      data: &#39;2024.02.23-2024.03.15&#39;
    &#125;,
    &#123;
      money: &#39;80&#39;,
      text: &#39;800&#39;,
      title: &#39;&#39;,
      data: &#39;2024.02.23-2024.03.15&#39;
    &#125;
  ]

  aboutToAppear(): void &#123;
    // Simulate data request
    for (let i = 0; i &lt;= this.listDate.length; i++) &#123;
      this.data.pushData(new StringData(this.listDate[i].money, this.listDate[i].text, this.listDate[i].title, this.listDate[i].data))
    &#125;
    console.log(JSON.stringify(this.data), &#39;[Log]&#39;)
  &#125;

  build() &#123;
    Column() &#123;
      Text(this.title)
        .fontSize(18)
        .fontWeight(FontWeight.Bold)
        .fontFamily(&#39;Arial&#39;)
      Row() &#123;
        TextInput(&#123; placeholder: &#39;&#39; &#125;)
          .width(&#39;75%&#39;)
          .fontColor(Color.Blue)
          .fontSize(14)
          .fontStyle(FontStyle.Italic)
          .fontWeight(FontWeight.Bold)
          .fontFamily(&#39;Arial&#39;)
          .placeholderColor(0x999999)
          .placeholderFont(&#123; size: 16, weight: FontWeight.Medium, family: &#39;cursive&#39;, style: FontStyle.Italic &#125;)
        Button(&#39;&#39;, &#123; type: ButtonType.Normal, stateEffect: true &#125;)
          .width(&#39;25%&#39;)
          .fontSize(14)
          .fontWeight(FontWeight.Medium)
          .backgroundColor(&#39;#cccccc&#39;)
          .borderRadius(5)
      &#125;
      .padding(&#123; top: 35, bottom: 10 &#125;)

      Row() &#123;
        Text(` $&#123;this.data.totalCount()&#125;~`)
          .fontSize(12)
          .textAlign(TextAlign.End)
        Text(&#39;&gt;&#39;)
      &#125;
      .margin(&#123; bottom: 10 &#125;)

      List(&#123; space: 10 &#125;) &#123;
        LazyForEach(this.data, (item: listItem) =&gt; &#123;
          ListItem() &#123;
            Row() &#123;
              Column() &#123;
                Text(item.money)
                  .margin(&#123; top: 20, bottom: 20 &#125;)
                  .fontColor(&#39;#f9f4d7&#39;)
                  .borderRadius(5)
                Text(item.text)
                  .textAlign(TextAlign.Center)
                  .fontSize(12)
                  .fontColor(&#39;#f9f4d7&#39;)
                  .borderRadius(5)
              &#125;
              .width(&#39;30%&#39;)
              .height(1
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Qingkouwei</p>
  <div class="site-description" itemprop="description">Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">68</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Qingkouwei</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
