<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"harmonyostech.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next&#96;s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoo">
<meta property="og:type" content="website">
<meta property="og:title" content="HarmonyOS NEXT Knowledge Charging Station">
<meta property="og:url" content="https://harmonyostech.github.io/page/16/index.html">
<meta property="og:site_name" content="HarmonyOS NEXT Knowledge Charging Station">
<meta property="og:description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next&#96;s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Qingkouwei">
<meta property="article:tag" content="HarmonyOSNext, HarmonyOS NEXT, HarmonyOS, Cangjie">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://harmonyostech.github.io/page/16/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>HarmonyOS NEXT Knowledge Charging Station</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">HarmonyOS NEXT Knowledge Charging Station</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Analysis of Core Technologies and Application Scenarios of HarmonyOS NEXT</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/27/B-Best-Practices-for-Publishing-an-SDK-to-the-OpenHarmony-Central-Repository-in-HarmonyOS-Next/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/27/B-Best-Practices-for-Publishing-an-SDK-to-the-OpenHarmony-Central-Repository-in-HarmonyOS-Next/" class="post-title-link" itemprop="url">Best Practices for Publishing an SDK to the OpenHarmony Central Repository in HarmonyOS Next</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-27 11:37:18 / Modified: 11:39:57" itemprop="dateCreated datePublished" datetime="2025-06-27T11:37:18+08:00">2025-06-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/HarmonyOS-Next-Tech/" itemprop="url" rel="index"><span itemprop="name">HarmonyOS Next Tech</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Best-Practices-for-Publishing-an-SDK-to-the-OpenHarmony-Central-Repository-in-HarmonyOS-Next"><a href="#Best-Practices-for-Publishing-an-SDK-to-the-OpenHarmony-Central-Repository-in-HarmonyOS-Next" class="headerlink" title="Best Practices for Publishing an SDK to the OpenHarmony Central Repository in HarmonyOS Next"></a>Best Practices for Publishing an SDK to the OpenHarmony Central Repository in HarmonyOS Next</h2><h3 id="Background-Introduction"><a href="#Background-Introduction" class="headerlink" title="Background Introduction"></a>Background Introduction</h3><p>Previously, during the adaptation of Mars in HarmonyOS Next, we submitted a PR to the official Mars repository for xlog compatibility. Some developers privately requested compiled xlog dynamic libraries, so we decided to open-source the qlog source code (<a target="_blank" rel="noopener" href="https://gitcode.com/wodekouwei/qlog">https://gitcode.com/wodekouwei/qlog</a>) for easier access. To facilitate usage, we aimed to upload the compiled binaries to the OpenHarmony central repository. This article documents the publishing process to help other developers.</p>
<h3 id="QLog-Introduction"><a href="#QLog-Introduction" class="headerlink" title="QLog Introduction"></a>QLog Introduction</h3><p>QLog is a persistent logging library that asynchronously encrypts and compresses console logs into files, making it easier for developers to view and analyze logs, especially for troubleshooting online issues.</p>
<p>QLog is based on WeChat’s XLog, a high-performance logging system designed for WeChat’s mobile clients (Android&#x2F;iOS). Key features include:</p>
<ol>
<li><p><strong>Encryption &amp; Security</strong></p>
<ul>
<li><strong>Log Encryption</strong>: All logs are encrypted (e.g., AES) during storage and transmission to prevent sensitive data leaks and comply with privacy regulations.</li>
<li><strong>Tamper-Proof</strong>: Encrypted logs cannot be modified, ensuring integrity and trustworthiness.</li>
</ul>
</li>
<li><p><strong>High Performance &amp; Low Overhead</strong></p>
<ul>
<li><strong>Asynchronous Writing</strong>: Logs are written in background threads to avoid blocking the main thread, ensuring app smoothness.</li>
<li><strong>Memory-Mapped Files (mmap)</strong>: Direct file writing via memory mapping reduces I&#x2F;O operations, improving efficiency.</li>
<li><strong>Compression</strong>: Logs are compressed before storage or upload, reducing disk usage and network traffic.</li>
</ul>
</li>
<li><p><strong>Flexible Log Levels</strong></p>
<ul>
<li>Supports multiple log levels (VERBOSE, DEBUG, INFO, WARN, ERROR), allowing developers to filter logs as needed.</li>
<li>Dynamic log level adjustment (e.g., only ERROR logs in production) balances debugging and performance.</li>
</ul>
</li>
<li><p><strong>Log Retrieval Mechanism</strong></p>
<ul>
<li><strong>Remote Trigger</strong>: Servers can instruct clients to upload specific logs without user intervention, simplifying issue diagnosis.</li>
<li><strong>Conditional Filtering</strong>: Logs can be retrieved by time, user ID, log level, etc., for precise debugging.</li>
</ul>
</li>
<li><p><strong>Fault Tolerance &amp; Stability</strong></p>
<ul>
<li><strong>Error Handling</strong>: Automatically downgrades or caches logs if writing fails or storage is full, preventing crashes.</li>
<li><strong>Chunked Storage</strong>: Logs are split by size or time to avoid performance issues with large files.</li>
</ul>
</li>
<li><p><strong>Cross-Platform Support</strong></p>
<ul>
<li>Supports Android and iOS with a unified API, reducing maintenance costs.</li>
</ul>
</li>
<li><p><strong>Selective Logging Control</strong></p>
<ul>
<li>Non-critical logs can be disabled to save resources in production.</li>
<li>Dynamic module-level logging enables targeted debugging.</li>
</ul>
</li>
<li><p><strong>Typical Use Cases</strong></p>
<ul>
<li><strong>Issue Tracking</strong>: Encrypt and retrieve logs to diagnose user-reported crashes.</li>
<li><strong>Performance Monitoring</strong>: Record key metrics (e.g., startup time) with minimal overhead.</li>
<li><strong>Security Auditing</strong>: Encrypted logs provide tamper-proof records of sensitive operations.</li>
</ul>
</li>
</ol>
<p>XLog balances security, performance, and flexibility, making it ideal for large-scale mobile apps. QLog brings these capabilities to the HarmonyOS platform.</p>
<h4 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h4><h5 id="Dependency-Installation"><a href="#Dependency-Installation" class="headerlink" title="Dependency Installation"></a>Dependency Installation</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ohpm i @qing/qlog</span><br></pre></td></tr></table></figure>
<p>For OpenHarmony <code>ohpm</code> setup, refer to <a target="_blank" rel="noopener" href="https://ohpm.openharmony.cn/#/cn/help/downloadandinstall">How to Install OpenHarmony ohpm Packages</a>.</p>
<h5 id="Initialize-QLogSDK"><a href="#Initialize-QLogSDK" class="headerlink" title="Initialize QLogSDK"></a>Initialize QLogSDK</h5><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">LogDep</span> <span class="keyword">implements</span> <span class="title class_">LogDependency</span> &#123;</span><br><span class="line">  <span class="title function_">isDebug</span>(): <span class="built_in">boolean</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>; <span class="comment">// Debug mode prints more logs</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">getFileLogLevel</span>(): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">LogLevel</span>.<span class="property">LEVEL_DEBUG</span>; <span class="comment">// Set log level</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">LogSdk</span>.<span class="title function_">init</span>(<span class="variable language_">this</span>.<span class="property">context</span>.<span class="title function_">getApplicationContext</span>(), <span class="keyword">new</span> <span class="title class_">LogDep</span>());</span><br></pre></td></tr></table></figure>

<h5 id="Log-Messages"><a href="#Log-Messages" class="headerlink" title="Log Messages"></a>Log Messages</h5><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Logg</span>.<span class="title function_">d</span>(<span class="string">&#x27;HelloWorldTAG&#x27;</span>, <span class="string">&#x27;debug log...&#x27;</span>);</span><br><span class="line"><span class="title class_">Logg</span>.<span class="title function_">i</span>(<span class="string">&#x27;HelloWorldTAG&#x27;</span>, <span class="string">&#x27;info log...&#x27;</span>);</span><br><span class="line"><span class="title class_">Logg</span>.<span class="title function_">w</span>(<span class="string">&#x27;HelloWorldTAG&#x27;</span>, <span class="string">&#x27;warn log...&#x27;</span>);</span><br><span class="line"><span class="title class_">Logg</span>.<span class="title function_">e</span>(<span class="string">&#x27;HelloWorldTAG&#x27;</span>, <span class="string">&#x27;error log...&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h5 id="Retrieve-Log-Files"><a href="#Retrieve-Log-Files" class="headerlink" title="Retrieve Log Files"></a>Retrieve Log Files</h5><p>Logs are stored in the app’s sandbox:<br><img src="/../images/HarmonyOS%20Next%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E4%B9%8B%E5%8F%91%E5%B8%83SDK%E5%88%B0OpenHarmony%20%E4%B8%AD%E5%BF%83%E4%BB%93-5.png" alt="Log Storage"><br><img src="/../images/HarmonyOS%20Next%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E4%B9%8B%E5%8F%91%E5%B8%83SDK%E5%88%B0OpenHarmony%20%E4%B8%AD%E5%BF%83%E4%BB%93-6.png" alt="Log Storage"></p>
<p>Logs are retained for up to 10 days and auto-cleaned on app startup. Use <code>Log.uploadLogFiles()</code> to compress and retrieve logs. Decrypt the exported ZIP file with <code>decod_mars.py</code>.</p>
<hr>
<h3 id="Publishing-Process"><a href="#Publishing-Process" class="headerlink" title="Publishing Process"></a>Publishing Process</h3><ol>
<li><p><strong>Prepare Files in the Library Module</strong> (same level as <code>src</code>):</p>
<ul>
<li><code>README.md</code>: Describe the package and usage.</li>
<li><code>CHANGELOG.md</code>: Version update history.</li>
<li><code>LICENSE</code>: License file.</li>
</ul>
</li>
<li><p><strong>Recompile the Library</strong> to generate a <code>*.har</code> file.</p>
</li>
<li><p><strong>Generate SSH Keys</strong>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -m PEM -t RSA -b 4096 -f ~/.ssh_ohpm/mykey</span><br></pre></td></tr></table></figure>
<ul>
<li>Private key: <code>mykey</code> (specify path).</li>
<li>Public key: <code>mykey.pub</code> (auto-generated in the same directory).</li>
<li><strong>Note</strong>: <code>ohpm</code> requires encrypted keys with a password.</li>
</ul>
</li>
<li><p><strong>Add Public Key to OpenHarmony Center</strong>:</p>
<ul>
<li>Visit <a target="_blank" rel="noopener" href="https://ohpm.openharmony.cn/#/cn/home">OpenHarmony ohpm</a>, click <strong>Profile</strong>, and paste <code>mykey.pub</code> under <strong>Public Key</strong>.<br><img src="/../images/HarmonyOS%20Next%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E4%B9%8B%E5%8F%91%E5%B8%83SDK%E5%88%B0OpenHarmony%20%E4%B8%AD%E5%BF%83%E4%BB%93-7.png" alt="Add Public Key"></li>
</ul>
</li>
<li><p><strong>Configure <code>.ohpmrc</code></strong>:</p>
<ul>
<li>Set the private key path:<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ohpm config <span class="built_in">set</span> key_path ~/.ssh_ohpm/mykey</span><br></pre></td></tr></table></figure></li>
<li>Get the <strong>Publish Code</strong> from the website and configure it:<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ohpm config <span class="built_in">set</span> publish_id your_publish_id</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong>Publish the HAR File</strong>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ohpm publish &lt;HAR路径&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<p><strong>Wait for Review</strong>:<br><img src="/../images/HarmonyOS%20Next%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E4%B9%8B%E5%8F%91%E5%B8%83SDK%E5%88%B0OpenHarmony%20%E4%B8%AD%E5%BF%83%E4%BB%93-10.png" alt="Review Status"></p>
<p>After approval, the package will appear in the repository:<br><img src="/../images/HarmonyOS%20Next%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E4%B9%8B%E5%8F%91%E5%B8%83SDK%E5%88%B0OpenHarmony%20%E4%B8%AD%E5%BF%83%E4%BB%93-11.png" alt="Package Listing"></p>
<hr>
<h3 id="Common-Issues"><a href="#Common-Issues" class="headerlink" title="Common Issues"></a>Common Issues</h3><h4 id="1-oh-package-json5-Configuration"><a href="#1-oh-package-json5-Configuration" class="headerlink" title="1. oh-package.json5 Configuration"></a>1. <code>oh-package.json5</code> Configuration</h4><p>Example:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;@qing/qlog&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Persistent log utility for HarmonyOS Next.&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;main&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Index.ets&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;author&quot;</span><span class="punctuation">:</span> <span class="string">&quot;qingkouwei&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;license&quot;</span><span class="punctuation">:</span> <span class="string">&quot;MIT&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;homepage&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://gitcode.com/wodekouwei/qlog&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;repository&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://gitcode.com/wodekouwei/qlog&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;compatibleSdkVersion&quot;</span><span class="punctuation">:</span> <span class="string">&quot;12&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;compatibleSdkType&quot;</span><span class="punctuation">:</span> <span class="string">&quot;HarmonyOS&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;obfuscated&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>Fields Displayed in Repository</strong>:<br><img src="/../images/HarmonyOS%20Next%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E4%B9%8B%E5%8F%91%E5%B8%83SDK%E5%88%B0OpenHarmony%20%E4%B8%AD%E5%BF%83%E4%BB%93-8.png" alt="Repository Details"></li>
<li>Ensure <code>license</code> matches the <code>LICENSE</code> file.</li>
<li>If using a <strong>namespace</strong> (e.g., <code>@group/name</code>), register it in <strong>Organization Management</strong>:<br><img src="/../images/HarmonyOS%20Next%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E4%B9%8B%E5%8F%91%E5%B8%83SDK%E5%88%B0OpenHarmony%20%E4%B8%AD%E5%BF%83%E4%BB%93-9.png" alt="Namespace Registration"></li>
</ul>
<h4 id="2-Private-Key-Password-Requirement"><a href="#2-Private-Key-Password-Requirement" class="headerlink" title="2. Private Key Password Requirement"></a>2. Private Key Password Requirement</h4><p>Always set a password when generating keys:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -m PEM -t RSA -b 4096 -f ~/.ssh_ohpm/mykey</span><br></pre></td></tr></table></figure>

<h4 id="3-Publishing-to-Both-Private-and-Central-Repositories"><a href="#3-Publishing-to-Both-Private-and-Central-Repositories" class="headerlink" title="3. Publishing to Both Private and Central Repositories"></a>3. Publishing to Both Private and Central Repositories</h4><p>To avoid overwriting <code>.ohpmrc</code>, specify central repo settings during publish:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ohpm publish --publish_registry https://ohpm.openharmony.cn/ohpm --publish_id xxx --key_path ~/.ssh_ohpm/mykey qloglib/build/default/outputs/default/qloglib.har</span><br></pre></td></tr></table></figure>
<p>For command details, see <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/ide-ohpm-publish-V5">ohpm Publish Docs</a>.</p>
<hr>
<h3 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h3><p>This guide outlines the steps to publish a HAR file to the OpenHarmony central repository using <code>ohpm</code>, including key generation, configuration, and submission. Key takeaways:</p>
<ul>
<li><strong>Security</strong>: Always set passwords for SSH keys.</li>
<li><strong>Metadata</strong>: Ensure <code>oh-package.json5</code> and <code>LICENSE</code> are accurate.</li>
<li><strong>Review</strong>: Double-check parameters to avoid submission failures.</li>
</ul>
<p>By following these practices, developers can efficiently manage and share SDKs within the OpenHarmony ecosystem.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/27/B-Practical-Guide-to-Custom-Graphics-with-Canvas-in-HarmonyOS-Next/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/27/B-Practical-Guide-to-Custom-Graphics-with-Canvas-in-HarmonyOS-Next/" class="post-title-link" itemprop="url">Practical Guide to Custom Graphics with Canvas in HarmonyOS Next</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-27 11:33:21 / Modified: 11:35:45" itemprop="dateCreated datePublished" datetime="2025-06-27T11:33:21+08:00">2025-06-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/HarmonyOS-Next-Tech/" itemprop="url" rel="index"><span itemprop="name">HarmonyOS Next Tech</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Practical-Guide-to-Custom-Graphics-with-Canvas-in-HarmonyOS-Next"><a href="#Practical-Guide-to-Custom-Graphics-with-Canvas-in-HarmonyOS-Next" class="headerlink" title="Practical Guide to Custom Graphics with Canvas in HarmonyOS Next"></a><strong>Practical Guide to Custom Graphics with Canvas in HarmonyOS Next</strong></h3><p>HarmonyOS Next provides a <strong>Canvas</strong> component for custom graphics rendering, allowing developers to draw shapes, text, and images using <strong>CanvasRenderingContext2D</strong> and <strong>OffscreenCanvasRenderingContext2D</strong> objects.  </p>
<p>HarmonyOS Next supports three approaches for custom graphics rendering on Canvas:  </p>
<ol>
<li><strong>Direct Drawing</strong> on Canvas using <code>CanvasRenderingContext2D</code>.  </li>
<li><strong>Offscreen Rendering</strong> (pre-rendering content in a buffer and converting it into an image for faster drawing).  </li>
<li><strong>Loading Lottie Animations</strong> on Canvas.</li>
</ol>
<hr>
<h2 id="1-Canvas-Drawing-Steps"><a href="#1-Canvas-Drawing-Steps" class="headerlink" title="1. Canvas Drawing Steps"></a><strong>1. Canvas Drawing Steps</strong></h2><p>To begin drawing, we must first create a <code>RenderingContextSettings</code> object, which configures parameters such as anti-aliasing, and then initialize <code>CanvasRenderingContext2D</code>.  </p>
<h3 id="Basic-Example"><a href="#Basic-Example" class="headerlink" title="Basic Example"></a><strong>Basic Example</strong></h3><pre><code class="language-typescript">private settings: RenderingContextSettings = new RenderingContextSettings(true);  
private context: CanvasRenderingContext2D = new CanvasRenderingContext2D(this.settings);  

build() &#123;  
  RelativeContainer() &#123;  
    Canvas(this.context)  
      .width(&#39;100%&#39;)  
      .height(&#39;100%&#39;)  
      .backgroundColor(&#39;#660099&#39;)  
  &#125;  
&#125;
</code></pre>
<p><img src="/../images/HarmonyOS%20Next%20%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9B%BE%E5%BD%A2Canvas%E5%AE%9E%E8%B7%B5.png" alt="HarmonyOS Next Canvas Example">  </p>
<p>This example sets a background color. The <code>settings</code> object configures <code>CanvasRenderingContext2D</code>, including anti-aliasing (<code>true</code> enables it).  </p>
<p><strong>Key Notes:</strong>  </p>
<ul>
<li>Drawing operations must wait for the <code>onReady</code> callback, which ensures the Canvas is fully initialized and provides its dimensions.  </li>
<li><code>onReady(event: () =&gt; void)</code> is triggered when the Canvas is ready, allowing access to its width and height for precise drawing.</li>
</ul>
<hr>
<h2 id="2-Offscreen-Rendering"><a href="#2-Offscreen-Rendering" class="headerlink" title="2. Offscreen Rendering"></a><strong>2. Offscreen Rendering</strong></h2><p>Offscreen rendering improves performance by first drawing content in a buffer (<code>OffscreenCanvas</code>) and then transferring it to the main Canvas as an image.  </p>
<h3 id="Process"><a href="#Process" class="headerlink" title="Process:"></a><strong>Process:</strong></h3><ol>
<li>Use <code>transferToImageBitmap()</code> to convert the offscreen Canvas into an <code>ImageBitmap</code>.  </li>
<li>Use <code>transferFromImageBitmap()</code> to display the <code>ImageBitmap</code> on the main Canvas.</li>
</ol>
<h3 id="Example"><a href="#Example" class="headerlink" title="Example:"></a><strong>Example:</strong></h3><pre><code class="language-typescript">@Entry  
@Component  
struct Index &#123;  
  private settings: RenderingContextSettings = new RenderingContextSettings(true);  
  private context: CanvasRenderingContext2D = new CanvasRenderingContext2D(this.settings);  
  private offCanvas: OffscreenCanvas = new OffscreenCanvas(600, 600);  

  build() &#123;  
    Flex(&#123; direction: FlexDirection.Column, alignItems: ItemAlign.Center, justifyContent: FlexAlign.Center &#125;) &#123;  
      Canvas(this.context)  
        .width(&#39;100%&#39;)  
        .height(&#39;100%&#39;)  
        .backgroundColor(&#39;#5F3CE2&#39;)  
        .onReady(() =&gt; &#123;  
          let offContext = this.offCanvas.getContext(&quot;2d&quot;, this.settings);  
          offContext.strokeRect(20, 20, 100, 100); // Draw a rectangle offscreen  
          let image = this.offCanvas.transferToImageBitmap(); // Convert to ImageBitmap  
          this.context.transferFromImageBitmap(image); // Display on main Canvas  
        &#125;)  
    &#125;  
    .width(&#39;100%&#39;)  
    .height(&#39;100%&#39;)  
  &#125;  
&#125;
</code></pre>
<p><strong>Steps:</strong>  </p>
<ol>
<li>Create <code>RenderingContextSettings</code> (enabling anti-aliasing).  </li>
<li>Initialize <code>OffscreenCanvas</code> with a specified width and height.  </li>
<li>In <code>onReady</code>, get the offscreen context (<code>getContext(&quot;2d&quot;, settings)</code>).  </li>
<li>Draw shapes (e.g., <code>strokeRect</code>) on the offscreen Canvas.  </li>
<li>Convert the offscreen rendering to an <code>ImageBitmap</code> and transfer it to the main Canvas.</li>
</ol>
<p><img src="/../images/HarmonyOS%20Next%20%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9B%BE%E5%BD%A2Canvas%E5%AE%9E%E8%B7%B5-1.png" alt="HarmonyOS Next Offscreen Rendering">  </p>
<hr>
<h2 id="3-Drawing-Basic-Shapes"><a href="#3-Drawing-Basic-Shapes" class="headerlink" title="3. Drawing Basic Shapes"></a><strong>3. Drawing Basic Shapes</strong></h2><h3 id="1-Drawing-Lines"><a href="#1-Drawing-Lines" class="headerlink" title="(1) Drawing Lines"></a><strong>(1) Drawing Lines</strong></h3><p>Use <code>beginPath()</code>, <code>moveTo()</code>, and <code>lineTo()</code> to draw lines.  </p>
<pre><code class="language-typescript">@Entry  
@Component  
struct Index &#123;  
  private settings: RenderingContextSettings = new RenderingContextSettings(true);  
  private context: CanvasRenderingContext2D = new CanvasRenderingContext2D(this.settings);  

  build() &#123;  
    Flex(&#123; direction: FlexDirection.Column, alignItems: ItemAlign.Center, justifyContent: FlexAlign.Center &#125;) &#123;  
      Canvas(this.context)  
        .width(&#39;100%&#39;)  
        .height(&#39;100%&#39;)  
        .backgroundColor(&#39;#cbbbf2&#39;)  
        .onReady(() =&gt; &#123;  
          this.context.beginPath();  
          this.context.moveTo(150, 50);  
          this.context.lineTo(200, 150);  
          this.context.stroke();  
        &#125;)  
    &#125;  
    .width(&#39;100%&#39;)  
    .height(&#39;100%&#39;)  
  &#125;  
&#125;
</code></pre>
<p><img src="/../images/HarmonyOS%20Next%20%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9B%BE%E5%BD%A2Canvas%E5%AE%9E%E8%B7%B5-2.png" alt="HarmonyOS Next Line Drawing">  </p>
<h3 id="2-Drawing-Rectangles"><a href="#2-Drawing-Rectangles" class="headerlink" title="(2) Drawing Rectangles"></a><strong>(2) Drawing Rectangles</strong></h3><ul>
<li><code>fillRect()</code> for solid rectangles.  </li>
<li><code>strokeRect()</code> for outlined rectangles.</li>
</ul>
<p><strong>Example (Solid Rectangle):</strong>  </p>
<pre><code class="language-typescript">@Entry  
@Component  
struct Index &#123;  
  private settings: RenderingContextSettings = new RenderingContextSettings(true);  
  private context: CanvasRenderingContext2D = new CanvasRenderingContext2D(this.settings);  

  build() &#123;  
    Flex(&#123; direction: FlexDirection.Column, alignItems: ItemAlign.Center, justifyContent: FlexAlign.Center &#125;) &#123;  
      Canvas(this.context)  
        .width(&#39;100%&#39;)  
        .height(&#39;100%&#39;)  
        .backgroundColor(&#39;#cbbbf2&#39;)  
        .onReady(() =&gt; &#123;  
          this.context.fillStyle = &#39;#0097D4&#39;;  
          this.context.fillRect(50, 50, 100, 100);  
        &#125;)  
    &#125;  
    .width(&#39;100%&#39;)  
    .height(&#39;100%&#39;)  
  &#125;  
&#125;
</code></pre>
<p><img src="/../images/HarmonyOS%20Next%20%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9B%BE%E5%BD%A2Canvas%E5%AE%9E%E8%B7%B5-3.png" alt="HarmonyOS Next Rectangle Drawing">  </p>
<h3 id="3-Drawing-Circles"><a href="#3-Drawing-Circles" class="headerlink" title="(3) Drawing Circles"></a><strong>(3) Drawing Circles</strong></h3><p>Use <code>arc()</code> to draw circles.  </p>
<pre><code class="language-typescript">@Entry  
@Component  
struct Index &#123;  
  private settings: RenderingContextSettings = new RenderingContextSettings(true);  
  private context: CanvasRenderingContext2D = new CanvasRenderingContext2D(this.settings);  

  build() &#123;  
    Flex(&#123; direction: FlexDirection.Column, alignItems: ItemAlign.Center, justifyContent: FlexAlign.Center &#125;) &#123;  
      Canvas(this.context)  
        .width(&#39;100%&#39;)  
        .height(&#39;100%&#39;)  
        .backgroundColor(&#39;#cbbbf2&#39;)  
        .onReady(() =&gt; &#123;  
          let region = new Path2D();  
          region.arc(100, 75, 50, 0, 6.28); // (x, y, radius, startAngle, endAngle)  
          this.context.stroke(region);  
        &#125;)  
    &#125;  
    .width(&#39;100%&#39;)  
    .height(&#39;100%&#39;)  
  &#125;  
&#125;
</code></pre>
<p><img src="/../images/HarmonyOS%20Next%20%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9B%BE%E5%BD%A2Canvas%E5%AE%9E%E8%B7%B5-4.png" alt="HarmonyOS Next Circle Drawing">  </p>
<h3 id="4-Drawing-Ellipses"><a href="#4-Drawing-Ellipses" class="headerlink" title="(4) Drawing Ellipses"></a><strong>(4) Drawing Ellipses</strong></h3><p>Use <code>ellipse()</code> for elliptical shapes.  </p>
<pre><code class="language-typescript">@Entry  
@Component  
struct Index &#123;  
  private settings: RenderingContextSettings = new RenderingContextSettings(true);  
  private context: CanvasRenderingContext2D = new CanvasRenderingContext2D(this.settings);  

  build() &#123;  
    Flex(&#123; direction: FlexDirection.Column, alignItems: ItemAlign.Center, justifyContent: FlexAlign.Center &#125;) &#123;  
      Canvas(this.context)  
        .width(&#39;100%&#39;)  
        .height(&#39;100%&#39;)  
        .backgroundColor(&#39;#cbbbf2&#39;)  
        .onReady(() =&gt; &#123;  
          this.context.beginPath();  
          this.context.ellipse(150, 150, 50, 100, Math.PI * 0.25, Math.PI * 0, Math.PI * 2);  
          this.context.stroke();  
        &#125;)  
    &#125;  
    .width(&#39;100%&#39;)  
    .height(&#39;100%&#39;)  
  &#125;  
&#125;
</code></pre>
<p><img src="/../images/HarmonyOS%20Next%20%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9B%BE%E5%BD%A2Canvas%E5%AE%9E%E8%B7%B5-5.png" alt="HarmonyOS Next Ellipse Drawing">  </p>
<h3 id="5-Text-Rendering"><a href="#5-Text-Rendering" class="headerlink" title="(5) Text Rendering"></a><strong>(5) Text Rendering</strong></h3><p>Use <code>fillText()</code> (filled text) and <code>strokeText()</code> (outlined text).  </p>
<pre><code class="language-typescript">@Entry  
@Component  
struct Index &#123;  
  private settings: RenderingContextSettings = new RenderingContextSettings(true);  
  private context: CanvasRenderingContext2D = new CanvasRenderingContext2D(this.settings);  

  build() &#123;  
    Flex(&#123; direction: FlexDirection.Column, alignItems: ItemAlign.Center, justifyContent: FlexAlign.Center &#125;) &#123;  
      Canvas(this.context)  
        .width(&#39;100%&#39;)  
        .height(&#39;100%&#39;)  
        .backgroundColor(&#39;#cbbbf2&#39;)  
        .onReady(() =&gt; &#123;  
          // Filled text  
          this.context.font = &#39;50px bolder sans-serif&#39;;  
          this.context.fillText(&quot;HarmonyOS!&quot;, 50, 100);  
          // Outlined text  
          this.context.strokeStyle = &quot;#ff0000&quot;;  
          this.context.lineWidth = 2;  
          this.context.font = &#39;50px bolder sans-serif&#39;;  
          this.context.strokeText(&quot;HarmonyOS&quot;, 50, 150);  
        &#125;)  
    &#125;  
    .width(&#39;100%&#39;)  
    .height(&#39;100%&#39;)  
  &#125;  
&#125;
</code></pre>
<p><img src="/../images/HarmonyOS%20Next%20%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9B%BE%E5%BD%A2Canvas%E5%AE%9E%E8%B7%B5-6.png" alt="HarmonyOS Next Text Drawing">  </p>
<hr>
<h2 id="4-Additional-Features"><a href="#4-Additional-Features" class="headerlink" title="4. Additional Features"></a><strong>4. Additional Features</strong></h2><ul>
<li><strong>Image Drawing</strong>: Load and render images on Canvas.  </li>
<li><strong>Pixel Manipulation</strong>: Process image pixel data.  </li>
<li><strong>Gradients</strong>: Use <code>createLinearGradient()</code> and <code>createRadialGradient()</code> for smooth color transitions.</li>
</ul>
<hr>
<h2 id="5-Summary"><a href="#5-Summary" class="headerlink" title="5. Summary"></a><strong>5. Summary</strong></h2><p>This guide explored <strong>custom graphics rendering in HarmonyOS Next</strong> using <strong>Canvas</strong>, covering:  </p>
<ol>
<li><strong>Direct Drawing</strong> with <code>CanvasRenderingContext2D</code>.  </li>
<li><strong>Offscreen Rendering</strong> for performance optimization.  </li>
<li><strong>Lottie Animation Support</strong> (not covered in detail here).</li>
</ol>
<p>Key takeaways:  </p>
<ul>
<li><strong><code>onReady</code> is crucial</strong> for ensuring Canvas dimensions are available before drawing.  </li>
<li><strong>Offscreen rendering</strong> improves efficiency by reducing redraw operations.  </li>
<li><strong>Shape drawing</strong> (lines, rectangles, circles, ellipses) and <strong>text rendering</strong> are fully supported.</li>
</ul>
<p>This API is ideal for <strong>data visualization, custom UI elements, and dynamic graphics</strong> in HarmonyOS Next applications.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/27/B-Introduction-and-Practice-of-HarmonyOS-Next-User-Notification-Service-Notification-Kit/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/27/B-Introduction-and-Practice-of-HarmonyOS-Next-User-Notification-Service-Notification-Kit/" class="post-title-link" itemprop="url">Introduction and Practice of HarmonyOS Next User Notification Service Notification Kit</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-27 11:20:54 / Modified: 11:32:22" itemprop="dateCreated datePublished" datetime="2025-06-27T11:20:54+08:00">2025-06-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/HarmonyOS-Next-Tech/" itemprop="url" rel="index"><span itemprop="name">HarmonyOS Next Tech</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Introduction-and-Practical-Guide-to-HarmonyOS-Next-User-Notification-Service-Notification-Kit"><a href="#Introduction-and-Practical-Guide-to-HarmonyOS-Next-User-Notification-Service-Notification-Kit" class="headerlink" title="Introduction and Practical Guide to HarmonyOS Next User Notification Service (Notification Kit)"></a><strong>Introduction and Practical Guide to HarmonyOS Next User Notification Service (Notification Kit)</strong></h3><h4 id="1-Overview-of-Notification-Kit"><a href="#1-Overview-of-Notification-Kit" class="headerlink" title="1. Overview of Notification Kit"></a><strong>1. Overview of Notification Kit</strong></h4><p>Notification Kit provides developers with a local notification delivery channel, enabling apps to push notifications directly to users on the client side. These notifications—triggered by app events—can include ringtones, vibrations, banners, lock screen alerts, status bar notifications, and more, similar to Android’s notification system.  </p>
<p><strong>Example: Status Bar Icon Display</strong>  </p>
<p><img src="/../images/HarmonyOS%20Next%20%E7%94%A8%E6%88%B7%E9%80%9A%E7%9F%A5%E6%9C%8D%E5%8A%A1Notification%20Kit%E4%BB%8B%E7%BB%8D%E4%B8%8E%E5%AE%9E%E6%88%98-2.png"></p>
<p>Users can swipe down the status bar to access the notification drawer for details and actions.  </p>
<p><img src="/../images/HarmonyOS%20Next%20%E7%94%A8%E6%88%B7%E9%80%9A%E7%9F%A5%E6%9C%8D%E5%8A%A1Notification%20Kit%E4%BB%8B%E7%BB%8D%E4%B8%8E%E5%AE%9E%E6%88%98.png"></p>
<p><strong>Reminder-Style Notifications</strong>:<br><img src="/../images/HarmonyOS%20Next%20%E7%94%A8%E6%88%B7%E9%80%9A%E7%9F%A5%E6%9C%8D%E5%8A%A1Notification%20Kit%E4%BB%8B%E7%BB%8D%E4%B8%8E%E5%AE%9E%E6%88%98-1.png"></p>
<p>HarmonyOS offers equivalent capabilities through Notification Kit.  </p>
<h4 id="2-Differences-Between-Notification-Kit-Call-Kit-and-Push-Kit"><a href="#2-Differences-Between-Notification-Kit-Call-Kit-and-Push-Kit" class="headerlink" title="2. Differences Between Notification Kit, Call Kit, and Push Kit"></a><strong>2. Differences Between Notification Kit, Call Kit, and Push Kit</strong></h4><ul>
<li><strong>Notification Kit</strong>: Developers manually invoke APIs to create and define notifications.  </li>
<li><strong>Push Kit</strong>: Huawei’s cloud-to-device messaging platform. Integrating Push Kit enables real-time app notifications, enhancing user engagement. Push Kit runs as a system daemon, launching the app process when notifications are tapped. Display scenarios include the notification center, lock screen, banners, and badge icons.  </li>
<li><strong>Call Kit</strong>: Manages in-app call features (e.g., one-tap answer, banners, mute). When the app is in the background, Push Kit must first wake the app process before Call Kit can handle calls.</li>
</ul>
<p><strong>Relationship Diagram</strong>:<br><img src="/../images/HarmonyOS%20Next%20%E7%94%A8%E6%88%B7%E9%80%9A%E7%9F%A5%E6%9C%8D%E5%8A%A1Notification%20Kit%E4%BB%8B%E7%BB%8D%E4%B8%8E%E5%AE%9E%E6%88%98-3.png"></p>
<p><strong>Key Workflow</strong>:  </p>
<ol>
<li>Push Kit receives a notification and wakes the app.  </li>
<li>The app uses Notification Kit to display the alert.  </li>
<li>Tapping the notification triggers Call Kit for call handling.</li>
</ol>
<h4 id="3-Notification-Kit-Features-and-APIs"><a href="#3-Notification-Kit-Features-and-APIs" class="headerlink" title="3. Notification Kit Features and APIs"></a><strong>3. Notification Kit Features and APIs</strong></h4><p><strong>Core Workflow</strong>:  </p>
<ol>
<li>Request notification permissions.  </li>
<li>Publish notifications via the service.  </li>
<li>Display notifications in the system tray.<br><img src="/../images/HarmonyOS%20Next%20%E7%94%A8%E6%88%B7%E9%80%9A%E7%9F%A5%E6%9C%8D%E5%8A%A1Notification%20Kit%E4%BB%8B%E7%BB%8D%E4%B8%8E%E5%AE%9E%E6%88%98-5.png"></li>
</ol>
<h5 id="Requesting-Permissions"><a href="#Requesting-Permissions" class="headerlink" title="Requesting Permissions"></a><strong>Requesting Permissions</strong></h5><p>Apps must obtain user consent before sending notifications. Use <code>requestEnableNotification()</code> to prompt the user; subsequent calls skip the prompt if already granted.  </p>
<p><strong>API Reference</strong>:  </p>
<table>
<thead>
<tr>
<th><strong>API</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody><tr>
<td><code>isNotificationEnabled(): Promise&lt;boolean&gt;</code></td>
<td>Checks if notifications are enabled.</td>
</tr>
<tr>
<td><code>requestEnableNotification(context: UIAbilityContext): Promise&lt;void&gt;</code></td>
<td>Requests permission (prompts user on first call).</td>
</tr>
</tbody></table>
<p><strong>Code Example</strong>:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; notificationManager &#125; <span class="keyword">from</span> <span class="string">&#x27;@kit.NotificationKit&#x27;</span>;</span><br><span class="line"><span class="comment">// ... (other imports)</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">TAG</span>: <span class="built_in">string</span> = <span class="string">&#x27;[PublishOperation]&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> context = <span class="variable language_">this</span>.<span class="title function_">getUIContext</span>().<span class="title function_">getHostContext</span>() <span class="keyword">as</span> common.<span class="property">UIAbilityContext</span>;</span><br><span class="line">notificationManager.<span class="title function_">isNotificationEnabled</span>().<span class="title function_">then</span>(<span class="function">(<span class="params"><span class="attr">data</span>: <span class="built_in">boolean</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (!data) &#123;</span><br><span class="line">    notificationManager.<span class="title function_">requestEnableNotification</span>(context).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      hilog.<span class="title function_">info</span>(<span class="variable constant_">DOMAIN_NUMBER</span>, <span class="variable constant_">TAG</span>, <span class="string">`[ANS] requestEnableNotification success`</span>);</span><br><span class="line">    &#125;).<span class="title function_">catch</span>(<span class="function">(<span class="params"><span class="attr">err</span>: <span class="title class_">BusinessError</span></span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (err.<span class="property">code</span> === <span class="number">1600004</span>) &#123; <span class="comment">// Permission denied</span></span><br><span class="line">        hilog.<span class="title function_">error</span>(<span class="variable constant_">DOMAIN_NUMBER</span>, <span class="variable constant_">TAG</span>, <span class="string">`[ANS] requestEnableNotification refused, code: <span class="subst">$&#123;err.code&#125;</span>`</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function">(<span class="params"><span class="attr">err</span>: <span class="title class_">BusinessError</span></span>) =&gt;</span> &#123;</span><br><span class="line">  hilog.<span class="title function_">error</span>(<span class="variable constant_">DOMAIN_NUMBER</span>, <span class="variable constant_">TAG</span>, <span class="string">`isNotificationEnabled failed: <span class="subst">$&#123;err.message&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h5 id="Publishing-Notifications"><a href="#Publishing-Notifications" class="headerlink" title="Publishing Notifications"></a><strong>Publishing Notifications</strong></h5><p>Common notification types:  </p>
<table>
<thead>
<tr>
<th><strong>Type</strong></th>
<th><strong>Style</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody><tr>
<td>Text</td>
<td><img src="/../images/HarmonyOS%20Next%20%E7%94%A8%E6%88%B7%E9%80%9A%E7%9F%A5%E6%9C%8D%E5%8A%A1Notification%20Kit%E4%BB%8B%E7%BB%8D%E4%B8%8E%E5%AE%9E%E6%88%98-7.png"></td>
<td>Max 3 lines (truncated with “…”).</td>
</tr>
<tr>
<td>Multi-line Text</td>
<td><img src="/../images/89950048fe1bbb966e818accda864be5_MD5.png"></td>
<td>Truncates long lines.</td>
</tr>
<tr>
<td>Badge</td>
<td><img src="/../images/6db70bf2c578ac2b02881edbc5b1f8f4_MD5.png" alt="Badge"></td>
<td>Numeric counter in top-right.</td>
</tr>
<tr>
<td>Progress Bar</td>
<td><img src="/../images/812d8b9a6d1d0a23a2f671ef6a760c90_MD5.png" alt="Progress"></td>
<td>Shows download&#x2F;progress status.</td>
</tr>
</tbody></table>
<p><strong>Example: Text Notification</strong>  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">request</span>: notificationManager.<span class="property">NotificationRequest</span> = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">content</span>: &#123;</span><br><span class="line">    <span class="attr">notificationContentType</span>: notificationManager.<span class="property">ContentType</span>.<span class="property">NOTIFICATION_CONTENT_BASIC_TEXT</span>,</span><br><span class="line">    <span class="attr">normal</span>: &#123; <span class="attr">title</span>: <span class="string">&#x27;test_title&#x27;</span>, <span class="attr">text</span>: <span class="string">&#x27;test_text&#x27;</span> &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">notificationManager.<span class="title function_">publish</span>(request, <span class="function">(<span class="params">err</span>) =&gt;</span> &#123; <span class="comment">/* Handle errors */</span> &#125;);</span><br></pre></td></tr></table></figure>

<p><strong>Progress Bar Template</strong>:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Check template support</span></span><br><span class="line">notificationManager.<span class="title function_">isSupportTemplate</span>(<span class="string">&#x27;downloadTemplate&#x27;</span>).<span class="title function_">then</span>(<span class="function">(<span class="params">supported</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (supported) &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="attr">request</span>: notificationManager.<span class="property">NotificationRequest</span> = &#123;</span><br><span class="line">      <span class="attr">id</span>: <span class="number">5</span>,</span><br><span class="line">      <span class="attr">content</span>: &#123; <span class="comment">/* ... */</span> &#125;,</span><br><span class="line">      <span class="attr">template</span>: &#123; <span class="attr">name</span>: <span class="string">&#x27;downloadTemplate&#x27;</span>, <span class="attr">data</span>: &#123; <span class="attr">progressValue</span>: <span class="number">45</span> &#125; &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    notificationManager.<span class="title function_">publish</span>(request, <span class="function">(<span class="params">err</span>) =&gt;</span> &#123; <span class="comment">/* ... */</span> &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>Canceling Notifications</strong>:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">notificationManager.<span class="title function_">cancel</span>(<span class="number">1</span>, <span class="function">(<span class="params">err</span>) =&gt;</span> &#123; <span class="comment">/* ... */</span> &#125;); <span class="comment">// Cancels notification with ID=1</span></span><br></pre></td></tr></table></figure>

<h4 id="4-Use-Cases"><a href="#4-Use-Cases" class="headerlink" title="4. Use Cases"></a><strong>4. Use Cases</strong></h4><ul>
<li><strong>Foreground&#x2F;Background</strong>:  <ul>
<li>Foreground: Directly publish notifications.  </li>
<li>Background: Requires Push Kit for cloud-delivered alerts.</li>
</ul>
</li>
<li><strong>Scenarios</strong>: Syncing upload progress, payment alerts, fitness tracking.</li>
</ul>
<p><strong>System Limitations</strong>:  </p>
<ul>
<li>Max 24 notifications retained in the system tray.  </li>
<li>200KB size limit per notification.  </li>
<li>Rate limits: 10 new&#x2F;20 updates per second (per app); 15&#x2F;30 for all third-party apps combined.</li>
</ul>
<h4 id="5-IM-Scenario-Practical-Guide"><a href="#5-IM-Scenario-Practical-Guide" class="headerlink" title="5. IM Scenario Practical Guide"></a><strong>5. IM Scenario Practical Guide</strong></h4><p><strong>Basic Setup</strong>:  </p>
<ul>
<li><strong>Push Kit</strong>: Handles background notifications. Unlike Android, HarmonyOS cannot “keep apps alive,” so Push Kit is essential.  </li>
<li><strong>Foreground Handling</strong>: Use <code>foregroundShow: false</code> in REST API to suppress notifications when the app is active.</li>
</ul>
<p><strong>Example Payload</strong>:  </p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;payload&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;notification&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;foregroundShow&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;token&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;IQAAAA**********4Tw&quot;</span><span class="punctuation">]</span> <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p><strong>Custom Notifications</strong>:<br>Parse Push Kit messages and create text notifications dynamically:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">request</span>: notificationManager.<span class="property">NotificationRequest</span> = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">content</span>: &#123; <span class="attr">normal</span>: &#123; <span class="attr">title</span>: notification.<span class="property">title</span>, <span class="attr">text</span>: notification.<span class="property">text</span> &#125; &#125;</span><br><span class="line">&#125;;</span><br><span class="line">notificationManager.<span class="title function_">publish</span>(request, <span class="function">(<span class="params">err</span>) =&gt;</span> &#123; <span class="comment">/* ... */</span> &#125;);</span><br></pre></td></tr></table></figure>

<p><strong>Badge Management</strong>:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Increment badge count</span></span><br><span class="line">notificationManager.<span class="title function_">setBadgeNumber</span>(<span class="number">9</span>, <span class="function">(<span class="params">err</span>) =&gt;</span> &#123; <span class="comment">/* ... */</span> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Decrement after viewing a notification</span></span><br><span class="line">notificationManager.<span class="title function_">setBadgeNumber</span>(<span class="number">8</span>, <span class="function">(<span class="params">err</span>) =&gt;</span> &#123; <span class="comment">/* ... */</span> &#125;);</span><br></pre></td></tr></table></figure>

<p><strong>Notification Channels</strong>:<br>Define channels for different message types (e.g., chats vs. marketing):  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">notificationManager.<span class="title function_">addSlot</span>(notificationManager.<span class="property">SlotType</span>.<span class="property">SOCIAL_COMMUNICATION</span>, <span class="function">(<span class="params">err</span>) =&gt;</span> &#123; <span class="comment">/* ... */</span> &#125;);</span><br></pre></td></tr></table></figure>

<p><strong>Custom Ringtones</strong>:<br>Place audio files in <code>resources/rawfile/</code> and reference them via the <code>sound</code> field (requires app eligibility).  </p>
<p><strong>Click Actions</strong>:<br>Use <code>WantAgent</code> to deep-link to specific app pages:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">wantAgentInfo</span>: wantAgent.<span class="property">WantAgentInfo</span> = &#123;</span><br><span class="line">  <span class="attr">wants</span>: [&#123; <span class="attr">bundleName</span>: <span class="string">&#x27;com.samples.notification&#x27;</span>, <span class="attr">abilityName</span>: <span class="string">&#x27;SecondAbility&#x27;</span> &#125;],</span><br><span class="line">  <span class="attr">actionType</span>: wantAgent.<span class="property">OperationType</span>.<span class="property">START_ABILITY</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="6-Summary"><a href="#6-Summary" class="headerlink" title="6. Summary"></a><strong>6. Summary</strong></h4><p>Notification Kit empowers developers to create local notifications with rich features (text, progress bars, badges, etc.), complementing Push Kit (cloud messaging) and Call Kit (call management). Key steps include:  </p>
<ol>
<li>Requesting permissions.  </li>
<li>Building notification templates.  </li>
<li>Publishing&#x2F;canceling notifications.</li>
</ol>
<p><strong>Best Practices</strong>:  </p>
<ul>
<li>Respect system limits (24 notifications, 200KB size).  </li>
<li>Use Push Kit for background delivery.  </li>
<li>Customize channels&#x2F;ringtones for specific scenarios.</li>
</ul>
<p>Ideal for IM, fitness apps, and other time-sensitive notifications.  </p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/27/B-Introduction-to-HarmonyOS-Next-Application-UI-Generation-Tool/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/27/B-Introduction-to-HarmonyOS-Next-Application-UI-Generation-Tool/" class="post-title-link" itemprop="url">Introduction to HarmonyOS Next Application UI Generation Tool</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-27 11:13:43 / Modified: 11:19:21" itemprop="dateCreated datePublished" datetime="2025-06-27T11:13:43+08:00">2025-06-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/HarmonyOS-Next-Tech/" itemprop="url" rel="index"><span itemprop="name">HarmonyOS Next Tech</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Introduction-to-HarmonyOS-Next-Application-UI-Generation-Tool"><a href="#Introduction-to-HarmonyOS-Next-Application-UI-Generation-Tool" class="headerlink" title="Introduction to HarmonyOS Next Application UI Generation Tool"></a>Introduction to HarmonyOS Next Application UI Generation Tool</h2><h3 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h3><p>During the adaptation and development of HarmonyOS Next, it is difficult to refer to previous logic, and the documentation may be incomplete or take a long time to access. Therefore, developers often have to refer to Android or iOS code. For some scenarios with complex logic, AI tools can be used to convert Android Java code logic into TypeScript (TS) for partial reuse. For UI scenarios, manual coding is required. Although ArkUI improves page development efficiency, the workload remains substantial for numerous pages. The official has provided a tool to convert Android APK to ArkTS pages, and this article guides you through the experience.  </p>
<h3 id="Tool-Introduction"><a href="#Tool-Introduction" class="headerlink" title="Tool Introduction"></a>Tool Introduction</h3><p>The UI Generator is designed to quickly generate compilable and runnable HarmonyOS UI projects. It supports converting existing UI layout files (XML) into corresponding HarmonyOS UI code, including basic HarmonyOS projects, page layouts, components and properties, as well as resource files.  </p>
<p><strong>Requirement</strong>: Use DevEco Studio 5.0.3.700 or a higher version.  </p>
<h3 id="Tool-Configuration"><a href="#Tool-Configuration" class="headerlink" title="Tool Configuration"></a>Tool Configuration</h3><ol>
<li><p>In DevEco Studio, open the settings page, click on “Plugins”, find the installed UI Generator plugin, and enable it:<br><img src="/../images/HarmonyOS%20Next%20%E5%BA%94%E7%94%A8UI%E7%94%9F%E6%88%90%E5%B7%A5%E5%85%B7%E4%BB%8B%E7%BB%8D.png"></p>
</li>
<li><p>After enabling and confirming, click “Generate Project from …” in the toolbar:<br><img src="/../images/HarmonyOS%20Next%20%E5%BA%94%E7%94%A8UI%E7%94%9F%E6%88%90%E5%B7%A5%E5%85%B7%E4%BB%8B%E7%BB%8D-1.png"></p>
</li>
<li><p>Agree to the user agreement for the first-time entry:<br>   <img src="/../images/HarmonyOS%20Next%20%E5%BA%94%E7%94%A8UI%E7%94%9F%E6%88%90%E5%B7%A5%E5%85%B7%E4%BB%8B%E7%BB%8D-2.png"></p>
</li>
<li><p>Select the path of the Android APK package and the Android SDK path:<br>   <img src="/../images/HarmonyOS%20Next%20%E5%BA%94%E7%94%A8UI%E7%94%9F%E6%88%90%E5%B7%A5%E5%85%B7%E4%BB%8B%E7%BB%8D-3.png"></p>
</li>
<li><p>Select the XML layout to convert:<br>   <img src="/../images/HarmonyOS%20Next%20%E5%BA%94%E7%94%A8UI%E7%94%9F%E6%88%90%E5%B7%A5%E5%85%B7%E4%BB%8B%E7%BB%8D-4.png"></p>
</li>
<li><p>Click “Next”:<br>   <img src="/../images/HarmonyOS%20Next%20%E5%BA%94%E7%94%A8UI%E7%94%9F%E6%88%90%E5%B7%A5%E5%85%B7%E4%BB%8B%E7%BB%8D-5.png"></p>
</li>
<li><p>Set the “Destination Path” as the path and name for the generated HarmonyOS Next public beta project. Click “Confirm” to start the conversion. The conversion log is as follows:</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line">2025-01-22 12:08:02,885   In /Users/shen/Library/Caches/Huawei/DevEcoStudio5.0/ui-generation/build/app-debug</span><br><span class="line">2025-01-22 12:08:02,960   sdkdir: /Users/shen/Library/Caches/Huawei/DevEcoStudio5.0/ui-generation/maple-sdk</span><br><span class="line">2025-01-22 12:08:02,960   apkpath: /Users/shen/Downloads/app-debug.apk</span><br><span class="line">2025-01-22 12:08:02,960   androidsdk: /Users/shen/Library/Android/sdk</span><br><span class="line">2025-01-22 12:08:02,960   aapt: /Users/shen/Library/Android/sdk/build-tools/34.0.0/aapt2</span><br><span class="line">2025-01-22 12:08:02,962   bash dumpres.sh /Users/shen/Downloads/app-debug.apk /Users/shen/Library/Android/sdk/build-tools/34.0.0/aapt2</span><br><span class="line">2025-01-22 12:08:05,916   run dump apk resources finished.</span><br><span class="line">2025-01-22 12:08:05,917   =================================================</span><br><span class="line">2025-01-22 12:08:05,917   /Users/shen/Library/Caches/Huawei/DevEcoStudio5.0/ui-generation/build/app-debug/maple-decompile.sh exec success</span><br><span class="line">2025-01-22 12:08:05,917   =================================================</span><br><span class="line">2025-01-22 12:08:05,920   In /Users/shen/Library/Caches/Huawei/DevEcoStudio5.0/ui-generation/build/app-debug/runs</span><br><span class="line">2025-01-22 12:08:05,939   dexdir: /Users/shen/Library/Caches/Huawei/DevEcoStudio5.0/ui-generation/build/app-debug/unzip</span><br><span class="line">2025-01-22 12:08:05,939   androiddir: /Users/shen/Library/Android/sdk</span><br><span class="line">2025-01-22 12:08:05,939   componentspath: /Users/shen/Library/Caches/Huawei/DevEcoStudio5.0/ui-generation/build/app-debug/runs/components.txt</span><br><span class="line">2025-01-22 12:08:05,950   bash /Users/shen/Library/Caches/Huawei/DevEcoStudio5.0/ui-generation/maple-sdk/bin/component_analyze.sh --dexdump-dir=/Users/shen/Library/Android/sdk/build-tools/34.0.0/dexdump --dex-dir=/Users/shen/Library/Caches/Huawei/DevEcoStudio5.0/ui-generation/build/app-debug/unzip --mplsdk-dir=/Users/shen/Library/Caches/Huawei/DevEcoStudio5.0/ui-generation/maple-sdk --component-include=false /Users/shen/Library/Caches/Huawei/DevEcoStudio5.0/ui-generation/build/app-debug/runs/components.txt</span><br><span class="line">2025-01-22 12:08:05,965   dexdump-dir: /Users/shen/Library/Android/sdk/build-tools/34.0.0/dexdump</span><br><span class="line">2025-01-22 12:08:05,965   dex-dir: /Users/shen/Library/Caches/Huawei/DevEcoStudio5.0/ui-generation/build/app-debug/unzip</span><br><span class="line">2025-01-22 12:08:05,966   analysis start!</span><br><span class="line">2025-01-22 12:08:05,967   Darwin</span><br><span class="line">2025-01-22 12:08:05,967   xml analysis start</span><br><span class="line">2025-01-22 12:08:05,975   =================================================</span><br><span class="line">2025-01-22 12:08:05,975   /Users/shen/Library/Caches/Huawei/DevEcoStudio5.0/ui-generation/build/app-debug/runs/maple-files-dex.sh exec success</span><br><span class="line">2025-01-22 12:08:05,975   =================================================</span><br><span class="line">2025-01-22 12:08:44,098   In /Users/shen/Library/Caches/Huawei/DevEcoStudio5.0/ui-generation/maple-sdk</span><br><span class="line">2025-01-22 12:08:44,105   Darwin</span><br><span class="line">2025-01-22 12:08:44,129   target is xml file, no need to analyze dex dependency, exit dex-crop.sh</span><br><span class="line">2025-01-22 12:08:44,130   =================================================</span><br><span class="line">2025-01-22 12:08:44,130   /Users/shen/Library/Caches/Huawei/DevEcoStudio5.0/ui-generation/maple-sdk/bin/dex_crop.sh exec success</span><br><span class="line">2025-01-22 12:08:44,130   =================================================</span><br><span class="line">2025-01-22 12:08:44,143   In /Users/shen/Library/Caches/Huawei/DevEcoStudio5.0/ui-generation/build/app-debug/components</span><br><span class="line">2025-01-22 12:08:44,173   cp: /Users/shen/Library/Caches/Huawei/DevEcoStudio5.0/ui-generation/maple-sdk/maple_deps/host_maple/bin_darwin/dex2mpl is a directory (not copied).</span><br><span class="line">2025-01-22 12:08:44,180   cp: /Users/shen/Library/Caches/Huawei/DevEcoStudio5.0/ui-generation/maple-sdk/autodeps/bin_darwin/dex2deps is a directory (not copied).</span><br><span class="line">2025-01-22 12:08:44,181   cp: /Users/shen/Library/Caches/Huawei/DevEcoStudio5.0/ui-generation/maple-sdk/autodeps/bin_darwin/gendeps is a directory (not copied).</span><br><span class="line">2025-01-22 12:08:44,183   chmod: /Users/shen/Library/Caches/Huawei/DevEcoStudio5.0/ui-generation/maple-sdk/autodeps/bin/*: No such file or directory</span><br><span class="line">2025-01-22 12:08:44,185   maplebinary: /Users/shen/Library/Caches/Huawei/DevEcoStudio5.0/ui-generation/maple-sdk/maple_deps/host_maple/bin/maple</span><br><span class="line">2025-01-22 12:08:44,185   xmldir: /Users/shen/Library/Caches/Huawei/DevEcoStudio5.0/ui-generation/build/app-debug/decompile</span><br><span class="line">2025-01-22 12:08:44,185   component: layout/activity_preview.xml</span><br><span class="line">2025-01-22 12:08:44,185   sdkdir: /Users/shen/Library/Caches/Huawei/DevEcoStudio5.0/ui-generation/maple-sdk</span><br><span class="line">2025-01-22 12:08:44,185   apkname: app-debug</span><br><span class="line">2025-01-22 12:08:44,185   sourcedir:</span><br><span class="line">2025-01-22 12:08:44,185   mplfile: /Users/shen/Library/Caches/Huawei/DevEcoStudio5.0/ui-generation/build/app-debug/components/test.mpl</span><br><span class="line">2025-01-22 12:08:44,185   dexdump:</span><br><span class="line">2025-01-22 12:08:44,187   /Users/shen/Library/Caches/Huawei/DevEcoStudio5.0/ui-generation/maple-sdk/maple_deps/host_maple/bin/maple --infile /Users/shen/Library/Caches/Huawei/DevEcoStudio5.0/ui-generation/build/app-debug/components/test.mpl --me-opt=&quot;--O2 --quiet --no-nativeopt --meverify --threads=4 --no-ignoreipa --enable-ea&quot; --mpl2mpl-opt=&quot;--O2 --quiet --regnativefunc --deferred-visit --no-nativeopt --maplelinker --emitVtableImpl --maplelinker-nolocal --sva --android-xml=/Users/shen/Library/Caches/Huawei/DevEcoStudio5.0/ui-generation/build/app-debug/decompile --xml-to-analyze=layout/activity_preview.xml --class-to-analyze=activity_preview --config-path=/Users/shen/Library/Caches/Huawei/DevEcoStudio5.0/ui-generation/maple-sdk/config_files&quot; --save-temps</span><br><span class="line">2025-01-22 12:08:46,235   Sighandler : signal handler isn&#x27;t implemented for non-unix os</span><br><span class="line">2025-01-22 12:08:46,235   Sighandler : signal handler isn&#x27;t implemented for non-unix os</span><br><span class="line">2025-01-22 12:08:46,235   Sighandler : signal handler isn&#x27;t implemented for non-unix os</span><br><span class="line">2025-01-22 12:08:46,235   Sighandler : signal handler isn&#x27;t implemented for non-unix os</span><br><span class="line">2025-01-22 12:08:46,235   Sighandler : signal handler isn&#x27;t implemented for non-unix os</span><br><span class="line">2025-01-22 12:08:46,235   Sighandler : signal handler isn&#x27;t implemented for non-unix os</span><br><span class="line">2025-01-22 12:08:46,235   Sighandler : signal handler isn&#x27;t implemented for non-unix os</span><br><span class="line">2025-01-22 12:08:46,763   android activities cnt : 10</span><br><span class="line">2025-01-22 12:08:46,763   =&gt; Log File: android-ui-ir-activity_preview.log</span><br><span class="line">2025-01-22 12:08:46,763   ==========&gt; Save UI Generate Report to activity_preview_generation_report.json &lt;==========</span><br><span class="line">2025-01-22 12:08:46,769   =================================================</span><br><span class="line">2025-01-22 12:08:46,769   /Users/shen/Library/Caches/Huawei/DevEcoStudio5.0/ui-generation/build/app-debug/components/maple.sh exec success</span><br><span class="line">2025-01-22 12:08:46,769   =================================================</span><br><span class="line">2025-01-22 12:08:46,784   In /Users/shen/Library/Caches/Huawei/DevEcoStudio5.0/ui-generation/build/app-debug/components</span><br><span class="line">2025-01-22 12:08:46,787   Darwin</span><br><span class="line">2025-01-22 12:08:46,793   dexdump-dir: /Users/shen/Library/Android/sdk</span><br><span class="line">2025-01-22 12:08:46,793   dex-dir: /Users/shen/Library/Caches/Huawei/DevEcoStudio5.0/ui-generation/build/app-debug/unzip</span><br><span class="line">2025-01-22 12:08:46,793   cropping analysis start!</span><br><span class="line">2025-01-22 12:08:46,793   searching for all dexdump</span><br><span class="line">2025-01-22 12:08:48,812   searching for all dexdump</span><br><span class="line">2025-01-22 12:08:48,812   /Users/shen/Library/Android/sdk/build-tools/30.0.2/dexdump</span><br><span class="line">2025-01-22 12:08:48,812   searching for all dex file</span><br><span class="line">2025-01-22 12:08:48,815    1 dexdump location founded.</span><br><span class="line">2025-01-22 12:08:49,409   =================================================</span><br><span class="line">2025-01-22 12:08:49,409   /Users/shen/Library/Caches/Huawei/DevEcoStudio5.0/ui-generation/maple-sdk/bin/get_base_class.sh exec success</span><br><span class="line">2025-01-22 12:08:49,409   =================================================</span><br><span class="line">2025-01-22 12:08:49,458   Generation IR Time Elapsed: 5.368000 s</span><br><span class="line">2025-01-22 12:09:06,886   Generation Success, Generated Project Location: 2025-01-22 12:09:06,886   /Users/shen/UIGenerationProjects/UIGeneration_app-debug_activity_preview</span><br><span class="line">2025-01-22 12:09:06,886   Generation Project Time Elapsed: 0.129000 s</span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line">8. After opening the new project, the generated pages are located in the `entry &gt; src &gt; main &gt; ets &gt; pages` directory. You can preview the pages in the Previewer. The `entry &gt; src &gt; main &gt; resources` directory of the new project contains text, image, and color resources.  </span><br><span class="line"></span><br><span class="line">**Example**:  </span><br><span class="line">Android XML:  </span><br><span class="line">```xml</span><br><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;  </span><br><span class="line">&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;  </span><br><span class="line">            android:layout_width=&quot;match_parent&quot;  </span><br><span class="line">            android:layout_height=&quot;match_parent&quot;  </span><br><span class="line">            android:orientation=&quot;vertical&quot;&gt;  </span><br><span class="line">  </span><br><span class="line">    &lt;LinearLayout        android:id=&quot;@+id/container&quot;  </span><br><span class="line">        android:layout_width=&quot;213dp&quot;  </span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;  </span><br><span class="line">        android:orientation=&quot;vertical&quot;&gt;  </span><br><span class="line">  </span><br><span class="line">    &lt;/LinearLayout&gt;</span><br><span class="line">&lt;/ScrollView&gt;</span><br></pre></td></tr></table></figure>
<p>Generated ArkTS Code:</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entry</span>  </span><br><span class="line"><span class="meta">@Component</span>  </span><br><span class="line"><span class="keyword">export</span> struct activity_preview &#123;  </span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;  </span><br><span class="line">    <span class="comment">/*  </span></span><br><span class="line"><span class="comment">     * <span class="doctag">FIXME:</span> Unhandled property &#x27;android:orientation&#x27;  </span></span><br><span class="line"><span class="comment">     */</span>    <span class="title class_">Scroll</span>() &#123;  </span><br><span class="line">      <span class="title class_">Column</span>()  </span><br><span class="line">        .<span class="title function_">id</span>(<span class="string">&#x27;container&#x27;</span>)  </span><br><span class="line">        .<span class="title function_">width</span>(<span class="string">&#x27;213vp&#x27;</span>)  </span><br><span class="line">        .<span class="title function_">alignItems</span>(<span class="title class_">HorizontalAlign</span>.<span class="property">Start</span>)  </span><br><span class="line">    &#125;  </span><br><span class="line">    .<span class="title function_">align</span>(<span class="title class_">Alignment</span>.<span class="property">TopStart</span>)  </span><br><span class="line">    .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)  </span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)  </span><br><span class="line">  &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Components and properties that cannot be generated will be provided in the form of comments to facilitate subsequent location and modification.</p>
<h3 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h3><p>Although some custom components or properties cannot be directly converted, for complex pages, this tool can help us generate the overall framework and most of the code, which can greatly improve our development efficiency. We recommend everyone to give it a try.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/27/B-Introduction-to-HarmonyOS-Next-Logging-Tools/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/27/B-Introduction-to-HarmonyOS-Next-Logging-Tools/" class="post-title-link" itemprop="url">Introduction to HarmonyOS Next Logging Tools</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-27 10:41:58 / Modified: 11:10:47" itemprop="dateCreated datePublished" datetime="2025-06-27T10:41:58+08:00">2025-06-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/HarmonyOS-Next-Tech/" itemprop="url" rel="index"><span itemprop="name">HarmonyOS Next Tech</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Introduction-to-HarmonyOS-Next-Logging-Tools"><a href="#Introduction-to-HarmonyOS-Next-Logging-Tools" class="headerlink" title="Introduction to HarmonyOS Next Logging Tools"></a>Introduction to HarmonyOS Next Logging Tools</h1><p>In HarmonyOS Next development, logs are the primary means for debugging and problem-solving. Whether using hilog or console, logs can ultimately be output to the log module of DevEco Studio:<br><img src="/../images/HarmonyOS%20Next%20%E6%97%A5%E5%BF%97%E5%B7%A5%E5%85%B7%E4%BB%8B%E7%BB%8D-9.png"></p>
<p>Here, you can filter by app process, log level, and content, and perform convenient searches. However, in scenarios with frequent log updates, we may want to output logs to files. While Android provides the logcat command to export logs to the console or files, HarmonyOS Next offers a similar tool: hilog.  </p>
<h3 id="Introduction-to-hilog-Tool"><a href="#Introduction-to-hilog-Tool" class="headerlink" title="Introduction to hilog Tool"></a>Introduction to hilog Tool</h3><p>The HiLog logging system is provided for system frameworks, services, and applications to print logs, record user operations, system status, etc. Developers can query log information via the hilog command line.  </p>
<p>After installing DevEco Studio IDE or the HarmonyOS SDK and configuring the hdc command tool in the environment variables, you can use hdc to enter the device shell:  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">hdc shell</span><br><span class="line">```  </span><br><span class="line">![](../images/HarmonyOS%20Next%20日志工具介绍-1.png)</span><br><span class="line"></span><br><span class="line">Once in the shell, execute hilog commands:  </span><br><span class="line">![](../images/HarmonyOS%20Next%20日志工具介绍-2.png) </span><br><span class="line"></span><br><span class="line">If logs refresh too quickly (less efficient than DevEco Studio&#x27;s log tool), use hilog with parameters.  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### hilog Command Parameters  </span><br><span class="line"></span><br><span class="line">| Short Option | Long Option | Parameter | Description |</span><br><span class="line">| :-- | :-- | :-- | :-- |</span><br><span class="line">| -h | --help |  | Help command. |</span><br><span class="line">| Default | Default |  | Blocking log reading (does not exit). |</span><br><span class="line">| -x | --exit |  | Non-blocking log reading (exits after reading). |</span><br><span class="line">| -g |  |  | Query buffer size (use with -t to specify a type; defaults to app and core). |</span><br><span class="line">| -G | --buffer-size | &lt;size&gt; | Set the buffer size for the specified &lt;type&gt; (use with -t; defaults to app and core; units: B/K/M; range: 64K-16M). |</span><br><span class="line">| -r |  |  | Clear buffer logs (use with -t; defaults to app and core). |</span><br><span class="line">| -k |  | &lt;on/off&gt; | Kernel log reading control. |</span><br><span class="line">|  |  | on | Enable kernel log reading. |</span><br><span class="line">|  |  | off | Disable kernel log reading. |</span><br><span class="line">| -s | --statistics |  | Query statistics (requires -t or -D). |</span><br><span class="line">| -S |  |  | Clear statistics (requires -t or -D). |</span><br><span class="line">| -Q |  | &lt;control-type&gt; | Flow control quota switch. |</span><br><span class="line">|  |  | pidon | Enable process flow control. |</span><br><span class="line">|  |  | pidoff | Disable process flow control. |</span><br><span class="line">|  |  | domainon | Enable domain flow control. |</span><br><span class="line">|  |  | domainoff | Disable domain flow control. |</span><br><span class="line">| -L | --level | &lt;level&gt; | Specify log levels (e.g., -L D/I/W/E/F). |</span><br><span class="line">| -t | --type | &lt;type&gt; | Specify log types (e.g., -t app/core/init/only_prerelease; app: app logs, core: system logs, init: boot logs, only_prerelease: logs for pre-release systems, irrelevant to app developers). |</span><br><span class="line">| -D | --domain | &lt;domain&gt; | Specify a domain. |</span><br><span class="line">| -T | --tag | &lt;tag&gt; | Specify a tag. |</span><br><span class="line">| -a | --head | &lt;n&gt; | Display only the first &lt;n&gt; lines of logs. |</span><br><span class="line">| -z | --tail | &lt;n&gt; | Display only the last &lt;n&gt; lines of logs. |</span><br><span class="line">| -P | --pid | &lt;pid&gt; | Identify different PIDs. |</span><br><span class="line">| -e | --regex | &lt;expr&gt; | Print only lines matching the regular expression &lt;expr&gt;. |</span><br><span class="line">| -f | --filename | &lt;filename&gt; | Set the disk file name. |</span><br><span class="line">| -l | --length | &lt;length&gt; | Set the disk file size (must be ≥64K). |</span><br><span class="line">| -n | --number | &lt;number&gt; | Set the number of disk files. |</span><br><span class="line">| -j | --jobid | &lt;jobid&gt; | Set the disk task ID. |</span><br><span class="line">| -w | --write | &lt;control&gt; | Disk task control. |</span><br><span class="line">|  |  | query | Query disk tasks. |</span><br><span class="line">|  |  | start | Start a disk task (command line parameters: filename, single file size, disk algorithm, number of rotate files). |</span><br><span class="line">|  |  | stop | Stop the disk task. |</span><br><span class="line">|  |  | refresh | Refresh buffer logs to disk files. |</span><br><span class="line">|  |  | clear | Delete existing disk log files. |</span><br><span class="line">| -m | --stream | &lt;algorithm&gt; | Disk storage algorithm control. |</span><br><span class="line">|  |  | none | Disk storage without compression. |</span><br><span class="line">|  |  | zlib | Disk storage with zlib compression (file extension: .gz). |</span><br><span class="line">|  |  | zstd | Disk storage with zstd compression (file extension: .zst). |</span><br><span class="line">| -v | --format | &lt;format&gt; |  |</span><br><span class="line">|  |  | time | Display local time. |</span><br><span class="line">|  |  | color | Display different levels in different colors (default: black and white). |</span><br><span class="line">|  |  | epoch | Display time relative to 1970. |</span><br><span class="line">|  |  | monotonic | Display time relative to boot. |</span><br><span class="line">|  |  | usec | Display time with microsecond precision. |</span><br><span class="line">|  |  | nsec | Display time with nanosecond precision. |</span><br><span class="line">|  |  | year | Add the year to the displayed time. |</span><br><span class="line">|  |  | zone | Add the local time zone to the displayed time. |</span><br><span class="line">|  |  | wrap | When logs wrap, new lines do not add prefixes like timestamps. |</span><br><span class="line">| -b | --baselevel | &lt;loglevel&gt; | Set the minimum log level (D(DEBUG)/I(INFO)/W(WARN)/E(ERROR)/F(FATAL)). |  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### Parameter Configuration Practices  </span><br><span class="line">#### Clear Buffer Logs  </span><br><span class="line">Logs are typically cached. To avoid interference from previous logs when starting an app, clear the cache:  </span><br></pre></td></tr></table></figure>
<p>$ hilog -r<br>Log type core,app,only_prerelease buffer clear successfully</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### Kernel Log Reading Control  </span><br><span class="line">Kernel logs are usually unnecessary during app debugging. Use `hilog -k on/off` to enable/disable them:  </span><br></pre></td></tr></table></figure>
<p>$ hilog -k on<br>Set hilogd storing kmsg log on successfully<br>$<br>$ hilog -k off<br>Set hilogd storing kmsg log off successfully</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### View Specified Level Logs  </span><br></pre></td></tr></table></figure>
<p>hilog -L D&#x2F;I&#x2F;W&#x2F;E&#x2F;F</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### View Specified Type Logs  </span><br></pre></td></tr></table></figure>
<p>hilog -t app</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">![](../images/HarmonyOS%20Next%20日志工具介绍-3.png)</span><br><span class="line"></span><br><span class="line">#### View Specified Domain Logs  </span><br></pre></td></tr></table></figure>
<p>hilog -D 01B06</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### View Specified TAG Logs  </span><br></pre></td></tr></table></figure>
<p>hilog -T tag</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### View Specified Process Logs  </span><br></pre></td></tr></table></figure>
<p>hilog -P pid</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">![](../images/HarmonyOS%20Next%20日志工具介绍-4.png)</span><br><span class="line"></span><br><span class="line">#### View Logs Matching Regex Keywords  </span><br></pre></td></tr></table></figure>
<p>hilog -e start</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### View and Set Disk Tasks  </span><br></pre></td></tr></table></figure>
<p>hilog -w control</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">- Query current tasks: `hilog -w query`  </span><br><span class="line">- Start hilog disk task with 1000 files: `hilog -w start -n 1000`  </span><br><span class="line">- Start kmsglog disk task with 100 files: `hilog -w start -n 100 -t kmsg`  </span><br><span class="line">- Stop current disk task: `hilog -w stop`  </span><br><span class="line">- Start kmsglog disk task with settings (compression: zlib/zstd/none):  </span><br><span class="line">  `hilog -w start -t kmsg -f kmsglog -l 2M -n 100 -m zlib`  </span><br><span class="line"></span><br><span class="line">**Examples**:  </span><br></pre></td></tr></table></figure>
<p>$ hilog -w query<br>Persist task query failed<br>No running persistent task [CODE: -63]<br>$<br>$ hilog -w start -n 1000<br>Persist task [jobid:1][fileNum:1000][fileSize:4194304] start successfully<br>$<br>$ hilog -w start -n 100 -t kmsg<br>Persist task [jobid:2][fileNum:100][fileSize:4194304] start successfully<br>$<br>$ hilog -w stop<br>Persist task [jobid:1] stop successfully<br>Persist task [jobid:2] stop successfully<br>$<br>$ hilog -w start -t kmsg -f kmsglog -l 2M -n 100 -m zlib<br>Persist task [jobid:2][fileNum:100][fileSize:2097152] start successfully</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### Set Log Display Format  </span><br></pre></td></tr></table></figure>
<p>hilog -v time&#x2F;color&#x2F;epoch&#x2F;monotonic&#x2F;usec&#x2F;nsec&#x2F;year&#x2F;zone&#x2F;wrap</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">![](../images/HarmonyOS%20Next%20日志工具介绍-5.png)</span><br><span class="line">![](../images/HarmonyOS%20Next%20日志工具介绍-6.png)</span><br><span class="line">This format setting facilitates console log viewing.  </span><br><span class="line"></span><br><span class="line">#### Set Minimum Printable Log Level  </span><br></pre></td></tr></table></figure>
<p>hilog -b D&#x2F;I&#x2F;W&#x2F;E&#x2F;F</p>
<pre><code>If logs are not displayed, this setting may be the cause.  


### Introduction to hilogtool  
Hilog logs are stored as encoded binary gz files. After exporting from the device&#39;s `/data/log/hilog` path, they cannot be directly unzipped and require parsing with the hilogtool to convert to plaintext:  
![](../images/HarmonyOS%20Next%20日志工具介绍-7.png)

The hilogtool is located in the SDK&#39;s `hms/toolchains` directory and used as follows:  
- `hilogtool parse -i xxx -o xxx -d xxx`  
- `hilogtool parse –-input xxx –-output xxx --dict xxx`  


#### hilogtool Parsing Command Parameters  

| Option | Description | Example |
| :-- | :-- | :-- |
| -i/–-input _inputDir_ | Specify the input path (scans all hilog files in the directory for parsing); defaults to the current directory. | Parse all hilog files in D:\temp\hilog:&lt;br&gt;`hilogtool parse -i D:\temp\hilog`&lt;br&gt;Parse current directory:&lt;br&gt;`hilogtool parse -i .` |
| -i/–-input _inputFile_ | Parse a single hilog file. | Parse a specific file:&lt;br&gt;`hilogtool parse -i D:\temp\data\log\hilog.706.20230711-071816.gz`&lt;br&gt;`hilogtool parse -i .\hilog.706.20230711-071816.gz` |
| -o/–-output _outputDir_ | Specify the output path for parsed logs; defaults to the input file&#39;s directory. | Parse current directory logs to D:\temp:&lt;br&gt;`hilogtool parse -i .\ -o D:\temp` |
| -d/--dict dictFile | Specify the path to the data dictionary; defaults to matching the latest dictionary (format: hilog_dict.20230908-142200.zip) in the current directory. | Parse hilog files in D:\temp\hilog with the dictionary in the same directory:&lt;br&gt;`hilogtool parse -i D:\temp\hilog -d D:\temp\hilog\hilog_dict.20230908-142200.zip` |

The data dictionary (format: hilog_dict.2024xxxx-xxxxxx.zip) is automatically generated at device boot in `/data/log/hilog`. Missing the dictionary may cause parsing failures; restarting the device regenerates it.  
![](../images/HarmonyOS%20Next%20日志工具介绍-8.png)


### Reference Links  
- [hilog](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/hilog-V5)  
- [hilogtool](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/hilog-tool-V5)  


### Summary  
Hilog and hilogtool help developers understand and debug applications by providing a way to view past events and errors. However, these tools are specific to Huawei&#39;s HarmonyOS platform and may not apply to other operating systems.  

If developing for HarmonyOS and needing to record and analyze logs, understanding hilog and hilogtool is essential. For other platforms, seek analogous tools and methods for log management.
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/27/B-Detailed-Explanation-of-HarmonyOS-Next-Timer-Component/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/27/B-Detailed-Explanation-of-HarmonyOS-Next-Timer-Component/" class="post-title-link" itemprop="url">Detailed Explanation of HarmonyOS Next Timer Component</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-27 10:35:56 / Modified: 10:37:22" itemprop="dateCreated datePublished" datetime="2025-06-27T10:35:56+08:00">2025-06-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/HarmonyOS-Next-Tech/" itemprop="url" rel="index"><span itemprop="name">HarmonyOS Next Tech</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Detailed-Explanation-of-HarmonyOS-Next-Timer-Component"><a href="#Detailed-Explanation-of-HarmonyOS-Next-Timer-Component" class="headerlink" title="Detailed Explanation of HarmonyOS Next Timer Component"></a>Detailed Explanation of HarmonyOS Next Timer Component</h2><h3 id="Background-Introduction"><a href="#Background-Introduction" class="headerlink" title="Background Introduction"></a>Background Introduction</h3><p>In daily UI development, timer controls are frequently used. For example, time progress display during video playback and call duration display in audio&#x2F;video calls require forward-counting timer controls. In some scenarios, countdown timer controls are needed, where a maximum time is set to start the countdown. In Android, we typically use <code>TextView</code> combined with <code>Handler</code> to update the <code>TextView</code> for timing effects. HarmonyOS Next provides the <code>TextTimer</code> component to achieve timing effects. Below is an introduction to the capabilities of <code>TextTimer</code>.  </p>
<h3 id="Introduction-to-TextTimer"><a href="#Introduction-to-TextTimer" class="headerlink" title="Introduction to TextTimer"></a>Introduction to TextTimer</h3><p><code>TextTimer</code> is a component that displays timing information through text and controls its timer state. When the component is invisible, time changes will stop. The visibility state of the component is handled based on <code>onVisibleAreaChange</code>, and a visibility threshold ratio greater than 0 is considered visible.  </p>
<h4 id="Attribute-Introduction"><a href="#Attribute-Introduction" class="headerlink" title="Attribute Introduction"></a>Attribute Introduction</h4><ul>
<li><code>format(value: string)</code>: Sets a custom format, which must include at least one keyword from HH, mm, ss, or SS. If date formats like yy, MM, or dd are used, default values will apply.  </li>
<li><code>fontColor(value: ResourceColor)</code>: Sets the font color.  </li>
<li><code>fontWeight(value: number | FontWeight | string)</code>: Sets the font weight of the text. Excessively large values may cause truncation in different fonts. For the number type, values range from <code>[100, 900]</code> with an interval of 100 (default is 400); larger values make the font bolder. The string type supports numeric string forms (e.g., “400”) and keywords like “bold”, “bolder”, “lighter”, “regular”, and “medium”, corresponding to the respective enumeration values in <code>FontWeight</code>.  </li>
<li><code>fontFamily(value: ResourceStr)</code>: Sets the font list, with the default font being ‘HarmonyOS Sans’. Applications currently support ‘HarmonyOS Sans’ and registered custom fonts, while cards only support ‘HarmonyOS Sans’.  </li>
<li><code>textShadow(value: ShadowOptions | Array&lt;ShadowOptions&gt;)</code>: Sets text shadow effects. This interface supports array parameters for multiple shadows, but does not support the <code>fill</code> field or intelligent color pickup mode.  </li>
<li><code>contentModifier(modifier: ContentModifier&lt;TextTimerConfiguration&gt;)</code>: A method to customize the content area of <code>TextTimer</code>, where <code>modifier</code> is a content modifier that developers need to implement by defining a class that adheres to the <code>ContentModifier</code> interface.</li>
</ul>
<p>The <code>TextTimer</code> constructor requires a <code>TextTimerOptions</code> object, which includes the following attributes:  </p>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Type</th>
<th align="left">Required</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">isCountDown</td>
<td align="left">boolean</td>
<td align="left">No</td>
<td align="left">Indicates whether to use countdown. When <code>true</code>, the timer starts counting down; when <code>false</code>, it starts counting up.<br><br>Default: <code>false</code></td>
</tr>
<tr>
<td align="left">count</td>
<td align="left">number</td>
<td align="left">No</td>
<td align="left">Timer duration (effective when <code>isCountDown</code> is <code>true</code>), in milliseconds. The maximum duration is 86,400,000 milliseconds (24 hours). When <code>0 &lt; count &lt; 86,400,000</code>, <code>count</code> is the initial timer value; otherwise, the default value is used.<br><br>Default: <code>60000</code></td>
</tr>
<tr>
<td align="left">controller</td>
<td align="left">TextTimerController</td>
<td align="left">No</td>
<td align="left">The <code>TextTimer</code> controller, used to start, pause, etc.</td>
</tr>
</tbody></table>
<p>The <code>TextTimerController</code> mainly controls the timer:  </p>
<ul>
<li><code>start()</code>: Starts the timer.  </li>
<li><code>pause()</code>: Pauses the timer.  </li>
<li><code>reset()</code>: Resets the timer.</li>
</ul>
<h4 id="Event-Introduction"><a href="#Event-Introduction" class="headerlink" title="Event Introduction"></a>Event Introduction</h4><p>The main event is <code>onTimer</code>:  </p>
<ul>
<li><code>onTimer(event: (utc: number, elapsedTime: number) =&gt; void)</code>: Triggered when the time text changes. This event is not triggered when the screen is locked or the app is in the background. When setting high-precision formats (SSS, SS), the callback interval may fluctuate. The parameter <code>utc</code> is a Linux timestamp (time elapsed since January 1, 1970) in the minimum unit of the set format; <code>elapsedTime</code> is the elapsed time of the timer, also in the minimum unit of the set format.</li>
</ul>
<h3 id="Usage-Examples"><a href="#Usage-Examples" class="headerlink" title="Usage Examples"></a>Usage Examples</h3><h4 id="Example-1-Button-Controlled-Timer"><a href="#Example-1-Button-Controlled-Timer" class="headerlink" title="Example 1: Button-Controlled Timer"></a>Example 1: Button-Controlled Timer</h4><pre><code class="language-typescript">@Entry
@Component
struct TextTimerExample &#123;
  textTimerController: TextTimerController = new TextTimerController()
  @State format: string = &#39;mm:ss.SS&#39;

  build() &#123;
    Column() &#123;
      TextTimer(&#123; isCountDown: true, count: 30000, controller: this.textTimerController &#125;)
        .format(this.format)
        .fontColor(Color.Black)
        .fontSize(50)
        .onTimer((utc: number, elapsedTime: number) =&gt; &#123;
          console.info(&#39;textTimer notCountDown utc is：&#39; + utc + &#39;, elapsedTime: &#39; + elapsedTime)
        &#125;)
      Row() &#123;
        Button(&quot;start&quot;).onClick(() =&gt; &#123;
          this.textTimerController.start()
        &#125;)
        Button(&quot;pause&quot;).onClick(() =&gt; &#123;
          this.textTimerController.pause()
        &#125;)
        Button(&quot;reset&quot;).onClick(() =&gt; &#123;
          this.textTimerController.reset()
        &#125;)
      &#125;
    &#125;
  &#125;
&#125;
</code></pre>
<p>Effect:<br><img src="/../images/HarmonyOS%20Next%20%E8%AE%A1%E6%97%B6%E5%99%A8%E7%BB%84%E4%BB%B6%E8%AF%A6%E8%A7%A3.gif"></p>
<h4 id="Example-2-Automatic-Timing"><a href="#Example-2-Automatic-Timing" class="headerlink" title="Example 2: Automatic Timing"></a>Example 2: Automatic Timing</h4><pre><code class="language-typescript">@Entry
@Component
struct TextTimerStart &#123;
  textTimerController: TextTimerController = new TextTimerController()
  @State format: string = &#39;mm:ss.SS&#39;

  build() &#123;
    Column() &#123;
      Scroll()
        .height(&#39;20%&#39;)
      TextTimer(&#123; isCountDown: true, count: 30000, controller: this.textTimerController &#125;)
        .format(this.format)
        .fontColor(Color.Black)
        .fontSize(50)
        .onTimer((utc: number, elapsedTime: number) =&gt; &#123;
          console.info(&#39;textTimer notCountDown utc is：&#39; + utc + &#39;, elapsedTime: &#39; + elapsedTime)
        &#125;)
        .onAppear(() =&gt; &#123;
          this.textTimerController.start()
        &#125;)
    &#125;
  &#125;
&#125;
</code></pre>
<p><img src="/../images/HarmonyOS%20Next%20%E8%AE%A1%E6%97%B6%E5%99%A8%E7%BB%84%E4%BB%B6%E8%AF%A6%E8%A7%A3-1.gif"></p>
<h3 id="Usage-Limitations"><a href="#Usage-Limitations" class="headerlink" title="Usage Limitations"></a>Usage Limitations</h3><p>For forward-counting scenarios, the timer always starts from 0, but some scenarios require starting from a specific time. For example, in page switching during a video call, the full-screen and floating-window pages should have continuous timing instead of restarting from 0. How to achieve this?  </p>
<p><code>TextTimer</code> provides a content area customization method <code>contentModifier</code>, which requires implementing <code>ContentModifier&lt;TextTimerConfiguration&gt;</code>:  </p>
<ol>
<li>First, implement <code>MyTextTimerModifier</code> and encapsulate the <code>Builder</code> method in the <code>applyContent</code> method.  </li>
<li>Customize the UI in the custom <code>Builder</code> method.  </li>
<li>Configure the custom <code>MyTextTimerModifier</code> to <code>TextTimer</code> using <code>contentModifier</code>.  </li>
<li>Remove color and font configurations from <code>TextTimer</code> and configure them in the custom UI.  </li>
<li>The <code>format</code> setting affects the unit of <code>elapsedTime</code>.  </li>
<li>Adding an initial value to <code>config.elapsedTime</code> starts timing from a specific time.  </li>
<li>Convert seconds to the <code>mm:ss</code> format.</li>
</ol>
<p><strong>Code example</strong>:  </p>
<pre><code class="language-typescript">let startTime: number = 100;  

function formatData(diffTimeBySecond: number): string &#123;  
  const hours = Math.floor(diffTimeBySecond / 3600);  
  const minutes = Math.floor((diffTimeBySecond % 3600) / 60);  
  const remainingSeconds = Math.floor(diffTimeBySecond % 60);  
  
  // Zero-padding function  
  const pad = (num: number) =&gt; num.toString().padStart(2, &#39;0&#39;);  
  
  return hours &gt; 0  
    ? `$&#123;pad(hours)&#125;:$&#123;pad(minutes)&#125;:$&#123;pad(remainingSeconds)&#125;`  
    : `$&#123;pad(minutes)&#125;:$&#123;pad(remainingSeconds)&#125;`;  
&#125;  
class MyTextTimerModifier implements ContentModifier&lt;TextTimerConfiguration&gt; &#123;  
  constructor() &#123;  
  &#125;  
  applyContent(): WrappedBuilder&lt;[TextTimerConfiguration]&gt; &#123;  
    return wrapBuilder(buildTextTimer)  
  &#125;  
&#125;  
  
@Builder  
function buildTextTimer(config: TextTimerConfiguration) &#123;  
  Column() &#123;  
      Column() &#123;  
        Text(formatData(config.elapsedTime + startTime)).fontColor(Color.Red)  
    &#125;  
  &#125;&#125;  
  
@Entry  
@Component  
struct Index &#123;  
  @State count: number = 10000  
  @State myTimerModifier: MyTextTimerModifier = new MyTextTimerModifier()  
  countUpTextTimerController: TextTimerController = new TextTimerController()  
  
  build() &#123;  
    Row() &#123;  
      Column() &#123;  
        TextTimer(&#123; isCountDown: false, controller: this.countUpTextTimerController &#125;)  
          .contentModifier(this.myTimerModifier)  
          .onTimer((utc: number, elapsedTime: number) =&gt; &#123;  
            console.info(&#39;textTimer onTimer utc is：&#39; + utc + &#39;, elapsedTime: &#39; + elapsedTime)  
          &#125;)  
        Row() &#123;  
          Button(&quot;start&quot;).onClick(() =&gt; &#123;  
            this.countUpTextTimerController.start()  
          &#125;).margin(10)  
          Button(&quot;pause&quot;).onClick(() =&gt; &#123;  
            this.countUpTextTimerController.pause()  
          &#125;).margin(10)  
          Button(&quot;reset&quot;).onClick(() =&gt; &#123;  
            this.countUpTextTimerController.reset()  
          &#125;).margin(10)  
        &#125;.margin(20)  
      &#125;.width(&#39;100%&#39;)  
    &#125;.height(&#39;100%&#39;)  
  &#125;  
&#125;
</code></pre>
<p>Final effect:<br><img src="/../images/HarmonyOS%20Next%20%E8%AE%A1%E6%97%B6%E5%99%A8%E7%BB%84%E4%BB%B6%E8%AF%A6%E8%A7%A3-2.gif"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/27/B-In-depth-Analysis-of-HarmonyOS-Next-Ark-Bytecode-Principles-Architecture-Features-and-Practical-Applications/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/27/B-In-depth-Analysis-of-HarmonyOS-Next-Ark-Bytecode-Principles-Architecture-Features-and-Practical-Applications/" class="post-title-link" itemprop="url">In-depth Analysis of HarmonyOS Next Ark Bytecode Principles: Architecture, Features and Practical Applications</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-27 10:33:47 / Modified: 10:34:06" itemprop="dateCreated datePublished" datetime="2025-06-27T10:33:47+08:00">2025-06-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/HarmonyOS-Next-Tech/" itemprop="url" rel="index"><span itemprop="name">HarmonyOS Next Tech</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="In-depth-Analysis-of-HarmonyOS-Next-Ark-Bytecode-Principles-Architecture-Features-and-Practical-Applications"><a href="#In-depth-Analysis-of-HarmonyOS-Next-Ark-Bytecode-Principles-Architecture-Features-and-Practical-Applications" class="headerlink" title="In-depth Analysis of HarmonyOS Next Ark Bytecode Principles: Architecture, Features and Practical Applications"></a>In-depth Analysis of HarmonyOS Next Ark Bytecode Principles: Architecture, Features and Practical Applications</h1><h2 id="I-Introduction"><a href="#I-Introduction" class="headerlink" title="I. Introduction"></a>I. Introduction</h2><p>In the context of the rapid development of the software industry, the performance, development efficiency, and cross-platform compatibility of applications have become core concerns for developers. As a key tool in the software development process, the performance and features of a compiler directly affect software quality and development cycles. Huawei’s Ark Compiler is an innovative solution designed to meet these needs. Ark Bytecode, as the core product of the Ark Compiler, plays a crucial role in the entire compilation and runtime process. It serves not only as an intermediate bridge for code transformation from high-level languages to machine-executable forms but also embodies numerous optimized and innovative design concepts. Based on Huawei Developer Documentation (<a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-bytecode-fundamentals-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-bytecode-fundamentals-V5</a>), this article provides a comprehensive and in-depth exploration of Ark Bytecode principles, analyzing its architecture, features, and practical application scenarios through rich examples to help developers better understand and leverage this advanced technology.  </p>
<h2 id="II-Fundamental-Architecture-of-Ark-Bytecode"><a href="#II-Fundamental-Architecture-of-Ark-Bytecode" class="headerlink" title="II. Fundamental Architecture of Ark Bytecode"></a>II. Fundamental Architecture of Ark Bytecode</h2><h3 id="2-1-Nature-and-Role-of-Bytecode"><a href="#2-1-Nature-and-Role-of-Bytecode" class="headerlink" title="2.1 Nature and Role of Bytecode"></a>2.1 Nature and Role of Bytecode</h3><p>Ark Bytecode is a binary file generated by the Ark Compiler after compiling ArkTS&#x2F;TS&#x2F;JS code. Macroscopically, it serves as an intermediate representation (IR) between high-level programming languages and low-level machine code. High-level language code features rich syntax structures and human-readable expressions but cannot be directly executed by computers. Machine code, conversely, is binary instructions directly recognizable by computers, yet writing and maintaining it is extremely challenging for developers. Ark Bytecode resolves this contradiction by transforming high-level language logic into a unified, processable intermediate form that preserves code semantics while facilitating subsequent optimization and execution. The Ark runtime can interpret and execute bytecode, enabling programs to run on different hardware platforms and operating systems, thus achieving cross-platform compatibility.  </p>
<h3 id="2-2-Detailed-Explanation-of-Instruction-Composition"><a href="#2-2-Detailed-Explanation-of-Instruction-Composition" class="headerlink" title="2.2 Detailed Explanation of Instruction Composition"></a>2.2 Detailed Explanation of Instruction Composition</h3><p>An Ark Bytecode instruction consists of an opcode (instruction name) and an argument list. The opcode is the core identifier of an instruction, determining the specific operation it performs. Opcodes are categorized into prefix-free and prefixed types:  </p>
<ul>
<li><strong>Prefix-free opcodes</strong> are typically encoded as 8-bit values. This design prioritizes frequently used instructions, reducing instruction encoding length to save storage and improve execution efficiency.  </li>
<li><strong>Prefixed opcodes</strong> (16-bit) address the limitation of 256 8-bit opcodes as compiler functionality expands. Stored in little-endian format, they combine an 8-bit prefix with an 8-bit opcode (encoded as <code>opcode &lt;&lt; 8 | prefix</code>). Specific prefixes serve distinct purposes:  <ul>
<li><strong>0xfe (throw)</strong>: Conditional&#x2F;unconditional throw instructions for exception handling.  </li>
<li><strong>0xfd (wide)</strong>: Instructions with wider immediate values, IDs, or register indices.  </li>
<li><strong>0xfc (deprecated)</strong>: Instructions no longer generated by the compiler but maintained for runtime compatibility.  </li>
<li><strong>0xfb (callruntime)</strong>: Instructions for invoking runtime methods.</li>
</ul>
</li>
</ul>
<p><strong>Example of a complex ArkTS function</strong>:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">calculate</span>(<span class="params"><span class="attr">a</span>: <span class="built_in">number</span>, <span class="attr">b</span>: <span class="built_in">number</span>, <span class="attr">operation</span>: <span class="built_in">string</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (operation === <span class="string">&#x27;+&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (operation === <span class="string">&#x27;-&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> a - b;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string">**Corresponding Ark Bytecode instructions**:  </span></span><br></pre></td></tr></table></figure>
<p>.function any .calculate(any a0, any a1, any a2) {<br>    lda a2<br>    ldstr 0x0  ; Load string ‘+’<br>    cmp_eq<br>    bz 0x8    ; Jump if not equal<br>    lda a0<br>    sta v0<br>    lda a1<br>    add2 0x1, v0<br>    return<br>.label 0x8<br>    lda a2<br>    ldstr 0x1  ; Load string ‘-‘<br>    cmp_eq<br>    bz 0x14   ; Jump if not equal<br>    lda a0<br>    sta v0<br>    lda a1<br>    sub2 0x1, v0<br>    return<br>.label 0x14<br>    ldai 0x0<br>    return<br>}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">In this example, `lda` loads parameters/constants into registers; `ldstr` loads strings; `cmp_eq` compares values; `bz` enables conditional jumps; `add2` and `sub2` perform arithmetic operations. These opcodes and arguments implement the function&#x27;s logic and calculations.  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 2.3 In-depth Understanding of Registers and Accumulators  </span><br><span class="line">The Ark Virtual Machine (VM) model is register-based, with all registers being virtual. Registers temporarily store data during program execution:  </span><br><span class="line">- For primitive types (e.g., integers, floats), registers are 64-bit wide.  </span><br><span class="line">- For object types, registers are wide enough to hold object references.  </span><br><span class="line"></span><br><span class="line">The **accumulator (acc)** is a special invisible register serving as the default target and parameter for many instructions. Its use simplifies instruction encoding (e.g., `lda` loads values into `acc` for subsequent operations), reduces encoding width, and improves execution efficiency by minimizing register data transfers and memory accesses.  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## III. Value Storage Methods of Ark Bytecode  </span><br><span class="line"></span><br><span class="line">### 3.1 Global Variables  </span><br><span class="line">In Script compilation mode, global variables are stored in a global unique map (key-value pairs, where keys are variable names and values are variable values). Global variables exist throughout the program lifecycle and can be accessed by any function, with access/operations enabled via global-related instructions.  </span><br><span class="line"></span><br><span class="line">**Example ArkTS code**:  </span><br><span class="line">```typescript</span><br><span class="line">let globalCounter = 0;</span><br><span class="line">function incrementGlobal() &#123;</span><br><span class="line">    globalCounter++;</span><br><span class="line">&#125;</span><br><span class="line">function getGlobalCounter() &#123;</span><br><span class="line">    return globalCounter;</span><br><span class="line">&#125;</span><br><span class="line">```  </span><br><span class="line">**Corresponding bytecode instructions** (simplified):  </span><br></pre></td></tr></table></figure>
<p>tryldglobalbyname 0x0, globalCounter<br>sta v0<br>ldai 0x1<br>add2 0x1, v0<br>trystglobalbyname 0x2, globalCounter</p>
<p>.function any .getGlobalCounter(any a0, any a1, any a2) {<br>    tryldglobalbyname 0x0, globalCounter<br>    return<br>}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">- `tryldglobalbyname` attempts to load `globalCounter` into `acc` (throws an exception if not found).  </span><br><span class="line">- `trystglobalbyname` stores `acc` value into `globalCounter`.  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 3.2 Module Namespaces and Module Variables  </span><br><span class="line">In modern software development, modularization improves code maintainability and reusability. Module namespaces and variables used in source files are compiled into arrays, with instructions referencing them via indices. Module variables include local and external types, loaded by different instructions.  </span><br><span class="line"></span><br><span class="line">**Example ArkTS code**:  </span><br><span class="line">```typescript</span><br><span class="line">// module.ts</span><br><span class="line">export let moduleVar = 100;</span><br><span class="line"></span><br><span class="line">// main.ts</span><br><span class="line">import &#123; moduleVar &#125; from &#x27;./module&#x27;;</span><br><span class="line">function useModuleVar() &#123;</span><br><span class="line">    return moduleVar * 2;</span><br><span class="line">&#125;</span><br><span class="line">```  </span><br><span class="line">**Corresponding bytecode instructions**:  </span><br></pre></td></tr></table></figure>
<p>ldexternalmodulevar 0x0<br>sta v0<br>ldai 0x2<br>mul2 0x1, v0<br>return</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">`ldexternalmodulevar` loads `moduleVar` from the external module into register `v0`, followed by multiplication and return via `mul2`.  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 3.3 Lexical Environments and Lexical Variables  </span><br><span class="line">Lexical environments and variables are crucial for functional programming and closure implementation. A lexical environment is an array of slots, each corresponding to a lexical variable. A method may associate with multiple lexical environments, with instructions specifying variables via relative hierarchy numbers and slot indices.  </span><br><span class="line"></span><br><span class="line">**Example ArkTS closure code**:  </span><br><span class="line">```typescript</span><br><span class="line">function outerFunction() &#123;</span><br><span class="line">    let outerVariable = 10;</span><br><span class="line">    function innerFunction() &#123;</span><br><span class="line">        let innerVariable = 5;</span><br><span class="line">        return outerVariable + innerVariable;</span><br><span class="line">    &#125;</span><br><span class="line">    return innerFunction;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let closure = outerFunction();</span><br><span class="line">let result = closure();</span><br><span class="line">```  </span><br><span class="line">**Bytecode instruction analysis**:  </span><br></pre></td></tr></table></figure>
<p>.function any .outerFunction(any a0, any a1, any a2) {<br>    newlexenv 0x1<br>    ldai 0xa<br>    stlexvar 0x0, 0x0<br>    definefunc 0x0, .innerFunction, 0x0<br>    sta v0<br>    return<br>}</p>
<p>.function any .innerFunction(any a0, any a1, any a2) {<br>    ldai 0x5<br>    sta v1<br>    ldlexvar 0x0, 0x0<br>    sta v0<br>    lda v1<br>    add2 0x1, v0<br>    return<br>}</p>
<pre><code>- `newlexenv 0x1`: Creates a lexical environment with 1 slot, enters it, and stores it in `acc`.  
- `stlexvar 0x0, 0x0`: Stores `outerVariable` (10) into slot 0 of the lexical environment 0 levels away.  
- `ldlexvar 0x0, 0x0`: Loads `outerVariable` from slot 0 of the lexical environment 0 levels away into `acc` within `innerFunction`.  

This mechanism ensures closures can correctly access outer scope variables even after the outer function has executed.  


### 3.4 Shared Lexical Environments  
A shared lexical environment is a special type where each lexical variable has a `sendable` attribute, enabling safe cross-execution-context sharing. This is critical for multithreading or distributed computing.  

**Example in a multithreaded scenario**:  
```typescript
function createSharedEnv() &#123;
    let sharedVariable = 0;
    function increment() &#123;
        sharedVariable++;
    &#125;
    function getValue() &#123;
        return sharedVariable;
    &#125;
    return &#123; increment, getValue &#125;;
&#125;

let shared = createSharedEnv();
// Multiple threads/contexts can call shared.increment() and shared.getValue()
</code></pre>
<p>Bytecode for shared lexical environments uses special instructions (e.g., synchronization) to ensure thread-safe access to shared variables, preventing data races.  </p>
<h2 id="IV-Advantages-and-Application-Scenarios-of-Ark-Bytecode"><a href="#IV-Advantages-and-Application-Scenarios-of-Ark-Bytecode" class="headerlink" title="IV. Advantages and Application Scenarios of Ark Bytecode"></a>IV. Advantages and Application Scenarios of Ark Bytecode</h2><h3 id="4-1-Advantages"><a href="#4-1-Advantages" class="headerlink" title="4.1 Advantages"></a>4.1 Advantages</h3><h4 id="4-1-1-Performance-Optimization"><a href="#4-1-1-Performance-Optimization" class="headerlink" title="4.1.1 Performance Optimization"></a>4.1.1 Performance Optimization</h4><p>Ark Bytecode excels in performance optimization through its well-designed instruction set and value storage:  </p>
<ul>
<li>The accumulator reduces memory accesses and instruction length.  </li>
<li>Compile-time optimizations include constant folding, dead code elimination, and inlining of frequently executed code blocks.</li>
</ul>
<p><strong>Example of inlining optimization</strong>:  </p>
<pre><code class="language-typescript">function square(x: number) &#123;
    return x * x;
&#125;

let result = square(5);
</code></pre>
<p>The compiler may inline <code>square(5)</code> as <code>5 * 5</code>, calculating the constant 25 at compile time for direct return, enhancing efficiency.  </p>
<h4 id="4-1-2-Cross-Platform-Compatibility"><a href="#4-1-2-Cross-Platform-Compatibility" class="headerlink" title="4.1.2 Cross-Platform Compatibility"></a>4.1.2 Cross-Platform Compatibility</h4><p>As an intermediate representation, Ark Bytecode ensures cross-platform compatibility. It can be interpreted by the Ark runtime across hardware platforms and OSes, allowing “write once, run anywhere” development. For example, an ArkTS app compiled into bytecode runs on HarmonyOS-powered phones, tablets, and smartwatches, reducing development and maintenance costs.  </p>
<h4 id="4-1-3-Improved-Development-Efficiency"><a href="#4-1-3-Improved-Development-Efficiency" class="headerlink" title="4.1.3 Improved Development Efficiency"></a>4.1.3 Improved Development Efficiency</h4><p>The Ark Compiler quickly compiles high-level code into bytecode, reducing development and debugging time. The intermediate representation also facilitates debugging and optimization through specialized tools. The concise, unified instruction set helps developers understand execution logic, further boosting efficiency.  </p>
<h2 id="V-Conclusion"><a href="#V-Conclusion" class="headerlink" title="V. Conclusion"></a>V. Conclusion</h2><p>Ark Bytecode, as the core product of the Ark Compiler, holds a pivotal position in modern software development. By deeply understanding its fundamental architecture, value storage methods, advantages, and application scenarios, developers can fully leverage its capabilities to significantly enhance program performance and development efficiency. Its unique instruction design, diverse value storage mechanisms, and outstanding performance in optimization and cross-platform compatibility enable broad applications across multiple domains.  </p>
<p>The architecture—with opcodes and prefixes balancing efficiency and extensibility, and registers&#x2F;accumulators optimizing execution—forms a robust foundation. Value storage designs (global variables, module systems, lexical environments, and shared environments) provide flexible support for variable management, especially in closures and multithreading.  </p>
<p>Huawei Developer Documentation (<a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-bytecode-fundamentals-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-bytecode-fundamentals-V5</a>) serves as a comprehensive resource for in-depth learning. By exploring Ark Bytecode’s potential through this documentation, developers can contribute innovative solutions to the software industry. As technology advances, Ark Bytecode is poised to showcase its unique strengths in broader fields, driving progress in the software industry.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/27/B-Introduction-to-HarmonyOS-Next-Ark-Bytecode-File-Format/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/27/B-Introduction-to-HarmonyOS-Next-Ark-Bytecode-File-Format/" class="post-title-link" itemprop="url">Introduction to HarmonyOS Next Ark Bytecode File Format</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-27 10:30:12 / Modified: 11:32:28" itemprop="dateCreated datePublished" datetime="2025-06-27T10:30:12+08:00">2025-06-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/HarmonyOS-Next-Tech/" itemprop="url" rel="index"><span itemprop="name">HarmonyOS Next Tech</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Introduction-to-HarmonyOS-Next-Ark-Bytecode-File-Format"><a href="#Introduction-to-HarmonyOS-Next-Ark-Bytecode-File-Format" class="headerlink" title="Introduction to HarmonyOS Next Ark Bytecode File Format"></a>Introduction to HarmonyOS Next Ark Bytecode File Format</h3><p>In development, human-readable programming languages must be compiled into binary bytecode formats to be recognized by machines. In HarmonyOS Next development, ArkTS is compiled into Ark Bytecode. What does Ark Bytecode look like? Take an ABC file compiled from a demo as an example:  </p>
<p><img src="/../images/HarmonyOS%20Next%20%E6%96%B9%E8%88%9F%E5%AD%97%E8%8A%82%E7%A0%81%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F%E4%BB%8B%E7%BB%8D.png"></p>
<p>Binary files appear like this. How can we understand them? We need to grasp the file format of Ark Bytecode.  </p>
<h3 id="Bytecode-File-Layout"><a href="#Bytecode-File-Layout" class="headerlink" title="Bytecode File Layout"></a>Bytecode File Layout</h3><p>In the figure above, we see the recognizable letters “PANDA”. What do they mean? First, let’s understand the bytecode file layout.  </p>
<p>A bytecode file starts with a <strong>Header</strong> structure. All structures in the file can be accessed directly or indirectly from the Header. References in the bytecode file include <strong>offsets</strong> (32-bit values indicating the distance from the file header, starting at 0) and <strong>indices</strong> (16-bit values indicating positions in index regions).  </p>
<h4 id="Header"><a href="#Header" class="headerlink" title="Header"></a>Header</h4><p>Let’s examine the <strong>Header</strong> structure:  </p>
<table>
<thead>
<tr>
<th align="left"><strong>Name</strong></th>
<th align="left"><strong>Format</strong></th>
<th align="left"><strong>Description</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left">magic</td>
<td align="left">uint8_t[8]</td>
<td align="left">File header magic number. Must be ‘P’ ‘A’ ‘N’ ‘D’ ‘A’ ‘\0’ ‘\0’ ‘\0’.</td>
</tr>
<tr>
<td align="left">checksum</td>
<td align="left">uint32_t</td>
<td align="left">Adler32 checksum of the bytecode file content excluding the magic number and this field.</td>
</tr>
<tr>
<td align="left">version</td>
<td align="left">uint8_t[4]</td>
<td align="left">Bytecode file version (Major.Minor.Feature.Build).</td>
</tr>
<tr>
<td align="left">file_size</td>
<td align="left">uint32_t</td>
<td align="left">Total size of the bytecode file in bytes.</td>
</tr>
<tr>
<td align="left">foreign_off</td>
<td align="left">uint32_t</td>
<td align="left">Offset to the <strong>Foreign</strong> region, which contains ForeignClass or ForeignMethod elements.</td>
</tr>
<tr>
<td align="left">foreign_size</td>
<td align="left">uint32_t</td>
<td align="left">Size of the <strong>Foreign</strong> region in bytes.</td>
</tr>
<tr>
<td align="left">num_classes</td>
<td align="left">uint32_t</td>
<td align="left">Number of ClassIndex elements (i.e., classes defined in the file).</td>
</tr>
<tr>
<td align="left">class_idx_off</td>
<td align="left">uint32_t</td>
<td align="left">Offset to the <strong>ClassIndex</strong> structure.</td>
</tr>
<tr>
<td align="left">num_lnps</td>
<td align="left">uint32_t</td>
<td align="left">Number of LineNumberProgramIndex elements (i.e., line number programs).</td>
</tr>
<tr>
<td align="left">lnp_idx_off</td>
<td align="left">uint32_t</td>
<td align="left">Offset to the <strong>LineNumberProgramIndex</strong> structure.</td>
</tr>
<tr>
<td align="left">reserved</td>
<td align="left">uint32_t</td>
<td align="left">Reserved field for internal use by Ark Bytecode.</td>
</tr>
<tr>
<td align="left">reserved</td>
<td align="left">uint32_t</td>
<td align="left">Reserved field for internal use by Ark Bytecode.</td>
</tr>
<tr>
<td align="left">num_index_regions</td>
<td align="left">uint32_t</td>
<td align="left">Number of IndexSection elements (i.e., IndexHeaders in the file).</td>
</tr>
<tr>
<td align="left">index_section_off</td>
<td align="left">uint32_t</td>
<td align="left">Offset to the <strong>IndexSection</strong> structure.</td>
</tr>
</tbody></table>
<ul>
<li><strong>magic</strong>: The initial bytes 0x50, 0x41, 0x4e, 0x44, 0x41 correspond to the ASCII code for “PANDA”, followed by three 0s.  </li>
<li><strong>checksum</strong>: Four-byte checksum (e.g., 0x5d, 0xe8, 0xde, 0xdf).  </li>
<li><strong>version</strong>: Four-byte version number (e.g., 0x0C, 0x00, 0x06, 0x00).  </li>
<li>…</li>
</ul>
<h4 id="Version"><a href="#Version" class="headerlink" title="Version"></a>Version</h4><p>The bytecode version number consists of four parts: <strong>Major.Minor.Feature.Build</strong>.  </p>
<table>
<thead>
<tr>
<th align="left"><strong>Name</strong></th>
<th align="left"><strong>Format</strong></th>
<th align="left"><strong>Description</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left">Major Version</td>
<td align="left">uint8_t</td>
<td align="left">Indicates bytecode format changes due to overall architecture adjustments.</td>
</tr>
<tr>
<td align="left">Minor Version</td>
<td align="left">uint8_t</td>
<td align="left">Indicates changes due to partial architecture or major feature adjustments.</td>
</tr>
<tr>
<td align="left">Feature Version</td>
<td align="left">uint8_t</td>
<td align="left">Indicates changes from minor to medium feature additions.</td>
</tr>
<tr>
<td align="left">Build Version</td>
<td align="left">uint8_t</td>
<td align="left">Indicates changes from bug fixes.</td>
</tr>
</tbody></table>
<h4 id="ForeignClass"><a href="#ForeignClass" class="headerlink" title="ForeignClass"></a>ForeignClass</h4><p>Describes external classes declared in other files but referenced in the current bytecode file.  </p>
<table>
<thead>
<tr>
<th align="left"><strong>Name</strong></th>
<th align="left"><strong>Format</strong></th>
<th align="left"><strong>Description</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left">name</td>
<td align="left">String</td>
<td align="left">Name of the external class, following TypeDescriptor syntax.</td>
</tr>
</tbody></table>
<h4 id="ForeignMethod"><a href="#ForeignMethod" class="headerlink" title="ForeignMethod"></a>ForeignMethod</h4><p>Describes external methods declared in other files but referenced in the current bytecode file.  </p>
<table>
<thead>
<tr>
<th align="left"><strong>Name</strong></th>
<th align="left"><strong>Format</strong></th>
<th align="left"><strong>Description</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left">class_idx</td>
<td align="left">uint16_t</td>
<td align="left">Index pointing to the class this method belongs to (a position in ClassRegionIndex, whose value is an offset to a Class or ForeignClass).</td>
</tr>
<tr>
<td align="left">reserved</td>
<td align="left">uint16_t</td>
<td align="left">Reserved field for internal use.</td>
</tr>
<tr>
<td align="left">name_off</td>
<td align="left">uint32_t</td>
<td align="left">Offset to the method name string.</td>
</tr>
<tr>
<td align="left">index_data</td>
<td align="left">uleb128</td>
<td align="left">Method’s MethodIndexData.</td>
</tr>
</tbody></table>
<p>The <code>class_idx</code> can be resolved by finding the appropriate <strong>IndexHeader</strong> via the <code>ForeignMethod</code> offset.  </p>
<h3 id="Other-Structures"><a href="#Other-Structures" class="headerlink" title="Other Structures"></a>Other Structures</h3><p>Additional structures include <strong>Class</strong>, <strong>ClassAccessFlag</strong>, <strong>Field</strong>, <strong>Method</strong>, <strong>Code</strong>, <strong>TryBlock</strong>, <strong>CatchBlock</strong>, <strong>Annotation</strong>, <strong>LineNumberProgramIndex</strong>, <strong>DebugInfo</strong>, <strong>IndexSection</strong>, <strong>IndexHeader</strong>, <strong>ClassRegionIndex</strong>, <strong>Type</strong>, <strong>LiteralArray</strong>, and <strong>Literal</strong>. Detailed explanations are omitted here.  </p>
<h3 id="Bytecode-File-Data-Types"><a href="#Bytecode-File-Data-Types" class="headerlink" title="Bytecode File Data Types"></a>Bytecode File Data Types</h3><h4 id="Integers"><a href="#Integers" class="headerlink" title="Integers"></a>Integers</h4><table>
<thead>
<tr>
<th align="left"><strong>Name</strong></th>
<th align="left"><strong>Description</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left">uint8_t</td>
<td align="left">8-bit unsigned integer.</td>
</tr>
<tr>
<td align="left">uint16_t</td>
<td align="left">16-bit unsigned integer (little-endian).</td>
</tr>
<tr>
<td align="left">uint32_t</td>
<td align="left">32-bit unsigned integer (little-endian).</td>
</tr>
<tr>
<td align="left">uleb128</td>
<td align="left">Unsigned LEB128-encoded integer.</td>
</tr>
<tr>
<td align="left">sleb128</td>
<td align="left">Signed LEB128-encoded integer.</td>
</tr>
</tbody></table>
<h4 id="Strings"><a href="#Strings" class="headerlink" title="Strings"></a>Strings</h4><table>
<thead>
<tr>
<th align="left"><strong>Name</strong></th>
<th align="left"><strong>Format</strong></th>
<th align="left"><strong>Description</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left">utf16_length</td>
<td align="left">uleb128</td>
<td align="left">Value: <code>len &lt;&lt; 1 | is_ascii</code>, where <code>len</code> is the UTF-16 string length, and <code>is_ascii</code> (0&#x2F;1) indicates ASCII-only characters.</td>
</tr>
<tr>
<td align="left">data</td>
<td align="left">uint8_t[]</td>
<td align="left">Null-terminated MUTF-8 encoded character sequence.</td>
</tr>
</tbody></table>
<h4 id="TaggedValue"><a href="#TaggedValue" class="headerlink" title="TaggedValue"></a>TaggedValue</h4><table>
<thead>
<tr>
<th align="left"><strong>Name</strong></th>
<th align="left"><strong>Format</strong></th>
<th align="left"><strong>Description</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left">tag</td>
<td align="left">uint8_t</td>
<td align="left">Tag indicating the data type.</td>
</tr>
<tr>
<td align="left">data</td>
<td align="left">uint8_t[]</td>
<td align="left">Data content (type varies based on the tag; may be empty).</td>
</tr>
</tbody></table>
<p><strong>Note</strong>: All multi-byte values in the bytecode file use <strong>little-endian</strong> byte order.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/27/B-Mastering-HarmonyOS-Next-System-Resource-Usage-in-One-Article/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/27/B-Mastering-HarmonyOS-Next-System-Resource-Usage-in-One-Article/" class="post-title-link" itemprop="url">Mastering HarmonyOS Next System Resource Usage in One Article</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-27 10:25:02 / Modified: 10:27:18" itemprop="dateCreated datePublished" datetime="2025-06-27T10:25:02+08:00">2025-06-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Mastering-HarmonyOS-Next-System-Resource-Usage-in-One-Article"><a href="#Mastering-HarmonyOS-Next-System-Resource-Usage-in-One-Article" class="headerlink" title="Mastering HarmonyOS Next System Resource Usage in One Article"></a>Mastering HarmonyOS Next System Resource Usage in One Article</h3><p><img src="/../images/%E4%B8%80%E6%96%87%E6%90%9E%E5%AE%9A%20HarmonyOS%20Next%20%E7%B3%BB%E7%BB%9F%E8%B5%84%E6%BA%90%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95.png"></p>
<p>The typical app development process requires design drafts and annotated cutouts before formal development. However, when writing demo or sample programs that need resources like icons and colors, design assets might not be available. The common approach is to find resources on third-party design websites, but HarmonyOS has built-in design icons that reduce both search costs and package size. This article introduces HarmonyOS Next’s system resources and their usage.  </p>
<p>The <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/design/harmonyos-symbol/">official design document</a> module lists all system icon resources:  </p>
<p><img src="/../images/%E4%B8%80%E6%96%87%E6%90%9E%E5%AE%9A%20HarmonyOS%20Next%20%E7%B3%BB%E7%BB%9F%E8%B5%84%E6%BA%90%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95-1.png"></p>
<p>It includes 15 categories with 433 icon symbols. The right panel allows modifying icon weight, style, and color:<br><img src="/../images/%E4%B8%80%E6%96%87%E6%90%9E%E5%AE%9A%20HarmonyOS%20Next%20%E7%B3%BB%E7%BB%9F%E8%B5%84%E6%BA%90%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95-2.png"></p>
<p>Seven animation effects for icons can also be viewed:<br><img src="/../images/%E4%B8%80%E6%96%87%E6%90%9E%E5%AE%9A%20HarmonyOS%20Next%20%E7%B3%BB%E7%BB%9F%E8%B5%84%E6%BA%90%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95-3.png"></p>
<h3 id="Using-System-Resources-in-Code"><a href="#Using-System-Resources-in-Code" class="headerlink" title="Using System Resources in Code"></a>Using System Resources in Code</h3><p>HarmonyOS Next provides the <code>SymbolGlyph</code> component for displaying icon symbols, supporting the following key attributes:  </p>
<ul>
<li><code>fontColor(value: Array&lt;ResourceColor&gt;)</code>: Sets the component color.  </li>
<li><code>fontSize(value: number | string | Resource)</code>: Sets the component size. The icon display size is controlled by <code>fontSize</code>, while <code>width</code>&#x2F;<code>height</code> only affect the component’s placeholder size.  </li>
<li><code>fontWeight(value: number | FontWeight | string)</code>: Sets the component weight. Number values range from <code>100</code> to <code>900</code> (step 100, default <code>400</code>); string values support numeric strings (e.g., “400”) and keywords like <code>bold</code>, <code>bolder</code>, <code>lighter</code>, <code>regular</code>, <code>medium</code>.  </li>
<li><code>renderingStrategy(value: SymbolRenderingStrategy)</code>: Sets rendering strategies (monochrome, layered, multicolor).  </li>
<li><code>effectStrategy(value: SymbolEffectStrategy)</code>: Sets animation effect strategies.  </li>
<li><code>symbolEffect(symbolEffect: SymbolEffect, isActive?: boolean)</code>: Sets the effect and play state.  </li>
<li><code>symbolEffect(symbolEffect: SymbolEffect, triggerValue?: number)</code>: Sets the effect and trigger condition.</li>
</ul>
<h3 id="Rendering-and-Effect-Strategy-Example"><a href="#Rendering-and-Effect-Strategy-Example" class="headerlink" title="Rendering and Effect Strategy Example"></a>Rendering and Effect Strategy Example</h3><p>The following demo shows different rendering and effect strategies via <code>renderingStrategy</code> and <code>effectStrategy</code>:  </p>
<pre><code class="language-typescript">// xxx.ets
@Entry
@Component
struct Index &#123;
  build() &#123;
    Column() &#123;
      Row() &#123;
        Column() &#123;
          Text(&quot;Light&quot;)
          SymbolGlyph($r(&#39;sys.symbol.ohos_trash&#39;))
            .fontWeight(FontWeight.Lighter)
            .fontSize(96)
        &#125;

        Column() &#123;
          Text(&quot;Normal&quot;)
          SymbolGlyph($r(&#39;sys.symbol.ohos_trash&#39;))
            .fontWeight(FontWeight.Normal)
            .fontSize(96)
        &#125;

        Column() &#123;
          Text(&quot;Bold&quot;)
          SymbolGlyph($r(&#39;sys.symbol.ohos_trash&#39;))
            .fontWeight(FontWeight.Bold)
            .fontSize(96)
        &#125;
      &#125;

      Row() &#123;
        Column() &#123;
          Text(&quot;Monochrome&quot;)
          SymbolGlyph($r(&#39;sys.symbol.ohos_folder_badge_plus&#39;))
            .fontSize(96)
            .renderingStrategy(SymbolRenderingStrategy.SINGLE)
            .fontColor([Color.Black, Color.Green, Color.White])
        &#125;

        Column() &#123;
          Text(&quot;Multicolor&quot;)
          SymbolGlyph($r(&#39;sys.symbol.ohos_folder_badge_plus&#39;))
            .fontSize(96)
            .renderingStrategy(SymbolRenderingStrategy.MULTIPLE_COLOR)
            .fontColor([Color.Black, Color.Green, Color.White])
        &#125;

        Column() &#123;
          Text(&quot;Layered&quot;)
          SymbolGlyph($r(&#39;sys.symbol.ohos_folder_badge_plus&#39;))
            .fontSize(96)
            .renderingStrategy(SymbolRenderingStrategy.MULTIPLE_OPACITY)
            .fontColor([Color.Black, Color.Green, Color.White])
        &#125;
      &#125;

      Row() &#123;
        Column() &#123;
          Text(&quot;No Effect&quot;)
          SymbolGlyph($r(&#39;sys.symbol.ohos_wifi&#39;))
            .fontSize(96)
            .effectStrategy(SymbolEffectStrategy.NONE)
        &#125;

        Column() &#123;
          Text(&quot;Overall Scale Effect&quot;)
          SymbolGlyph($r(&#39;sys.symbol.ohos_wifi&#39;))
            .fontSize(96)
            .effectStrategy(1)
        &#125;

        Column() &#123;
          Text(&quot;Layered Effect&quot;)
          SymbolGlyph($r(&#39;sys.symbol.ohos_wifi&#39;))
            .fontSize(96)
            .effectStrategy(2)
        &#125;
      &#125;
    &#125;
  &#125;
&#125;
</code></pre>
<p><img src="/../images/%E4%B8%80%E6%96%87%E6%90%9E%E5%AE%9A%20HarmonyOS%20Next%20%E7%B3%BB%E7%BB%9F%E8%B5%84%E6%BA%90%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95.gif"></p>
<p>System components are accessed via <code>SymbolGlyph($r(&#39;sys.symbol.ohos_wifi&#39;))</code>. The general formula is <code>$r(&#39;sys.type.resource_name&#39;)</code>, where:  </p>
<ul>
<li><code>sys</code> denotes system resources.  </li>
<li><code>type</code> specifies the resource type (e.g., <code>color</code>, <code>float</code>, <code>string</code>, <code>media</code>, <code>symbol</code>).  </li>
<li><code>resource_name</code> is the resource identifier.</li>
</ul>
<h3 id="Resource-Usage-Recommendations"><a href="#Resource-Usage-Recommendations" class="headerlink" title="Resource Usage Recommendations"></a>Resource Usage Recommendations</h3><ul>
<li><strong>System-preinstalled apps</strong>: Prioritize system resources.  </li>
<li><strong>Third-party apps</strong>: Choose between system resources or custom assets based on needs.</li>
</ul>
<h3 id="Official-App-Color-Parameters"><a href="#Official-App-Color-Parameters" class="headerlink" title="Official App Color Parameters"></a>Official App Color Parameters</h3><p><img src="/../images/%E4%B8%80%E6%96%87%E6%90%9E%E5%AE%9A%20HarmonyOS%20Next%20%E7%B3%BB%E7%BB%9F%E8%B5%84%E6%BA%90%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95-4.png"><br><img src="/../images/%E4%B8%80%E6%96%87%E6%90%9E%E5%AE%9A%20HarmonyOS%20Next%20%E7%B3%BB%E7%BB%9F%E8%B5%84%E6%BA%90%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95-5.png"></p>
<p>Refer to these when configuring app colors.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/27/131-Daily-HarmonyOS-Next-Knowledge-State-Variables-Common-Pages-Visible-Area-Change-Callbacks-Parameter-Reception-Drag-and-Drop-Sorting-Controls/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/27/131-Daily-HarmonyOS-Next-Knowledge-State-Variables-Common-Pages-Visible-Area-Change-Callbacks-Parameter-Reception-Drag-and-Drop-Sorting-Controls/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] State Variables, Common Pages, Visible Area Change Callbacks, Parameter Reception, Drag-and-Drop Sorting Controls</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-27 10:15:35 / Modified: 10:16:02" itemprop="dateCreated datePublished" datetime="2025-06-27T10:15:35+08:00">2025-06-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Knowledge-State-Variables-Common-Pages-Visible-Area-Change-Callbacks-Parameter-Reception-Drag-and-Drop-Sorting-Controls"><a href="#Daily-HarmonyOS-Next-Knowledge-State-Variables-Common-Pages-Visible-Area-Change-Callbacks-Parameter-Reception-Drag-and-Drop-Sorting-Controls" class="headerlink" title="[Daily HarmonyOS Next Knowledge] State Variables, Common Pages, Visible Area Change Callbacks, Parameter Reception, Drag-and-Drop Sorting Controls"></a>[Daily HarmonyOS Next Knowledge] State Variables, Common Pages, Visible Area Change Callbacks, Parameter Reception, Drag-and-Drop Sorting Controls</h3><h4 id="1-Can-state-decorated-variables-in-HarmonyOS-be-updated-in-a-timer-to-refresh-the-UI"><a href="#1-Can-state-decorated-variables-in-HarmonyOS-be-updated-in-a-timer-to-refresh-the-UI" class="headerlink" title="1. Can @state-decorated variables in HarmonyOS be updated in a timer to refresh the UI?"></a>1. Can @state-decorated variables in HarmonyOS be updated in a timer to refresh the UI?</h4><p>Wrapping the function in a proper closure allows UI updates:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Index</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">acSetValve</span>: <span class="built_in">number</span> = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">aboutToAppear</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">acSetValve</span> += <span class="number">200</span>;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hahhah&#x27;</span> + <span class="variable language_">this</span>.<span class="property">acSetValve</span>)</span><br><span class="line">    &#125;, <span class="number">100</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Row</span>() &#123;</span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">acSetValve</span>.<span class="title function_">toString</span>())</span><br><span class="line">          .<span class="title function_">fontSize</span>(<span class="number">50</span>)</span><br><span class="line">          .<span class="title function_">fontWeight</span>(<span class="title class_">FontWeight</span>.<span class="property">Bold</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 2. How to create a common page in HarmonyOS for other pages to inherit and process shared logic?  </span></span><br><span class="line"><span class="string">**Demo reference**:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="comment">// Main page: FirstTest.ets</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">FirstTest2</span> &#125; <span class="keyword">from</span> <span class="string">&quot;./FirstTest2&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">FirstTest</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">message1</span>: <span class="built_in">string</span> = <span class="string">&#x27;Hello World&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Text</span>(<span class="string">&quot;FirstTest：&quot;</span> + <span class="variable language_">this</span>.<span class="property">message1</span>)</span><br><span class="line">        .<span class="title function_">fontSize</span>(<span class="number">25</span>)</span><br><span class="line">        .<span class="title function_">fontWeight</span>(<span class="title class_">FontWeight</span>.<span class="property">Bold</span>)</span><br><span class="line">      <span class="title class_">FirstTest2</span>(&#123; <span class="attr">message2</span>: <span class="variable language_">this</span>.<span class="property">message1</span> &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Reusable component: FirstTest2.ets</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">export</span> struct <span class="title class_">FirstTest2</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">test</span>: <span class="built_in">string</span> = <span class="string">&quot;FirstTest2&quot;</span></span><br><span class="line">  <span class="meta">@Link</span> <span class="attr">message2</span>: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Row</span>() &#123;</span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">Text</span>(<span class="string">&quot;FirstTest2:&quot;</span> + <span class="variable language_">this</span>.<span class="property">test</span>)</span><br><span class="line">          .<span class="title function_">fontSize</span>(<span class="number">25</span>)</span><br><span class="line">          .<span class="title function_">fontWeight</span>(<span class="title class_">FontWeight</span>.<span class="property">Bold</span>)</span><br><span class="line">        <span class="title class_">Text</span>(<span class="string">&quot;FirstTest2:&quot;</span> + <span class="variable language_">this</span>.<span class="property">message2</span>)</span><br><span class="line">          .<span class="title function_">fontSize</span>(<span class="number">25</span>)</span><br><span class="line">          .<span class="title function_">fontWeight</span>(<span class="title class_">FontWeight</span>.<span class="property">Bold</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 3. Why isn&#x27;t the onVisibleAreaChange event triggered in HarmonyOS?  </span></span><br><span class="line"><span class="string">The `</span>onVisibleAreaChange<span class="string">` event does not monitor component area changes caused by offset adjustments. For screen switching monitoring, use the Swiper component.  </span></span><br><span class="line"><span class="string">Documentation: https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-container-swiper-V5  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 4. How to receive parameters passed via router.pushNamedRoute in HarmonyOS?  </span></span><br><span class="line"><span class="string">Use `</span>router.<span class="title function_">getParams</span>()<span class="string">` to receive parameters.  </span></span><br><span class="line"><span class="string">API link: https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-router-V5#ZH-CN_TOPIC_0000001884917590__routergetparams  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Demo reference**:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;@ohos.router&#x27;</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">innerParams</span> &#123;</span><br><span class="line">  <span class="attr">array</span>: <span class="built_in">number</span>[]</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="attr">tuple</span>: <span class="built_in">number</span>[]</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">array</span> = tuple</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">routerParams</span> &#123;</span><br><span class="line">  <span class="attr">text</span>: <span class="built_in">string</span></span><br><span class="line">  <span class="attr">data</span>: innerParams</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="attr">str</span>: <span class="built_in">string</span>, <span class="attr">tuple</span>: <span class="built_in">number</span>[]</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">text</span> = str</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">data</span> = <span class="keyword">new</span> <span class="title function_">innerParams</span>(tuple)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Router1</span> &#123;</span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">Text</span>(<span class="string">&quot;I am Page 1&quot;</span>).<span class="title function_">fontSize</span>(<span class="number">50</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">Button</span>(<span class="string">&quot;Jump&quot;</span>)</span><br><span class="line">          .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            router.<span class="title function_">pushUrl</span>(&#123;</span><br><span class="line">              <span class="attr">url</span>: <span class="string">&#x27;pages/Router11&#x27;</span>,</span><br><span class="line">              <span class="attr">params</span>: <span class="keyword">new</span> <span class="title function_">routerParams</span>(<span class="string">&#x27;message&#x27;</span>, [<span class="number">123</span>, <span class="number">456</span>, <span class="number">789</span>])</span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;@ohos.router&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">innerParams</span> &#123;</span><br><span class="line">  <span class="attr">array</span>: <span class="built_in">number</span>[]</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="attr">tuple</span>: <span class="built_in">number</span>[]</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">array</span> = tuple</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">routerParams</span> &#123;</span><br><span class="line">  <span class="attr">text</span>: <span class="built_in">string</span></span><br><span class="line">  <span class="attr">data</span>: innerParams</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="attr">str</span>: <span class="built_in">string</span>, <span class="attr">tuple</span>: <span class="built_in">number</span>[]</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">text</span> = str</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">data</span> = <span class="keyword">new</span> <span class="title function_">innerParams</span>(tuple)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Router11</span> &#123;</span><br><span class="line">  <span class="title function_">aboutToAppear</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="attr">s</span>: <span class="built_in">number</span>[] = ((router.<span class="title function_">getParams</span>() <span class="keyword">as</span> routerParams).<span class="property">data</span> <span class="keyword">as</span> innerParams).<span class="property">array</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;*********:&quot;</span> + s);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Text</span>(<span class="string">&quot;123&quot;</span>).<span class="title function_">fontSize</span>(<span class="number">50</span>)</span><br><span class="line">      <span class="title class_">Row</span>() &#123;</span><br><span class="line">        <span class="title class_">Text</span>(<span class="string">&quot;33333&quot;</span>).<span class="title function_">fontSize</span>(<span class="number">50</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">opacity</span>(<span class="number">0.5</span>)</span><br><span class="line">    .<span class="title function_">backgroundColor</span>(<span class="title class_">Color</span>.<span class="property">Pink</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 5. Are there utility classes for drag-and-drop sorting and control translation effects in HarmonyOS when current control data limits are insufficient?  </span></span><br><span class="line"><span class="string">For animation effects, refer to the following demo:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">AnimationPage</span> &#123;</span><br><span class="line">  <span class="meta">@Provide</span> <span class="attr">desX</span>: <span class="built_in">number</span> = <span class="number">0</span>;</span><br><span class="line">  <span class="meta">@Provide</span> <span class="attr">desY</span>: <span class="built_in">number</span> = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Builder</span></span><br><span class="line">  <span class="title class_">TabBar</span>(<span class="attr">index</span>: <span class="built_in">number</span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Image</span>($r(<span class="string">&quot;app.media.icon&quot;</span>))</span><br><span class="line">        .<span class="title function_">width</span>(<span class="number">38</span>)</span><br><span class="line">        .<span class="title function_">height</span>(<span class="number">38</span>)</span><br><span class="line">      <span class="title class_">Text</span>(index == <span class="number">1</span> ? <span class="string">&quot;Classification&quot;</span> : index.<span class="title function_">toString</span>())</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">onAreaChange</span>(<span class="function">(<span class="params"><span class="attr">oldValue</span>: <span class="title class_">Area</span>, <span class="attr">newValue</span>: <span class="title class_">Area</span></span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (index == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">desX</span> = newValue.<span class="property">globalPosition</span>.<span class="property">x</span> <span class="keyword">as</span> <span class="built_in">number</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">desY</span> = newValue.<span class="property">globalPosition</span>.<span class="property">y</span> <span class="keyword">as</span> <span class="built_in">number</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Category</span>()</span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">Image</span>($r(<span class="string">&quot;app.media.icon&quot;</span>))</span><br><span class="line">          .<span class="title function_">width</span>(<span class="number">38</span>)</span><br><span class="line">          .<span class="title function_">height</span>(<span class="number">38</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">onAreaChange</span>(<span class="function">(<span class="params"><span class="attr">oldValue</span>: <span class="title class_">Area</span>, <span class="attr">newValue</span>: <span class="title class_">Area</span></span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">desX</span> = newValue.<span class="property">globalPosition</span>.<span class="property">x</span> <span class="keyword">as</span> <span class="built_in">number</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">desY</span> = newValue.<span class="property">globalPosition</span>.<span class="property">y</span> <span class="keyword">as</span> <span class="built_in">number</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">width</span>(<span class="string">&quot;100%&quot;</span>)</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&quot;100%&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Category</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">dataList</span>: <span class="built_in">number</span>[] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>, <span class="number">20</span>]</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Flex</span>(&#123; <span class="attr">direction</span>: <span class="title class_">FlexDirection</span>.<span class="property">Row</span>, <span class="attr">justifyContent</span>: <span class="title class_">FlexAlign</span>.<span class="property">SpaceBetween</span>, <span class="attr">wrap</span>: <span class="title class_">FlexWrap</span>.<span class="property">Wrap</span> &#125;) &#123;</span><br><span class="line">        <span class="title class_">ForEach</span>(<span class="variable language_">this</span>.<span class="property">dataList</span>, <span class="function">(<span class="params"><span class="attr">item</span>: <span class="built_in">number</span></span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="title class_">ListItemComponent</span>()</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">      .<span class="title function_">height</span>(<span class="string">&#x27;80%&#x27;</span>)</span><br><span class="line">      .<span class="title function_">backgroundColor</span>(<span class="title class_">Color</span>.<span class="property">White</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Observed</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AnimationBean</span> &#123;</span><br><span class="line">  <span class="attr">animationAppear</span>: <span class="title class_">Boolean</span> = <span class="literal">false</span>;</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">number</span> = -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">ListItemComponent</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">animationList</span>: <span class="title class_">AnimationBean</span>[] = []</span><br><span class="line">  <span class="keyword">static</span> <span class="attr">index</span>: <span class="built_in">number</span> = <span class="number">0</span>;</span><br><span class="line">  <span class="meta">@Consume</span> <span class="attr">desX</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="meta">@Consume</span> <span class="attr">desY</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="meta">@Provide</span> <span class="attr">orgX</span>: <span class="built_in">number</span> = <span class="number">0</span>;</span><br><span class="line">  <span class="meta">@Provide</span> <span class="attr">orgY</span>: <span class="built_in">number</span> = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Builder</span></span><br><span class="line">  <span class="title class_">BuildAnimationItem</span>() &#123;</span><br><span class="line">    <span class="title class_">Image</span>($r(<span class="string">&quot;app.media.app_icon&quot;</span>))</span><br><span class="line">      .<span class="title function_">width</span>(<span class="number">41</span>)</span><br><span class="line">      .<span class="title function_">height</span>(<span class="number">41</span>)</span><br><span class="line">      .<span class="title function_">id</span>(<span class="string">&quot;test&quot;</span>)</span><br><span class="line">      .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">startAnimation</span>();</span><br><span class="line">      &#125;)</span><br><span class="line">      .<span class="title function_">onAreaChange</span>(<span class="function">(<span class="params"><span class="attr">oldValue</span>: <span class="title class_">Area</span>, <span class="attr">newValue</span>: <span class="title class_">Area</span></span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">orgX</span> = newValue.<span class="property">globalPosition</span>.<span class="property">x</span> <span class="keyword">as</span> <span class="built_in">number</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">orgY</span> = newValue.<span class="property">globalPosition</span>.<span class="property">y</span> <span class="keyword">as</span> <span class="built_in">number</span></span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">startAnimation</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> animation = <span class="keyword">new</span> <span class="title class_">AnimationBean</span>();</span><br><span class="line">    animation.<span class="property">id</span> = <span class="title class_">ListItemComponent</span>.<span class="property">index</span>++</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">animationList</span>.<span class="title function_">push</span>(animation)</span><br><span class="line">    <span class="title function_">animateTo</span>(&#123;</span><br><span class="line">      <span class="attr">duration</span>: <span class="number">800</span>,</span><br><span class="line">      <span class="attr">curve</span>: <span class="title class_">Curve</span>.<span class="property">FastOutLinearIn</span>,</span><br><span class="line">      <span class="attr">onFinish</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        animation.<span class="property">animationAppear</span> = <span class="literal">false</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">animationList</span> = <span class="variable language_">this</span>.<span class="property">animationList</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params"><span class="attr">item</span>: <span class="title class_">AnimationBean</span></span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> item.<span class="property">animationAppear</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      animation.<span class="property">animationAppear</span> = <span class="literal">true</span>;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Builder</span></span><br><span class="line">  <span class="title class_">BuildItem</span>() &#123;</span><br><span class="line">    <span class="title class_">Row</span>() &#123;</span><br><span class="line">      <span class="title class_">Stack</span>() &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title class_">BuildAnimationItem</span>()</span><br><span class="line">        <span class="title class_">ForEach</span>(<span class="variable language_">this</span>.<span class="property">animationList</span>, <span class="function">(<span class="params"><span class="attr">item</span>: <span class="title class_">AnimationBean</span></span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="title class_">AnimationChild</span>(&#123; <span class="attr">item</span>: item, <span class="title class_">AnimationView</span>: <span class="variable language_">this</span>.<span class="property">BuildAnimationItem</span> &#125;)</span><br><span class="line">        &#125;, <span class="function">(<span class="params"><span class="attr">item</span>: <span class="title class_">AnimationBean</span>, <span class="attr">index</span>: <span class="built_in">number</span></span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> item.<span class="property">id</span>.<span class="title function_">toLocaleString</span>()</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">width</span>(<span class="string">&quot;20%&quot;</span>)</span><br><span class="line">    .<span class="title function_">height</span>(<span class="number">60</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title class_">BuildItem</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">AnimationChild</span> &#123;</span><br><span class="line">  <span class="meta">@ObjectLink</span> <span class="attr">item</span>: <span class="title class_">AnimationBean</span>;</span><br><span class="line">  <span class="meta">@Consume</span> <span class="attr">desX</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="meta">@Consume</span> <span class="attr">desY</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="meta">@Consume</span> <span class="attr">orgX</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="meta">@Consume</span> <span class="attr">orgY</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="meta">@BuilderParam</span></span><br><span class="line">  <span class="title class_">AnimationView</span>: <span class="function">() =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Row</span>() &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title class_">AnimationView</span>()</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">zIndex</span>(<span class="number">5</span>)</span><br><span class="line">    .<span class="title function_">translate</span>(<span class="variable language_">this</span>.<span class="property">item</span>.<span class="property">animationAppear</span> ? &#123; <span class="attr">x</span>: (<span class="variable language_">this</span>.<span class="property">desX</span> - <span class="variable language_">this</span>.<span class="property">orgX</span> - <span class="number">20</span>), <span class="attr">y</span>: (<span class="variable language_">this</span>.<span class="property">desY</span> - <span class="variable language_">this</span>.<span class="property">orgY</span>) &#125; : &#123; <span class="attr">x</span>: <span class="number">0</span> &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/15/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/">15</a><span class="page-number current">16</span><a class="page-number" href="/page/17/">17</a><span class="space">&hellip;</span><a class="page-number" href="/page/35/">35</a><a class="extend next" rel="next" href="/page/17/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Qingkouwei</p>
  <div class="site-description" itemprop="description">Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">342</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Qingkouwei</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
