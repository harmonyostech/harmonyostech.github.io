<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"harmonyostech.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next&#96;s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoo">
<meta property="og:type" content="website">
<meta property="og:title" content="HarmonyOS NEXT Knowledge Charging Station">
<meta property="og:url" content="https://harmonyostech.github.io/page/16/index.html">
<meta property="og:site_name" content="HarmonyOS NEXT Knowledge Charging Station">
<meta property="og:description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next&#96;s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Qingkouwei">
<meta property="article:tag" content="HarmonyOSNext, HarmonyOS NEXT, HarmonyOS, Cangjie">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://harmonyostech.github.io/page/16/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>HarmonyOS NEXT Knowledge Charging Station</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">HarmonyOS NEXT Knowledge Charging Station</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Analysis of Core Technologies and Application Scenarios of HarmonyOS NEXT</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/426%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Obtaining-Page-Stack-Objects-Canvas-Animations-Security-Buttons-Modifying-Image-Colors-in-Image-Components-Setting-Popups-to-Display-Only-on-the-Current-Page/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/426%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Obtaining-Page-Stack-Objects-Canvas-Animations-Security-Buttons-Modifying-Image-Colors-in-Image-Components-Setting-Popups-to-Display-Only-on-the-Current-Page/" class="post-title-link" itemprop="url">【Daily HarmonyOS Next Knowledge】Obtaining Page Stack Objects, Canvas Animations, Security Buttons, Modifying Image Colors in Image Components, Setting Popups to Display Only on the Current Page</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 07:25:05 / Modified: 07:27:34" itemprop="dateCreated datePublished" datetime="2025-06-25T07:25:05+08:00">2025-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="【Daily-HarmonyOS-Next-Knowledge】Obtaining-Page-Stack-Objects-Canvas-Animations-Security-Buttons-Modifying-Image-Colors-in-Image-Components-Setting-Popups-to-Display-Only-on-the-Current-Page"><a href="#【Daily-HarmonyOS-Next-Knowledge】Obtaining-Page-Stack-Objects-Canvas-Animations-Security-Buttons-Modifying-Image-Colors-in-Image-Components-Setting-Popups-to-Display-Only-on-the-Current-Page" class="headerlink" title="【Daily HarmonyOS Next Knowledge】Obtaining Page Stack Objects, Canvas Animations, Security Buttons, Modifying Image Colors in Image Components, Setting Popups to Display Only on the Current Page"></a>【Daily HarmonyOS Next Knowledge】Obtaining Page Stack Objects, Canvas Animations, Security Buttons, Modifying Image Colors in Image Components, Setting Popups to Display Only on the Current Page</h3><h4 id="1-How-to-obtain-the-page-stack-object-in-HarmonyOS"><a href="#1-How-to-obtain-the-page-stack-object-in-HarmonyOS" class="headerlink" title="1. How to obtain the page stack object in HarmonyOS?"></a>1. How to obtain the page stack object in HarmonyOS?</h4><p>How to get the current page hierarchy and the page hierarchy object through the router, such as pages A - B - C, where page C can obtain the list of current page hierarchies and the corresponding page objects.  </p>
<p>Currently, only information about the current page in the router page stack can be obtained, such as the index, path, page name, and the number of pages in the page stack. Obtaining the list of the page stack is not supported yet.  </p>
<p>For navigation within and between modules, use <code>Navigation</code> as much as possible, as the router will stop evolving and may not add new capabilities in the future. The tight coupling caused by using <code>Navigation</code> for inter-module navigation can be solved by dynamic imports. The router does not support fine-grained operations on the page stack. For clearing the stack, such as A-B-B1, clearing page B from page B1 is not supported; only <code>clear</code> can be used to remove all pages except the current one. The router does not support skipping more than 32 pages, and the maximum capacity of the page stack is 32 pages. The router’s routing stack only supports obtaining the properties of the top page, including only the current page path and file name. <code>Navigation</code> will continue to evolve, so if capabilities are insufficient, requirements can be planned further. In <code>Navigation</code>, you can use <code>getAllPathName</code> to obtain the names of all <code>NavDestination</code> pages in the stack (for details, refer to Example 2 in the link below: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-navigation-V5#getallpathname10">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-navigation-V5#getallpathname10</a>)  </p>
<pre><code class="language-typescript">// Index.ets
@Entry
@Component
struct NavigationExample &#123;
  pageInfos: NavPathStack = new NavPathStack();
  isUseInterception: boolean = false;

  registerInterception() &#123;
    this.pageInfos.setInterception(&#123;
      // Intercept before page navigation, allowing stack operations that take effect in the current navigation.
      willShow: (from: NavDestinationContext | &quot;navBar&quot;, to: NavDestinationContext | &quot;navBar&quot;,
        operation: NavigationOperation, animated: boolean) =&gt; &#123;
        if (!this.isUseInterception) &#123;
          return;
        &#125;
        if (typeof to === &quot;string&quot;) &#123;
          console.log(&quot;target page is navigation home&quot;);
          return;
        &#125;
        // Redirect the target page, changing from pageTwo to pageOne.
        let target: NavDestinationContext = to as NavDestinationContext;
        if (target.pathInfo.name === &#39;pageTwo&#39;) &#123;
          target.pathStack.pop();
          target.pathStack.pushPathByName(&#39;pageOne&#39;, null);
        &#125;
      &#125;,
      // Callback after page navigation; stack operations in this callback refresh on the next navigation.
      didShow: (from: NavDestinationContext | &quot;navBar&quot;, to: NavDestinationContext | &quot;navBar&quot;,
        operation: NavigationOperation, isAnimated: boolean) =&gt; &#123;
        if (!this.isUseInterception) &#123;
          return;
        &#125;
        if (typeof from === &quot;string&quot;) &#123;
          console.log(&quot;current transition is from navigation home&quot;);
        &#125; else &#123;
          console.log(`current transition is from  $&#123;(from as NavDestinationContext).pathInfo.name&#125;`);
        &#125;
        if (typeof to === &quot;string&quot;) &#123;
          console.log(&quot;current transition to is navBar&quot;);
        &#125; else &#123;
          console.log(`current transition is to $&#123;(to as NavDestinationContext).pathInfo.name&#125;`);
        &#125;
      &#125;,
      // Triggered when the Navigation single/double bar display state changes.
      modeChange: (mode: NavigationMode) =&gt; &#123;
        if (!this.isUseInterception) &#123;
          return;
        &#125;
        console.log(`current navigation mode is $&#123;mode&#125;`);
      &#125;
    &#125;);
  &#125;

  build() &#123;
    Navigation(this.pageInfos) &#123;
      Column() &#123;
        Button(&#39;pushPath&#39;, &#123; stateEffect: true, type: ButtonType.Capsule &#125;)
          .width(&#39;80%&#39;)
          .height(40)
          .margin(20)
          .onClick(() =&gt; &#123;
            this.pageInfos.pushPath(&#123; name: &#39;pageOne&#39; &#125;); // Push the NavDestination page information specified by name onto the stack
          &#125;);
        Button(&#39;use interception&#39;, &#123; stateEffect: true, type: ButtonType.Capsule &#125;)
          .width(&#39;80%&#39;)
          .height(40)
          .margin(20)
          .onClick(() =&gt; &#123;
            this.isUseInterception = !this.isUseInterception;
            if (this.isUseInterception) &#123;
              this.registerInterception();
            &#125; else &#123;
              this.pageInfos.setInterception(undefined);
            &#125;
          &#125;);
      &#125;
    &#125;.title(&#39;NavIndex&#39;);
  &#125;
&#125;
</code></pre>
<h4 id="2-Animation-demo-based-on-drawing-canvas-in-HarmonyOS"><a href="#2-Animation-demo-based-on-drawing-canvas-in-HarmonyOS" class="headerlink" title="2. Animation demo based on drawing.canvas in HarmonyOS?"></a>2. Animation demo based on drawing.canvas in HarmonyOS?</h4><p>Refer to: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/blog/topic/03797837883380062">https://developer.huawei.com/consumer/cn/blog/topic/03797837883380062</a>  </p>
<h4 id="3-Security-button-returns-permission-failure-in-HarmonyOS"><a href="#3-Security-button-returns-permission-failure-in-HarmonyOS" class="headerlink" title="3. Security button returns permission failure in HarmonyOS?"></a>3. Security button returns permission failure in HarmonyOS?</h4><p>The security button returns a permission failure with <code>result</code> as <code>TEMPORARY_AUTHORIZATION_FAILED</code>. How to solve it?  </p>
<pre><code class="language-typescript">// With default parameters, the icon, text, and background all exist
SaveButton().onClick(async (event: ClickEvent, result: SaveButtonOnClickResult) =&gt; &#123;
  if (result === SaveButtonOnClickResult.SUCCESS) &#123;&#125;
&#125;);
</code></pre>
<p>Using a URI to open a file allows continuous writing without time restrictions:  </p>
<pre><code class="language-typescript">let file = await fs.open(uri, fs.OpenMode.READ_WRITE | fs.OpenMode.CREATE);
</code></pre>
<p>This requires corresponding permissions, which need to be defined in <code>modules.json5</code>:  </p>
<pre><code class="language-json5">&#123;
  &quot;name&quot;: &quot;ohos.permission.WRITE_MEDIA&quot;,
  &quot;reason&quot;: &quot;$string:EntryAbility_desc&quot;,
  &quot;usedScene&quot;: &#123;
    &quot;abilities&quot;: [&quot;EntryAbility&quot;],
    &quot;when&quot;: &quot;always&quot;
  &#125;
&#125;
</code></pre>
<h4 id="4-Can-the-color-of-an-image-be-dynamically-modified-after-setting-a-local-resource-file-in-the-HarmonyOS-Image-component"><a href="#4-Can-the-color-of-an-image-be-dynamically-modified-after-setting-a-local-resource-file-in-the-HarmonyOS-Image-component" class="headerlink" title="4. Can the color of an image be dynamically modified after setting a local resource file in the HarmonyOS Image component?"></a>4. Can the color of an image be dynamically modified after setting a local resource file in the HarmonyOS Image component?</h4><p>Refer to the following document: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-image-V5#colorfilter9">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-image-V5#colorfilter9</a>  </p>
<p><code>colorFilter(value: ColorFilter | DrawingColorFilter)</code><br>Sets a color filter effect for the image.<br>When this property is set, the <code>renderMode</code> property has no effect.  </p>
<table>
<thead>
<tr>
<th align="left">Parameter Name</th>
<th align="left">Type</th>
<th align="left">Required</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">value</td>
<td align="left">ColorFilter | DrawingColorFilter</td>
<td align="left">Yes</td>
<td align="left">1. Sets a color filter effect for the image with a 4x5 RGBA transformation matrix.<br><br>The first row of the matrix represents the vector value of R (red), the second row represents G (green), the third row represents B (blue), the fourth row represents A (alpha), and the four rows represent the vector values of different RGBA components.<br><br>When the diagonal values of the matrix are 1 and the rest are 0, the original color of the image is maintained.<br><br><strong>Calculation rule:</strong><br><br>If the input filter matrix is:<br><br><img src="/../images/123a71ca10b754dc5ea030fc4ddddf2b_MD5.jpg"><br><br>The pixel is <code>[R, G, B, A]</code><br><br>The filtered color is <code>[R’, G’, B’, A’]</code><br><br><img src="/../images/%E3%80%90%E6%AF%8F%E6%97%A5%E5%AD%A6%E7%82%B9HarmonyOS%20Next%E7%9F%A5%E8%AF%86%E3%80%9125.04.26.png"><br><br>2. Starting from API Version 12, the <code>ColorFilter</code> type from <code>@ohos.graphics.drawing</code> is supported as a parameter.<br><br><strong>Note:</strong><br>For API Version 11 and earlier, this property is not supported for SVG image sources.<br>Starting from API Version 12, the <code>DrawingColorfilter</code> type in this interface is supported for use in meta services, where SVG image sources must have a <code>stroke</code> property.</td>
</tr>
</tbody></table>
<h4 id="5-How-to-set-a-popup-to-display-only-on-the-current-page-in-HarmonyOS"><a href="#5-How-to-set-a-popup-to-display-only-on-the-current-page-in-HarmonyOS" class="headerlink" title="5. How to set a popup to display only on the current page in HarmonyOS?"></a>5. How to set a popup to display only on the current page in HarmonyOS?</h4><p>A popup is used as a notification prompt. When page A shows the popup and then navigates to page B, the popup still appears on page B. Can the popup be set to display only on page A?  </p>
<p>The current behavior of popups is as described. You can use <code>CustomDialog</code> instead. Refer to the document: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-common-components-custom-dialog-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-common-components-custom-dialog-V5</a>  </p>
<p><strong>Sample demo</strong>:  </p>
<pre><code class="language-typescript">import router from &#39;@ohos.router&#39;;

@CustomDialog
export default struct UserPrivacyDialog &#123;
  controller: CustomDialogController = new CustomDialogController(&#123; builder: &#39;&#39; &#125;);
  cancel: Function = () =&gt; &#123;&#125;;
  confirm: Function = () =&gt; &#123;&#125;;
  visible: Visibility = Visibility.None;

  build() &#123;
    Column() &#123;
      Text(&#39;I am a popup&#39;);

      Button(&#39;jump&#39;)
        .onClick(() =&gt; &#123;
          router.pushUrl(&#123;
            url: &#39;pages/Second&#39;
          &#125;);
        &#125;)
        .backgroundColor(0xffffff)
        .fontColor(Color.Red);
    &#125;
    .margin(&#123; top: 22 &#125;)
    .justifyContent(FlexAlign.SpaceEvenly);
  &#125;
&#125;

@Entry
@Component
struct Index &#123;
  @State textValue: string = &#39;Hello World&#39;;
  @State visible: Visibility = Visibility.None;

  build() &#123;
    Stack() &#123;
      Row() &#123;
        Column() &#123;
          Button(&#39;click&#39;)
            .onClick(() =&gt; &#123;
              if (this.visible === Visibility.Visible) &#123;
                this.visible = Visibility.None;
              &#125; else &#123;
                this.visible = Visibility.Visible;
              &#125;
            &#125;)
            .backgroundColor(0x777474)
            .fontColor(0x000000);
        &#125;
        .width(&#39;100%&#39;);
      &#125;
      .height(&#39;100%&#39;)
      .backgroundColor(0x885555);

      Text(&#39;&#39;)
        .onClick(() =&gt; &#123;
          if (this.visible === Visibility.Visible) &#123;
            this.visible = Visibility.None;
          &#125; else &#123;
            this.visible = Visibility.Visible;
          &#125;
        &#125;)
        .width(&#39;100%&#39;)
        .height(&#39;100%&#39;) // Transparency can be adjusted
        .opacity(0.16)
        .backgroundColor(0x000000)
        .visibility(this.visible);

      Column() &#123;
        GridRow(&#123;
          columns: &#123; xs: 1, sm: 4, md: 8, lg: 12 &#125;,
          breakpoints: &#123;
            value: [&quot;400vp&quot;, &quot;600vp&quot;, &quot;800vp&quot;],
            reference: BreakpointsReference.WindowSize
          &#125;,
        &#125;) &#123;
          GridCol(&#123;
            span: &#123; xs: 1, sm: 2, md: 4, lg: 8 &#125;,
            offset: &#123; xs: 0, sm: 1, md: 2, lg: 2 &#125;
          &#125;) &#123;
            Column() &#123;
              Flex(&#123; justifyContent: FlexAlign.SpaceAround &#125;) &#123;
                UserPrivacyDialog();
              &#125;.margin(&#123; bottom: 10 &#125;);
            &#125;
            .backgroundColor(0xffffff)
            .visibility(this.visible)
            .clip(true)
            .borderRadius(20);
          &#125;
        &#125;
      &#125;.width(&#39;95%&#39;); // Set popup width
    &#125;
  &#125;
&#125;
</code></pre>
<p>Refer to <code>componentUtils.getRectangleById</code>: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-arkui-componentutils-V5#componentutilsgetrectanglebyid">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-arkui-componentutils-V5#componentutilsgetrectanglebyid</a>  </p>
<p><code>getRectangleById(id: string): ComponentInfo</code><br>Obtains the component instance object by component ID and synchronously returns the obtained coordinates and size to the developer through the component instance object.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/425%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91-Feed-Stream-Image-Sizing-List-Component-Extension-Custom-Popups-Media-Listening-List-Item-Swapping/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/425%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91-Feed-Stream-Image-Sizing-List-Component-Extension-Custom-Popups-Media-Listening-List-Item-Swapping/" class="post-title-link" itemprop="url">【Daily HarmonyOS Next Knowledge】 Feed Stream Image Sizing, List Component Extension, Custom Popups, Media Listening, List Item Swapping</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 07:23:44 / Modified: 12:25:14" itemprop="dateCreated datePublished" datetime="2025-06-25T07:23:44+08:00">2025-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Knowledge-Feed-Stream-Image-Sizing-List-Component-Extension-Custom-Popups-Media-Listening-List-Item-Swapping"><a href="#Daily-HarmonyOS-Next-Knowledge-Feed-Stream-Image-Sizing-List-Component-Extension-Custom-Popups-Media-Listening-List-Item-Swapping" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Feed Stream Image Sizing, List Component Extension, Custom Popups, Media Listening, List Item Swapping"></a>[Daily HarmonyOS Next Knowledge] Feed Stream Image Sizing, List Component Extension, Custom Popups, Media Listening, List Item Swapping</h3><h4 id="1-How-to-set-the-height-of-an-image-component-to-3-4-of-its-width-in-a-HarmonyOS-feed-stream-with-fixed-width-image-content-cards"><a href="#1-How-to-set-the-height-of-an-image-component-to-3-4-of-its-width-in-a-HarmonyOS-feed-stream-with-fixed-width-image-content-cards" class="headerlink" title="1. How to set the height of an image component to 3&#x2F;4 of its width in a HarmonyOS feed stream with fixed-width image content cards?"></a>1. How to set the height of an image component to 3&#x2F;4 of its width in a HarmonyOS feed stream with fixed-width image content cards?</h4><p>For feed stream image content cards with fixed-width images, how to set the height of the current image component to 3&#x2F;4 of its width.  </p>
<p>The <code>onComplete</code> callback of the <code>Image</code> component can obtain the component’s width and height (<code>componentWidth</code>). The height can be calculated as 3&#x2F;4 of the width.<br>API link: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-service-widget-basic-image-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-service-widget-basic-image-V5</a>  </p>
<p>This callback is triggered when image data is successfully loaded and decoded, returning the dimensions of the successfully loaded image. For adaptive components, the <code>onAreaChange</code> event is triggered when the component’s display dimensions, position, etc., change (e.g., during initial rendering or subsequent updates). The parameter <code>newValue</code> contains the component’s width and height. For specific usage, refer to the documentation:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-component-area-change-event-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-component-area-change-event-V5</a>  </p>
<h4 id="2-Hoping-to-extend-the-List-component-with-an-onScrollIndex-event-start-number-end-number-center10-number-void-event-in-HarmonyOS"><a href="#2-Hoping-to-extend-the-List-component-with-an-onScrollIndex-event-start-number-end-number-center10-number-void-event-in-HarmonyOS" class="headerlink" title="2. Hoping to extend the List component with an onScrollIndex(event: (start: number, end: number, center10+: number) &#x3D;&gt; void) event in HarmonyOS?"></a>2. Hoping to extend the List component with an onScrollIndex(event: (start: number, end: number, center10+: number) &#x3D;&gt; void) event in HarmonyOS?</h4><p>Hoping to extend the List component with an <code>onScrollIndex(event: (start: number, end: number, center10+: number) =&gt; void)</code> event. Currently, this event only triggers when a <code>ListItemGroup</code> (treated as a single index) changes. To associate the sticky <code>ListItemGroup</code> header with <code>ListItem</code>, a callback for scrolling to a specific <code>ListItem</code> is needed. Similar to how <code>listScroller</code> extends <code>Scroller</code>, the List component should provide a more granular callback with an <code>indexInGroup</code> parameter.  </p>
<p>The new version of the List component can be bound to a <code>ListScroller</code> to scroll to a specified <code>ListItem</code> within a <code>ListItemGroup</code> using <code>scrollToItemInGroup(index: number, indexInGroup: number, smooth?: boolean, align?: ScrollAlign): void</code>.<br>Reference documentation: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-container-list-V5#scrolltoitemingroup11">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-container-list-V5#scrolltoitemingroup11</a>  </p>
<p>The existing <code>onScrollVisibleContentChange</code> event:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-container-list-V5#onscrollvisiblecontentchange12">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-container-list-V5#onscrollvisiblecontentchange12</a>  </p>
<p><code>onScrollVisibleContentChange(handler: OnScrollVisibleContentChangeCallback)</code>  </p>
<p>Triggered when child components enter or exit the List’s visible area. Each <code>ListItem</code>, <code>ListItemGroup</code> header, or footer is counted as a child component when calculating trigger conditions.  </p>
<p>When the List has a spring edge effect, <code>onScrollVisibleContentChange</code> does not trigger during edge scrolling and rebound.  </p>
<p>Trigger conditions: Fires once during list initialization and when the index of the first or last visible child component changes.  </p>
<h4 id="3-Issues-with-calling-a-custom-HarmonyOS-CustomDialog"><a href="#3-Issues-with-calling-a-custom-HarmonyOS-CustomDialog" class="headerlink" title="3. Issues with calling a custom HarmonyOS CustomDialog?"></a>3. Issues with calling a custom HarmonyOS CustomDialog?</h4><p>A custom popup component created using the <code>@CustomDialog</code> decorator is intended for use by the project team, but it fails to display properly in certain scenarios. For example, when calling the custom popup’s display method in the callback of obtaining a <code>Preferences</code> instance after clicking a “Next” button in <code>page-Index.ets</code>, the popup does not display. However, calling the system component <code>AlertDialog.show</code> works. How can the custom popup component be improved to display normally like <code>AlertDialog.show</code> while retaining the original calling method (<code>CustomDialogProvider.showDialog(&#123; content: &quot;我是内容&quot; &#125;);</code>)?  </p>
<p>It is recommended to use the <code>getPreferencesSync</code> synchronous method of <code>Preferences</code> to avoid call failures.  </p>
<h4 id="4-Timing-issues-with-mediaquery’s-on-function-in-HarmonyOS"><a href="#4-Timing-issues-with-mediaquery’s-on-function-in-HarmonyOS" class="headerlink" title="4. Timing issues with mediaquery’s on function in HarmonyOS?"></a>4. Timing issues with mediaquery’s on function in HarmonyOS?</h4><p>When listening for landscape&#x2F;portrait orientation using the <code>mediaquery</code> <code>on</code> function, listening at app initialization does not work. A 3-second <code>setTimeout</code> is required to receive messages.  </p>
<p>Reference documentation: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-mediaquery-V5#ZH-CN_TOPIC_0000001930756753__on">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-mediaquery-V5#ZH-CN_TOPIC_0000001930756753__on</a>  </p>
<h4 id="5-List-item-swapping-in-HarmonyOS"><a href="#5-List-item-swapping-in-HarmonyOS" class="headerlink" title="5. List item swapping in HarmonyOS?"></a>5. List item swapping in HarmonyOS?</h4><p>Needs to implement a UI interaction logic for list item swapping.  </p>
<p>Recommended to use a Grid for item swapping. See the demo below:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">GridExample</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">numbers</span>: <span class="built_in">string</span>[] = [];</span><br><span class="line">  <span class="attr">scroller</span>: <span class="title class_">Scroller</span> = <span class="keyword">new</span> <span class="title class_">Scroller</span>();</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">text</span>: <span class="built_in">string</span> = <span class="string">&#x27;drag&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Builder</span> <span class="title function_">pixelMapBuilder</span>(<span class="params"></span>) &#123; <span class="comment">// Drag process styling</span></span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">text</span>)</span><br><span class="line">        .<span class="title function_">fontSize</span>(<span class="number">16</span>)</span><br><span class="line">        .<span class="title function_">backgroundColor</span>(<span class="number">0xF9CF93</span>)</span><br><span class="line">        .<span class="title function_">width</span>(<span class="number">80</span>)</span><br><span class="line">        .<span class="title function_">height</span>(<span class="number">80</span>)</span><br><span class="line">        .<span class="title function_">textAlign</span>(<span class="title class_">TextAlign</span>.<span class="property">Center</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">aboutToAppear</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= <span class="number">15</span>; i++) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">numbers</span>.<span class="title function_">push</span>(i + <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">changeIndex</span>(<span class="params"><span class="attr">index1</span>: <span class="built_in">number</span>, <span class="attr">index2</span>: <span class="built_in">number</span></span>) &#123; <span class="comment">// Swap array positions</span></span><br><span class="line">    <span class="keyword">let</span> <span class="attr">temp</span>: <span class="built_in">string</span>;</span><br><span class="line">    temp = <span class="variable language_">this</span>.<span class="property">numbers</span>[index1];</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">numbers</span>[index1] = <span class="variable language_">this</span>.<span class="property">numbers</span>[index2];</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">numbers</span>[index2] = temp;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>(&#123; <span class="attr">space</span>: <span class="number">5</span> &#125;) &#123;</span><br><span class="line">      <span class="title class_">Grid</span>(<span class="variable language_">this</span>.<span class="property">scroller</span>) &#123;</span><br><span class="line">        <span class="title class_">ForEach</span>(<span class="variable language_">this</span>.<span class="property">numbers</span>, <span class="function">(<span class="params"><span class="attr">day</span>: <span class="built_in">string</span></span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="title class_">GridItem</span>() &#123;</span><br><span class="line">            <span class="title class_">Text</span>(day)</span><br><span class="line">              .<span class="title function_">fontSize</span>(<span class="number">16</span>)</span><br><span class="line">              .<span class="title function_">backgroundColor</span>(<span class="number">0xF9CF93</span>)</span><br><span class="line">              .<span class="title function_">width</span>(<span class="number">80</span>)</span><br><span class="line">              .<span class="title function_">height</span>(<span class="number">80</span>)</span><br><span class="line">              .<span class="title function_">textAlign</span>(<span class="title class_">TextAlign</span>.<span class="property">Center</span>);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">columnsTemplate</span>(<span class="string">&#x27;1fr 1fr 1fr&#x27;</span>)</span><br><span class="line">      .<span class="title function_">columnsGap</span>(<span class="number">10</span>)</span><br><span class="line">      .<span class="title function_">rowsGap</span>(<span class="number">10</span>)</span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&#x27;90%&#x27;</span>)</span><br><span class="line">      .<span class="title function_">backgroundColor</span>(<span class="number">0xFAEEE0</span>)</span><br><span class="line">      .<span class="title function_">height</span>(<span class="number">300</span>)</span><br><span class="line">      .<span class="title function_">editMode</span>(<span class="literal">true</span>) <span class="comment">// Set whether the Grid enters edit mode (enables dragging GridItems)</span></span><br><span class="line">      .<span class="title function_">onItemDragStart</span>(<span class="function">(<span class="params"><span class="attr">event</span>: <span class="title class_">ItemDragInfo</span>, <span class="attr">itemIndex</span>: <span class="built_in">number</span></span>) =&gt;</span> &#123; <span class="comment">// Triggered when dragging this component for the first time</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">text</span> = <span class="variable language_">this</span>.<span class="property">numbers</span>[itemIndex];</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">pixelMapBuilder</span>(); <span class="comment">// Set the displayed content during dragging</span></span><br><span class="line">      &#125;)</span><br><span class="line">      .<span class="title function_">onItemDrop</span>(<span class="function">(<span class="params"><span class="attr">event</span>: <span class="title class_">ItemDragInfo</span>, <span class="attr">itemIndex</span>: <span class="built_in">number</span>, <span class="attr">insertIndex</span>: <span class="built_in">number</span>, <span class="attr">isSuccess</span>: <span class="built_in">boolean</span></span>) =&gt;</span> &#123; <span class="comment">// Triggered when dropping within this component</span></span><br><span class="line">        <span class="keyword">if</span> (!isSuccess || insertIndex &gt;= <span class="variable language_">this</span>.<span class="property">numbers</span>.<span class="property">length</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&#x27;tag&#x27;</span> + itemIndex + <span class="string">&#x27;&#x27;</span>, insertIndex + <span class="string">&#x27;&#x27;</span>); <span class="comment">// itemIndex: Drag start position, insertIndex: Drag insertion position</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">changeIndex</span>(itemIndex, insertIndex);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;.<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>).<span class="title function_">margin</span>(&#123; <span class="attr">top</span>: <span class="number">5</span> &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/424%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91-Hiding-Navigation-Back-Button-Canvas-Component-Swipe-Events-Expandable-Text-Component-Gradients-Full-screen-Custom-Component-Reference-Issues/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/424%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91-Hiding-Navigation-Back-Button-Canvas-Component-Swipe-Events-Expandable-Text-Component-Gradients-Full-screen-Custom-Component-Reference-Issues/" class="post-title-link" itemprop="url">【Daily HarmonyOS Next Knowledge】 Hiding Navigation Back Button, Canvas Component Swipe Events, Expandable Text, Component Gradients, Full-screen Custom Component Reference Issues</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 07:21:40 / Modified: 12:25:15" itemprop="dateCreated datePublished" datetime="2025-06-25T07:21:40+08:00">2025-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="【Daily-HarmonyOS-Next-Knowledge】Hiding-Navigation-Back-Button-Canvas-Component-Swipe-Events-Expandable-Text-Component-Gradients-Full-screen-Custom-Component-Reference-Issues"><a href="#【Daily-HarmonyOS-Next-Knowledge】Hiding-Navigation-Back-Button-Canvas-Component-Swipe-Events-Expandable-Text-Component-Gradients-Full-screen-Custom-Component-Reference-Issues" class="headerlink" title="【Daily HarmonyOS Next Knowledge】Hiding Navigation Back Button, Canvas Component Swipe Events, Expandable Text, Component Gradients, Full-screen Custom Component Reference Issues"></a>【Daily HarmonyOS Next Knowledge】Hiding Navigation Back Button, Canvas Component Swipe Events, Expandable Text, Component Gradients, Full-screen Custom Component Reference Issues</h3><h4 id="1-In-HarmonyOS-Navigation-the-back-button-of-NavDestination-cannot-be-hidden-causing-the-title-to-not-center"><a href="#1-In-HarmonyOS-Navigation-the-back-button-of-NavDestination-cannot-be-hidden-causing-the-title-to-not-center" class="headerlink" title="1. In HarmonyOS Navigation, the back button of NavDestination cannot be hidden, causing the title to not center."></a>1. In HarmonyOS Navigation, the back button of NavDestination cannot be hidden, causing the title to not center.</h4><ol>
<li><strong>Back Button Hiding Feature</strong>: The <code>hideBackButton</code> property of the <code>NavDestination</code> component defaults to <code>false</code> (showing the back button). To hide the back button, set this property to <code>true</code>.  </li>
<li><strong>Title Bar Display Mode</strong>: Set the <code>titleMode</code> property of the <code>NavDestination</code> component to <code>NavigationTitleMode.Mini</code> to hide the back button in the title bar.</li>
</ol>
<h4 id="2-When-a-Swiper-nested-page-contains-a-Canvas-in-HarmonyOS-how-to-make-the-Canvas-respond-to-horizontal-swipes-but-not-vertical-swipes"><a href="#2-When-a-Swiper-nested-page-contains-a-Canvas-in-HarmonyOS-how-to-make-the-Canvas-respond-to-horizontal-swipes-but-not-vertical-swipes" class="headerlink" title="2. When a Swiper-nested page contains a Canvas in HarmonyOS, how to make the Canvas respond to horizontal swipes but not vertical swipes?"></a>2. When a Swiper-nested page contains a Canvas in HarmonyOS, how to make the Canvas respond to horizontal swipes but not vertical swipes?</h4><p>When a Swiper-nested page includes a Canvas, the following method was used to add swipe event listening to the Canvas, but the event was not triggered:  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><span class="line">.priorityGesture(GestureGroup(GestureMode.Exclusive,</span><br><span class="line">  SwipeGesture()</span><br><span class="line">    .onAction((event: GestureEvent) =&gt; &#123;</span><br><span class="line">      if (event &amp;&amp; this.klineQuotaModel) &#123;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">))</span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line">**Working demo**: This triggers the `onAction` event, and swiping within the Canvas area does not scroll the Swiper.  </span><br><span class="line">```typescript</span><br><span class="line">@Component</span><br><span class="line">struct CanvasExample1 &#123;</span><br><span class="line">  // Configures parameters for the CanvasRenderingContext2D object, including whether to enable anti-aliasing (true enables it).</span><br><span class="line">  private settings: RenderingContextSettings = new RenderingContextSettings(true);</span><br><span class="line">  // Creates a CanvasRenderingContext2D object for drawing within the Canvas.</span><br><span class="line">  private context: CanvasRenderingContext2D = new CanvasRenderingContext2D(this.settings);</span><br><span class="line"></span><br><span class="line">  build() &#123;</span><br><span class="line">    Column() &#123;</span><br><span class="line">      // Invokes the CanvasRenderingContext2D object within the Canvas.</span><br><span class="line">      Canvas(this.context)</span><br><span class="line">        .width(&#x27;100%&#x27;)</span><br><span class="line">        .height(&#x27;100%&#x27;)</span><br><span class="line">        .backgroundColor(&#x27;#F5DC62&#x27;)</span><br><span class="line">        .onReady(() =&gt; &#123;</span><br><span class="line">          // Draw content here.</span><br><span class="line">          this.context.strokeRect(50, 50, 200, 150);</span><br><span class="line">        &#125;)</span><br><span class="line">        .priorityGesture(GestureGroup(GestureMode.Exclusive,</span><br><span class="line">          SwipeGesture()</span><br><span class="line">            .onAction((event: GestureEvent) =&gt; &#123;</span><br><span class="line">              console.log(&#x27;Canvas responds, Swiper does not&#x27;);</span><br><span class="line">            &#125;)</span><br><span class="line">        ))</span><br><span class="line">        .hitTestBehavior(HitTestMode.Block)</span><br><span class="line">        .width(&#x27;80%&#x27;)</span><br><span class="line">        .height(&#x27;50%&#x27;);</span><br><span class="line"></span><br><span class="line">      Text(&#x27;Canvas&#x27;)</span><br><span class="line">        .width(&#x27;80%&#x27;)</span><br><span class="line">        .height(&#x27;50%&#x27;);</span><br><span class="line">    &#125;</span><br><span class="line">    .width(&#x27;100%&#x27;)</span><br><span class="line">    .height(&#x27;100%&#x27;)</span><br><span class="line">    .backgroundColor(Color.Red);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Entry</span><br><span class="line">@Component</span><br><span class="line">struct Index47 &#123;</span><br><span class="line">  private swiperController: SwiperController = new SwiperController();</span><br><span class="line"></span><br><span class="line">  build() &#123;</span><br><span class="line">    Swiper(this.swiperController) &#123;</span><br><span class="line">      Text(&#x27;0&#x27;)</span><br><span class="line">        .width(&#x27;100%&#x27;)</span><br><span class="line">        .height(&#x27;100%&#x27;)</span><br><span class="line">        .backgroundColor(Color.Gray)</span><br><span class="line">        .textAlign(TextAlign.Center)</span><br><span class="line">        .fontSize(30);</span><br><span class="line"></span><br><span class="line">      Text(&#x27;1&#x27;)</span><br><span class="line">        .width(&#x27;100%&#x27;)</span><br><span class="line">        .height(&#x27;100%&#x27;)</span><br><span class="line">        .backgroundColor(Color.Green)</span><br><span class="line">        .textAlign(TextAlign.Center)</span><br><span class="line">        .fontSize(30);</span><br><span class="line"></span><br><span class="line">      Text(&#x27;2&#x27;)</span><br><span class="line">        .width(&#x27;100%&#x27;)</span><br><span class="line">        .height(&#x27;100%&#x27;)</span><br><span class="line">        .backgroundColor(Color.Pink)</span><br><span class="line">        .textAlign(TextAlign.Center)</span><br><span class="line">        .fontSize(30);</span><br><span class="line"></span><br><span class="line">      CanvasExample1();</span><br><span class="line">    &#125;</span><br><span class="line">    .loop(false);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### 3. Expandable text in HarmonyOS  </span><br><span class="line">A scenario requires displaying multi-line text with a maximum of 4 lines. When exceeding 4 lines, an &quot;Expand&quot; button should appear at the end. Clicking &quot;Expand&quot; shows the full text with a &quot;Collapse&quot; button, which reverts to the 4-line limit when clicked. Are there similar components or plugins for this?  </span><br><span class="line"></span><br><span class="line">Refer to the API document: https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-measure-V5  </span><br><span class="line">This module provides text width and height calculations.  </span><br><span class="line"></span><br><span class="line">**Sample code**:  </span><br><span class="line">```typescript</span><br><span class="line">// Scenario: Change styles (e.g., add expand/collapse) when exceeding 4 lines. Calculate total text height.</span><br><span class="line">let textSize: SizeOptions = measure.measureTextSize(&#123; textContent: this.message, fontSize: 24, constraintWidth: 300 &#125;);</span><br><span class="line">// Calculate height with limited width and max lines (4 lines).</span><br><span class="line">let textSize2: SizeOptions = measure.measureTextSize(&#123; textContent: this.message, fontSize: 24, maxLines: 4, constraintWidth: 300 &#125;);</span><br><span class="line">// If textSize.height &gt; textSize2.height, the text exceeds 4 lines; handle the business logic accordingly.</span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### 4. How to add transparency to component gradients in HarmonyOS?  </span><br><span class="line">Recommend setting color values as:  </span><br><span class="line">```typescript</span><br><span class="line">.linearGradient(&#123;</span><br><span class="line">  // angle: 180,</span><br><span class="line">  direction: GradientDirection.Right,</span><br><span class="line">  colors: [[&quot;#00E6E6E6&quot;, 0.0], [&quot;#ffE6E6E6&quot;, 1]]</span><br><span class="line">&#125;)</span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### 5. When a full-screen custom component is referenced by another page in HarmonyOS, it disables button functions on the referencing page.  </span><br><span class="line">When a full-screen custom component is referenced by another page, button functions on the referencing page become inactive.  </span><br><span class="line"></span><br><span class="line">Solution: Dynamically change the `zIndex` of the full-screen custom component. Refer to the code below:  </span><br><span class="line">```typescript</span><br><span class="line">build() &#123;</span><br><span class="line">    // Use Stack to overlay a &quot;pseudo-dialog&quot; over the original page.</span><br><span class="line">    Stack() &#123;</span><br><span class="line">      Column() &#123;</span><br><span class="line">        Button(&#x27;Bottom Page Button&#x27;)</span><br><span class="line">          .onClick(() =&gt; &#123;</span><br><span class="line">            // showToast(&#x27;Bottom button clicked&#x27;)</span><br><span class="line">            console.log(&#x27;Bottom button clicked&#x27;, this.visible);</span><br><span class="line">          &#125;)</span><br><span class="line">          .backgroundColor(Color.Red)</span><br><span class="line">          .margin(&#123; top: 200 &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">      .width(&#x27;100%&#x27;)</span><br><span class="line">      .height(&#x27;100%&#x27;)</span><br><span class="line">      .zIndex(10)</span><br><span class="line">      .hitTestBehavior(HitTestMode.Transparent);</span><br><span class="line">      </span><br><span class="line">      Component1(&#123; visible: $visible &#125;)</span><br><span class="line">        .zIndex(this.Component1ZIndex);</span><br><span class="line">    &#125;</span><br><span class="line">    .width(&#x27;100%&#x27;)</span><br><span class="line">    .height(&#x27;100%&#x27;);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/423%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91-Control-Edge-Blur-Dialog-Squeezed-by-Keyboard-Image-Component-Property-Issues-Pixel-to-Buffer-Conversion-Manipulating-Child-Components/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/423%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91-Control-Edge-Blur-Dialog-Squeezed-by-Keyboard-Image-Component-Property-Issues-Pixel-to-Buffer-Conversion-Manipulating-Child-Components/" class="post-title-link" itemprop="url">【Daily HarmonyOS Next Knowledge】 Control Edge Blur, Dialog Squeezed by Keyboard, Image Component Property Issues, Pixel to Buffer Conversion, Manipulating Child Components</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 07:19:47 / Modified: 07:20:25" itemprop="dateCreated datePublished" datetime="2025-06-25T07:19:47+08:00">2025-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="【Daily-HarmonyOS-Next-Knowledge】Control-Edge-Blur-Dialog-Squeezed-by-Keyboard-Image-Component-Property-Issues-Pixel-to-Buffer-Conversion-Manipulating-Child-Components"><a href="#【Daily-HarmonyOS-Next-Knowledge】Control-Edge-Blur-Dialog-Squeezed-by-Keyboard-Image-Component-Property-Issues-Pixel-to-Buffer-Conversion-Manipulating-Child-Components" class="headerlink" title="【Daily HarmonyOS Next Knowledge】Control Edge Blur, Dialog Squeezed by Keyboard, Image Component Property Issues, Pixel to Buffer Conversion, Manipulating Child Components"></a>【Daily HarmonyOS Next Knowledge】Control Edge Blur, Dialog Squeezed by Keyboard, Image Component Property Issues, Pixel to Buffer Conversion, Manipulating Child Components</h3><h4 id="1-How-to-achieve-a-blurred-edge-fade-out-effect-for-controls-in-HarmonyOS"><a href="#1-How-to-achieve-a-blurred-edge-fade-out-effect-for-controls-in-HarmonyOS" class="headerlink" title="1. How to achieve a blurred edge fade-out effect for controls in HarmonyOS?"></a>1. How to achieve a blurred edge fade-out effect for controls in HarmonyOS?</h4><p>Currently, lists such as List and Scroll do not have edge fade-out effects. Similar to the Porter-Duff algorithm for layer overlay, using Canvas to draw two layers and applying <code>destination-in</code> blending with a gradient on the second layer can create a fade-out effect on the first layer. However, it seems Canvas can only draw new content and cannot use the content displayed by a control as a layer for subsequent overlay operations.  </p>
<p><strong>Reference code</strong>:  </p>
<pre><code class="language-typescript">@Entry
@Component
struct page240527110725022 &#123;
  private arr: number[] = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];

  @Builder
  overlayBuilder() &#123;
    Stack()
      .height(&quot;100%&quot;)
      .width(&quot;100%&quot;)
      .linearGradient(&#123;
        direction: GradientDirection.Bottom, // Gradient direction
        colors: [[&quot;#00FFFFFF&quot;, 0.0], [&quot;#FFFFFFFF&quot;, 0.3]] // Repeating color effect when the last element&#39;s ratio is less than 1
      &#125;)
      .blendMode(BlendMode.DST_IN, BlendApplyType.OFFSCREEN)
      .hitTestBehavior(HitTestMode.None);
  &#125;

  build() &#123;
    Column() &#123;
      List(&#123; space: 20, initialIndex: 0 &#125;) &#123;
        ForEach(this.arr, (item: number) =&gt; &#123;
          ListItem() &#123;
            Text(&#39;&#39; + item)
              .width(&#39;100%&#39;)
              .height(100)
              .fontSize(16)
              .textAlign(TextAlign.Center)
              .borderRadius(10)
              .backgroundColor(0xFFFFFF);
          &#125;
          .onClick(() =&gt; &#123;
            console.log(&#39;is click&#39;);
          &#125;);
        &#125;, (item: string) =&gt; item);
      &#125;
      .width(&#39;90%&#39;)
      .scrollBar(BarState.Off)
      .overlay(this.overlayBuilder())
      .blendMode(BlendMode.SRC_OVER, BlendApplyType.OFFSCREEN);
    &#125;
    .width(&#39;100%&#39;)
    .height(&#39;100%&#39;)
    .backgroundColor(0xDCDCDC)
    .padding(&#123; top: 5 &#125;);
  &#125;
&#125;
</code></pre>
<h4 id="2-In-HarmonyOS-the-input-box-in-a-custom-dialog-is-pushed-up-by-the-keyboard-How-to-prevent-this"><a href="#2-In-HarmonyOS-the-input-box-in-a-custom-dialog-is-pushed-up-by-the-keyboard-How-to-prevent-this" class="headerlink" title="2. In HarmonyOS, the input box in a custom dialog is pushed up by the keyboard. How to prevent this?"></a>2. In HarmonyOS, the input box in a custom dialog is pushed up by the keyboard. How to prevent this?</h4><p>In a custom dialog, the input box is pushed up by the keyboard. How can we prevent components from being pushed up by the keyboard?  </p>
<p>Custom popups are only suitable for simple notification scenarios and cannot replace full pages. Due to the current behavior of fully避让 the input method, when the soft keyboard appears, the popup will automatically shift upward by the height of the keyboard. Therefore, if the popup is too tall, some content may become invisible. This is the current specification. It is recommended to use modal sheets instead.<br>Reference document: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-attributes-sheet-transition-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-attributes-sheet-transition-V5</a>  </p>
<p>This is a specification issue. Popups currently fully避让 the input method. It is recommended to avoid using popups in such scenarios or implement a workaround: have the app listen for keyboard show&#x2F;hide events and add a Scroll component when space is insufficient.  </p>
<h4 id="3-In-the-HarmonyOS-Image-component-when-src-is-an-AnimatedDrawableDescriptor-the-mode-property-does-not-take-effect"><a href="#3-In-the-HarmonyOS-Image-component-when-src-is-an-AnimatedDrawableDescriptor-the-mode-property-does-not-take-effect" class="headerlink" title="3. In the HarmonyOS Image component, when src is an AnimatedDrawableDescriptor, the mode property does not take effect."></a>3. In the HarmonyOS Image component, when <code>src</code> is an <code>AnimatedDrawableDescriptor</code>, the <code>mode</code> property does not take effect.</h4><p>Reference document: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-image-V5#rendermode">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-image-V5#rendermode</a>  </p>
<p><code>renderMode(value: ImageRenderMode)</code><br>Sets the rendering mode for the image. This property is not supported for SVG image sources.<br>When a <code>ColorFilter</code> is set, this property has no effect.<br>When the component’s parameter type is <code>AnimatedDrawableDescriptor</code>, setting this property has no effect.  </p>
<h4 id="4-How-to-convert-a-HarmonyOS-PixelMap-to-an-ArrayBuffer"><a href="#4-How-to-convert-a-HarmonyOS-PixelMap-to-an-ArrayBuffer" class="headerlink" title="4. How to convert a HarmonyOS PixelMap to an ArrayBuffer?"></a>4. How to convert a HarmonyOS PixelMap to an ArrayBuffer?</h4><p>The following two methods both take a <code>PixelMap</code> as input and output an <code>ArrayBuffer</code>, but the resulting <code>ArrayBuffer</code> objects seem different. What are the differences between these two methods, and what are their respective use cases?  </p>
<pre><code class="language-typescript">const readBuffer = new ArrayBuffer(pixelBytesNumber);
pixelMap.readPixelsToBuffer(readBuffer).then(() =&gt; &#123;
  console.info(&#39;Succeeded in reading image pixel data.&#39;);
&#125;).catch((error : BusinessError) =&gt; &#123;
  console.error(&#39;Failed to read image pixel data. And the error is: &#39; + error);
&#125;);

import &#123;BusinessError&#125; from &#39;@ohos.base&#39;;
imagePackerApi.packing(imageSource, packOpts).then((data : ArrayBuffer) =&gt; &#123;
  // ...
&#125;).catch((error : BusinessError) =&gt; &#123;
  console.error(&#39;Failed to pack the image. And the error is: &#39; + error);
&#125;);
</code></pre>
<p><strong>Reference document</strong>:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-image-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-image-V5</a><br><code>@ohos.multimedia.image (Image Processing)</code> provides image processing capabilities, including creating <code>PixelMap</code> objects from properties, reading image pixel data, and reading image data within a specified region.  </p>
<ol>
<li>On HarmonyOS, image data is stored using the <code>PixelMap</code> class. You can convert an <code>ArrayBuffer</code> to a <code>PixelMap</code> and set it to an <code>Image</code> component.  </li>
<li>Provides image processing effects, including creating <code>PixelMap</code> objects from properties, reading image pixel data, and reading image data within a specified region. The <code>ImagePacker</code> class is used for image compression and packing. Before calling <code>ImagePacker</code> methods, you need to create an <code>ImagePacker</code> instance via <code>createImagePacker</code>. To send image data to a Bluetooth printer using <code>socket.sppWrite</code>, you can use <code>readPixelsToBuffer</code>.</li>
</ol>
<h4 id="5-How-to-manipulate-child-components-in-HarmonyOS"><a href="#5-How-to-manipulate-child-components-in-HarmonyOS" class="headerlink" title="5. How to manipulate child components in HarmonyOS?"></a>5. How to manipulate child components in HarmonyOS?</h4><p>How can I obtain an array of child component instances of a specific component via code?  </p>
<p>Parent components can use the <code>@Prop</code> or <code>@Link</code> decorators to synchronize variables between parent and child components.  </p>
<p><strong>Reference link</strong>:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-state-management-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-state-management-V5</a>  </p>
<p>The <code>getInspectorByKey</code> method can obtain all properties of a component with a specified ID, but it does not include child component information.<br>Reference link: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-attributes-component-id-V5#getinspectorbykey9">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-attributes-component-id-V5#getinspectorbykey9</a>  </p>
<p><code>getInspectorByKey(id: string): string</code><br>Obtains all properties of the component with the specified ID, excluding child component information.<br>This API is intended for application testing only. Due to performance concerns, its use is not recommended.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/422%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91-List-Controllers-Adding-Subcomponents-to-Full-Screen-Videos-List-Scroll-Monitoring-Floating-Window-Button-Components-Refreshing-UI-with-Hash-Dictionaries/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/422%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91-List-Controllers-Adding-Subcomponents-to-Full-Screen-Videos-List-Scroll-Monitoring-Floating-Window-Button-Components-Refreshing-UI-with-Hash-Dictionaries/" class="post-title-link" itemprop="url">【Daily HarmonyOS Next Knowledge】 List Controllers, Adding Subcomponents to Full-Screen Videos, List Scroll Monitoring, Floating Window Button Components, Refreshing UI with Hash Dictionaries</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 07:15:30 / Modified: 07:19:59" itemprop="dateCreated datePublished" datetime="2025-06-25T07:15:30+08:00">2025-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Knowledge-List-Controllers-Adding-Subcomponents-to-Full-Screen-Videos-List-Scroll-Monitoring-Floating-Window-Button-Components-Refreshing-UI-with-Hash-Dictionaries"><a href="#Daily-HarmonyOS-Next-Knowledge-List-Controllers-Adding-Subcomponents-to-Full-Screen-Videos-List-Scroll-Monitoring-Floating-Window-Button-Components-Refreshing-UI-with-Hash-Dictionaries" class="headerlink" title="[Daily HarmonyOS Next Knowledge] List Controllers, Adding Subcomponents to Full-Screen Videos, List Scroll Monitoring, Floating Window Button Components, Refreshing UI with Hash Dictionaries"></a>[Daily HarmonyOS Next Knowledge] List Controllers, Adding Subcomponents to Full-Screen Videos, List Scroll Monitoring, Floating Window Button Components, Refreshing UI with Hash Dictionaries</h3><h4 id="1-Regarding-the-HarmonyOS-List-controller-Scroller"><a href="#1-Regarding-the-HarmonyOS-List-controller-Scroller" class="headerlink" title="1. Regarding the HarmonyOS List controller Scroller?"></a>1. Regarding the HarmonyOS List controller Scroller?</h4><p>I want to use the controller in a List to scroll to a specific item, such as <code>this.scrollerForList.scrollToItemInGroup(1, 2, true)</code>. The current issue is that there are three sub-layouts in a main layout, as shown in the figure. Currently, I’m using an emitter to notify the content layout to scroll, but it throws an error, as shown in the figure. I hope to get some suggestions and alternative methods.  </p>
<p><img src="/../images/%E3%80%90%E6%AF%8F%E6%97%A5%E5%AD%A6%E7%82%B9HarmonyOS%20Next%E7%9F%A5%E8%AF%86%E3%80%9125.04.22.png"></p>
<p><img src="/../images/%E3%80%90%E6%AF%8F%E6%97%A5%E5%AD%A6%E7%82%B9HarmonyOS%20Next%E7%9F%A5%E8%AF%86%E3%80%9125.04.22-1.png"></p>
<p><strong>Reference code</strong>:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">ListItemGroupExample</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;./ListItemGroupExample&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">ListScrollerPage</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">message</span>: <span class="built_in">string</span> = <span class="string">&#x27;Hello World&#x27;</span>;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">groupInfo</span>: <span class="built_in">number</span>[] = [<span class="number">0</span>, <span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">  <span class="title function_">onClickItem</span>(<span class="attr">item</span>: <span class="built_in">number</span>[]): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">groupInfo</span> = item;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Row</span>() &#123;</span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="comment">// Header layout</span></span><br><span class="line">        <span class="title class_">RecommendDetailTopView</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Content area</span></span><br><span class="line">        <span class="title class_">ListItemGroupExample</span>(&#123;</span><br><span class="line">          <span class="attr">groupInfo</span>: <span class="variable language_">this</span>.<span class="property">groupInfo</span></span><br><span class="line">        &#125;)</span><br><span class="line">        .<span class="title function_">layoutWeight</span>(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Footer layout</span></span><br><span class="line">        <span class="title class_">CommnetBootomView</span>(&#123;</span><br><span class="line">          <span class="attr">onClickItem</span>: (<span class="attr">item</span>: <span class="built_in">number</span>[]): <span class="function"><span class="params">void</span> =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">onClickItem</span>(item)</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">RecommendDetailTopView</span> &#123;</span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Row</span>() &#123;</span><br><span class="line">      <span class="title class_">Text</span>(<span class="string">&#x27;Header Layout&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">CommnetBootomView</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">list</span>: <span class="built_in">number</span>[][] = [[<span class="number">1</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">1</span>], [<span class="number">3</span>, <span class="number">2</span>]];</span><br><span class="line">  <span class="keyword">private</span> onClickItem = (<span class="attr">item</span>: <span class="built_in">number</span>[]): <span class="function"><span class="params">void</span> =&gt;</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Row</span>() &#123;</span><br><span class="line">      <span class="title class_">ForEach</span>(<span class="variable language_">this</span>.<span class="property">list</span>, <span class="function">(<span class="params"><span class="attr">item</span>: <span class="built_in">number</span>[]</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="title class_">Row</span>() &#123;</span><br><span class="line">          <span class="title class_">ForEach</span>(item, <span class="function">(<span class="params"><span class="attr">num</span>: <span class="built_in">number</span></span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="title class_">Text</span>(<span class="string">`<span class="subst">$&#123;num&#125;</span>`</span>)</span><br><span class="line">              .<span class="title function_">margin</span>(&#123; <span class="attr">right</span>: <span class="number">5</span> &#125;);</span><br><span class="line">          &#125;, <span class="function">(<span class="params"><span class="attr">num</span>: <span class="built_in">number</span>, <span class="attr">index</span>: <span class="built_in">number</span></span>) =&gt;</span> <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(index));</span><br><span class="line">        &#125;</span><br><span class="line">        .<span class="title function_">backgroundColor</span>(<span class="title class_">Color</span>.<span class="property">Pink</span>)</span><br><span class="line">        .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">onClickItem</span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">onClickItem</span>(item);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;, <span class="function">(<span class="params"><span class="attr">item</span>: <span class="built_in">number</span>[]</span>) =&gt;</span> <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(item));</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">justifyContent</span>(<span class="title class_">FlexAlign</span>.<span class="property">SpaceBetween</span>)</span><br><span class="line">    .<span class="title function_">padding</span>(<span class="number">10</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="comment">// ListItemGroupExample file</span></span><br><span class="line"><span class="comment">// xxx.ets</span></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">export</span> struct <span class="title class_">ListItemGroupExample</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">scrollerForList</span>: <span class="title class_">ListScroller</span> = <span class="keyword">new</span> <span class="title class_">ListScroller</span>();</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">timeTable</span>: <span class="title class_">TimeTable</span>[] = [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;Monday&#x27;</span>,</span><br><span class="line">      <span class="attr">projects</span>: [<span class="string">&#x27;Chinese&#x27;</span>, <span class="string">&#x27;Mathematics&#x27;</span>, <span class="string">&#x27;English&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;Tuesday&#x27;</span>,</span><br><span class="line">      <span class="attr">projects</span>: [<span class="string">&#x27;Physics&#x27;</span>, <span class="string">&#x27;Chemistry&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;Wednesday&#x27;</span>,</span><br><span class="line">      <span class="attr">projects</span>: [<span class="string">&#x27;History&#x27;</span>, <span class="string">&#x27;Geography&#x27;</span>, <span class="string">&#x27;Politics&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;Thursday&#x27;</span>,</span><br><span class="line">      <span class="attr">projects</span>: [<span class="string">&#x27;Art&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;Physical Education&#x27;</span>]</span><br><span class="line">    &#125;</span><br><span class="line">  ];</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Link</span> <span class="meta">@Watch</span>(<span class="string">&#x27;groupInfoChange&#x27;</span>) <span class="attr">groupInfo</span>: <span class="built_in">number</span>[];</span><br><span class="line"></span><br><span class="line">  <span class="title function_">groupInfoChange</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(<span class="variable language_">this</span>.<span class="property">groupInfo</span>));</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">scrollerForList</span>.<span class="title function_">scrollToItemInGroup</span>(<span class="variable language_">this</span>.<span class="property">groupInfo</span>[<span class="number">0</span>], <span class="variable language_">this</span>.<span class="property">groupInfo</span>[<span class="number">1</span>], <span class="literal">true</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Builder</span></span><br><span class="line">  <span class="title function_">itemHead</span>(<span class="attr">text</span>: <span class="built_in">string</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="title class_">Text</span>(text)</span><br><span class="line">      .<span class="title function_">fontSize</span>(<span class="number">20</span>)</span><br><span class="line">      .<span class="title function_">backgroundColor</span>(<span class="number">0xAABBCC</span>)</span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&quot;100%&quot;</span>)</span><br><span class="line">      .<span class="title function_">padding</span>(<span class="number">10</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Builder</span></span><br><span class="line">  <span class="title function_">itemFoot</span>(<span class="attr">num</span>: <span class="built_in">number</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="title class_">Text</span>(<span class="string">&#x27;Total &#x27;</span> + num + <span class="string">&#x27; classes&#x27;</span>)</span><br><span class="line">      .<span class="title function_">fontSize</span>(<span class="number">16</span>)</span><br><span class="line">      .<span class="title function_">backgroundColor</span>(<span class="number">0xAABBCC</span>)</span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&quot;100%&quot;</span>)</span><br><span class="line">      .<span class="title function_">padding</span>(<span class="number">5</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">List</span>(&#123; <span class="attr">space</span>: <span class="number">20</span>, <span class="attr">scroller</span>: <span class="variable language_">this</span>.<span class="property">scrollerForList</span> &#125;) &#123;</span><br><span class="line">        <span class="title class_">ForEach</span>(<span class="variable language_">this</span>.<span class="property">timeTable</span>, <span class="function">(<span class="params"><span class="attr">item</span>: <span class="title class_">TimeTable</span></span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="title class_">ListItemGroup</span>(&#123; <span class="attr">header</span>: <span class="variable language_">this</span>.<span class="title function_">itemHead</span>(item.<span class="property">title</span>), <span class="attr">footer</span>: <span class="variable language_">this</span>.<span class="title function_">itemFoot</span>(item.<span class="property">projects</span>.<span class="property">length</span>) &#125;) &#123;</span><br><span class="line">            <span class="title class_">ForEach</span>(item.<span class="property">projects</span>, <span class="function">(<span class="params"><span class="attr">project</span>: <span class="built_in">string</span></span>) =&gt;</span> &#123;</span><br><span class="line">              <span class="title class_">ListItem</span>() &#123;</span><br><span class="line">                <span class="title class_">Text</span>(project)</span><br><span class="line">                  .<span class="title function_">width</span>(<span class="string">&quot;100%&quot;</span>)</span><br><span class="line">                  .<span class="title function_">height</span>(<span class="number">100</span>)</span><br><span class="line">                  .<span class="title function_">fontSize</span>(<span class="number">20</span>)</span><br><span class="line">                  .<span class="title function_">textAlign</span>(<span class="title class_">TextAlign</span>.<span class="property">Center</span>)</span><br><span class="line">                  .<span class="title function_">backgroundColor</span>(<span class="number">0xFFFFFF</span>);</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;, <span class="function">(<span class="params"><span class="attr">item</span>: <span class="built_in">string</span></span>) =&gt;</span> item);</span><br><span class="line">          &#125;</span><br><span class="line">          .<span class="title function_">divider</span>(&#123; <span class="attr">strokeWidth</span>: <span class="number">1</span>, <span class="attr">color</span>: <span class="title class_">Color</span>.<span class="property">Blue</span> &#125;); <span class="comment">// Divider between rows</span></span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&#x27;90%&#x27;</span>)</span><br><span class="line">      <span class="comment">// .height(300)</span></span><br><span class="line">      .<span class="title function_">sticky</span>(<span class="title class_">StickyStyle</span>.<span class="property">Header</span> | <span class="title class_">StickyStyle</span>.<span class="property">Footer</span>)</span><br><span class="line">      .<span class="title function_">scrollBar</span>(<span class="title class_">BarState</span>.<span class="property">Off</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">backgroundColor</span>(<span class="number">0xDCDCDC</span>)</span><br><span class="line">    .<span class="title function_">padding</span>(&#123; <span class="attr">top</span>: <span class="number">5</span> &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">TimeTable</span> &#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">projects</span>: <span class="built_in">string</span>[];</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 2. How to add subcomponents to a full-screen video in HarmonyOS?  </span></span><br><span class="line"><span class="string">For video functionality developed based on the Video component, after setting full screen with VideoController, the video component appears to be placed on top and fills the entire screen, making all other components disappear. How can I add playback control components on top of the full-screen video?  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Use the Stack component with z-order control to stack components, allowing playback control components to be added on top of the Video component. For details, refer to:  </span></span><br><span class="line"><span class="string">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-attributes-z-order-V5  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 3. How to monitor the scroll of a HarmonyOS List component?  </span></span><br><span class="line"><span class="string">Implement synchronized scroll effects for the scroll bar. Currently, I cannot obtain the scroll distance of the list on the x-axis or the total scrollable length.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">It is recommended to use the Swiper component. Refer to the following documentation:  </span></span><br><span class="line"><span class="string">https://gitee.com/harmonyos-cases/cases/blob/master/CommonAppDevelopment/feature/swipersmoothvariation/README.md#%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">The effect achieved by synchronizing scroll positions with the List component is不如 the Swiper. For the List component, you can refer to the `</span>onScrollIndex<span class="string">` method to monitor scroll events:  </span></span><br><span class="line"><span class="string">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-layout-development-create-list-V5#%E5%93%8D%E5%BA%94%E6%BB%9A%E5%8A%A8%E4%BD%8D%E7%BD%AE  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Many applications need to monitor and respond to changes in the scroll position of lists. For example, when scrolling a contacts list, if the scroll crosses groups starting with different letters, the alphabetical index bar on the side also needs to update to the corresponding letter position.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">In addition to alphabetical indexing, scrollable lists combined with multi-level classification indexes are also common in application development. For example, in the product classification page of a shopping app, multi-level classifications also need to monitor the scroll position of the list.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">![](../images/【每日学点HarmonyOS%20Next知识】25.04.22.gif)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">As shown in the figure above, when the contacts list scrolls from A to B, the index bar on the right also needs to synchronize from the selected A state to the selected B state. This scenario can be implemented by monitoring the `</span>onScrollIndex<span class="string">` event of the List component. The right index bar should use the AlphabetIndexer component.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">When the list scrolls, recalculate the position `</span>selectedIndex<span class="string">` of the corresponding letter in the alphabetical index bar based on the current index value `</span>firstIndex<span class="string">` of the list. Since the AlphabetIndexer component sets the selected item index value via the `</span>selected<span class="string">` property, when `</span>selectedIndex<span class="string">` changes, it triggers the AlphabetIndexer component to re-render, displaying the selected state for the corresponding letter.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="keyword">const</span> alphabets = [<span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;D&#x27;</span>, <span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;F&#x27;</span>, <span class="string">&#x27;G&#x27;</span>, <span class="string">&#x27;H&#x27;</span>, <span class="string">&#x27;I&#x27;</span>, <span class="string">&#x27;J&#x27;</span>, <span class="string">&#x27;K&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;L&#x27;</span>, <span class="string">&#x27;M&#x27;</span>, <span class="string">&#x27;N&#x27;</span>, <span class="string">&#x27;O&#x27;</span>, <span class="string">&#x27;P&#x27;</span>, <span class="string">&#x27;Q&#x27;</span>, <span class="string">&#x27;R&#x27;</span>, <span class="string">&#x27;S&#x27;</span>, <span class="string">&#x27;T&#x27;</span>, <span class="string">&#x27;U&#x27;</span>, <span class="string">&#x27;V&#x27;</span>, <span class="string">&#x27;W&#x27;</span>, <span class="string">&#x27;X&#x27;</span>, <span class="string">&#x27;Y&#x27;</span>, <span class="string">&#x27;Z&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">ContactsList</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">selectedIndex</span>: <span class="built_in">number</span> = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">listScroller</span>: <span class="title class_">Scroller</span> = <span class="keyword">new</span> <span class="title class_">Scroller</span>();</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Stack</span>(&#123; <span class="attr">alignContent</span>: <span class="title class_">Alignment</span>.<span class="property">End</span> &#125;) &#123;</span><br><span class="line">      <span class="title class_">List</span>(&#123; <span class="attr">scroller</span>: <span class="variable language_">this</span>.<span class="property">listScroller</span> &#125;) &#123;&#125;</span><br><span class="line">      .<span class="title function_">onScrollIndex</span>(<span class="function">(<span class="params"><span class="attr">firstIndex</span>: <span class="built_in">number</span></span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// Recalculate the position this.selectedIndex of the corresponding contact index bar based on the scrolled index value of the list</span></span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// Alphabet index component</span></span><br><span class="line">      <span class="title class_">AlphabetIndexer</span>(&#123; <span class="attr">arrayValue</span>: alphabets, <span class="attr">selected</span>: <span class="number">0</span> &#125;)</span><br><span class="line">        .<span class="title function_">selected</span>(<span class="variable language_">this</span>.<span class="property">selectedIndex</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 4. How to use the floating window button component in HarmonyOS ArkTS?  </span></span><br><span class="line"><span class="string">For developing floating windows, refer to this documentation:  </span></span><br><span class="line"><span class="string">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/application-window-stage  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 5. In HarmonyOS, when an array is placed in a HashMap and the array data changes (e.g., elements are added or deleted), how to trigger UI refresh?  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Define a HashMap**:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="meta">@State</span> <span class="attr">allChannelsMaps</span>: <span class="title class_">HashMap</span>&lt;<span class="built_in">string</span>, <span class="title class_">Array</span>&lt;<span class="title class_">ChannelGroupDataChannelList</span>&gt;&gt; = <span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// UI layout</span></span><br><span class="line"><span class="title class_">List</span>() &#123;</span><br><span class="line">  <span class="title class_">ForEach</span>(<span class="variable language_">this</span>.<span class="property">channelTypeList</span>, <span class="function">(<span class="params"><span class="attr">channelData</span>: <span class="title class_">ChannelTypeEntityData</span>, <span class="attr">index</span>: <span class="built_in">number</span></span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="title class_">ListItem</span>() &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">channelGrid</span>(<span class="variable language_">this</span>.<span class="property">allChannelsMaps</span>.<span class="title function_">get</span>(channelData.<span class="property">channelType</span>?.<span class="title function_">toString</span>()), index);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">.<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">.<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="meta">@Builder</span> <span class="title function_">channelGrid</span>(<span class="params"><span class="attr">channelGroupData</span>: <span class="title class_">Array</span>&lt;<span class="title class_">ChannelGroupDataChannelList</span>&gt;, <span class="attr">index</span>: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">  <span class="title class_">Grid</span>() &#123;</span><br><span class="line">    <span class="title class_">ForEach</span>(channelGroupData, <span class="function">(<span class="params"><span class="attr">channel</span>: <span class="title class_">ChannelGroupDataChannelList</span>, <span class="attr">index</span>: <span class="built_in">number</span></span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="title class_">GridItem</span>() &#123;</span><br><span class="line">        <span class="title class_">Text</span>(channel.<span class="property">channelName</span>)</span><br><span class="line">          .<span class="title function_">fontSize</span>((channel.<span class="property">channelName</span> ?? <span class="string">&#x27;&#x27;</span>).<span class="property">length</span> &gt; <span class="number">5</span> ? <span class="string">&#x27;11fp&#x27;</span> : <span class="string">&#x27;15fp&#x27;</span>)</span><br><span class="line">          .<span class="title function_">fontColor</span>($r(<span class="string">&#x27;app.color.color202022&#x27;</span>))</span><br><span class="line">          .<span class="title function_">fontFamily</span>(<span class="title class_">CommonConstants</span>.<span class="property">SI_YUAN</span>)</span><br><span class="line">          .<span class="title function_">textAlign</span>(<span class="title class_">TextAlign</span>.<span class="property">Center</span>)</span><br><span class="line">          .<span class="title function_">width</span>(<span class="variable language_">this</span>.<span class="property">itemWidth</span>)</span><br><span class="line">          .<span class="title function_">height</span>(<span class="variable language_">this</span>.<span class="property">itemHeight</span>)</span><br><span class="line">          .<span class="title function_">backgroundColor</span>($r(<span class="string">&#x27;app.color.colorF9F9F9&#x27;</span>))</span><br><span class="line">          .<span class="title function_">borderRadius</span>(<span class="number">4</span>)</span><br><span class="line">          .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> <span class="attr">tapChannel</span>: <span class="title class_">ChannelGroupDataChannelList</span> = channelGroupData[index];</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">addChannelUpdateMap</span>(tapChannel);</span><br><span class="line">          &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  .<span class="title function_">columnsTemplate</span>(<span class="string">&#x27;1fr 1fr 1fr 1fr&#x27;</span>)</span><br><span class="line">  .<span class="title function_">columnsGap</span>(<span class="number">10</span>)</span><br><span class="line">  .<span class="title function_">rowsGap</span>(<span class="number">10</span>)</span><br><span class="line">  .<span class="title function_">height</span>(<span class="variable language_">this</span>.<span class="property">channelTypeList</span>[index].<span class="property">channelHeight</span>)</span><br><span class="line">  .<span class="title function_">nestedScroll</span>(&#123;</span><br><span class="line">    <span class="attr">scrollForward</span>: <span class="title class_">NestedScrollMode</span>.<span class="property">PARENT_FIRST</span>,</span><br><span class="line">    <span class="attr">scrollBackward</span>: <span class="title class_">NestedScrollMode</span>.<span class="property">SELF_FIRST</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Refer to the following demo**:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">HashMap</span> <span class="keyword">from</span> <span class="string">&#x27;@ohos.util.HashMap&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DataItem</span> &#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="attr">title</span>: <span class="built_in">string</span>, <span class="attr">id</span>: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">title</span> = title;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">id</span> = id;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">MapExample</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">hashMap</span>: <span class="title class_">HashMap</span>&lt;<span class="built_in">string</span>, <span class="title class_">Array</span>&lt;<span class="title class_">DataItem</span>&gt;&gt; = <span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">keys</span>: <span class="title class_">Array</span>&lt;<span class="built_in">string</span>&gt; = [];</span><br><span class="line"></span><br><span class="line">  <span class="title function_">aboutToAppear</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">hashMap</span>.<span class="title function_">set</span>(<span class="string">&quot;squirrel&quot;</span>, [<span class="keyword">new</span> <span class="title class_">DataItem</span>(<span class="string">&quot;123&quot;</span>, <span class="number">20</span>)]);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">hashMap</span>.<span class="title function_">set</span>(<span class="string">&quot;sparrow&quot;</span>, [<span class="keyword">new</span> <span class="title class_">DataItem</span>(<span class="string">&quot;human&quot;</span>, <span class="number">45</span>)]);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">keys</span> = <span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="variable language_">this</span>.<span class="property">hashMap</span>.<span class="title function_">keys</span>());</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&#x27;valuesaaa&#x27;</span>, <span class="variable language_">this</span>.<span class="property">hashMap</span>.<span class="title function_">values</span>());</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">of</span> <span class="variable language_">this</span>.<span class="property">keys</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;key:&quot;</span> + key);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;value:&quot;</span> + <span class="variable language_">this</span>.<span class="property">hashMap</span>.<span class="title function_">get</span>(key));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">List</span>() &#123;</span><br><span class="line">      <span class="title class_">ForEach</span>(<span class="variable language_">this</span>.<span class="property">keys</span>, <span class="function">(<span class="params"><span class="attr">item</span>: <span class="built_in">string</span>, <span class="attr">index</span>: <span class="built_in">number</span></span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="title class_">ChildItem</span>(&#123; <span class="attr">item</span>: item &#125;);</span><br><span class="line">      &#125;, <span class="function">(<span class="params"><span class="attr">item</span>: <span class="built_in">string</span></span>) =&gt;</span> item);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">ChildItem</span> &#123;</span><br><span class="line">  <span class="meta">@Prop</span> <span class="attr">item</span>: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">item</span>)</span><br><span class="line">      .<span class="title function_">fontSize</span>(<span class="number">50</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/421%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Animations-Page-Not-Updating-Form-Data-Configuring-Globally-Effective-Fonts-Route-Navigation-with-Parameters/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/421%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Animations-Page-Not-Updating-Form-Data-Configuring-Globally-Effective-Fonts-Route-Navigation-with-Parameters/" class="post-title-link" itemprop="url">【Daily HarmonyOS Next Knowledge】Animations, Page Not Updating, Form Data, Configuring Globally Effective Fonts, Route Navigation with Parameters</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 07:14:11 / Modified: 07:14:27" itemprop="dateCreated datePublished" datetime="2025-06-25T07:14:11+08:00">2025-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Knowledge-Animations-Page-Not-Updating-Form-Data-Configuring-Globally-Effective-Fonts-Route-Navigation-with-Parameters"><a href="#Daily-HarmonyOS-Next-Knowledge-Animations-Page-Not-Updating-Form-Data-Configuring-Globally-Effective-Fonts-Route-Navigation-with-Parameters" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Animations, Page Not Updating, Form Data, Configuring Globally Effective Fonts, Route Navigation with Parameters"></a>[Daily HarmonyOS Next Knowledge] Animations, Page Not Updating, Form Data, Configuring Globally Effective Fonts, Route Navigation with Parameters</h3><h4 id="1-How-to-implement-animations-in-HarmonyOS"><a href="#1-How-to-implement-animations-in-HarmonyOS" class="headerlink" title="1. How to implement animations in HarmonyOS?"></a>1. How to implement animations in HarmonyOS?</h4><p>How to create animations for expanding and collapsing layouts?  </p>
<p><strong>Demo for image show&#x2F;hide animation</strong>:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Index1</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">message</span>: <span class="built_in">string</span> = <span class="string">&#x27;Hide&#x27;</span></span><br><span class="line">  <span class="meta">@State</span> <span class="attr">isOpen</span>: <span class="built_in">boolean</span> = <span class="literal">true</span>;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">imageHeight</span>: <span class="built_in">number</span> = <span class="number">300</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Button</span>(<span class="variable language_">this</span>.<span class="property">message</span>).<span class="title function_">onClick</span>(<span class="function">(<span class="params"><span class="attr">event</span>: <span class="title class_">ClickEvent</span></span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">isOpen</span> = !<span class="variable language_">this</span>.<span class="property">isOpen</span>;</span><br><span class="line">        <span class="title function_">animateTo</span>(&#123;</span><br><span class="line">          <span class="attr">duration</span>: <span class="number">600</span>,</span><br><span class="line">          <span class="attr">curve</span>: <span class="title class_">Curve</span>.<span class="property">Ease</span>,</span><br><span class="line">          <span class="attr">onFinish</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">isOpen</span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">message</span> = <span class="string">&#x27;Hide&#x27;</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">imageHeight</span> = <span class="number">300</span>;</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">message</span> = <span class="string">&#x27;Show&#x27;</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">imageHeight</span> = <span class="number">0</span>;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">      .<span class="title function_">fontSize</span>(<span class="number">26</span>)</span><br><span class="line">      .<span class="title function_">margin</span>((&#123; <span class="attr">top</span>: <span class="number">36</span> &#125;))</span><br><span class="line">      </span><br><span class="line">      <span class="title class_">Image</span>($r(<span class="string">&#x27;app.media.startIcon&#x27;</span>))<span class="comment">// Text(&#x27;hhhhh&#x27;)</span></span><br><span class="line">        .<span class="title function_">height</span>(<span class="variable language_">this</span>.<span class="property">imageHeight</span>)</span><br><span class="line">        .<span class="title function_">width</span>(<span class="number">300</span>)</span><br><span class="line">        .<span class="title function_">margin</span>((&#123; <span class="attr">top</span>: <span class="number">36</span> &#125;))</span><br><span class="line">        .<span class="title function_">border</span>(&#123; <span class="attr">width</span>: <span class="number">3</span>, <span class="attr">color</span>: <span class="string">&#x27;white&#x27;</span> &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 2. Why aren&#x27;t HarmonyOS pages updating?  </span></span><br><span class="line"><span class="string">Refresh the page by changing a value in an object. Refer to the code below:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">City</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Index</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">isEnable</span>: <span class="built_in">boolean</span> = <span class="literal">true</span>;</span><br><span class="line">  <span class="attr">url</span>: <span class="built_in">string</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attr">controller</span>: web_webview.<span class="property">WebviewController</span> = <span class="keyword">new</span> web_webview.<span class="title class_">WebviewController</span>();</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">city</span>: <span class="title class_">City</span> = <span class="keyword">new</span> <span class="title class_">City</span>(<span class="string">&#x27;Nanjing&#x27;</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Stack</span>() &#123;</span><br><span class="line">      <span class="title class_">Image</span>($r(<span class="string">&#x27;app.media.ic_app_background&#x27;</span>)).<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>);</span><br><span class="line">      </span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">city</span>.<span class="property">name</span>).<span class="title function_">fontColor</span>(<span class="title class_">Color</span>.<span class="property">White</span>).<span class="title function_">textAlign</span>(<span class="title class_">TextAlign</span>.<span class="property">Start</span>)</span><br><span class="line">          .<span class="title function_">margin</span>(&#123; <span class="attr">top</span>: <span class="number">20</span> &#125;);</span><br><span class="line">          </span><br><span class="line">        <span class="title class_">Rect</span>(&#123; <span class="attr">width</span>: <span class="string">&#x27;90%&#x27;</span>, <span class="attr">height</span>: <span class="number">100</span> &#125;)</span><br><span class="line">          .<span class="title function_">radius</span>(<span class="number">10</span>)</span><br><span class="line">          .<span class="title function_">fill</span>(<span class="title class_">Color</span>.<span class="property">Blue</span>)</span><br><span class="line">          .<span class="title function_">stroke</span>(<span class="title class_">Color</span>.<span class="property">Transparent</span>)</span><br><span class="line">          .<span class="title function_">margin</span>(&#123; <span class="attr">top</span>: <span class="number">10</span> &#125;)</span><br><span class="line">          .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">city</span>.<span class="property">name</span> = <span class="string">&#x27;Shanghai&#x27;</span>;</span><br><span class="line">          &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 3. The MultiFormData interface in HarmonyOS multiFormDataList cannot be implemented. How to assign existing list data to multiFormDataList?  </span></span><br><span class="line"><span class="string">The `</span>multiFormDataList<span class="string">` type does not exist. Here, `</span><span class="title class_">Array</span>&lt;<span class="title class_">MultiFormData</span>&gt;<span class="string">` is used, which is an array. Normal array operations can be used to encapsulate data.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 4. How to receive parameters during route navigation in HarmonyOS?  </span></span><br><span class="line"><span class="string">How to parse and pass parameters after navigation using the official `</span><span class="title class_">RouterModel</span><span class="string">` component?  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Reference code**:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="comment">// Define the class</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">routerParams</span> &#123;</span><br><span class="line">  <span class="attr">key</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">value</span>: <span class="built_in">string</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="attr">key</span>: <span class="built_in">string</span>, <span class="attr">value</span>: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">key</span> = key;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">value</span> = value;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Navigation code</span></span><br><span class="line"><span class="title function_">buildRouterModel</span>(<span class="title class_">RouterNameConstants</span>.<span class="property">ENTRY_HAP</span>, <span class="title class_">BuilderNameConstants</span>.<span class="property">H5_PAGE</span>,</span><br><span class="line">  <span class="keyword">new</span> <span class="title function_">routerParams</span>(<span class="string">&#x27;www.index.com&#x27;</span>, <span class="string">&#x27;Click&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="meta">@Builder</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">harBuilder</span>(<span class="params"><span class="attr">value</span>: routerParams</span>) &#123;</span><br><span class="line">  <span class="title class_">NavDestination</span>() &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="comment">// Parsed correctly here</span></span><br><span class="line">      <span class="title class_">Text</span>(<span class="string">`The parsed parameter: <span class="subst">$&#123;<span class="built_in">JSON</span>.stringify(value)&#125;</span>`</span>).<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      &#125;);</span><br><span class="line">      </span><br><span class="line">      <span class="comment">// Next step = ???</span></span><br><span class="line">      <span class="title function_">H5Page</span>(&#123; <span class="attr">url</span>: value?.<span class="property">key</span> &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  .<span class="title function_">title</span>(<span class="string">&#x27;Login&#x27;</span>)</span><br><span class="line">  .<span class="title function_">onBackPressed</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title class_">RouterModule</span>.<span class="title function_">pop</span>(<span class="title class_">RouterNameConstants</span>.<span class="property">ENTRY_HAP</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">hideTitleBar</span>(<span class="literal">true</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 5. Is `</span>font.<span class="property">registerFont</span><span class="string">` globally effective in HarmonyOS? For a font, does registering it once globally make it effective across all pages during the app&#x27;s lifecycle?  </span></span><br><span class="line"><span class="string">Is `</span>font.<span class="property">registerFont</span><span class="string">` globally effective? For a font, does registering it once globally make it effective across all pages during the app&#x27;s lifecycle?  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Reference link**:  </span></span><br><span class="line"><span class="string">https://gitee.com/openharmony/docs/blob/master/zh-cn/application-dev/reference/apis-arkui/js-apis-font.md  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">To use a custom font globally in the app, register it in the `</span>onWindowStageCreate<span class="string">` lifecycle of the `</span><span class="title class_">EntryAbility</span>.<span class="property">ets</span><span class="string">` file via the `</span>windowStage.<span class="property">loadContent</span><span class="string">` callback.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">It is recommended to use the `</span>getFont<span class="string">` method in `</span><span class="title class_">UIContext</span><span class="string">` to obtain the `</span><span class="title class_">Font</span><span class="string">` object associated with the current UI context.  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="comment">// xxx.ets</span></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">FontExample</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">message</span>: <span class="built_in">string</span> = <span class="string">&#x27;Hello World&#x27;</span>;</span><br><span class="line">  <span class="comment">// iconFont example. Assume 0000 is the Unicode for the specified icon. Developers need to obtain the Unicode from the registered iconFont&#x27;s ttf file.</span></span><br><span class="line">  <span class="meta">@State</span> <span class="attr">unicode</span>: <span class="built_in">string</span> = <span class="string">&#x27;\u0000&#x27;</span>;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">codePoint</span>: <span class="built_in">string</span> = <span class="title class_">String</span>.<span class="title function_">fromCharCode</span>(<span class="number">0x0000</span>);</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">uiContext</span>: <span class="title class_">UIContext</span> = <span class="variable language_">this</span>.<span class="title function_">getUIContext</span>();</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">aboutToAppear</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// Both familyName and familySrc support system resources</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">uiContext</span>.<span class="title function_">getFont</span>().<span class="title function_">registerFont</span>(&#123;</span><br><span class="line">      <span class="comment">// It is recommended to use this.getUIContext().getFont().registerFont()</span></span><br><span class="line">      <span class="attr">familyName</span>: $r(<span class="string">&#x27;app.string.font_name&#x27;</span>),</span><br><span class="line">      <span class="attr">familySrc</span>: $r(<span class="string">&#x27;app.string.font_src&#x27;</span>)</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// familySrc supports RawFile</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">uiContext</span>.<span class="title function_">getFont</span>().<span class="title function_">registerFont</span>(&#123;</span><br><span class="line">      <span class="attr">familyName</span>: <span class="string">&#x27;mediumRawFile&#x27;</span>,</span><br><span class="line">      <span class="attr">familySrc</span>: $rawfile(<span class="string">&#x27;font/medium.ttf&#x27;</span>)</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Register iconFont</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">uiContext</span>.<span class="title function_">getFont</span>().<span class="title function_">registerFont</span>(&#123;</span><br><span class="line">      <span class="attr">familyName</span>: <span class="string">&#x27;iconFont&#x27;</span>,</span><br><span class="line">      <span class="attr">familySrc</span>: <span class="string">&#x27;/font/iconFont.ttf&#x27;</span></span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Both familyName and familySrc support strings</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">uiContext</span>.<span class="title function_">getFont</span>().<span class="title function_">registerFont</span>(&#123;</span><br><span class="line">      <span class="attr">familyName</span>: <span class="string">&#x27;medium&#x27;</span>,</span><br><span class="line">      <span class="attr">familySrc</span>: <span class="string">&#x27;/font/medium.ttf&#x27;</span> <span class="comment">// The font folder is at the same level as the pages directory</span></span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">message</span>)</span><br><span class="line">        .<span class="title function_">align</span>(<span class="title class_">Alignment</span>.<span class="property">Center</span>)</span><br><span class="line">        .<span class="title function_">fontSize</span>(<span class="number">20</span>)</span><br><span class="line">        .<span class="title function_">fontFamily</span>(<span class="string">&#x27;medium&#x27;</span>); <span class="comment">// medium: The name of the registered custom font ($r(&#x27;app.string.mediumFamilyName&#x27;), &#x27;mediumRawFile&#x27;, etc., can also be used normally)</span></span><br><span class="line">      </span><br><span class="line">      <span class="comment">// Two ways to use iconFont</span></span><br><span class="line">      <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">unicode</span>)</span><br><span class="line">        .<span class="title function_">align</span>(<span class="title class_">Alignment</span>.<span class="property">Center</span>)</span><br><span class="line">        .<span class="title function_">fontSize</span>(<span class="number">20</span>)</span><br><span class="line">        .<span class="title function_">fontFamily</span>(<span class="string">&#x27;iconFont&#x27;</span>);</span><br><span class="line">      </span><br><span class="line">      <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">codePoint</span>)</span><br><span class="line">        .<span class="title function_">align</span>(<span class="title class_">Alignment</span>.<span class="property">Center</span>)</span><br><span class="line">        .<span class="title function_">fontSize</span>(<span class="number">20</span>)</span><br><span class="line">        .<span class="title function_">fontFamily</span>(<span class="string">&#x27;iconFont&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/420%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91-Image-Cropping-Disabling-Back-Gestures-App-Icon-Size-Specifications-Database-Errors-Text-Component-Omission-Display-for-Excess-Length/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/420%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91-Image-Cropping-Disabling-Back-Gestures-App-Icon-Size-Specifications-Database-Errors-Text-Component-Omission-Display-for-Excess-Length/" class="post-title-link" itemprop="url">【Daily HarmonyOS Next Knowledge】 Image Cropping, Disabling Back Gestures, App Icon Size Specifications, Database Errors, Text Component Omission Display for Excess Length</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 07:12:42 / Modified: 12:25:15" itemprop="dateCreated datePublished" datetime="2025-06-25T07:12:42+08:00">2025-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Knowledge-Image-Cropping-Disabling-Back-Gestures-App-Icon-Size-Specifications-Database-Errors-Text-Component-Omission-Display-for-Excess-Length"><a href="#Daily-HarmonyOS-Next-Knowledge-Image-Cropping-Disabling-Back-Gestures-App-Icon-Size-Specifications-Database-Errors-Text-Component-Omission-Display-for-Excess-Length" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Image Cropping, Disabling Back Gestures, App Icon Size Specifications, Database Errors, Text Component Omission Display for Excess Length"></a>[Daily HarmonyOS Next Knowledge] Image Cropping, Disabling Back Gestures, App Icon Size Specifications, Database Errors, Text Component Omission Display for Excess Length</h3><h4 id="1-What-are-the-units-for-the-interface-area-settings-x-y-size-of-HarmonyOS-image-cropping"><a href="#1-What-are-the-units-for-the-interface-area-settings-x-y-size-of-HarmonyOS-image-cropping" class="headerlink" title="1. What are the units for the interface area settings (x, y, size) of HarmonyOS image cropping?"></a>1. What are the units for the interface area settings (x, y, size) of HarmonyOS image cropping?</h4><p>The size is specified in pixels (px), and the units for x and y are also pixels (px).  </p>
<h4 id="2-How-to-disable-the-swipe-back-gesture-in-HarmonyOS"><a href="#2-How-to-disable-the-swipe-back-gesture-in-HarmonyOS" class="headerlink" title="2. How to disable the swipe-back gesture in HarmonyOS?"></a>2. How to disable the swipe-back gesture in HarmonyOS?</h4><p>An overlay layer is added using <code>context.getOverlayManager().addComponentContent</code>, but this layer cannot disable the swipe-back gesture.  </p>
<p><strong>Reference code (index page)</strong>:  </p>
<pre><code class="language-typescript">import &#123; AppRouter &#125; from &#39;./AppRouter&#39; 
import &#123; AppDialog &#125; from &#39;./AppDialog&#39; 
import &#123; PrivacyDialogViewBuilder &#125; from &#39;./PrivacyDialogView&#39;; 
import &#123; DefaultDialog &#125; from &#39;./DefaultDialog&#39;;
</code></pre>
<pre><code class="language-typescript">@Entry
@Component
struct Index &#123;
  @Builder
  PageMap(name: string) &#123;
    DefaultDialog()
  &#125;
  
  build() &#123;
    Navigation(AppRouter.getInstance().getPathStack()) &#123;
      Stack(&#123; alignContent: Alignment.Center &#125;) &#123;
        Column() &#123;
          Button(&#39;Custom Popup Based on Navigation&#39;, &#123; stateEffect: true, type: ButtonType.Capsule &#125;)
            .onClick(() =&gt; &#123;
              AppDialog.build(wrapBuilder(PrivacyDialogViewBuilder))
                .onBackPressed((): boolean =&gt; true)
                .open();
            &#125;)
        &#125;
      &#125;.height(&quot;100%&quot;).width(&quot;100%&quot;)
    &#125;.hideTitleBar(true).navDestination(this.PageMap)
  &#125;
&#125;
</code></pre>
<h4 id="3-What-are-the-specifications-for-HarmonyOS-app-icon-sizes-and-what-sizes-are-required-for-different-devices-How-does-an-app-adapt-to-multiple-device-requirements"><a href="#3-What-are-the-specifications-for-HarmonyOS-app-icon-sizes-and-what-sizes-are-required-for-different-devices-How-does-an-app-adapt-to-multiple-device-requirements" class="headerlink" title="3. What are the specifications for HarmonyOS app icon sizes, and what sizes are required for different devices? How does an app adapt to multiple device requirements?"></a>3. What are the specifications for HarmonyOS app icon sizes, and what sizes are required for different devices? How does an app adapt to multiple device requirements?</h4><p>Reference document: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/design-guides/ux-guidelines-general-0000001760708152#section1353515481417">https://developer.huawei.com/consumer/cn/doc/design-guides/ux-guidelines-general-0000001760708152#section1353515481417</a>  </p>
<p><strong>Visual Style</strong>  </p>
<p><strong>Color Contrast</strong>  </p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>Standard Number</td>
<td>2.1.4.1</td>
<td>Color Contrast</td>
</tr>
<tr>
<td>Standard Description</td>
<td></td>
<td>The colors used in the app must meet the minimum contrast requirements:<br><br>- The contrast ratio between icons or title text and the background is greater than 3:1.<br><br>- The contrast ratio between body text and the background is greater than 4.5:1.</td>
</tr>
<tr>
<td>Test Method</td>
<td></td>
<td>Obtain background color information and calculate the contrast between each control and the background.</td>
</tr>
<tr>
<td>Judgment Criteria</td>
<td></td>
<td>- Contrast ratio between icons or title text and background &gt; 3:1.<br><br>- Contrast ratio between body text and background &gt; 4.5:1.</td>
</tr>
<tr>
<td>Standard Level</td>
<td></td>
<td>Recommended</td>
</tr>
<tr>
<td>Applicable Device Types</td>
<td></td>
<td>Mobile phones, foldables, tablets, PC&#x2F;2in1</td>
</tr>
<tr>
<td>Special Considerations</td>
<td></td>
<td>None</td>
</tr>
<tr>
<td>System Capabilities</td>
<td></td>
<td>1. For setting component background color, refer to Background Settings - backgroundColor<br><br>2. For setting font color, refer to Text Common - fontColor</td>
</tr>
</tbody></table>
<p><strong>Font Size</strong>  </p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>Standard Number</td>
<td>2.1.4.2</td>
<td>Font Size</td>
</tr>
<tr>
<td>Standard Description</td>
<td></td>
<td>The text size in the app must meet the minimum font size requirement:<br><br>The text font size is not smaller than 12 fp (recommended), and the minimum must not be smaller than 8 fp (mandatory).</td>
</tr>
<tr>
<td>Test Method</td>
<td></td>
<td>Observe and obtain the text size within the app.</td>
</tr>
<tr>
<td>Judgment Criteria</td>
<td></td>
<td>Text font size ≥ 8 fp.</td>
</tr>
<tr>
<td>Standard Level</td>
<td></td>
<td>Mandatory</td>
</tr>
<tr>
<td>Applicable Device Types</td>
<td></td>
<td>Mobile phones, foldables, tablets, PC&#x2F;2in1</td>
</tr>
<tr>
<td>Special Considerations</td>
<td></td>
<td>None</td>
</tr>
<tr>
<td>System Capabilities</td>
<td></td>
<td>Refer to Text Common - fontSize</td>
</tr>
</tbody></table>
<h4 id="4-Why-does-inserting-data-into-a-HarmonyOS-relationalStore-database-table-that-hasn’t-been-created-throw-an-error-14800021"><a href="#4-Why-does-inserting-data-into-a-HarmonyOS-relationalStore-database-table-that-hasn’t-been-created-throw-an-error-14800021" class="headerlink" title="4. Why does inserting data into a HarmonyOS relationalStore database table that hasn’t been created throw an error 14800021?"></a>4. Why does inserting data into a HarmonyOS relationalStore database table that hasn’t been created throw an error 14800021?</h4><p>Errors occur during SQL execution, such as:  </p>
<ol>
<li>Inserting or updating a non-created table.  </li>
<li>Inserting or updating a non-existent column.  </li>
<li>Calling undefined functions, etc.</li>
</ol>
<h4 id="5-When-a-HarmonyOS-Text-component-is-set-to-omit-the-tail-for-excess-length-it-shows-abnormal-omission-in-specific-cases-omitting-early-when-space-remains-at-the-tail"><a href="#5-When-a-HarmonyOS-Text-component-is-set-to-omit-the-tail-for-excess-length-it-shows-abnormal-omission-in-specific-cases-omitting-early-when-space-remains-at-the-tail" class="headerlink" title="5. When a HarmonyOS Text component is set to omit the tail for excess length, it shows abnormal omission in specific cases (omitting early when space remains at the tail)."></a>5. When a HarmonyOS Text component is set to omit the tail for excess length, it shows abnormal omission in specific cases (omitting early when space remains at the tail).</h4><p>For omission in mixed text, set the <code>wordBreak</code> property to <code>WordBreak.BREAK_ALL</code> to resolve early omission.<br>Reference document: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-text-V5#textalign">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-text-V5#textalign</a>  </p>
<p><code>textAlign(value: TextAlign)</code>  </p>
<p>Sets the horizontal alignment of the text paragraph.  </p>
<p>The text paragraph width fills the Text component width.  </p>
<p>The vertical position of the text paragraph can be controlled via the <code>align</code> property. In this component, the <code>align</code> property cannot control the horizontal position (e.g., <code>Alignment.TopStart</code>, <code>Alignment.Top</code>, and <code>Alignment.TopEnd</code> all position content at the top; <code>Alignment.Start</code>, <code>Alignment.Center</code>, and <code>Alignment.End</code> center content vertically; <code>Alignment.BottomStart</code>, <code>Alignment.Bottom</code>, and <code>Alignment.BottomEnd</code> position content at the bottom). The horizontal position is controlled in conjunction with the <code>textAlign</code> property.  </p>
<p>When <code>textAlign</code> is set to <code>TextAlign.JUSTIFY</code>, the <code>wordBreak</code> property must be set based on the text content, and the last line of text does not participate in full justification, displaying a horizontal start alignment effect.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/419%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Stopping-Animations-Status-Bar-Text-Color-Using-this-in-Listeners-Adding-Images-to-Rich-Text-Components-Dropdown-Components/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/419%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Stopping-Animations-Status-Bar-Text-Color-Using-this-in-Listeners-Adding-Images-to-Rich-Text-Components-Dropdown-Components/" class="post-title-link" itemprop="url">【Daily HarmonyOS Next Knowledge】Stopping Animations, Status Bar Text Color, Using this in Listeners, Adding Images to Rich Text Components, Dropdown Components</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 07:08:24 / Modified: 07:08:45" itemprop="dateCreated datePublished" datetime="2025-06-25T07:08:24+08:00">2025-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Knowledge-Stopping-Animations-Status-Bar-Text-Color-Using-this-in-Listeners-Adding-Images-to-Rich-Text-Components-Dropdown-Components"><a href="#Daily-HarmonyOS-Next-Knowledge-Stopping-Animations-Status-Bar-Text-Color-Using-this-in-Listeners-Adding-Images-to-Rich-Text-Components-Dropdown-Components" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Stopping Animations, Status Bar Text Color, Using this in Listeners, Adding Images to Rich Text Components, Dropdown Components"></a>[Daily HarmonyOS Next Knowledge] Stopping Animations, Status Bar Text Color, Using <code>this</code> in Listeners, Adding Images to Rich Text Components, Dropdown Components</h3><h4 id="1-How-to-stop-an-animation-and-return-to-the-initial-static-state-in-HarmonyOS"><a href="#1-How-to-stop-an-animation-and-return-to-the-initial-static-state-in-HarmonyOS" class="headerlink" title="1. How to stop an animation and return to the initial static state in HarmonyOS?"></a>1. How to stop an animation and return to the initial static state in HarmonyOS?</h4><p><strong>Reference Demo</strong>:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// xxx.ets</span></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">AnimateToExample</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">widthSize</span>: <span class="built_in">number</span> = <span class="number">250</span></span><br><span class="line">  <span class="meta">@State</span> <span class="attr">heightSize</span>: <span class="built_in">number</span> = <span class="number">100</span></span><br><span class="line">  <span class="meta">@State</span> <span class="attr">rotateAngle</span>: <span class="built_in">number</span> = <span class="number">0</span></span><br><span class="line">  <span class="keyword">private</span> <span class="attr">flag</span>: <span class="built_in">boolean</span> = <span class="literal">true</span></span><br><span class="line">  </span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Button</span>(<span class="string">&#x27;change size&#x27;</span>)</span><br><span class="line">        .<span class="title function_">width</span>(<span class="variable language_">this</span>.<span class="property">widthSize</span>)</span><br><span class="line">        .<span class="title function_">height</span>(<span class="variable language_">this</span>.<span class="property">heightSize</span>)</span><br><span class="line">        .<span class="title function_">margin</span>(<span class="number">30</span>)</span><br><span class="line">        .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">flag</span>) &#123;</span><br><span class="line">            <span class="title function_">animateTo</span>(&#123;</span><br><span class="line">              <span class="attr">duration</span>: <span class="number">2000</span>,</span><br><span class="line">              <span class="attr">curve</span>: <span class="title class_">Curve</span>.<span class="property">EaseOut</span>,</span><br><span class="line">              <span class="attr">iterations</span>: <span class="number">3</span>,</span><br><span class="line">              <span class="attr">playMode</span>: <span class="title class_">PlayMode</span>.<span class="property">Normal</span>,</span><br><span class="line">              <span class="attr">onFinish</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&#x27;play end&#x27;</span>)</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">              <span class="variable language_">this</span>.<span class="property">widthSize</span> = <span class="number">150</span></span><br><span class="line">              <span class="variable language_">this</span>.<span class="property">heightSize</span> = <span class="number">60</span></span><br><span class="line">            &#125;)</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="title function_">animateTo</span>(&#123;</span><br><span class="line">              <span class="attr">duration</span>: <span class="number">0</span>,</span><br><span class="line">            &#125;, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">              <span class="variable language_">this</span>.<span class="property">widthSize</span> = <span class="number">250</span></span><br><span class="line">              <span class="variable language_">this</span>.<span class="property">heightSize</span> = <span class="number">100</span></span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">flag</span> = !<span class="variable language_">this</span>.<span class="property">flag</span></span><br><span class="line">          </span><br><span class="line">          <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">flag</span>) &#123;</span><br><span class="line">            <span class="title function_">animateTo</span>(&#123;</span><br><span class="line">              <span class="attr">duration</span>: <span class="number">2000</span>,</span><br><span class="line">              <span class="attr">curve</span>: <span class="title class_">Curve</span>.<span class="property">EaseOut</span>,</span><br><span class="line">              <span class="attr">iterations</span>: <span class="number">3</span>,</span><br><span class="line">              <span class="attr">playMode</span>: <span class="title class_">PlayMode</span>.<span class="property">Normal</span>,</span><br><span class="line">              <span class="attr">onFinish</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&#x27;play end&#x27;</span>)</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">              <span class="variable language_">this</span>.<span class="property">widthSize</span> = <span class="number">150</span></span><br><span class="line">              <span class="variable language_">this</span>.<span class="property">heightSize</span> = <span class="number">60</span></span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;.<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>).<span class="title function_">margin</span>(&#123; <span class="attr">top</span>: <span class="number">5</span> &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 2. How to dynamically change the text color of the HarmonyOS status bar?  </span></span><br><span class="line"><span class="string">In full-screen mode, the status bar text color needs to adapt to the page theme.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">1. Refer to examples for setting immersive windows.  </span></span><br><span class="line"><span class="string">2. Configure the window for full-screen layout, adjusting transparency, background/text colors, and highlighted icons of the navigation and status bars to maintain visual consistency with the main window.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="keyword">let</span> isLayoutFullScreen = <span class="literal">true</span>;</span><br><span class="line">windowClass.<span class="title function_">setWindowLayoutFullScreen</span>(isLayoutFullScreen, <span class="function">(<span class="params"><span class="attr">err</span>: <span class="title class_">BusinessError</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> <span class="attr">errCode</span>: <span class="built_in">number</span> = err.<span class="property">code</span>;</span><br><span class="line">  <span class="keyword">if</span> (errCode) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;Failed to set the window layout to full-screen mode. Cause:&#x27;</span> + <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(err));</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&#x27;Succeeded in setting the window layout to full-screen mode.&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">sysBarProps</span>: <span class="variable language_">window</span>.<span class="property">SystemBarProperties</span> = &#123;</span><br><span class="line">  <span class="attr">statusBarColor</span>: <span class="string">&#x27;#ff00ff&#x27;</span>,</span><br><span class="line">  <span class="attr">navigationBarColor</span>: <span class="string">&#x27;#00ff00&#x27;</span>,</span><br><span class="line">  <span class="attr">statusBarContentColor</span>: <span class="string">&#x27;#ffffff&#x27;</span>,</span><br><span class="line">  <span class="attr">navigationBarContentColor</span>: <span class="string">&#x27;#ffffff&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">windowClass.<span class="title function_">setWindowSystemBarProperties</span>(sysBarProps, <span class="function">(<span class="params"><span class="attr">err</span>: <span class="title class_">BusinessError</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> <span class="attr">errCode</span>: <span class="built_in">number</span> = err.<span class="property">code</span>;</span><br><span class="line">  <span class="keyword">if</span> (errCode) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;Failed to set the system bar properties. Cause: &#x27;</span> + <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(err));</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&#x27;Succeeded in setting the system bar properties.&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 3. Why can&#x27;t `</span><span class="variable language_">this</span><span class="string">` be used in listener callbacks in HarmonyOS ETS?  </span></span><br><span class="line"><span class="string">In ETS, calling other methods via `</span><span class="variable language_">this</span><span class="string">` within a listener callback results in `</span><span class="variable language_">this</span><span class="string">` being `</span><span class="literal">undefined</span><span class="string">`.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Problem Code**:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;</span><br><span class="line">  <span class="title function_">b</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">callback</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">b</span>(); <span class="comment">// Error: this is undefined</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title class_">Register</span>() &#123;</span><br><span class="line">    <span class="title function_">on</span>(<span class="string">&quot;xxx&quot;</span>, <span class="variable language_">this</span>.<span class="property">callback</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title class_">Unregister</span>() &#123;</span><br><span class="line">    <span class="title function_">off</span>(<span class="string">&quot;xxx&quot;</span>, <span class="variable language_">this</span>.<span class="property">callback</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Solution**: Use an arrow function to preserve `</span><span class="variable language_">this</span><span class="string">`:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="title function_">on</span>(<span class="string">&quot;xxx&quot;</span>, <span class="function">() =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">callback</span>())</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 4. Why does the cursor disappear after adding an image to a HarmonyOS RichEditor?  </span></span><br><span class="line"><span class="string">When using `</span>addImageSpan<span class="string">` or `</span>addBuilderSpan<span class="string">` in RichEditor, clicking the image causes the cursor to disappear.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Solution**:  </span></span><br><span class="line"><span class="string">Manually set the cursor position after adding content using `</span>setCaretOffset<span class="string">`:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="title class_">Button</span>(<span class="string">&quot;add image&quot;</span>)</span><br><span class="line">  .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">controller</span>.<span class="title function_">addImageSpan</span>($r(<span class="string">&quot;app.media.app_icon&quot;</span>), &#123;</span><br><span class="line">      <span class="attr">imageStyle</span>: &#123;</span><br><span class="line">        <span class="attr">size</span>: [<span class="string">&quot;50px&quot;</span>, <span class="string">&quot;50px&quot;</span>],</span><br><span class="line">        <span class="attr">verticalAlign</span>: <span class="title class_">ImageSpanAlignment</span>.<span class="property">BOTTOM</span>,</span><br><span class="line">        <span class="attr">layoutStyle</span>: &#123;</span><br><span class="line">          <span class="attr">borderRadius</span>: <span class="literal">undefined</span>,</span><br><span class="line">          <span class="attr">margin</span>: <span class="literal">undefined</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> moveOffset = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// Get the total content length</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">controller</span>.<span class="title function_">getSpans</span>(&#123; <span class="attr">start</span>: -<span class="number">1</span>, <span class="attr">end</span>: -<span class="number">1</span> &#125;).<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">      moveOffset += (item.<span class="property">offsetInSpan</span>[<span class="number">1</span>] - item.<span class="property">offsetInSpan</span>[<span class="number">0</span>])</span><br><span class="line">    &#125;)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Manually position the cursor after adding the image</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">controller</span>.<span class="title function_">setCaretOffset</span>(moveOffset)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&#x27;moveOffset&#x27;</span>, moveOffset)</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Note**:  </span></span><br><span class="line"><span class="string">- When inserting content in the middle of text, select a specific position first to ensure the cursor remains visible.  </span></span><br><span class="line"><span class="string">- Cursor positioning is only required when appending content; inserting within text maintains the cursor automatically.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 5. How to set a maximum height for the HarmonyOS Select() dropdown component?  </span></span><br><span class="line"><span class="string">The dropdown should scroll when there is a large dataset and adapt to content height for smaller datasets.  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Solution**:  </span></span><br><span class="line"><span class="string">Apply `</span>.<span class="title function_">constraintSize</span>(&#123;<span class="attr">minHeight</span>:<span class="number">30</span>,<span class="attr">maxHeight</span>:<span class="number">100</span>&#125;)<span class="string">` to the Scroll component:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="title class_">Scroll</span>(<span class="variable language_">this</span>.<span class="property">scroller</span>) &#123;</span><br><span class="line">  <span class="title class_">Flex</span>(&#123; <span class="attr">direction</span>: <span class="title class_">FlexDirection</span>.<span class="property">Column</span>, <span class="attr">justifyContent</span>: <span class="title class_">FlexAlign</span>.<span class="property">Center</span>, <span class="attr">alignItems</span>: <span class="title class_">ItemAlign</span>.<span class="property">Center</span> &#125;) &#123;</span><br><span class="line">    <span class="title class_">ForEach</span>(<span class="variable language_">this</span>.<span class="property">homeList</span>, <span class="function">(<span class="params"><span class="attr">homeInfo</span>: <span class="built_in">string</span>, <span class="attr">index</span>: <span class="built_in">number</span></span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">Row</span>() &#123;</span><br><span class="line">          <span class="title class_">Text</span>(homeInfo)</span><br><span class="line">            .<span class="title function_">margin</span>(&#123; <span class="attr">top</span>: <span class="number">12</span> &#125;)</span><br><span class="line">            .<span class="title function_">maxLines</span>(<span class="number">1</span>)</span><br><span class="line">            .<span class="title function_">textOverflow</span>(&#123; <span class="attr">overflow</span>: <span class="title class_">TextOverflow</span>.<span class="property">Ellipsis</span> &#125;)</span><br><span class="line">            .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">              <span class="comment">// Handle selection</span></span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">        .<span class="title function_">margin</span>(&#123; <span class="attr">top</span>: <span class="number">6</span> &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  .<span class="title function_">margin</span>(&#123; <span class="attr">left</span>: <span class="number">12</span>, <span class="attr">right</span>: <span class="number">12</span> &#125;)</span><br><span class="line">&#125;</span><br><span class="line">.<span class="title function_">constraintSize</span>(&#123; <span class="attr">minHeight</span>: <span class="number">30</span>, <span class="attr">maxHeight</span>: <span class="number">100</span> &#125;) <span class="comment">// Set maximum height here</span></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/418%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Multi-task-Windows-Animation-Deformation-Clicks-Outside-Non-rectangular-Components-Skipping-Logo-Launch-Pages-Import-Syntax-Explanation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/418%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91Multi-task-Windows-Animation-Deformation-Clicks-Outside-Non-rectangular-Components-Skipping-Logo-Launch-Pages-Import-Syntax-Explanation/" class="post-title-link" itemprop="url">【Daily HarmonyOS Next Knowledge】Multi-task Windows, Animation Deformation, Clicks Outside Non-rectangular Components, Skipping Logo Launch Pages, Import Syntax Explanation</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 07:06:56 / Modified: 12:25:16" itemprop="dateCreated datePublished" datetime="2025-06-25T07:06:56+08:00">2025-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Knowledge-Multi-task-Windows-Animation-Deformation-Clicks-Outside-Non-rectangular-Components-Skipping-Logo-Launch-Pages-Import-Syntax-Explanation"><a href="#Daily-HarmonyOS-Next-Knowledge-Multi-task-Windows-Animation-Deformation-Clicks-Outside-Non-rectangular-Components-Skipping-Logo-Launch-Pages-Import-Syntax-Explanation" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Multi-task Windows, Animation Deformation, Clicks Outside Non-rectangular Components, Skipping Logo Launch Pages, Import Syntax Explanation"></a>[Daily HarmonyOS Next Knowledge] Multi-task Windows, Animation Deformation, Clicks Outside Non-rectangular Components, Skipping Logo Launch Pages, Import Syntax Explanation</h3><h4 id="1-How-to-refresh-the-entire-page-when-entering-a-background-task-from-the-multi-task-window-in-HarmonyOS"><a href="#1-How-to-refresh-the-entire-page-when-entering-a-background-task-from-the-multi-task-window-in-HarmonyOS" class="headerlink" title="1. How to refresh the entire page when entering a background task from the multi-task window in HarmonyOS?"></a>1. How to refresh the entire page when entering a background task from the multi-task window in HarmonyOS?</h4><p>When an app enters the foreground from the background, the <code>onPageShow</code> callback is triggered. Page refresh can be implemented in <code>onPageShow</code>.  </p>
<p>Reference document: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-custom-component-lifecycle-V5#onpageshow">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-custom-component-lifecycle-V5#onpageshow</a><br><code>onPageShow?(): void</code>  </p>
<p>Triggered each time a page is displayed, including scenarios like routing or the app entering the foreground. Only valid for custom components decorated with <code>@Entry</code>.  </p>
<h4 id="2-When-using-animateTo-for-a-container-control’s-collapse-effect-in-HarmonyOS-internal-controls-deform-during-contraction-Why"><a href="#2-When-using-animateTo-for-a-container-control’s-collapse-effect-in-HarmonyOS-internal-controls-deform-during-contraction-Why" class="headerlink" title="2. When using animateTo for a container control’s collapse effect in HarmonyOS, internal controls deform during contraction. Why?"></a>2. When using <code>animateTo</code> for a container control’s collapse effect in HarmonyOS, internal controls deform during contraction. Why?</h4><p>Refer to the demo:  </p>
<pre><code class="language-typescript">@Entry
@Component
struct IfElseTransition &#123;
  @State flag: boolean = true;
  @State show: string = &#39;show&#39;;

  build() &#123;
    Column() &#123;
      Button(this.show).width(80).height(30).margin(30).onClick(() =&gt; &#123;
        if (this.flag) &#123;
          this.show = &#39;hide&#39;;
        &#125; else &#123;
          this.show = &#39;show&#39;;
        &#125;
        animateTo(&#123; duration: 1000 &#125;,
          () =&gt; &#123;
            // Control the appearance and disappearance of the Image component within the animation closure
            this.flag = !this.flag;
          &#125;)
      &#125;)
      if (this.flag) &#123;
        // Configure different transition effects for the Image&#39;s appearance and disappearance
        Column() &#123;
          Image($r(&#39;app.media.app_icon&#39;)).width(100).height(100)
          Text(&#39;Test Deformation Text&#39;).width(100).height(100).backgroundColor(Color.Blue)
        &#125;
        .width(200)
        .height(200)
        .backgroundColor(Color.Black)
        .transition(&#123; type: TransitionType.Insert, translate: &#123; x: 200, y: -200 &#125; &#125;)
        .transition(&#123; type: TransitionType.Delete, opacity: 0, scale: &#123; x: 0, y: 0 &#125; &#125;)
      &#125;
    &#125;.height(&#39;100%&#39;).width(&#39;100%&#39;)
  &#125;
&#125;
</code></pre>
<h4 id="3-How-to-avoid-click-events-outside-non-rectangular-components-in-HarmonyOS"><a href="#3-How-to-avoid-click-events-outside-non-rectangular-components-in-HarmonyOS" class="headerlink" title="3. How to avoid click events outside non-rectangular components in HarmonyOS?"></a>3. How to avoid click events outside non-rectangular components in HarmonyOS?</h4><p>Reference document: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-touch-target">https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-touch-target</a>  </p>
<p><code>responseRegion(value: Array&lt;Rectangle&gt; | Rectangle)</code>  </p>
<p>Set one or more touch hotspots.  </p>
<h4 id="4-Is-there-a-way-to-skip-the-logo-launch-page-in-HarmonyOS"><a href="#4-Is-there-a-way-to-skip-the-logo-launch-page-in-HarmonyOS" class="headerlink" title="4. Is there a way to skip the logo launch page in HarmonyOS?"></a>4. Is there a way to skip the logo launch page in HarmonyOS?</h4><p>To display a customized launch page, skip the system’s default launch page.  </p>
<p>In the <code>EntryAbility</code> file’s <code>onWindowStageCreate</code> method, use:  </p>
<pre><code class="language-typescript">windowStage.loadContent(&#39;pages/splish&#39;, (err) =&gt; &#123;
 //****
   &#125;);
</code></pre>
<p>Specify the customized launch page and set the display duration in the <code>splish</code> page. After the timeout, navigate to the login page or app homepage.  </p>
<h4 id="5-What-do-different-import-syntaxes-mean-in-HarmonyOS"><a href="#5-What-do-different-import-syntaxes-mean-in-HarmonyOS" class="headerlink" title="5. What do different import syntaxes mean in HarmonyOS?"></a>5. What do different import syntaxes mean in HarmonyOS?</h4><p>Three import usages:  </p>
<ol>
<li><code>import &#123; ExecutorImpl &#125; from ‘…/impl/ExecutorImpl’</code>  </li>
<li><code>import http from ‘@ohos.net.http’</code>  </li>
<li><code>import ‘./ohcard/index’</code></li>
</ol>
<ul>
<li><p><strong>Case 1</strong>: Imports only the <code>ExecutorImpl</code> identifier exported from <code>ExecutorImpl.ets</code> (which exports multiple identifiers).  </p>
</li>
<li><p><strong>Case 2</strong>: Imports the default <code>http</code> exported from <code>@ohos.net.http</code>, so <code>&#123;&#125;</code> is unnecessary.  </p>
</li>
<li><p><strong>Case 3</strong>: What does this signify?  </p>
<ul>
<li>Q1: Does it import all exported identifiers from <code>./ohcard/index.ets</code>?  </li>
<li>Q2: Will global functions and code in <code>./ohcard/index.ets</code> execute? If multiple users import <code>./ohcard/index</code>, will the global code execute repeatedly?</li>
</ul>
</li>
</ul>
<p><strong>Answer</strong>: All three methods import files, but the imported variables differ. The third method imports the file without importing its exported variables. Importing the same file multiple times does not trigger repeated execution.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/25/417%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91-Text-Height-Issues-Long-press-Icon-Menu-Rounded-Gradient-Borders-ArkX-Queries-Progress-Animation-Cancellation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/25/417%E3%80%90Daily-HarmonyOS-Next-Knowledge%E3%80%91-Text-Height-Issues-Long-press-Icon-Menu-Rounded-Gradient-Borders-ArkX-Queries-Progress-Animation-Cancellation/" class="post-title-link" itemprop="url">【Daily HarmonyOS Next Knowledge】 Text Height Issues, Long-press Icon Menu, Rounded Gradient Borders, ArkX Queries, Progress Animation Cancellation</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-25 07:05:28 / Modified: 07:05:59" itemprop="dateCreated datePublished" datetime="2025-06-25T07:05:28+08:00">2025-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Knowledge-Text-Height-Issues-Long-press-Icon-Menu-Rounded-Gradient-Borders-ArkX-Queries-Progress-Animation-Cancellation"><a href="#Daily-HarmonyOS-Next-Knowledge-Text-Height-Issues-Long-press-Icon-Menu-Rounded-Gradient-Borders-ArkX-Queries-Progress-Animation-Cancellation" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Text Height Issues, Long-press Icon Menu, Rounded Gradient Borders, ArkX Queries, Progress Animation Cancellation"></a>[Daily HarmonyOS Next Knowledge] Text Height Issues, Long-press Icon Menu, Rounded Gradient Borders, ArkX Queries, Progress Animation Cancellation</h3><h4 id="1-When-pulling-up-a-UIExtension-in-a-HarmonyOS-bindSheet-the-TextArea-component-in-UIAbility-displays-long-text-When-scrolling-the-text-the-bindSheet-page-also-scrolls-How-to-allow-only-text-scrolling-while-keeping-the-bindSheet-page-height-fixed"><a href="#1-When-pulling-up-a-UIExtension-in-a-HarmonyOS-bindSheet-the-TextArea-component-in-UIAbility-displays-long-text-When-scrolling-the-text-the-bindSheet-page-also-scrolls-How-to-allow-only-text-scrolling-while-keeping-the-bindSheet-page-height-fixed" class="headerlink" title="1. When pulling up a UIExtension in a HarmonyOS bindSheet, the TextArea component in UIAbility displays long text. When scrolling the text, the bindSheet page also scrolls. How to allow only text scrolling while keeping the bindSheet page height fixed?"></a>1. When pulling up a UIExtension in a HarmonyOS bindSheet, the TextArea component in UIAbility displays long text. When scrolling the text, the bindSheet page also scrolls. How to allow only text scrolling while keeping the bindSheet page height fixed?</h4><p>Try not using UIExtension and directly pulling up the page layout with bindSheet. In this case, the TextArea component can scroll to display text, and the bindSheet page maintains its height without being affected.  </p>
<p>Why does using UIExtension cause the bug where both the bindSheet page and TextArea text scroll simultaneously?  </p>
<p><strong>Pulling Side Code</strong>:  </p>
<pre><code class="language-typescript">import prompt from &#39;@ohos.prompt&#39;
import &#123; Button &#125; from &#39;@ohos.multimodalInput.mouseEvent&#39;;
@Entry
@Component
struct Second &#123;
  @State message1: string = &#39;大江东去，浪淘尽，千古风流人物。故垒西边，人道是：三国周郎赤壁。乱石崩云，惊涛裂岸，卷起千堆雪。江山如画，一时多少豪杰。&#39;
  @State visible: Visibility = Visibility.Hidden
  private proxy: UIExtensionProxy | null = null;
  @State isShow: boolean = false
  @Builder myBuilder() &#123;
    Column() &#123;
      UIExtensionComponent(&#123;
        bundleName: &quot;com.example.controllablebuildcomponent&quot;,
        abilityName: &quot;UIExtensionProvider&quot;,
        parameters: &#123;
          &quot;ability.want.params.uiExtensionType&quot;: &quot;sys/commonUI&quot;
        &#125;
      &#125;)
        .width(&#39;98%&#39;)
        .height(&#39;98%&#39;)
        .onResult((data) =&gt; &#123;
          console.log(&quot;fengsumei: onResult data : &quot; + JSON.stringify(data))
        &#125;)
        .onRelease((code) =&gt; &#123;
          console.log(&quot;release code : &quot; + code)
        &#125;)
        .onReceive((data) =&gt; &#123;
          console.log(&quot;onReceive data : &quot; + JSON.stringify(data))
        &#125;)
        .onRemoteReady((proxy) =&gt; &#123;
          console.info(&#39;onRemoteReady, for test&#39;)
          this.proxy = proxy
          this.proxy.off(&quot;asyncReceiverRegister&quot;);
        &#125;)
      // .hitTestBehavior(HitTestMode.None)
    &#125;
    .width(&#39;100%&#39;)
  &#125;

  build() &#123;
    Row() &#123;
      Column() &#123;
        Text(this.message1)
          .fontSize(20)
          .margin(20)
          .copyOption(CopyOptions.InApp)
          .onClick((event?: ClickEvent) =&gt; &#123;
            console.log(&quot;fengsumei: ClickEvent!&quot;)
          &#125;)
          .textMenuOptions([&#123; content: &quot;Creative&quot;, action: (selectContent: string) =&gt; &#123;
            console.log(&quot;selectContent: &quot; + selectContent)
            this.isShow = true
          &#125;&#125;])
          .bindSheet($$this.isShow, this.myBuilder(), &#123;
            showClose: false,
            shouldDismiss: ((sheetDismiss: SheetDismiss) =&gt; &#123;
              console.log(&quot;bind sheet shouldDismiss&quot;)
              sheetDismiss.dismiss()
            &#125;),
          &#125;)
      &#125;
      .width(&#39;100%&#39;)
      .height(&#39;100%&#39;)
    &#125;
    .height(&#39;100%&#39;)
  &#125;
&#125;
</code></pre>
<p><strong>Problematic Interface Code in the Pulled App</strong>:  </p>
<pre><code class="language-typescript">Tabs(&#123; barPosition: BarPosition.End, controller: this.tabsController, index: this.currentIndex &#125;) &#123;
  TabContent() &#123;
    TextArea(&#123;
      text: this.textResult,
      controller: this.textAreaController
    &#125;)
      .width(&#39;100%&#39;)
      .height(&#39;100%&#39;)
      .fontSize(16)
      .fontColor(&#39;#182431&#39;)
      .backgroundColor(&#39;#FFFFFF&#39;)
      .copyOption(CopyOptions.LocalDevice)
      .lineSpacing(LengthMetrics.px(20))
      .letterSpacing(2)
      .onChange((value: string) =&gt; &#123;
        this.textResult = value
      &#125;)
      .onTouch((event: TouchEvent) =&gt; &#123;
        console.debug(TAG, &quot;TextArea Touch!&quot;)
        // event.stopPropagation()
      &#125;)
      .onContentScroll(() =&gt; &#123;
        console.debug(TAG, &quot;TextArea content scroll!&quot;)
      &#125;)
  &#125;
  .backgroundColor(&#39;#FFFFFF&#39;)
  .borderRadius(15)
  .margin(&#123; left: 2, right: 2 &#125;)

  TabContent() &#123;
    TextArea(&#123;
      text: &#39;this.textResult 222&#39;,
      controller: this.textAreaController
    &#125;)
      .width(&#39;100%&#39;)
      .height(&#39;100%&#39;)
      .fontSize(16)
      .fontColor(&#39;#182431&#39;)
      .backgroundColor(&#39;#FFFFFF&#39;)
      .copyOption(CopyOptions.LocalDevice)
      .lineSpacing(LengthMetrics.px(20))
      .letterSpacing(2)
      .onChange((value: string) =&gt; &#123;
        // this.textResult = value
      &#125;)
  &#125;
  .backgroundColor(&#39;#FFFFFF&#39;)
  .borderRadius(15)
  .margin(&#123; left: 2, right: 2 &#125;)

  TabContent() &#123;
    TextArea(&#123;
      text: &#39;this.textResult 333&#39;,
      controller: this.textAreaController
    &#125;)
      .width(&#39;100%&#39;)
      .height(&#39;100%&#39;)
      .fontSize(16)
      .fontColor(&#39;#182431&#39;)
      .backgroundColor(&#39;#FFFFFF&#39;)
      .copyOption(CopyOptions.LocalDevice)
      .lineSpacing(LengthMetrics.px(20))
      .letterSpacing(2)
      .onChange((value: string) =&gt; &#123;
        // this.textResult = value
      &#125;)
  &#125;
  .backgroundColor(&#39;#FFFFFF&#39;)
  .borderRadius(15)
  .margin(&#123; left: 2, right: 2 &#125;)
&#125;
.vertical(false)
.barHeight(0)
.onChange((index: number) =&gt; &#123;
  this.currentIndex = index
  if (index == 0) &#123;
    this.previousSource = $r(&#39;app.media.ic_arrow_previous_off&#39;)
    this.nextSource = $r(&#39;app.media.ic_arrow_next_on&#39;)
  &#125; else if (index == this.totalPageNums - 1) &#123;
    this.previousSource = $r(&#39;app.media.ic_arrow_previous_on&#39;)
    this.nextSource = $r(&#39;app.media.ic_arrow_next_off&#39;)
  &#125; else &#123;
    this.previousSource = $r(&#39;app.media.ic_arrow_previous_on&#39;)
    this.nextSource = $r(&#39;app.media.ic_arrow_next_on&#39;)
  &#125;
&#125;)
.scrollable(true)
.width(&#39;85%&#39;)
.height(&#39;85%&#39;)
.animationDuration(400)
</code></pre>
<p><strong>Solution</strong>: Nest a Scroll within bindSheet. In this case, the semi-modal height remains unchanged, and only the content scrolls downward.  </p>
<h4 id="2-How-to-implement-an-animation-effect-where-a-menu-pops-up-from-a-corner-and-expands-from-small-to-large-when-long-pressing-an-app-icon-in-HarmonyOS"><a href="#2-How-to-implement-an-animation-effect-where-a-menu-pops-up-from-a-corner-and-expands-from-small-to-large-when-long-pressing-an-app-icon-in-HarmonyOS" class="headerlink" title="2. How to implement an animation effect where a menu pops up from a corner and expands from small to large when long-pressing an app icon in HarmonyOS?"></a>2. How to implement an animation effect where a menu pops up from a corner and expands from small to large when long-pressing an app icon in HarmonyOS?</h4><p>Refer to modal transitions: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-modal-transition-V5#%E4%BD%BF%E7%94%A8bindcontentcover%E6%9E%84%E5%BB%BA%E5%85%A8%E5%B1%8F%E6%A8%A1%E6%80%81%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-modal-transition-V5#%E4%BD%BF%E7%94%A8bindcontentcover%E6%9E%84%E5%BB%BA%E5%85%A8%E5%B1%8F%E6%A8%A1%E6%80%81%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C</a><br>Use <code>bindContentCover</code> to build full-screen modal transition effects.  </p>
<ol>
<li>Define the full-screen modal transition effect with <code>bindContentCover</code>.  </li>
<li>Define the modal display interface:</li>
</ol>
<pre><code class="language-typescript">// Build the modal display interface via @Builder
@Builder MyBuilder() &#123;
  Column() &#123;
    Text(&#39;my model view&#39;)
  &#125;
  // Implement appearance and disappearance transition effects via transition animation (transition should be added to the first component under builder)
  .transition(TransitionEffect.translate(&#123; y: 1000 &#125;).animation(&#123; curve: curves.springMotion(0.6, 0.8) &#125;))
&#125;
</code></pre>
<ol start="3">
<li>Invoke the modal display interface via the modal API and implement corresponding animation effects via transition or shared element animations:</li>
</ol>
<pre><code class="language-typescript">// Modal transition control variable
@State isPresent: boolean = false;

Button(&#39;Click to present model view&#39;)
  // Bind the modal display interface via the selected modal API. ModalTransition is the built-in ContentCover transition animation type; None here means the system adds no default animation, and the state variable change is controlled via onDisappear
  .bindContentCover(this.isPresent, this.MyBuilder(), &#123;
            modalTransition: ModalTransition.NONE,
            onDisappear: () =&gt; &#123;
              if (this.isPresent) &#123;
                this.isPresent = !this.isPresent;
              &#125;
            &#125;
          &#125;)
  .onClick(() =&gt; &#123;
    // Change the state variable to display the modal interface
    this.isPresent = !this.isPresent;
  &#125;)
</code></pre>
<h4 id="3-How-to-set-a-rounded-gradient-border-in-HarmonyOS"><a href="#3-How-to-set-a-rounded-gradient-border-in-HarmonyOS" class="headerlink" title="3. How to set a rounded gradient border in HarmonyOS?"></a>3. How to set a rounded gradient border in HarmonyOS?</h4><ol>
<li>How to set a rounded gradient border?  </li>
<li>Why does BorderImage shift downward, and how to adjust it? Using two layers of gradient backgrounds can achieve the effect, but transparency fails.</li>
</ol>
<p>A rounded gradient border can be implemented using the linear gradient <code>linearGradient</code>. Refer to the demo below:  </p>
<pre><code class="language-typescript">@Entry
@Component
struct BorderDemo &#123;
  build() &#123;
    Column() &#123;
        Row()&#123;
          Text(&#39;This is gradient color.&#39;)
            .textAlign(TextAlign.Center)
            .width(&#39;96%&#39;)
            .height(&#39;80%&#39;)
            .borderRadius(30)
            .linearGradient(&#123;
              direction: GradientDirection.Left, // Gradient direction
              repeating: true, // Whether gradient colors repeat
              colors: [[0xDCDCDC, 0.0],  [0xFFFFFF, 1.0]] // When the proportion of the last element in the array is less than 1, it satisfies the repeated coloring effect
            &#125;)
        &#125;
        .width(&#39;90%&#39;)
        .height(60)
        .borderRadius(30)
        .linearGradient(&#123;
          angle: 90,
          colors: [[0x87CEEB, 0.0], [0x2E8B57, 1.0]]
        &#125;)
        .opacity(0.6)
        .justifyContent(FlexAlign.Center)
    &#125;
    .height(&#39;100%&#39;)
  &#125;
&#125;
</code></pre>
<h4 id="4-Consultation-on-the-impact-of-HarmonyOS-ArkUI-X-cross-platform-on-host-APP-package-size-and-memory-usage"><a href="#4-Consultation-on-the-impact-of-HarmonyOS-ArkUI-X-cross-platform-on-host-APP-package-size-and-memory-usage" class="headerlink" title="4. Consultation on the impact of HarmonyOS ArkUI-X cross-platform on host APP package size and memory usage?"></a>4. Consultation on the impact of HarmonyOS ArkUI-X cross-platform on host APP package size and memory usage?</h4><p>What is the impact of using ArkUI-X cross-platform technology on the host APP package size (how much static size does it increase), and how much additional memory does the ArkTs runtime occupy? Are there any official data?  </p>
<ul>
<li><p>When including only the basic project and packaging only the armv8a architecture so library:  </p>
<ul>
<li>APK size: Approximately 12-13MB.  </li>
<li>Memory: Approximately 200MB.</li>
</ul>
</li>
<li><p>When introducing some device capability, network, etc., so libraries in actual projects:  </p>
<ul>
<li>APK size increases by approximately 30-40MB.  </li>
<li>Memory increases by approximately 80MB+.</li>
</ul>
</li>
</ul>
<h4 id="5-When-modifying-the-value-of-a-HarmonyOS-Progress-component-how-to-cancel-the-animation"><a href="#5-When-modifying-the-value-of-a-HarmonyOS-Progress-component-how-to-cancel-the-animation" class="headerlink" title="5. When modifying the value of a HarmonyOS Progress component, how to cancel the animation?"></a>5. When modifying the value of a HarmonyOS Progress component, how to cancel the animation?</h4><p>When modifying the <code>value</code> of a <code>Progress</code> component, there is a default animation. How to cancel it?  </p>
<pre><code class="language-typescript">Progress(&#123; value: this.progress, type: ProgressType.Linear &#125;)
</code></pre>
<p>Turn off the smooth progress animation by setting <code>enableSmoothEffect</code> to <code>false</code>. For example:  </p>
<pre><code class="language-typescript">Progress(&#123; value: this.progressValue, total: 100, type: ProgressType.Linear &#125;)
  .width(200)
  .height(50)
  .style(&#123; enableSmoothEffect: false &#125;)
</code></pre>
<p>Documentation reference: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-progress-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-progress-V5</a>  </p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/15/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/">15</a><span class="page-number current">16</span><a class="page-number" href="/page/17/">17</a><span class="space">&hellip;</span><a class="page-number" href="/page/19/">19</a><a class="extend next" rel="next" href="/page/17/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Qingkouwei</p>
  <div class="site-description" itemprop="description">Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">183</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Qingkouwei</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
