<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"harmonyostech.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next&#96;s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoo">
<meta property="og:type" content="website">
<meta property="og:title" content="HarmonyOS NEXT Knowledge Charging Station">
<meta property="og:url" content="https://harmonyostech.github.io/page/18/index.html">
<meta property="og:site_name" content="HarmonyOS NEXT Knowledge Charging Station">
<meta property="og:description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next&#96;s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Qingkouwei">
<meta property="article:tag" content="HarmonyOSNext, HarmonyOS NEXT, HarmonyOS, Cangjie">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://harmonyostech.github.io/page/18/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>HarmonyOS NEXT Knowledge Charging Station</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">HarmonyOS NEXT Knowledge Charging Station</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Analysis of Core Technologies and Application Scenarios of HarmonyOS NEXT</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/27/131-Daily-HarmonyOS-Next-Knowledge-State-Variables-Common-Pages-Visible-Area-Change-Callbacks-Parameter-Reception-Drag-and-Drop-Sorting-Controls/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/27/131-Daily-HarmonyOS-Next-Knowledge-State-Variables-Common-Pages-Visible-Area-Change-Callbacks-Parameter-Reception-Drag-and-Drop-Sorting-Controls/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] State Variables, Common Pages, Visible Area Change Callbacks, Parameter Reception, Drag-and-Drop Sorting Controls</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-27 10:15:35 / Modified: 10:16:02" itemprop="dateCreated datePublished" datetime="2025-06-27T10:15:35+08:00">2025-06-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Knowledge-State-Variables-Common-Pages-Visible-Area-Change-Callbacks-Parameter-Reception-Drag-and-Drop-Sorting-Controls"><a href="#Daily-HarmonyOS-Next-Knowledge-State-Variables-Common-Pages-Visible-Area-Change-Callbacks-Parameter-Reception-Drag-and-Drop-Sorting-Controls" class="headerlink" title="[Daily HarmonyOS Next Knowledge] State Variables, Common Pages, Visible Area Change Callbacks, Parameter Reception, Drag-and-Drop Sorting Controls"></a>[Daily HarmonyOS Next Knowledge] State Variables, Common Pages, Visible Area Change Callbacks, Parameter Reception, Drag-and-Drop Sorting Controls</h3><h4 id="1-Can-state-decorated-variables-in-HarmonyOS-be-updated-in-a-timer-to-refresh-the-UI"><a href="#1-Can-state-decorated-variables-in-HarmonyOS-be-updated-in-a-timer-to-refresh-the-UI" class="headerlink" title="1. Can @state-decorated variables in HarmonyOS be updated in a timer to refresh the UI?"></a>1. Can @state-decorated variables in HarmonyOS be updated in a timer to refresh the UI?</h4><p>Wrapping the function in a proper closure allows UI updates:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Index</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">acSetValve</span>: <span class="built_in">number</span> = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">aboutToAppear</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">acSetValve</span> += <span class="number">200</span>;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hahhah&#x27;</span> + <span class="variable language_">this</span>.<span class="property">acSetValve</span>)</span><br><span class="line">    &#125;, <span class="number">100</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Row</span>() &#123;</span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">acSetValve</span>.<span class="title function_">toString</span>())</span><br><span class="line">          .<span class="title function_">fontSize</span>(<span class="number">50</span>)</span><br><span class="line">          .<span class="title function_">fontWeight</span>(<span class="title class_">FontWeight</span>.<span class="property">Bold</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 2. How to create a common page in HarmonyOS for other pages to inherit and process shared logic?  </span></span><br><span class="line"><span class="string">**Demo reference**:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="comment">// Main page: FirstTest.ets</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">FirstTest2</span> &#125; <span class="keyword">from</span> <span class="string">&quot;./FirstTest2&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">FirstTest</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">message1</span>: <span class="built_in">string</span> = <span class="string">&#x27;Hello World&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Text</span>(<span class="string">&quot;FirstTest：&quot;</span> + <span class="variable language_">this</span>.<span class="property">message1</span>)</span><br><span class="line">        .<span class="title function_">fontSize</span>(<span class="number">25</span>)</span><br><span class="line">        .<span class="title function_">fontWeight</span>(<span class="title class_">FontWeight</span>.<span class="property">Bold</span>)</span><br><span class="line">      <span class="title class_">FirstTest2</span>(&#123; <span class="attr">message2</span>: <span class="variable language_">this</span>.<span class="property">message1</span> &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Reusable component: FirstTest2.ets</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">export</span> struct <span class="title class_">FirstTest2</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">test</span>: <span class="built_in">string</span> = <span class="string">&quot;FirstTest2&quot;</span></span><br><span class="line">  <span class="meta">@Link</span> <span class="attr">message2</span>: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Row</span>() &#123;</span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">Text</span>(<span class="string">&quot;FirstTest2:&quot;</span> + <span class="variable language_">this</span>.<span class="property">test</span>)</span><br><span class="line">          .<span class="title function_">fontSize</span>(<span class="number">25</span>)</span><br><span class="line">          .<span class="title function_">fontWeight</span>(<span class="title class_">FontWeight</span>.<span class="property">Bold</span>)</span><br><span class="line">        <span class="title class_">Text</span>(<span class="string">&quot;FirstTest2:&quot;</span> + <span class="variable language_">this</span>.<span class="property">message2</span>)</span><br><span class="line">          .<span class="title function_">fontSize</span>(<span class="number">25</span>)</span><br><span class="line">          .<span class="title function_">fontWeight</span>(<span class="title class_">FontWeight</span>.<span class="property">Bold</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 3. Why isn&#x27;t the onVisibleAreaChange event triggered in HarmonyOS?  </span></span><br><span class="line"><span class="string">The `</span>onVisibleAreaChange<span class="string">` event does not monitor component area changes caused by offset adjustments. For screen switching monitoring, use the Swiper component.  </span></span><br><span class="line"><span class="string">Documentation: https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-container-swiper-V5  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 4. How to receive parameters passed via router.pushNamedRoute in HarmonyOS?  </span></span><br><span class="line"><span class="string">Use `</span>router.<span class="title function_">getParams</span>()<span class="string">` to receive parameters.  </span></span><br><span class="line"><span class="string">API link: https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-router-V5#ZH-CN_TOPIC_0000001884917590__routergetparams  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Demo reference**:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;@ohos.router&#x27;</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">innerParams</span> &#123;</span><br><span class="line">  <span class="attr">array</span>: <span class="built_in">number</span>[]</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="attr">tuple</span>: <span class="built_in">number</span>[]</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">array</span> = tuple</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">routerParams</span> &#123;</span><br><span class="line">  <span class="attr">text</span>: <span class="built_in">string</span></span><br><span class="line">  <span class="attr">data</span>: innerParams</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="attr">str</span>: <span class="built_in">string</span>, <span class="attr">tuple</span>: <span class="built_in">number</span>[]</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">text</span> = str</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">data</span> = <span class="keyword">new</span> <span class="title function_">innerParams</span>(tuple)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Router1</span> &#123;</span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">Text</span>(<span class="string">&quot;I am Page 1&quot;</span>).<span class="title function_">fontSize</span>(<span class="number">50</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">Button</span>(<span class="string">&quot;Jump&quot;</span>)</span><br><span class="line">          .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            router.<span class="title function_">pushUrl</span>(&#123;</span><br><span class="line">              <span class="attr">url</span>: <span class="string">&#x27;pages/Router11&#x27;</span>,</span><br><span class="line">              <span class="attr">params</span>: <span class="keyword">new</span> <span class="title function_">routerParams</span>(<span class="string">&#x27;message&#x27;</span>, [<span class="number">123</span>, <span class="number">456</span>, <span class="number">789</span>])</span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;@ohos.router&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">innerParams</span> &#123;</span><br><span class="line">  <span class="attr">array</span>: <span class="built_in">number</span>[]</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="attr">tuple</span>: <span class="built_in">number</span>[]</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">array</span> = tuple</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">routerParams</span> &#123;</span><br><span class="line">  <span class="attr">text</span>: <span class="built_in">string</span></span><br><span class="line">  <span class="attr">data</span>: innerParams</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="attr">str</span>: <span class="built_in">string</span>, <span class="attr">tuple</span>: <span class="built_in">number</span>[]</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">text</span> = str</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">data</span> = <span class="keyword">new</span> <span class="title function_">innerParams</span>(tuple)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Router11</span> &#123;</span><br><span class="line">  <span class="title function_">aboutToAppear</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="attr">s</span>: <span class="built_in">number</span>[] = ((router.<span class="title function_">getParams</span>() <span class="keyword">as</span> routerParams).<span class="property">data</span> <span class="keyword">as</span> innerParams).<span class="property">array</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;*********:&quot;</span> + s);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Text</span>(<span class="string">&quot;123&quot;</span>).<span class="title function_">fontSize</span>(<span class="number">50</span>)</span><br><span class="line">      <span class="title class_">Row</span>() &#123;</span><br><span class="line">        <span class="title class_">Text</span>(<span class="string">&quot;33333&quot;</span>).<span class="title function_">fontSize</span>(<span class="number">50</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">opacity</span>(<span class="number">0.5</span>)</span><br><span class="line">    .<span class="title function_">backgroundColor</span>(<span class="title class_">Color</span>.<span class="property">Pink</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 5. Are there utility classes for drag-and-drop sorting and control translation effects in HarmonyOS when current control data limits are insufficient?  </span></span><br><span class="line"><span class="string">For animation effects, refer to the following demo:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">AnimationPage</span> &#123;</span><br><span class="line">  <span class="meta">@Provide</span> <span class="attr">desX</span>: <span class="built_in">number</span> = <span class="number">0</span>;</span><br><span class="line">  <span class="meta">@Provide</span> <span class="attr">desY</span>: <span class="built_in">number</span> = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Builder</span></span><br><span class="line">  <span class="title class_">TabBar</span>(<span class="attr">index</span>: <span class="built_in">number</span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Image</span>($r(<span class="string">&quot;app.media.icon&quot;</span>))</span><br><span class="line">        .<span class="title function_">width</span>(<span class="number">38</span>)</span><br><span class="line">        .<span class="title function_">height</span>(<span class="number">38</span>)</span><br><span class="line">      <span class="title class_">Text</span>(index == <span class="number">1</span> ? <span class="string">&quot;Classification&quot;</span> : index.<span class="title function_">toString</span>())</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">onAreaChange</span>(<span class="function">(<span class="params"><span class="attr">oldValue</span>: <span class="title class_">Area</span>, <span class="attr">newValue</span>: <span class="title class_">Area</span></span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (index == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">desX</span> = newValue.<span class="property">globalPosition</span>.<span class="property">x</span> <span class="keyword">as</span> <span class="built_in">number</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">desY</span> = newValue.<span class="property">globalPosition</span>.<span class="property">y</span> <span class="keyword">as</span> <span class="built_in">number</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Category</span>()</span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">Image</span>($r(<span class="string">&quot;app.media.icon&quot;</span>))</span><br><span class="line">          .<span class="title function_">width</span>(<span class="number">38</span>)</span><br><span class="line">          .<span class="title function_">height</span>(<span class="number">38</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">onAreaChange</span>(<span class="function">(<span class="params"><span class="attr">oldValue</span>: <span class="title class_">Area</span>, <span class="attr">newValue</span>: <span class="title class_">Area</span></span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">desX</span> = newValue.<span class="property">globalPosition</span>.<span class="property">x</span> <span class="keyword">as</span> <span class="built_in">number</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">desY</span> = newValue.<span class="property">globalPosition</span>.<span class="property">y</span> <span class="keyword">as</span> <span class="built_in">number</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">width</span>(<span class="string">&quot;100%&quot;</span>)</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&quot;100%&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Category</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">dataList</span>: <span class="built_in">number</span>[] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>, <span class="number">20</span>]</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Flex</span>(&#123; <span class="attr">direction</span>: <span class="title class_">FlexDirection</span>.<span class="property">Row</span>, <span class="attr">justifyContent</span>: <span class="title class_">FlexAlign</span>.<span class="property">SpaceBetween</span>, <span class="attr">wrap</span>: <span class="title class_">FlexWrap</span>.<span class="property">Wrap</span> &#125;) &#123;</span><br><span class="line">        <span class="title class_">ForEach</span>(<span class="variable language_">this</span>.<span class="property">dataList</span>, <span class="function">(<span class="params"><span class="attr">item</span>: <span class="built_in">number</span></span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="title class_">ListItemComponent</span>()</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">      .<span class="title function_">height</span>(<span class="string">&#x27;80%&#x27;</span>)</span><br><span class="line">      .<span class="title function_">backgroundColor</span>(<span class="title class_">Color</span>.<span class="property">White</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Observed</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AnimationBean</span> &#123;</span><br><span class="line">  <span class="attr">animationAppear</span>: <span class="title class_">Boolean</span> = <span class="literal">false</span>;</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">number</span> = -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">ListItemComponent</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">animationList</span>: <span class="title class_">AnimationBean</span>[] = []</span><br><span class="line">  <span class="keyword">static</span> <span class="attr">index</span>: <span class="built_in">number</span> = <span class="number">0</span>;</span><br><span class="line">  <span class="meta">@Consume</span> <span class="attr">desX</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="meta">@Consume</span> <span class="attr">desY</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="meta">@Provide</span> <span class="attr">orgX</span>: <span class="built_in">number</span> = <span class="number">0</span>;</span><br><span class="line">  <span class="meta">@Provide</span> <span class="attr">orgY</span>: <span class="built_in">number</span> = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Builder</span></span><br><span class="line">  <span class="title class_">BuildAnimationItem</span>() &#123;</span><br><span class="line">    <span class="title class_">Image</span>($r(<span class="string">&quot;app.media.app_icon&quot;</span>))</span><br><span class="line">      .<span class="title function_">width</span>(<span class="number">41</span>)</span><br><span class="line">      .<span class="title function_">height</span>(<span class="number">41</span>)</span><br><span class="line">      .<span class="title function_">id</span>(<span class="string">&quot;test&quot;</span>)</span><br><span class="line">      .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">startAnimation</span>();</span><br><span class="line">      &#125;)</span><br><span class="line">      .<span class="title function_">onAreaChange</span>(<span class="function">(<span class="params"><span class="attr">oldValue</span>: <span class="title class_">Area</span>, <span class="attr">newValue</span>: <span class="title class_">Area</span></span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">orgX</span> = newValue.<span class="property">globalPosition</span>.<span class="property">x</span> <span class="keyword">as</span> <span class="built_in">number</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">orgY</span> = newValue.<span class="property">globalPosition</span>.<span class="property">y</span> <span class="keyword">as</span> <span class="built_in">number</span></span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">startAnimation</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> animation = <span class="keyword">new</span> <span class="title class_">AnimationBean</span>();</span><br><span class="line">    animation.<span class="property">id</span> = <span class="title class_">ListItemComponent</span>.<span class="property">index</span>++</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">animationList</span>.<span class="title function_">push</span>(animation)</span><br><span class="line">    <span class="title function_">animateTo</span>(&#123;</span><br><span class="line">      <span class="attr">duration</span>: <span class="number">800</span>,</span><br><span class="line">      <span class="attr">curve</span>: <span class="title class_">Curve</span>.<span class="property">FastOutLinearIn</span>,</span><br><span class="line">      <span class="attr">onFinish</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        animation.<span class="property">animationAppear</span> = <span class="literal">false</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">animationList</span> = <span class="variable language_">this</span>.<span class="property">animationList</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params"><span class="attr">item</span>: <span class="title class_">AnimationBean</span></span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> item.<span class="property">animationAppear</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      animation.<span class="property">animationAppear</span> = <span class="literal">true</span>;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Builder</span></span><br><span class="line">  <span class="title class_">BuildItem</span>() &#123;</span><br><span class="line">    <span class="title class_">Row</span>() &#123;</span><br><span class="line">      <span class="title class_">Stack</span>() &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title class_">BuildAnimationItem</span>()</span><br><span class="line">        <span class="title class_">ForEach</span>(<span class="variable language_">this</span>.<span class="property">animationList</span>, <span class="function">(<span class="params"><span class="attr">item</span>: <span class="title class_">AnimationBean</span></span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="title class_">AnimationChild</span>(&#123; <span class="attr">item</span>: item, <span class="title class_">AnimationView</span>: <span class="variable language_">this</span>.<span class="property">BuildAnimationItem</span> &#125;)</span><br><span class="line">        &#125;, <span class="function">(<span class="params"><span class="attr">item</span>: <span class="title class_">AnimationBean</span>, <span class="attr">index</span>: <span class="built_in">number</span></span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> item.<span class="property">id</span>.<span class="title function_">toLocaleString</span>()</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">width</span>(<span class="string">&quot;20%&quot;</span>)</span><br><span class="line">    .<span class="title function_">height</span>(<span class="number">60</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title class_">BuildItem</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">AnimationChild</span> &#123;</span><br><span class="line">  <span class="meta">@ObjectLink</span> <span class="attr">item</span>: <span class="title class_">AnimationBean</span>;</span><br><span class="line">  <span class="meta">@Consume</span> <span class="attr">desX</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="meta">@Consume</span> <span class="attr">desY</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="meta">@Consume</span> <span class="attr">orgX</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="meta">@Consume</span> <span class="attr">orgY</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="meta">@BuilderParam</span></span><br><span class="line">  <span class="title class_">AnimationView</span>: <span class="function">() =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Row</span>() &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title class_">AnimationView</span>()</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">zIndex</span>(<span class="number">5</span>)</span><br><span class="line">    .<span class="title function_">translate</span>(<span class="variable language_">this</span>.<span class="property">item</span>.<span class="property">animationAppear</span> ? &#123; <span class="attr">x</span>: (<span class="variable language_">this</span>.<span class="property">desX</span> - <span class="variable language_">this</span>.<span class="property">orgX</span> - <span class="number">20</span>), <span class="attr">y</span>: (<span class="variable language_">this</span>.<span class="property">desY</span> - <span class="variable language_">this</span>.<span class="property">orgY</span>) &#125; : &#123; <span class="attr">x</span>: <span class="number">0</span> &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/27/130-Daily-HarmonyOS-Next-Learning-Multiple-Inheritance-Swiper-Container-Event-Propagation-Scroll-Safe-Area-Preloading-Network-Images/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/27/130-Daily-HarmonyOS-Next-Learning-Multiple-Inheritance-Swiper-Container-Event-Propagation-Scroll-Safe-Area-Preloading-Network-Images/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Learning] Multiple Inheritance, Swiper Container, Event Propagation, Scroll Safe Area, Preloading Network Images</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-27 10:14:22 / Modified: 10:14:47" itemprop="dateCreated datePublished" datetime="2025-06-27T10:14:22+08:00">2025-06-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Learning-Multiple-Inheritance-Swiper-Container-Event-Propagation-Scroll-Safe-Area-Preloading-Network-Images"><a href="#Daily-HarmonyOS-Next-Learning-Multiple-Inheritance-Swiper-Container-Event-Propagation-Scroll-Safe-Area-Preloading-Network-Images" class="headerlink" title="[Daily HarmonyOS Next Learning] Multiple Inheritance, Swiper Container, Event Propagation, Scroll Safe Area, Preloading Network Images"></a>[Daily HarmonyOS Next Learning] Multiple Inheritance, Swiper Container, Event Propagation, Scroll Safe Area, Preloading Network Images</h3><h4 id="1-How-does-HarmonyOS-ArkTS-enable-a-class-to-inherit-capabilities-from-multiple-other-classes"><a href="#1-How-does-HarmonyOS-ArkTS-enable-a-class-to-inherit-capabilities-from-multiple-other-classes" class="headerlink" title="1. How does HarmonyOS ArkTS enable a class to inherit capabilities from multiple other classes?"></a>1. How does HarmonyOS ArkTS enable a class to inherit capabilities from multiple other classes?</h4><p>How can an ArkTS class possess capabilities from multiple other classes, similar to multiple inheritance?  </p>
<ul>
<li>Interfaces support multiple inheritance, while classes only support single inheritance (error: <code>Classes can only extend a single class.</code>).</li>
</ul>
<p><strong>Multiple inheritance for interfaces</strong>:  </p>
<pre><code class="language-typescript">interface AreaSize &#123;
  calculateAreaSize(): number
&#125;
interface Cal &#123;
  Sub(a: number, b: number): number
&#125;

interface Area extends AreaSize, Cal &#123;
  areaName: string
  length: number
  width: number
&#125;
</code></pre>
<h4 id="2-For-the-HarmonyOS-Swiper-container-displayCount-3-true-sets-three-items-per-group-but-the-bottom-indicator-still-shows-the-total-list-size-How-to-set-the-indicator-to-list-size-3"><a href="#2-For-the-HarmonyOS-Swiper-container-displayCount-3-true-sets-three-items-per-group-but-the-bottom-indicator-still-shows-the-total-list-size-How-to-set-the-indicator-to-list-size-3" class="headerlink" title="2. For the HarmonyOS Swiper container, .displayCount(3, true) sets three items per group, but the bottom indicator still shows the total list size. How to set the indicator to list.size/3?"></a>2. For the HarmonyOS Swiper container, <code>.displayCount(3, true)</code> sets three items per group, but the bottom indicator still shows the total list size. How to set the indicator to <code>list.size/3</code>?</h4><p>When a Swiper displays 3 or more items per screen, how to ensure the indicator count is <code>array.length/3</code> instead of the total list size?  </p>
<p>To display multiple identical components in the same window, wrap them in an outer component. For example, if the data length is 5, the number of navigation points is 5, and each window shows 3 images:  </p>
<pre><code class="language-typescript">Swiper(this.swiperController) &#123;
  LazyForEach(this.data, (item: string) =&gt; &#123;
    Flex() &#123;
      Image($r(&#39;app.media.startIcon&#39;))
      Image($r(&#39;app.media.startIcon&#39;))
      Image($r(&#39;app.media.startIcon&#39;))
    &#125;.height(&#39;20%&#39;)
  &#125;, (item: string) =&gt; item)
&#125;
</code></pre>
<h4 id="3-Best-practices-for-HarmonyOS-event-propagation"><a href="#3-Best-practices-for-HarmonyOS-event-propagation" class="headerlink" title="3. Best practices for HarmonyOS event propagation?"></a>3. Best practices for HarmonyOS event propagation?</h4><ol>
<li>What are the best practices for click events triggered between sibling components or parent components, where child components consume the events?  </li>
<li>For events distributed from parent components to child components (e.g., page back events), how to handle scenarios where parent components need return values?</li>
</ol>
<p><strong>Bidirectional communication between parent and child components</strong>:<br>Refer to <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-component-state-management-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-component-state-management-V5</a>.  </p>
<p><strong>Parent component calls child component methods</strong>:  </p>
<pre><code class="language-typescript">@Component
struct Child &#123;
  @State private text: string = &#39;Initial value&#39;
  private controller: ChildController = new ChildController();

  aboutToAppear() &#123;
    if (this.controller) &#123;
      this.controller.changeText = this.changeText
    &#125;
    console.log(&#39;aaa&#39;)
  &#125;

  private changeText = (value: string) =&gt; &#123;
    this.text = value
    console.log(&#39;bbb&#39;)
  &#125;

  build() &#123;
    Column() &#123;
      Text(this.text)
    &#125;
  &#125;
&#125;

class ChildController &#123;
  changeText = (value: string) =&gt; &#123;
    console.log(&#39;11111&#39;)
  &#125;
&#125;

export let ChildRef = new ChildController()

@Entry
@Component
struct Parent &#123;
  @State noShow: boolean = false
  build() &#123;
    Column() &#123;
      Text(&#39;Access Child\&#39;s exposeMethods!&#39;).fontSize(&#39;18vp&#39;).fontColor(Color.Gray)
      Divider()
      Child(&#123; controller: ChildRef &#125;)
      Child()
      Button(&#39;Parent calls childer\&#39;s changeText&#39;).onClick(() =&gt; &#123;
        ChildRef.changeText(&#39;Parent calls childer\&#39;s changeText&#39;)
      &#125;)
    &#125;
  &#125;
&#125;
</code></pre>
<p><strong>Child component calls parent component methods</strong>:  </p>
<pre><code class="language-typescript">@Entry
@Component
struct Index &#123;
  @State message: string = &#39;Hello World&#39;;

  build() &#123;
    Row() &#123;
      Column() &#123;
        Text(this.message)
          .fontSize(50)
          .fontWeight(FontWeight.Bold)
        Child(&#123;
          onClickOK: (): void =&gt; &#123;
            console.log(&#39;test&#39;)
          &#125;
        &#125;)
      &#125;
      .width(&#39;100%&#39;)
    &#125;
    .height(&#39;100%&#39;)
  &#125;
&#125;

@Component
struct Child &#123;
  onClickOK?: () =&gt; void;

  build() &#123;
    Row() &#123;
      Column() &#123;
        Button(&#39;Event&#39;)
        .onClick(() =&gt; &#123;
          if (this.onClickOK !== undefined) &#123;
            this.onClickOK()
          &#125;
        &#125;)
      &#125;
      .width(&#39;100%&#39;)
    &#125;
    .height(&#39;100%&#39;)
  &#125;
&#125;
</code></pre>
<h4 id="4-HarmonyOS-scroll-safe-area-issue"><a href="#4-HarmonyOS-scroll-safe-area-issue" class="headerlink" title="4. HarmonyOS scroll safe area issue?"></a>4. HarmonyOS scroll safe area issue?</h4><p>When the software keyboard is not popped up, the layout and scroll height are normal. When the keyboard pops up, the scroll layout height is incorrect—the scrollable area should not exceed the top title bar.  </p>
<p>Use the <code>expandSafeArea</code> attribute under the Column container to avoid conflicts:  </p>
<pre><code class="language-typescript">.expandSafeArea([SafeAreaType.KEYBOARD]) 
</code></pre>
<p>Reference: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-attributes-expand-safe-area-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-attributes-expand-safe-area-V5</a>  </p>
<h4 id="5-How-to-preload-network-images-in-HarmonyOS-and-display-them-via-the-Image-component-when-needed"><a href="#5-How-to-preload-network-images-in-HarmonyOS-and-display-them-via-the-Image-component-when-needed" class="headerlink" title="5. How to preload network images in HarmonyOS and display them via the Image component when needed?"></a>5. How to preload network images in HarmonyOS and display them via the Image component when needed?</h4><p>It is recommended to use the third-party library <code>imageknife</code> for image caching capabilities.<br>Documentation: <a target="_blank" rel="noopener" href="https://ohpm.openharmony.cn/#/cn/detail/@ohos%2Fimageknife">https://ohpm.openharmony.cn/#/cn/detail/@ohos%2Fimageknife</a>  </p>
<p><em>ImageKnife is a purpose-built image loading and caching library for OpenHarmony, optimized for efficiency, lightness, and simplicity.</em></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/27/129-Daily-HarmonyOS-Next-Learning-Multiple-Inheritance-Swiper-Container-Event-Propagation-Scroll-Safe-Area-Preloading-Network-Images/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/27/129-Daily-HarmonyOS-Next-Learning-Multiple-Inheritance-Swiper-Container-Event-Propagation-Scroll-Safe-Area-Preloading-Network-Images/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Learning] Multiple Inheritance, Swiper Container, Event Propagation, Scroll Safe Area, Preloading Network Images</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-27 10:13:04 / Modified: 10:13:21" itemprop="dateCreated datePublished" datetime="2025-06-27T10:13:04+08:00">2025-06-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Learning-Multiple-Inheritance-Swiper-Container-Event-Propagation-Scroll-Safe-Area-Preloading-Network-Images"><a href="#Daily-HarmonyOS-Next-Learning-Multiple-Inheritance-Swiper-Container-Event-Propagation-Scroll-Safe-Area-Preloading-Network-Images" class="headerlink" title="[Daily HarmonyOS Next Learning] Multiple Inheritance, Swiper Container, Event Propagation, Scroll Safe Area, Preloading Network Images"></a>[Daily HarmonyOS Next Learning] Multiple Inheritance, Swiper Container, Event Propagation, Scroll Safe Area, Preloading Network Images</h3><h4 id="1-How-does-HarmonyOS-ArkTS-enable-a-class-to-inherit-capabilities-from-multiple-other-classes"><a href="#1-How-does-HarmonyOS-ArkTS-enable-a-class-to-inherit-capabilities-from-multiple-other-classes" class="headerlink" title="1. How does HarmonyOS ArkTS enable a class to inherit capabilities from multiple other classes?"></a>1. How does HarmonyOS ArkTS enable a class to inherit capabilities from multiple other classes?</h4><p>How can an ArkTS class possess capabilities from multiple other classes, similar to multiple inheritance?  </p>
<ul>
<li>Interfaces support multiple inheritance, while classes only support single inheritance (error: <code>Classes can only extend a single class.</code>).</li>
</ul>
<p><strong>Multiple inheritance for interfaces</strong>:  </p>
<pre><code class="language-typescript">interface AreaSize &#123;
  calculateAreaSize(): number
&#125;
interface Cal &#123;
  Sub(a: number, b: number): number
&#125;

interface Area extends AreaSize, Cal &#123;
  areaName: string
  length: number
  width: number
&#125;
</code></pre>
<h4 id="2-For-the-HarmonyOS-Swiper-container-displayCount-3-true-sets-three-items-per-group-but-the-bottom-indicator-still-shows-the-total-list-size-How-to-set-the-indicator-to-list-size-3"><a href="#2-For-the-HarmonyOS-Swiper-container-displayCount-3-true-sets-three-items-per-group-but-the-bottom-indicator-still-shows-the-total-list-size-How-to-set-the-indicator-to-list-size-3" class="headerlink" title="2. For the HarmonyOS Swiper container, .displayCount(3, true) sets three items per group, but the bottom indicator still shows the total list size. How to set the indicator to list.size/3?"></a>2. For the HarmonyOS Swiper container, <code>.displayCount(3, true)</code> sets three items per group, but the bottom indicator still shows the total list size. How to set the indicator to <code>list.size/3</code>?</h4><p>When a Swiper displays 3 or more items per screen, how to ensure the indicator count is <code>array.length/3</code> instead of the total list size?  </p>
<p>To display multiple identical components in the same window, wrap them in an outer component. For example, if the data length is 5, the number of navigation points is 5, and each window shows 3 images:  </p>
<pre><code class="language-typescript">Swiper(this.swiperController) &#123;
  LazyForEach(this.data, (item: string) =&gt; &#123;
    Flex() &#123;
      Image($r(&#39;app.media.startIcon&#39;))
      Image($r(&#39;app.media.startIcon&#39;))
      Image($r(&#39;app.media.startIcon&#39;))
    &#125;.height(&#39;20%&#39;)
  &#125;, (item: string) =&gt; item)
&#125;
</code></pre>
<h4 id="3-Best-practices-for-HarmonyOS-event-propagation"><a href="#3-Best-practices-for-HarmonyOS-event-propagation" class="headerlink" title="3. Best practices for HarmonyOS event propagation?"></a>3. Best practices for HarmonyOS event propagation?</h4><ol>
<li>What are the best practices for click events triggered between sibling components or parent components, where child components consume the events?  </li>
<li>For events distributed from parent components to child components (e.g., page back events), how to handle scenarios where parent components need return values?</li>
</ol>
<p><strong>Bidirectional communication between parent and child components</strong>:<br>Refer to <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-component-state-management-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-component-state-management-V5</a>.  </p>
<p><strong>Parent component calls child component methods</strong>:  </p>
<pre><code class="language-typescript">@Component
struct Child &#123;
  @State private text: string = &#39;Initial value&#39;
  private controller: ChildController = new ChildController();

  aboutToAppear() &#123;
    if (this.controller) &#123;
      this.controller.changeText = this.changeText
    &#125;
    console.log(&#39;aaa&#39;)
  &#125;

  private changeText = (value: string) =&gt; &#123;
    this.text = value
    console.log(&#39;bbb&#39;)
  &#125;

  build() &#123;
    Column() &#123;
      Text(this.text)
    &#125;
  &#125;
&#125;

class ChildController &#123;
  changeText = (value: string) =&gt; &#123;
    console.log(&#39;11111&#39;)
  &#125;
&#125;

export let ChildRef = new ChildController()

@Entry
@Component
struct Parent &#123;
  @State noShow: boolean = false
  build() &#123;
    Column() &#123;
      Text(&#39;Access Child\&#39;s exposeMethods!&#39;).fontSize(&#39;18vp&#39;).fontColor(Color.Gray)
      Divider()
      Child(&#123; controller: ChildRef &#125;)
      Child()
      Button(&#39;Parent calls childer\&#39;s changeText&#39;).onClick(() =&gt; &#123;
        ChildRef.changeText(&#39;Parent calls childer\&#39;s changeText&#39;)
      &#125;)
    &#125;
  &#125;
&#125;
</code></pre>
<p><strong>Child component calls parent component methods</strong>:  </p>
<pre><code class="language-typescript">@Entry
@Component
struct Index &#123;
  @State message: string = &#39;Hello World&#39;;

  build() &#123;
    Row() &#123;
      Column() &#123;
        Text(this.message)
          .fontSize(50)
          .fontWeight(FontWeight.Bold)
        Child(&#123;
          onClickOK: (): void =&gt; &#123;
            console.log(&#39;test&#39;)
          &#125;
        &#125;)
      &#125;
      .width(&#39;100%&#39;)
    &#125;
    .height(&#39;100%&#39;)
  &#125;
&#125;

@Component
struct Child &#123;
  onClickOK?: () =&gt; void;

  build() &#123;
    Row() &#123;
      Column() &#123;
        Button(&#39;Event&#39;)
        .onClick(() =&gt; &#123;
          if (this.onClickOK !== undefined) &#123;
            this.onClickOK()
          &#125;
        &#125;)
      &#125;
      .width(&#39;100%&#39;)
    &#125;
    .height(&#39;100%&#39;)
  &#125;
&#125;
</code></pre>
<h4 id="4-HarmonyOS-scroll-safe-area-issue"><a href="#4-HarmonyOS-scroll-safe-area-issue" class="headerlink" title="4. HarmonyOS scroll safe area issue?"></a>4. HarmonyOS scroll safe area issue?</h4><p>When the software keyboard is not popped up, the layout and scroll height are normal. When the keyboard pops up, the scroll layout height is incorrect—the scrollable area should not exceed the top title bar.  </p>
<p>Use the <code>expandSafeArea</code> attribute under the Column container to avoid conflicts:  </p>
<pre><code class="language-typescript">.expandSafeArea([SafeAreaType.KEYBOARD]) 
</code></pre>
<p>Reference: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-attributes-expand-safe-area-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-attributes-expand-safe-area-V5</a>  </p>
<h4 id="5-How-to-preload-network-images-in-HarmonyOS-and-display-them-via-the-Image-component-when-needed"><a href="#5-How-to-preload-network-images-in-HarmonyOS-and-display-them-via-the-Image-component-when-needed" class="headerlink" title="5. How to preload network images in HarmonyOS and display them via the Image component when needed?"></a>5. How to preload network images in HarmonyOS and display them via the Image component when needed?</h4><p>It is recommended to use the third-party library <code>imageknife</code> for image caching capabilities.<br>Documentation: <a target="_blank" rel="noopener" href="https://ohpm.openharmony.cn/#/cn/detail/@ohos%2Fimageknife">https://ohpm.openharmony.cn/#/cn/detail/@ohos%2Fimageknife</a>  </p>
<p><em>ImageKnife is a purpose-built image loading and caching library for OpenHarmony, optimized for efficiency, lightness, and simplicity.</em></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/27/128-Daily-HarmonyOS-Next-Knowledge-Component-Size-Acquisition-No-Track-Solution-Poster-Component-Routing-Table-Text-Gradient-Effect/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/27/128-Daily-HarmonyOS-Next-Knowledge-Component-Size-Acquisition-No-Track-Solution-Poster-Component-Routing-Table-Text-Gradient-Effect/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] Component Size Acquisition, No-Track Solution, Poster Component, Routing Table, Text Gradient Effect</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-27 10:11:00 / Modified: 10:11:19" itemprop="dateCreated datePublished" datetime="2025-06-27T10:11:00+08:00">2025-06-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Knowledge-Component-Size-Acquisition-No-Track-Solution-Poster-Component-Routing-Table-Text-Gradient-Effect"><a href="#Daily-HarmonyOS-Next-Knowledge-Component-Size-Acquisition-No-Track-Solution-Poster-Component-Routing-Table-Text-Gradient-Effect" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Component Size Acquisition, No-Track Solution, Poster Component, Routing Table, Text Gradient Effect"></a>[Daily HarmonyOS Next Knowledge] Component Size Acquisition, No-Track Solution, Poster Component, Routing Table, Text Gradient Effect</h3><h4 id="1-How-to-Obtain-the-Size-of-a-Component-in-HarmonyOS"><a href="#1-How-to-Obtain-the-Size-of-a-Component-in-HarmonyOS" class="headerlink" title="1. How to Obtain the Size of a Component in HarmonyOS?"></a>1. How to Obtain the Size of a Component in HarmonyOS?</h4><p>In addition to <code>onAreaChange</code>, you can use <code>componentUtils.getRectangleById(&quot;componentID&quot;)</code> to get the component’s size information. Note that the units differ: <code>getRectangleById</code> returns pixels (px), while <code>onAreaChange</code> uses viewport units (vp).  </p>
<p>Reference document:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-arkui-uicontext-V5#getrectanglebyid">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-arkui-uicontext-V5#getrectanglebyid</a>  </p>
<h4 id="2-HarmonyOS-No-Track-Solution"><a href="#2-HarmonyOS-No-Track-Solution" class="headerlink" title="2. HarmonyOS No-Track Solution"></a>2. HarmonyOS No-Track Solution</h4><p>Refer to the tracking solutions in the following links:  </p>
<ul>
<li><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/forum/topic/0203905239627610146?fid=0101271690375130218">https://developer.huawei.com/consumer/cn/forum/topic/0203905239627610146?fid=0101271690375130218</a>  </li>
<li><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/forum/topic/0201755572813140726?fid=0101587866109860105">https://developer.huawei.com/consumer/cn/forum/topic/0201755572813140726?fid=0101587866109860105</a></li>
</ul>
<h4 id="3-How-to-Achieve-Text-Gradient-Effects-in-HarmonyOS"><a href="#3-How-to-Achieve-Text-Gradient-Effects-in-HarmonyOS" class="headerlink" title="3. How to Achieve Text Gradient Effects in HarmonyOS?"></a>3. How to Achieve Text Gradient Effects in HarmonyOS?</h4><p>Use a combination of <code>linearGradient</code> and <code>blendMode</code> to achieve this effect.  </p>
<p><strong>Reference demo</strong>:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">GradientTest</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">message</span>: <span class="built_in">string</span> = <span class="string">&#x27;Hello World&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Row</span>() &#123;</span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">Row</span>() &#123;</span><br><span class="line">          <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">message</span>)</span><br><span class="line">            .<span class="title function_">fontSize</span>(<span class="number">50</span>)</span><br><span class="line">            .<span class="title function_">fontWeight</span>(<span class="title class_">FontWeight</span>.<span class="property">Bold</span>)</span><br><span class="line">            .<span class="title function_">blendMode</span>(<span class="title class_">BlendMode</span>.<span class="property">DST_IN</span>, <span class="title class_">BlendApplyType</span>.<span class="property">OFFSCREEN</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        .<span class="title function_">linearGradient</span>(&#123;</span><br><span class="line">          <span class="attr">direction</span>: <span class="title class_">GradientDirection</span>.<span class="property">Right</span>,</span><br><span class="line">          <span class="attr">colors</span>: [[<span class="number">0xff0000</span>, <span class="number">0.0</span>], [<span class="number">0x0000ff</span>, <span class="number">0.3</span>], [<span class="number">0xffff00</span>, <span class="number">1.0</span>]]</span><br><span class="line">        &#125;)</span><br><span class="line">        .<span class="title function_">blendMode</span>(<span class="title class_">BlendMode</span>.<span class="property">SRC_OVER</span>, <span class="title class_">BlendApplyType</span>.<span class="property">OFFSCREEN</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 4. HarmonyOS Component for Generating Posters  </span></span><br><span class="line"><span class="string">A third-party library and online design tool with poster design and image editing functions, based on the open-source Canvas version of [Gaoding Design]. Suitable for various scenarios, such as poster generation, e-commerce product image creation, long-form article image design, video/WeChat official account cover editing, etc.  </span></span><br><span class="line"><span class="string">https://gitee.com/dromara/yft-design  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 5. HarmonyOS Navigation: System Routing Table Fails to Pass Parameters to Pages  </span></span><br><span class="line"><span class="string">Refer to the following demo:  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**index.ets**:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="meta">@Builder</span></span><br><span class="line"><span class="title function_">routerMap</span>(<span class="params"><span class="attr">builderName</span>: <span class="built_in">string</span>, <span class="attr">param</span>: <span class="built_in">object</span></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (builderName === <span class="string">&#x27;featureA&#x27;</span>) &#123;</span><br><span class="line">    <span class="title class_">FeatureIndex</span>(param);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title function_">aboutToAppear</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">entryHapRouter</span>.<span class="title function_">pushPathByName</span>(<span class="string">&quot;featureA&quot;</span>, <span class="string">&quot;测试&quot;</span>, <span class="literal">true</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**FeatureIndex.ets**:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="meta">@Builder</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">FeatureIndex</span>(<span class="params"><span class="attr">value</span>: <span class="built_in">object</span></span>) &#123;</span><br><span class="line">  <span class="title class_">NavDestination</span>() &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Text</span>(<span class="string">&#x27;Hello FeatureA Page&#x27;</span>)</span><br><span class="line">      <span class="title class_">Text</span>(<span class="string">`传入的参数：<span class="subst">$&#123;<span class="built_in">JSON</span>.stringify(value)&#125;</span>`</span>)</span><br><span class="line">        .<span class="title function_">margin</span>(<span class="number">20</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  .<span class="title function_">hideTitleBar</span>(<span class="literal">true</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Parameter passing via routing table**:  </span></span><br><span class="line"><span class="string">**index.ets**:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">NavigationExample</span> &#123;</span><br><span class="line">  <span class="comment">// Bind NavPathStack</span></span><br><span class="line">  <span class="meta">@Provide</span>(<span class="string">&#x27;NavPathStack&#x27;</span>) <span class="attr">pageInfo</span>: <span class="title class_">NavPathStack</span> = <span class="keyword">new</span> <span class="title class_">NavPathStack</span>()</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Navigation</span>(<span class="variable language_">this</span>.<span class="property">pageInfo</span>) &#123;</span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">Button</span>(<span class="string">&#x27;StartTest&#x27;</span>, &#123; <span class="attr">stateEffect</span>: <span class="literal">true</span>, <span class="attr">type</span>: <span class="title class_">ButtonType</span>.<span class="property">Capsule</span> &#125;)</span><br><span class="line">          .<span class="title function_">width</span>(<span class="string">&#x27;80%&#x27;</span>)</span><br><span class="line">          .<span class="title function_">height</span>(<span class="number">40</span>)</span><br><span class="line">          .<span class="title function_">margin</span>(<span class="number">20</span>)</span><br><span class="line">          .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">pageInfo</span>.<span class="title function_">pushPath</span>(&#123; <span class="attr">name</span>: <span class="string">&#x27;pageOne&#x27;</span>, <span class="attr">param</span>: <span class="string">&quot;测试参数&quot;</span> &#125;);</span><br><span class="line">          &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;.<span class="title function_">title</span>(<span class="string">&#x27;NavIndex&#x27;</span>)</span><br><span class="line">    .<span class="title function_">backgroundColor</span>(<span class="title class_">Color</span>.<span class="property">Orange</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**PageOne.ets (child page bound to NavPathStack)**:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="meta">@Consume</span>(<span class="string">&#x27;NavPathStack&#x27;</span>) <span class="attr">pageInfo</span>: <span class="title class_">NavPathStack</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">aboutToAppear</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">message</span> = <span class="variable language_">this</span>.<span class="property">pageInfo</span>.<span class="title function_">getParamByIndex</span>(<span class="number">0</span>) <span class="keyword">as</span> <span class="built_in">string</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(<span class="variable language_">this</span>.<span class="property">pageInfo</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/27/127-Daily-HarmonyOS-Next-Knowledge-Uniform-List-Scrolling-Page-Routing-Stack-Check-Navigation-Bar-Line-Scroll-Conflict-Progress-Bar-Radius-Customization/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/27/127-Daily-HarmonyOS-Next-Knowledge-Uniform-List-Scrolling-Page-Routing-Stack-Check-Navigation-Bar-Line-Scroll-Conflict-Progress-Bar-Radius-Customization/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] Uniform List Scrolling, Page Routing Stack Check, Navigation Bar Line, Scroll Conflict, Progress Bar Radius Customization</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-27 10:08:54 / Modified: 10:10:08" itemprop="dateCreated datePublished" datetime="2025-06-27T10:08:54+08:00">2025-06-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Knowledge-Uniform-List-Scrolling-Page-Routing-Stack-Check-Navigation-Bar-Line-Scroll-Conflict-Progress-Bar-Radius-Customization"><a href="#Daily-HarmonyOS-Next-Knowledge-Uniform-List-Scrolling-Page-Routing-Stack-Check-Navigation-Bar-Line-Scroll-Conflict-Progress-Bar-Radius-Customization" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Uniform List Scrolling, Page Routing Stack Check, Navigation Bar Line, Scroll Conflict, Progress Bar Radius Customization"></a>[Daily HarmonyOS Next Knowledge] Uniform List Scrolling, Page Routing Stack Check, Navigation Bar Line, Scroll Conflict, Progress Bar Radius Customization</h3><h4 id="1-How-to-Set-Uniform-Scrolling-for-HarmonyOS-List-Component"><a href="#1-How-to-Set-Uniform-Scrolling-for-HarmonyOS-List-Component" class="headerlink" title="1. How to Set Uniform Scrolling for HarmonyOS List Component?"></a>1. How to Set Uniform Scrolling for HarmonyOS List Component?</h4><ul>
<li><code>edgeEffect.None</code>: Sets the edge scrolling effect, supporting spring and shadow effects.  </li>
<li><code>friction</code>: Sets the friction coefficient, effective when manually sliding the scroll area. It only affects the inertial scrolling process and indirectly influences the chain effect during inertial scrolling.</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-container-list-V5#listscroller11%E5%AF%B9%E8%B1%A1%E8%AF%B4%E6%98%8E">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-container-list-V5#listscroller11%E5%AF%B9%E8%B1%A1%E8%AF%B4%E6%98%8E</a>  </p>
<h4 id="2-How-to-Determine-if-a-Page-Exists-in-the-Routing-Stack-Using-HarmonyOS-Router"><a href="#2-How-to-Determine-if-a-Page-Exists-in-the-Routing-Stack-Using-HarmonyOS-Router" class="headerlink" title="2. How to Determine if a Page Exists in the Routing Stack Using HarmonyOS Router?"></a>2. How to Determine if a Page Exists in the Routing Stack Using HarmonyOS Router?</h4><p>To check if a Page is active and exists in the routing stack (i.e., whether an Entry component is still alive):  </p>
<ul>
<li>The <code>router</code> does not support methods to check if a page is in the routing stack. It is recommended to use <code>navigation</code> instead, as <code>router</code> will stop evolving and no new capabilities will be added. In <code>navigation</code>, you can use <code>getAllPathName</code> to obtain the names of all NavDestination pages in the stack.</li>
</ul>
<p>Reference: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-navigation-V5#getallpathname10">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-navigation-V5#getallpathname10</a>  </p>
<h4 id="3-How-to-Add-a-Horizontal-Line-to-the-Top-of-the-Tabs-Navigation-Bar-in-HarmonyOS"><a href="#3-How-to-Add-a-Horizontal-Line-to-the-Top-of-the-Tabs-Navigation-Bar-in-HarmonyOS" class="headerlink" title="3. How to Add a Horizontal Line to the Top of the Tabs Navigation Bar in HarmonyOS?"></a>3. How to Add a Horizontal Line to the Top of the Tabs Navigation Bar in HarmonyOS?</h4><p>To add a horizontal line to the top of the Tabs navigation bar:  </p>
<ul>
<li>Add a border style. Refer to the documentation: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-attributes-border-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-attributes-border-V5</a></li>
</ul>
<p><strong>Reference Demo</strong>:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">.<span class="title function_">border</span>(&#123;</span><br><span class="line">  <span class="attr">width</span>: &#123; <span class="attr">left</span>: <span class="number">0</span>, <span class="attr">right</span>: <span class="number">0</span>, <span class="attr">top</span>: <span class="number">3</span>, <span class="attr">bottom</span>: <span class="number">0</span> &#125;,</span><br><span class="line">  <span class="attr">color</span>: &#123;<span class="attr">left</span>:<span class="title class_">Color</span>.<span class="property">White</span>, <span class="attr">right</span>:<span class="title class_">Color</span>.<span class="property">White</span>, <span class="attr">top</span>: <span class="title class_">Color</span>.<span class="property">Red</span>, <span class="attr">bottom</span>:<span class="title class_">Color</span>.<span class="property">White</span>&#125;,</span><br><span class="line">  <span class="attr">style</span>: &#123;</span><br><span class="line">    <span class="attr">top</span>: <span class="title class_">BorderStyle</span>.<span class="property">Solid</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 4. Touch Scrolling Conflict with Scroll Components in HarmonyOS  </span></span><br><span class="line"><span class="string">When parent component A moves via `</span>onTouch<span class="string">` events (pull-down/up sliding), and child component B (Scroll, Web, etc.) scrolls simultaneously, how to avoid gesture conflicts:  </span></span><br><span class="line"><span class="string">- Refer to the documentation: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-gesture-events-multi-level-gesture-V5  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 5. How to Customize the Radius of a HarmonyOS Progress Bar?  </span></span><br><span class="line"><span class="string">To customize the radius for `</span><span class="title class_">ProgressType</span>.<span class="property">Linear</span><span class="string">` and achieve a 16x8 size with a radius of 2:  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Reference Demo**:  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="comment">// xxx.ets</span></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">ProgressExample</span> &#123;</span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>(&#123; <span class="attr">space</span>: <span class="number">15</span> &#125;) &#123;</span><br><span class="line">      <span class="title class_">Text</span>(<span class="string">&#x27;Linear Progress&#x27;</span>).<span class="title function_">fontSize</span>(<span class="number">9</span>).<span class="title function_">fontColor</span>(<span class="number">0xCCCCCC</span>).<span class="title function_">width</span>(<span class="string">&#x27;90%&#x27;</span>)</span><br><span class="line">      <span class="title class_">Progress</span>(&#123; <span class="attr">value</span>: <span class="number">20</span>, <span class="attr">total</span>: <span class="number">100</span>, <span class="attr">type</span>: <span class="title class_">ProgressType</span>.<span class="property">Linear</span> &#125;)</span><br><span class="line">        .<span class="title function_">width</span>(<span class="number">200</span>)</span><br><span class="line">        .<span class="title function_">backgroundColor</span>(<span class="string">&#x27;#B3E54C&#x27;</span>)</span><br><span class="line">        .<span class="title function_">style</span>(&#123; <span class="attr">strokeRadius</span>: <span class="number">0</span>, <span class="attr">strokeWidth</span>: <span class="number">100</span> ,&#125;)</span><br><span class="line">        .<span class="title function_">color</span>(<span class="string">&#x27;#917AF9&#x27;</span>)</span><br><span class="line">        .<span class="title function_">borderColor</span>(<span class="string">&#x27;#00000000&#x27;</span>)</span><br><span class="line">        .<span class="title function_">borderRadius</span>(<span class="number">20</span>)</span><br><span class="line">        .<span class="title function_">clip</span>(<span class="literal">true</span>)</span><br><span class="line">    &#125;.<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>).<span class="title function_">margin</span>(&#123; <span class="attr">top</span>: <span class="number">30</span> &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/27/126-Daily-HarmonyOS-Next-Knowledge-Web-Interaction-List-Dragging-Landscape-Layout-Event-Sequence-Issues-Scroll-and-Web-Combination/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/27/126-Daily-HarmonyOS-Next-Knowledge-Web-Interaction-List-Dragging-Landscape-Layout-Event-Sequence-Issues-Scroll-and-Web-Combination/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] Web Interaction, List Dragging, Landscape Layout, Event Sequence Issues, Scroll and Web Combination</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-27 10:06:46 / Modified: 10:07:45" itemprop="dateCreated datePublished" datetime="2025-06-27T10:06:46+08:00">2025-06-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Knowledge-Web-Interaction-List-Dragging-Landscape-Layout-Event-Sequence-Issues-Scroll-and-Web-Combination"><a href="#Daily-HarmonyOS-Next-Knowledge-Web-Interaction-List-Dragging-Landscape-Layout-Event-Sequence-Issues-Scroll-and-Web-Combination" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Web Interaction, List Dragging, Landscape Layout, Event Sequence Issues, Scroll and Web Combination"></a>[Daily HarmonyOS Next Knowledge] Web Interaction, List Dragging, Landscape Layout, Event Sequence Issues, Scroll and Web Combination</h3><h4 id="1-How-to-Interact-with-Web-Pages-in-HarmonyOS-Using-JS"><a href="#1-How-to-Interact-with-Web-Pages-in-HarmonyOS-Using-JS" class="headerlink" title="1. How to Interact with Web Pages in HarmonyOS (Using JS)?"></a>1. How to Interact with Web Pages in HarmonyOS (Using JS)?</h4><p>Refer to the documentation: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-faqs-V5/faqs-arkweb-1-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-faqs-V5/faqs-arkweb-1-V5</a>  </p>
<p>Implement a JSBridge communication solution by encapsulating <code>javaScriptProxy</code> and <code>runJavaScript</code>. Use the Web component’s <code>javaScriptProxy</code> to inject native-side interfaces into the H5’s <code>window</code> object. Execute JS scripts in H5 via the <code>runJavaScript</code> interface and obtain execution results in the callback. The specific call process is shown in the figure below:<br><img src="/../images/%E3%80%90%E6%AF%8F%E6%97%A5%E5%AD%A6%E7%82%B9HarmonyOS%20Next%E7%9F%A5%E8%AF%86%E3%80%9125.01.26.png"></p>
<h4 id="2-How-to-Implement-Drag-and-Drop-Sorting-for-ListItems-in-HarmonyOS"><a href="#2-How-to-Implement-Drag-and-Drop-Sorting-for-ListItems-in-HarmonyOS" class="headerlink" title="2. How to Implement Drag-and-Drop Sorting for ListItems in HarmonyOS?"></a>2. How to Implement Drag-and-Drop Sorting for ListItems in HarmonyOS?</h4><p>Lists can achieve this through drag events <code>onItemDragMove</code> and <code>onItemDrop</code>.  </p>
<p><strong>Demo</strong>:  </p>
<pre><code class="language-typescript">@Entry
@Component
struct ListExample &#123;
  @State arr: number[] = [10, 11, 12, 13, 14, 15, 16, 17, 18, 19]
  @State dragItem: number = -1

  // Dragging element (note: not the index)
  @Builder
  dragFloatView(item: number) &#123;
    Column() &#123;
      Text(&#39;&#39; + item)
        .textAlign(TextAlign.Center)
        .borderRadius(10)
        .backgroundColor(Color.White)
        .fontSize(16)
        .width(&#39;100%&#39;)
        .height(100)
    &#125;
  &#125;

  build() &#123;
    Column() &#123;
      List(&#123; space: 10 &#125;) &#123;
        ForEach(this.arr, (item: number) =&gt; &#123;
          ListItem() &#123;
            Text(&#39;&#39; + item)
              .width(&#39;100%&#39;)
              .height(100)
              .fontSize(16)
              .textAlign(TextAlign.Center)
              .borderRadius(10)
              .backgroundColor(0xFFFFFF)
          &#125;
          .visibility(item == this.dragItem ? Visibility.Hidden : Visibility.Visible)
          .id(item.toString())
        &#125;, (item: string) =&gt; item)
      &#125;
      .listDirection(Axis.Vertical)
      .width(&#39;100%&#39;)
      .onItemMove((from: number, to: number) =&gt; &#123;
        return true
      &#125;)
      .onItemDragStart((event: ItemDragInfo, itemIndex: number) =&gt; &#123;
        // Triggered when starting to drag a list element
        this.dragItem = this.arr[itemIndex]
        return this.dragFloatView(this.arr[itemIndex])
      &#125;)
      .onItemDragMove((event: ItemDragInfo, itemIndex: number, insertIndex: number) =&gt; &#123;
        // Triggered when dragging within the list element range
        animateTo(&#123; duration: 200, curve: Curve.Linear &#125;, () =&gt; &#123;
          let deleteIndex = this.arr.indexOf(Number(this.dragItem))
          this.arr.splice(deleteIndex, 1)
          this.arr.splice(insertIndex, 0, Number(this.dragItem))
        &#125;)
      &#125;)
      .onItemDrop((event: ItemDragInfo, itemIndex: number, insertIndex: number, isSuccess: boolean) =&gt; &#123;
        // The list element bound to this event can be a drag release target, triggered when dragging stops within the list element
        this.dragItem = -1
      &#125;)
    &#125;
    .width(&#39;100%&#39;)
    .height(&#39;100%&#39;)
    .backgroundColor(0xDCDCDC)
  &#125;
&#125;
</code></pre>
<h4 id="3-Layout-Issues-After-Switching-to-Landscape-Mode-in-HarmonyOS"><a href="#3-Layout-Issues-After-Switching-to-Landscape-Mode-in-HarmonyOS" class="headerlink" title="3. Layout Issues After Switching to Landscape Mode in HarmonyOS"></a>3. Layout Issues After Switching to Landscape Mode in HarmonyOS</h4><p>After using <code>window.setPreferredOrientation</code> to force landscape mode, the Navigation width is normal, but the width of its content components is incorrect.  </p>
<p>You can use <code>onPageShow</code> and <code>onPageHide</code> to set landscape mode at the page level:  </p>
<pre><code class="language-typescript">onPageShow(): void &#123;
  // window.getLastWindow(getContext(this), (err, win) =&gt; &#123;
  // win.setPreferredOrientation(window.Orientation.LANDSCAPE_INVERTED)
  // &#125;)
&#125;

onPageHide(): void &#123;
  window.getLastWindow(getContext(this), (err, win) =&gt; &#123;
    win.setPreferredOrientation(window.Orientation.PORTRAIT)
  &#125;)
&#125;
</code></pre>
<p>Alternatively, call landscape mode when navigating from the previous interface to the second interface. Example:  </p>
<pre><code class="language-typescript">Button(&#39;Interface Navigation&#39;)
  .onClick(() =&gt; &#123;
    window.getLastWindow(getContext(this), (err, win) =&gt; &#123;
      win.setPreferredOrientation(window.Orientation.LANDSCAPE_INVERTED)
    &#125;)

    router.pushUrl(&#123;
      url: &quot;pages/Index2&quot;
    &#125;)
  &#125;)
</code></pre>
<p>For detailed usage of <code>setPreferredOrientation</code>, refer to: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-window-V5#setpreferredorientation9">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-window-V5#setpreferredorientation9</a>  </p>
<h4 id="4-The-eventId-Can-Only-Be-a-Number-Prone-to-Duplication-in-HarmonyOS"><a href="#4-The-eventId-Can-Only-Be-a-Number-Prone-to-Duplication-in-HarmonyOS" class="headerlink" title="4. The eventId Can Only Be a Number, Prone to Duplication in HarmonyOS?"></a>4. The eventId Can Only Be a Number, Prone to Duplication in HarmonyOS?</h4><p><strong>Custom Enumeration Type Constants</strong>:  </p>
<pre><code class="language-typescript">export const enum EventID &#123;
  CHAT = 1,
  CLICK = 2,
  TOUCH = 3
&#125;
export const showCaptchaEvent: emitter.InnerEvent = &#123;
  eventId: EventID.CHAT
&#125;
</code></pre>
<p><strong>Combine with Timestamps</strong>:<br>Record the timestamp for each event and use the event ID together with the timestamp to distinguish events occurring in different time periods, avoiding duplication.  </p>
<p><strong>Use Incremental IDs</strong>:<br>Assign a unique incremental ID to each event to ensure uniqueness. Use the incremental ID instead of the original event ID when storing event information.  </p>
<p><strong>Use Database Indexes</strong>:<br>Create indexes for event IDs when storing event information to facilitate fast querying and filtering, ensuring index correctness and efficiency.  </p>
<h4 id="5-HarmonyOS-Scroll-Nested-with-Web-Web-Content-Height-Auto-Adapts-and-the-Overall-Page-Scrolls-Together"><a href="#5-HarmonyOS-Scroll-Nested-with-Web-Web-Content-Height-Auto-Adapts-and-the-Overall-Page-Scrolls-Together" class="headerlink" title="5. HarmonyOS: Scroll Nested with Web, Web Content Height Auto-Adapts, and the Overall Page Scrolls Together"></a>5. HarmonyOS: Scroll Nested with Web, Web Content Height Auto-Adapts, and the Overall Page Scrolls Together</h4><p>Use <code>.layoutMode(WebLayoutMode.FIT_CONTENT)</code> to adapt to the web layout. If the web content width or length exceeds 8000px, specify <code>RenderMode.SYNC_RENDER</code> when creating the Web component.  </p>
<p>Reference: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-web-V5#ZH-CN_TOPIC_0000001930757269__nestedscroll11">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-web-V5#ZH-CN_TOPIC_0000001930757269__nestedscroll11</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/27/125-Daily-HarmonyOS-Next-Knowledge-Tab-Switch-Lifecycle-Complex-JSON-Assembly-Scroll-Max-Height-Reference-Passing-Error-Web-Performance/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/27/125-Daily-HarmonyOS-Next-Knowledge-Tab-Switch-Lifecycle-Complex-JSON-Assembly-Scroll-Max-Height-Reference-Passing-Error-Web-Performance/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] Tab Switch Lifecycle, Complex JSON Assembly, Scroll Max Height, Reference Passing Error, Web Performance</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-27 10:04:39 / Modified: 10:05:14" itemprop="dateCreated datePublished" datetime="2025-06-27T10:04:39+08:00">2025-06-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Knowledge-Tab-Switch-Lifecycle-Complex-JSON-Assembly-Scroll-Max-Height-Reference-Passing-Error-Web-Performance"><a href="#Daily-HarmonyOS-Next-Knowledge-Tab-Switch-Lifecycle-Complex-JSON-Assembly-Scroll-Max-Height-Reference-Passing-Error-Web-Performance" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Tab Switch Lifecycle, Complex JSON Assembly, Scroll Max Height, Reference Passing Error, Web Performance"></a>[Daily HarmonyOS Next Knowledge] Tab Switch Lifecycle, Complex JSON Assembly, Scroll Max Height, Reference Passing Error, Web Performance</h3><h4 id="1-Components-Embedded-in-Tabs-Do-Not-Trigger-onPageShow-Method-in-HarmonyOS"><a href="#1-Components-Embedded-in-Tabs-Do-Not-Trigger-onPageShow-Method-in-HarmonyOS" class="headerlink" title="1. Components Embedded in Tabs Do Not Trigger onPageShow Method in HarmonyOS?"></a>1. Components Embedded in Tabs Do Not Trigger onPageShow Method in HarmonyOS?</h4><p>The <code>onPageShow</code> lifecycle method does not execute when switching tabs because <code>onPageShow</code> is a page-level lifecycle callback. Tab switching triggers the component-level lifecycle method <code>aboutToAppear()</code> for child components. You can call <code>showPage()</code> within this lifecycle. If you need the <code>showPage</code> method in <code>TabContent</code> to execute every time a tab is switched, use <code>onTabBarClick(event: (index: number) =&gt; void)</code> to get the currently clicked tab index in the parent component.  </p>
<p>Define a <code>currentTabIndex</code> variable in the parent component using <code>@State</code>, assign the clicked index to <code>currentTabIndex</code> in the <code>onTabBarClick</code> callback, and pass this value to child components wrapped by <code>TabContent</code>. In child components, use <code>@Props</code> and <code>@Watch</code> to listen for changes to the value passed from the parent component and execute the <code>showPage</code> method in each <code>TabContent</code>.  </p>
<p><strong>Demo Reference</strong>:  </p>
<pre><code class="language-typescript">// xxx.ets
import &#123; FirstPage &#125; from &#39;./FirstPage&#39;

@Entry
@Component
struct TabsExample &#123;
  @State fontColor: string = &#39;#182431&#39;
  @State selectedFontColor: string = &#39;#007DFF&#39;
  @State currentIndex: number = 0
  private controller: TabsController = new TabsController()
  @State mainPageState: boolean = false
  
  @Builder tabBuilder(index: number, name: string) &#123;
    Column() &#123;
      Text(name)
        .fontColor(this.currentIndex === index ? this.selectedFontColor : this.fontColor)
        .fontSize(16)
        .fontWeight(this.currentIndex === index ? 500 : 400)
        .lineHeight(22)
        .margin(&#123; top: 17, bottom: 7 &#125;)
      Divider()
        .strokeWidth(2)
        .color(&#39;#007DFF&#39;)
        .opacity(this.currentIndex === index ? 1 : 0)
    &#125;.width(&#39;100%&#39;)
  &#125;

  build() &#123;
    Column() &#123;
      Tabs(&#123; barPosition: BarPosition.Start, index: this.currentIndex, controller: this.controller &#125;) &#123;
        TabContent() &#123;
          FirstPage(&#123; mainPageState: this.mainPageState &#125;).width(&#39;100%&#39;).height(&#39;100%&#39;).backgroundColor(&#39;#00CB87&#39;)
        &#125;.tabBar(this.tabBuilder(0, &#39;green&#39;))

        TabContent() &#123;
          Column().width(&#39;100%&#39;).height(&#39;100%&#39;).backgroundColor(&#39;#007DFF&#39;)
        &#125;.tabBar(this.tabBuilder(1, &#39;blue&#39;))

        TabContent() &#123;
          Column().width(&#39;100%&#39;).height(&#39;100%&#39;).backgroundColor(&#39;#FFBF00&#39;)
        &#125;.tabBar(this.tabBuilder(2, &#39;yellow&#39;))

        TabContent() &#123;
          Column().width(&#39;100%&#39;).height(&#39;100%&#39;).backgroundColor(&#39;#E67C92&#39;)
        &#125;.tabBar(this.tabBuilder(3, &#39;pink&#39;))
      &#125;
      .vertical(false)
      .barMode(BarMode.Fixed)
      .barWidth(360)
      .barHeight(56)
      .animationDuration(400)
      .onChange((index: number) =&gt; &#123;
        this.currentIndex = index
      &#125;)
      .width(&#39;100%&#39;)
      .height(&#39;100%&#39;)
      .margin(&#123; top: 52 &#125;)
      .backgroundColor(&#39;#F1F3F5&#39;)
    &#125;.width(&#39;100%&#39;)
  &#125;

  onPageShow(): void &#123;
    console.log(&#39;index--- onPageShow&#39;)
    this.mainPageState = true
  &#125;
  
  onPageHide(): void &#123;
    console.log(&#39;index--- onPageHide&#39;)
    this.mainPageState = false
  &#125;
&#125;
</code></pre>
<pre><code class="language-typescript">import &#123; router &#125; from &#39;@kit.ArkUI&#39;;
import &#123; FaultLogger &#125; from &#39;@kit.PerformanceAnalysisKit&#39;;

@Entry
@Component
export struct FirstPage &#123;
  @State message: string = &#39;Hello World&#39;;
  @Link @Watch(&#39;mainIsShow&#39;) mainPageState: boolean
  
  build() &#123;
    Row() &#123;
      Column() &#123;
        Text(this.message)
          .fontSize(50)
          .fontWeight(FontWeight.Bold)
          .onClick(() =&gt; &#123;
            router.pushUrl(&#123;
              url: &#39;pages/DetailPage&#39;,
            &#125;)
          &#125;)
      &#125;
      .width(&#39;100%&#39;)
    &#125;
    .height(&#39;100%&#39;)
  &#125;
  
  mainIsShow() &#123;
    console.log(&#39;mainIsShow--&#39;, this.mainPageState)
  &#125;
  
  aboutToAppear(): void &#123;
    console.log(&#39;firstPAGE--- aboutToAppear&#39;)
  &#125;

  onPageShow(): void &#123;
    console.log(&#39;firstPAGE--- onPageShow&#39;)
  &#125;
  
  onPageHide(): void &#123;
    console.log(&#39;firstPAGE--- onPageHide&#39;)
  &#125;
  
  aboutToRecycle(): void &#123;
    console.log(&#39;firstPAGE--- aboutToRecycle&#39;)
  &#125;
&#125;
</code></pre>
<pre><code class="language-typescript">import &#123; Notification &#125; from &#39;@kit.NotificationKit&#39;;

@Entry
@Component
struct DetailPage &#123;
  @State message: string = &#39;Detail&#39;;

  build() &#123;
    Row() &#123;
      Column() &#123;
        Text(this.message)
          .fontSize(50)
          .fontWeight(FontWeight.Bold)
      &#125;
      .width(&#39;100%&#39;)
    &#125;
    .height(&#39;100%&#39;)
  &#125;
  
  onPageShow(): void &#123;
  &#125;
  
  onPageHide(): void &#123;
    console.log(&#39;firstPAGE--- onPageHide&#39;)
  &#125;
  
  onBackPress(): boolean | void &#123;
    console.log(&#39;firstPAGE--- onBackPress&#39;)
  &#125;
&#125;
</code></pre>
<h4 id="2-How-to-Assemble-Complex-JSON-Data"><a href="#2-How-to-Assemble-Complex-JSON-Data" class="headerlink" title="2. How to Assemble Complex JSON Data?"></a>2. How to Assemble Complex JSON Data?</h4><p><strong>Reference Demo</strong>:  </p>
<pre><code class="language-typescript">jsonObject: Record&lt;string, Object&gt; = &#123;&#125;

aboutToAppear(): void &#123;
  this.jsonObject[&quot;k1&quot;] = &quot;v1&quot;
  this.jsonObject[&quot;k2&quot;] = 20
  let json: string = JSON.stringify(this.jsonObject)
  console.log(json)
&#125;
</code></pre>
<h4 id="3-How-to-Limit-the-Maximum-Height-of-a-Scroll-Component-in-HarmonyOS"><a href="#3-How-to-Limit-the-Maximum-Height-of-a-Scroll-Component-in-HarmonyOS" class="headerlink" title="3. How to Limit the Maximum Height of a Scroll Component in HarmonyOS?"></a>3. How to Limit the Maximum Height of a Scroll Component in HarmonyOS?</h4><p>When displaying text in the middle of a layout with other UI elements above and below, wrap the <code>Text</code> component with a <code>Scroll</code> component. To prevent other UI elements from being pushed off-screen when the text is too long, set a maximum height for the <code>Scroll</code> component.  </p>
<p><strong>Reference Demo</strong>:  </p>
<pre><code class="language-typescript">@Entry
@Component
struct NestedScroll &#123;
  @State listPosition: number = 0; // 0: scroll to top, 1: middle, 2: scroll to bottom
  private arr: number[] = [1]
  private scrollerForList: Scroller = new Scroller()

  build() &#123;
    Flex() &#123;
      Column() &#123;
        Text(&quot;Header&quot;)
          .width(&quot;100%&quot;)
          .height(&quot;20%&quot;)
          .backgroundColor(0X330000FF)
          .fontSize(16)
          .textAlign(TextAlign.Center)

        List(&#123; space: 20, scroller: this.scrollerForList &#125;) &#123;
          ForEach(this.arr, (item: number) =&gt; &#123;
            ListItem() &#123;
              Text(&quot;This is a very long text...&quot;) // Omitted for brevity
                .borderRadius(15)
                .fontSize(16)
                .backgroundColor(Color.White)
            &#125;.width(&quot;100%&quot;)
          &#125;, (item: string) =&gt; item)
        &#125;
        .borderColor(Color.Green)
        .borderWidth(2)
        .width(&quot;100%&quot;)
        .edgeEffect(EdgeEffect.None)
        .friction(0.6)
        .onReachStart(() =&gt; &#123;
          this.listPosition = 0
        &#125;)
        .onReachEnd(() =&gt; &#123;
          this.listPosition = 2
        &#125;)
        .onScrollFrameBegin((offset: number) =&gt; &#123;
          if ((this.listPosition == 0 &amp;&amp; offset &lt;= 0) || (this.listPosition == 2 &amp;&amp; offset &gt;= 0)) &#123;
            return &#123; offsetRemain: 0 &#125;
          &#125;
          this.listPosition = 1
          return &#123; offsetRemain: offset &#125;;
        &#125;)
        .constraintSize(&#123; maxHeight: 400 &#125;)

        Text(&quot;Footer&quot;)
          .width(&quot;100%&quot;)
          .height(&quot;20%&quot;)
          .backgroundColor(0X330000FF)
          .fontSize(16)
          .textAlign(TextAlign.Center)
      &#125;
    &#125;.width(&#39;100%&#39;).height(&#39;100%&#39;).backgroundColor(0xDCDCDC)
  &#125;
&#125;
</code></pre>
<h4 id="4-Compilation-Error-When-Passing-Parameters-by-Reference-in-Builder-in-HarmonyOS"><a href="#4-Compilation-Error-When-Passing-Parameters-by-Reference-in-Builder-in-HarmonyOS" class="headerlink" title="4. Compilation Error When Passing Parameters by Reference in @Builder in HarmonyOS?"></a>4. Compilation Error When Passing Parameters by Reference in @Builder in HarmonyOS?</h4><p><strong>Compilation Error</strong>:<br><code>Object literals cannot be used as type declarations (ArkTS-no-obj-literals-as-types) &lt;ArkTSCheck&gt;</code>  </p>
<p><strong>Code</strong>:  </p>
<pre><code class="language-typescript">@Builder overBuilder($$: &#123; paramA1: string &#125;) &#123;
  Row() &#123;
    Text(`UseStateVarByReference: $&#123;$$.paramA1&#125; `)
  &#125;
&#125;
</code></pre>
<p><strong>Solution</strong>:  </p>
<pre><code class="language-typescript">class Tmp &#123;
  paramA1: string = &#39;&#39;
&#125;

@Builder function overBuilder($$: Tmp) &#123;
  Text($$.paramA1)
    .width(400)
    .height(50)
    .backgroundColor(Color.Blue)
&#125;
</code></pre>
<h4 id="5-Does-Nested-H5-Pages-in-HarmonyOS-Cause-Page-Lag-How-to-Optimize"><a href="#5-Does-Nested-H5-Pages-in-HarmonyOS-Cause-Page-Lag-How-to-Optimize" class="headerlink" title="5. Does Nested H5 Pages in HarmonyOS Cause Page Lag? How to Optimize?"></a>5. Does Nested H5 Pages in HarmonyOS Cause Page Lag? How to Optimize?</h4><p><strong>Best Practices Reference</strong>:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/best-practices-V5/bpta-web-develop-optimization-V5">https://developer.huawei.com/consumer/cn/doc/best-practices-V5/bpta-web-develop-optimization-V5</a>  </p>
<p>ArkWeb is a Web component platform designed to display Web content in applications and provide developers with capabilities such as page loading, interaction, and debugging. In the digital age, page loading speed directly impacts app fluency, user perception, and experience. Fast-loading pages reduce wait times and improve satisfaction.  </p>
<p>The Web page display process involves multiple stages: DNS resolution, connection establishment, request sending, response receiving, HTML parsing, and resource downloading. Factors affecting page speed include network latency, server response time, page size, and resource compression. To enhance performance, optimize page loading, resource downloading, and rendering.  </p>
<p><strong>Common Optimization Methods</strong>:  </p>
<ul>
<li><strong>Web Page Loading Optimization</strong>: Critical for user experience; faster loading improves app fluency.  </li>
<li><strong>JSBridge</strong>: Reduces redundant ArkTS environment switches and avoids UI blockages.  </li>
<li><strong>Same-Layer Rendering</strong>: Renders page elements in layers to minimize repaints and reflows, improving rendering efficiency.</li>
</ul>
<p>ArkWeb provides methods to optimize page display speed. These optimizations enhance app performance and user experience, enabling faster, smoother Web browsing and increasing user satisfaction and retention.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/27/124-Daily-HarmonyOS-Next-Knowledge-Input-Box-Auto-Focus-JS-Bridge-Implementation-Popup-Full-Screen-Mask-Mouse-Event-Adaptation-Web-Cross-Domain/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/27/124-Daily-HarmonyOS-Next-Knowledge-Input-Box-Auto-Focus-JS-Bridge-Implementation-Popup-Full-Screen-Mask-Mouse-Event-Adaptation-Web-Cross-Domain/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] Input Box Auto-Focus, JS Bridge Implementation, Popup Full-Screen Mask, Mouse Event Adaptation, Web Cross-Domain</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-27 10:00:29 / Modified: 10:03:47" itemprop="dateCreated datePublished" datetime="2025-06-27T10:00:29+08:00">2025-06-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Knowledge-Input-Box-Auto-Focus-JS-Bridge-Implementation-Popup-Full-Screen-Mask-Mouse-Event-Adaptation-Web-Cross-Domain"><a href="#Daily-HarmonyOS-Next-Knowledge-Input-Box-Auto-Focus-JS-Bridge-Implementation-Popup-Full-Screen-Mask-Mouse-Event-Adaptation-Web-Cross-Domain" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Input Box Auto-Focus, JS Bridge Implementation, Popup Full-Screen Mask, Mouse Event Adaptation, Web Cross-Domain"></a>[Daily HarmonyOS Next Knowledge] Input Box Auto-Focus, JS Bridge Implementation, Popup Full-Screen Mask, Mouse Event Adaptation, Web Cross-Domain</h3><h4 id="1-How-to-Auto-Focus-a-TextInput-or-TextArea-in-HarmonyOS"><a href="#1-How-to-Auto-Focus-a-TextInput-or-TextArea-in-HarmonyOS" class="headerlink" title="1. How to Auto-Focus a TextInput or TextArea in HarmonyOS?"></a>1. How to Auto-Focus a TextInput or TextArea in HarmonyOS?</h4><p>Use <code>focusControl.requestFocus</code> to set focus on components that need it. Refer to the documentation:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-attributes-focus-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-universal-attributes-focus-V5</a>  </p>
<p><strong>Example Code</strong>:  </p>
<pre><code class="language-typescript">@Entry
@Component
struct TextInputExample &#123;
  controller: TextInputController = new TextInputController()
  @State inputValue: string = &quot;&quot;
  ep: number = 0;
  del: boolean = false;

  // Custom keyboard component
  @Builder
  CustomKeyboardBuilder() &#123;
    Column() &#123;
      Button(&#39;Close Keyboard&#39;).onClick(() =&gt; &#123;
        // Close the custom keyboard
        this.controller.stopEditing()
      &#125;)
      Button(&#39;Delete Character&#39;).onClick(() =&gt; &#123;
        this.inputValue = this.inputValue.substring(0, this.ep-1) + this.inputValue.substring(this.ep)
        this.del = true
      &#125;)
      Grid() &#123;
        ForEach([1, 2, 3, 4, 5, 6, 7, 8, 9, &#39;*&#39;, 0, &#39;#&#39;], (item: number | string) =&gt; &#123;
          GridItem() &#123;
            Button(item + &quot;&quot;)
              .width(110).onClick(() =&gt; &#123;
              this.inputValue = this.inputValue.substring(0, this.ep) + item + this.inputValue.substring(this.ep)
              this.del = false
            &#125;)
          &#125;
        &#125;)
      &#125;.maxCount(3).columnsGap(10).rowsGap(10).padding(5)
    &#125;.backgroundColor(Color.Gray)
  &#125;

  build() &#123;
    Column() &#123;
      TextInput(&#123; controller: this.controller, text: this.inputValue &#125;)
        // Bind the custom keyboard
        .customKeyboard(this.CustomKeyboardBuilder())
        .margin(10)
        .id(&#39;input1&#39;) // Set an ID for the component
        .border(&#123; width: 1 &#125;)
        // Detect cursor changes and adjust cursor position
        .onChange(() =&gt; &#123;
          if(this.del)&#123;
            this.controller.caretPosition(--this.ep)
          &#125;else&#123;
            this.controller.caretPosition(++this.ep)
          &#125;
        &#125;)
        .onTextSelectionChange((ss) =&gt; &#123;
          this.ep = ss;
        &#125;)
      Button(&quot;Trigger Focus&quot;)
        .width(200).height(70).fontColor(Color.White)
        .onClick(() =&gt; &#123;
          focusControl.requestFocus(&#39;input1&#39;) // Focus the TextInput
        &#125;)
    &#125;
  &#125;
&#125;
</code></pre>
<p>The default input method keyboard type is text input (<code>textinputtype</code> 0). Refer to possible <code>textinputtype</code> values:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-inputmethod-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-inputmethod-V5</a>  </p>
<h4 id="2-What-Are-the-JSBridge-Implementation-Methods-in-HarmonyOS"><a href="#2-What-Are-the-JSBridge-Implementation-Methods-in-HarmonyOS" class="headerlink" title="2. What Are the JSBridge Implementation Methods in HarmonyOS?"></a>2. What Are the JSBridge Implementation Methods in HarmonyOS?</h4><p>For app-frontend interactions, refer to:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkweb-ndk-jsbridge-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkweb-ndk-jsbridge-V5</a>  </p>
<p><img src="/../images/%E3%80%90%E6%AF%8F%E6%97%A5%E5%AD%A6%E7%82%B9HarmonyOS%20Next%E7%9F%A5%E8%AF%86%E3%80%9125.01.24-2.png"></p>
<p>The figure above shows the general architecture of a universally applicable mini-program. In this architecture, the logic layer relies on the JavaScript runtime自带 by the application, which runs within an existing C++ environment. Through Native interfaces, the logic layer can directly communicate with the view layer (where ArkWeb acts as the renderer) in the C++ environment without falling back to the ArkTS environment to use the ArkTS JSBridge interface.  </p>
<p>The left diagram shows a mini-program solution using the ArkTS JSBridge interface. As indicated by the red box, the application must first call into the ArkTS environment and then into the C++ environment. The right diagram shows a solution using the Native JSBridge interface, which eliminates the need to switch between ArkTS and C++ environments, resulting in higher execution efficiency.<br><img src="/../images/%E3%80%90%E6%AF%8F%E6%97%A5%E5%AD%A6%E7%82%B9HarmonyOS%20Next%E7%9F%A5%E8%AF%86%E3%80%9125.01.24-3.png"><br>The Native JSBridge solution avoids redundant ArkTS environment switches and allows callbacks to run on non-UI threads, preventing UI blockages.  </p>
<h4 id="3-How-to-Set-a-Full-Screen-Mask-for-bindPopup-in-HarmonyOS"><a href="#3-How-to-Set-a-Full-Screen-Mask-for-bindPopup-in-HarmonyOS" class="headerlink" title="3. How to Set a Full-Screen Mask for bindPopup in HarmonyOS?"></a>3. How to Set a Full-Screen Mask for bindPopup in HarmonyOS?</h4><p>Refer to the following demo:  </p>
<pre><code class="language-typescript">@Entry
@Component
struct PopupExample &#123;
  @State handlePopup: boolean = false
  @State customPopup: boolean = false
  
  // Popup content builder
  @Builder popupBuilder() &#123;
    Row(&#123; space: 2 &#125;) &#123;
      Image($r(&quot;app.media.startIcon&quot;)).width(24).height(24).margin(&#123; left: -5 &#125;)
      Text(&#39;Custom Popup&#39;).fontSize(10)
    &#125;.width(100).height(50).padding(5)
  &#125;

  build() &#123;
    Flex(&#123; direction: FlexDirection.Column &#125;) &#123;
      // PopupOptions configuration
      Button(&#39;PopupOptions&#39;)
        .onClick(() =&gt; &#123;
          this.handlePopup = !this.handlePopup
        &#125;)
        .bindPopup(this.handlePopup, &#123;
          builder: this.popupBuilder,
          placement: Placement.Top,
          mask: &#123;color: Color.Gray&#125;,
          popupColor: Color.Yellow,
          enableArrow: true,
          message: &#39;This is a popup with PopupOptions&#39;,
          placementOnTop: true,
          showInSubWindow: false,
          primaryButton: &#123;
            value: &#39;confirm&#39;,
            action: () =&gt; &#123;
              this.handlePopup = !this.handlePopup
              console.info(&#39;confirm Button click&#39;)
            &#125;
          &#125;,
          // Secondary button
          secondaryButton: &#123;
            value: &#39;cancel&#39;,
            action: () =&gt; &#123;
              this.handlePopup = !this.handlePopup
              console.info(&#39;cancel Button click&#39;)
            &#125;
          &#125;,
          onStateChange: (e) =&gt; &#123;
            console.info(JSON.stringify(e.isVisible))
            if (!e.isVisible) &#123;
              this.handlePopup = false
            &#125;
          &#125;
        &#125;)
        .position(&#123; x: 100, y: 150 &#125;)
    &#125;.width(&#39;100%&#39;).padding(&#123; top: 5 &#125;)
  &#125;
&#125;
</code></pre>
<h4 id="4-The-Right-Click-Event-in-the-HarmonyOS-Web-Component-Works-on-2-in-1-Devices-but-Fails-on-Tablets-How-to-Make-It-Compatible"><a href="#4-The-Right-Click-Event-in-the-HarmonyOS-Web-Component-Works-on-2-in-1-Devices-but-Fails-on-Tablets-How-to-Make-It-Compatible" class="headerlink" title="4. The Right-Click Event in the HarmonyOS Web Component Works on 2-in-1 Devices but Fails on Tablets. How to Make It Compatible?"></a>4. The Right-Click Event in the HarmonyOS Web Component Works on 2-in-1 Devices but Fails on Tablets. How to Make It Compatible?</h4><p>Refer to the Interaction Event Normalization interface to ensure consistent interaction experiences across different devices and minimize adaptation efforts:  </p>
<ul>
<li>Interaction Events Guide:<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/design-guides/hmi-interaction-events-0000001795531217#section485844185018">https://developer.huawei.com/consumer/cn/doc/design-guides/hmi-interaction-events-0000001795531217#section485844185018</a>  </li>
<li>Interaction Event Normalization Development Documentation:<br><a target="_blank" rel="noopener" href="https://gitee.com/openharmony/docs/blob/master/zh-cn/application-dev/key-features/multi-device-app-dev/interaction-event-normalization.md">https://gitee.com/openharmony/docs/blob/master/zh-cn/application-dev/key-features/multi-device-app-dev/interaction-event-normalization.md</a></li>
</ul>
<p><img src="/../images/%E3%80%90%E6%AF%8F%E6%97%A5%E5%AD%A6%E7%82%B9HarmonyOS%20Next%E7%9F%A5%E8%AF%86%E3%80%9125.01.24-4.png"></p>
<h4 id="5-When-the-HarmonyOS-Web-Component-Loads-Local-Files-via-the-file-Protocol-HTTP-Requests-from-Local-JS-Files-Fail-Due-to-Cross-Domain-Restrictions-How-to-Solve-This"><a href="#5-When-the-HarmonyOS-Web-Component-Loads-Local-Files-via-the-file-Protocol-HTTP-Requests-from-Local-JS-Files-Fail-Due-to-Cross-Domain-Restrictions-How-to-Solve-This" class="headerlink" title="5. When the HarmonyOS Web Component Loads Local Files via the file:&#x2F;&#x2F; Protocol, HTTP Requests from Local JS Files Fail Due to Cross-Domain Restrictions. How to Solve This?"></a>5. When the HarmonyOS Web Component Loads Local Files via the file:&#x2F;&#x2F; Protocol, HTTP Requests from Local JS Files Fail Due to Cross-Domain Restrictions. How to Solve This?</h4><p>Configure <code>customizeSchemes</code> as described in the documentation:  </p>
<ul>
<li><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-webview-V5#ZH-CN_TOPIC_0000001920279886__customizeschemes">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-webview-V5#ZH-CN_TOPIC_0000001920279886__customizeschemes</a>  </li>
<li><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/web-cross-origin-V5#ZH-CN_TOPIC_0000001884916574__%E6%8B%A6%E6%88%AA%E6%9C%AC%E5%9C%B0%E8%B5%84%E6%BA%90%E8%B7%A8%E5%9F%9F">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/web-cross-origin-V5#ZH-CN_TOPIC_0000001884916574__%E6%8B%A6%E6%88%AA%E6%9C%AC%E5%9C%B0%E8%B5%84%E6%BA%90%E8%B7%A8%E5%9F%9F</a></li>
</ul>
<p>You need to configure <code>schemeMap</code> and <code>mimeTypeMap</code> manually.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/27/123-Daily-HarmonyOS-Next-Knowledge-Web-Cross-Origin-Resources-Web-Long-Press-Menu-Web-Request-Interception-Screen-Recording-Prevention-Base64-Image-Dimensions/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/27/123-Daily-HarmonyOS-Next-Knowledge-Web-Cross-Origin-Resources-Web-Long-Press-Menu-Web-Request-Interception-Screen-Recording-Prevention-Base64-Image-Dimensions/" class="post-title-link" itemprop="url">[Daily HarmonyOS Next Knowledge] Web Cross-Origin Resources, Web Long-Press Menu, Web Request Interception, Screen Recording Prevention, Base64 Image Dimensions</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-27 09:58:29 / Modified: 09:59:39" itemprop="dateCreated datePublished" datetime="2025-06-27T09:58:29+08:00">2025-06-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-HarmonyOS-Next-Knowledge-Web-Cross-Origin-Resources-Web-Long-Press-Menu-Web-Request-Interception-Screen-Recording-Prevention-Base64-Image-Dimensions"><a href="#Daily-HarmonyOS-Next-Knowledge-Web-Cross-Origin-Resources-Web-Long-Press-Menu-Web-Request-Interception-Screen-Recording-Prevention-Base64-Image-Dimensions" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Web Cross-Origin Resources, Web Long-Press Menu, Web Request Interception, Screen Recording Prevention, Base64 Image Dimensions"></a>[Daily HarmonyOS Next Knowledge] Web Cross-Origin Resources, Web Long-Press Menu, Web Request Interception, Screen Recording Prevention, Base64 Image Dimensions</h3><h4 id="1-HarmonyOS-Web-Component-Local-Resource-Cross-Origin-Issue"><a href="#1-HarmonyOS-Web-Component-Local-Resource-Cross-Origin-Issue" class="headerlink" title="1. HarmonyOS Web Component Local Resource Cross-Origin Issue"></a>1. HarmonyOS Web Component Local Resource Cross-Origin Issue</h4><p>For solutions to cross-origin resource issues, refer to the official documentation: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/web-cross-origin-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/web-cross-origin-V5</a>  </p>
<p><strong>Method 1</strong><br>To enable the Web component to access cross-origin resources, developers should use protocols like <code>http</code> or <code>https</code> instead of <code>file</code> or <code>resource</code> for loading. The replacement URL domain name should be a custom-constructed domain for personal or organizational use to avoid conflicts with actual internet domains. Meanwhile, use the Web component’s <code>onInterceptRequest</code> method to intercept and replace local resources.  </p>
<p>The following example demonstrates resolving cross-origin access failures for local resources. Here, <code>index.html</code> and <code>js/script.js</code> are placed in the project’s <code>rawfile</code> directory. Accessing <code>index.html</code> via the <code>resource</code> protocol will block <code>js/script.js</code> due to cross-origin restrictions. The example uses <code>https://www.example.com/</code> to replace the <code>resource</code> protocol and leverages the <code>onInterceptRequest</code> interface to replace resources, enabling <code>js/script.js</code> to load successfully and resolve cross-origin blocking.  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main/ets/pages/Index.ets</span></span><br><span class="line"><span class="keyword">import</span> &#123; webview &#125; <span class="keyword">from</span> <span class="string">&#x27;@kit.ArkWeb&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Index</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">message</span>: <span class="built_in">string</span> = <span class="string">&#x27;Hello World&#x27;</span>;</span><br><span class="line">  <span class="attr">webviewController</span>: webview.<span class="property">WebviewController</span> = <span class="keyword">new</span> webview.<span class="title class_">WebviewController</span>();</span><br><span class="line">  <span class="comment">// Mapping table for constructed domain names and local files</span></span><br><span class="line">  schemeMap = <span class="keyword">new</span> <span class="title class_">Map</span>([</span><br><span class="line">    [<span class="string">&quot;https://www.example.com/index.html&quot;</span>, <span class="string">&quot;index.html&quot;</span>],</span><br><span class="line">    [<span class="string">&quot;https://www.example.com/js/script.js&quot;</span>, <span class="string">&quot;js/script.js&quot;</span>],</span><br><span class="line">  ])</span><br><span class="line">  <span class="comment">// Mapping table for local files and constructed response MIME types</span></span><br><span class="line">  mimeTypeMap = <span class="keyword">new</span> <span class="title class_">Map</span>([</span><br><span class="line">    [<span class="string">&quot;index.html&quot;</span>, <span class="string">&#x27;text/html&#x27;</span>],</span><br><span class="line">    [<span class="string">&quot;js/script.js&quot;</span>, <span class="string">&quot;text/javascript&quot;</span>]</span><br><span class="line">  ])</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Row</span>() &#123;</span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="comment">// For local index.html, use http or https protocol instead of file or resource protocol, and construct a custom domain name.</span></span><br><span class="line">        <span class="comment">// This example uses www.example.com.</span></span><br><span class="line">        <span class="title class_">Web</span>(&#123; <span class="attr">src</span>: <span class="string">&quot;https://www.example.com/index.html&quot;</span>, <span class="attr">controller</span>: <span class="variable language_">this</span>.<span class="property">webviewController</span> &#125;)</span><br><span class="line">          .<span class="title function_">javaScriptAccess</span>(<span class="literal">true</span>)</span><br><span class="line">          .<span class="title function_">fileAccess</span>(<span class="literal">true</span>)</span><br><span class="line">          .<span class="title function_">domStorageAccess</span>(<span class="literal">true</span>)</span><br><span class="line">          .<span class="title function_">geolocationAccess</span>(<span class="literal">true</span>)</span><br><span class="line">          .<span class="title function_">width</span>(<span class="string">&quot;100%&quot;</span>)</span><br><span class="line">          .<span class="title function_">height</span>(<span class="string">&quot;100%&quot;</span>)</span><br><span class="line">          .<span class="title function_">onInterceptRequest</span>(<span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (!event) &#123;</span><br><span class="line">              <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// Intercept and replace local offline resources to bypass cross-origin restrictions</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">schemeMap</span>.<span class="title function_">has</span>(event.<span class="property">request</span>.<span class="title function_">getRequestUrl</span>())) &#123;</span><br><span class="line">              <span class="keyword">let</span> <span class="attr">rawfileName</span>: <span class="built_in">string</span> = <span class="variable language_">this</span>.<span class="property">schemeMap</span>.<span class="title function_">get</span>(event.<span class="property">request</span>.<span class="title function_">getRequestUrl</span>())!;</span><br><span class="line">              <span class="keyword">let</span> mimeType = <span class="variable language_">this</span>.<span class="property">mimeTypeMap</span>.<span class="title function_">get</span>(rawfileName);</span><br><span class="line">              <span class="keyword">if</span> (<span class="keyword">typeof</span> mimeType === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">let</span> response = <span class="keyword">new</span> <span class="title class_">WebResourceResponse</span>();</span><br><span class="line">                <span class="comment">// Construct response data. If the local file is in rawfile, set it as follows</span></span><br><span class="line">                response.<span class="title function_">setResponseData</span>($rawfile(rawfileName));</span><br><span class="line">                response.<span class="title function_">setResponseEncoding</span>(<span class="string">&#x27;utf-8&#x27;</span>);</span><br><span class="line">                response.<span class="title function_">setResponseMimeType</span>(mimeType);</span><br><span class="line">                response.<span class="title function_">setResponseCode</span>(<span class="number">200</span>);</span><br><span class="line">                response.<span class="title function_">setReasonMessage</span>(<span class="string">&#x27;OK&#x27;</span>);</span><br><span class="line">                response.<span class="title function_">setResponseIsReady</span>(<span class="literal">true</span>);</span><br><span class="line">                <span class="keyword">return</span> response;</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">          &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>html</span><br><span class="line">&lt;!-- main/resources/rawfile/index.<span class="property">html</span> --&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1&quot;&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;script crossorigin src=&quot;./js/script.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line">```  </span><br><span class="line">```javascript</span><br><span class="line">// main/resources/rawfile/js/script.js</span><br><span class="line">const body = document.body;</span><br><span class="line">const element = document.createElement(&#x27;div&#x27;);</span><br><span class="line">element.textContent = &#x27;success&#x27;;</span><br><span class="line">body.appendChild(element);</span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">**Method 2**  </span><br><span class="line">Set a path list using `setPathAllowingUniversalAccess`. When accessing resources in this list via the `file` protocol, cross-origin access to local files is allowed. Once the path list is set, the `file` protocol is restricted to accessing only resources in the list (the behavior of `fileAccess` will be overridden by this interface). Paths in the list must conform to either of the following formats:  </span><br><span class="line"></span><br><span class="line">1. Application file directory obtained via `Context.filesDir`, with subdirectory examples:  </span><br><span class="line">   - /data/storage/el2/base/files/example  </span><br><span class="line">   - /data/storage/el2/base/haps/entry/files/example  </span><br><span class="line"></span><br><span class="line">2. Application resource directory obtained via `Context.resourceDir`, with subdirectory examples:  </span><br><span class="line">   - /data/storage/el1/bundle/entry/resource/resfile  </span><br><span class="line">   - /data/storage/el1/bundle/entry/resource/resfile/example  </span><br><span class="line"></span><br><span class="line">If any path in the list fails to meet the above conditions, the system will throw an exception code 401 and mark the path list setup as failed. If the path list is empty, the accessible range of the `file` protocol will follow the rules of `fileAccess`, as shown in the example below.  </span><br><span class="line">```typescript</span><br><span class="line">// main/ets/pages/Index.ets</span><br><span class="line">import &#123; webview &#125; from &#x27;@kit.ArkWeb&#x27;;</span><br><span class="line">import &#123; BusinessError &#125; from &#x27;@kit.BasicServicesKit&#x27;;</span><br><span class="line"></span><br><span class="line">@Entry</span><br><span class="line">@Component</span><br><span class="line">struct WebComponent &#123;</span><br><span class="line">  controller: WebviewController = new webview.WebviewController();</span><br><span class="line"></span><br><span class="line">  build() &#123;</span><br><span class="line">    Row() &#123;</span><br><span class="line">      Web(&#123; src: &quot;&quot;, controller: this.controller &#125;)</span><br><span class="line">        .onControllerAttached(() =&gt; &#123;</span><br><span class="line">          try &#123;</span><br><span class="line">            // Set the path list allowing cross-origin access</span><br><span class="line">            this.controller.setPathAllowingUniversalAccess([</span><br><span class="line">              getContext().resourceDir,</span><br><span class="line">              getContext().filesDir + &quot;/example&quot;</span><br><span class="line">            ])</span><br><span class="line">            this.controller.loadUrl(&quot;file://&quot; + getContext().resourceDir + &quot;/index.html&quot;)</span><br><span class="line">          &#125; catch (error) &#123;</span><br><span class="line">            console.error(`ErrorCode: $&#123;(error as BusinessError).code&#125;,  Message: $&#123;(error as BusinessError).message&#125;`);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        .javaScriptAccess(true)</span><br><span class="line">        .fileAccess(true)</span><br><span class="line">        .domStorageAccess(true)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">```  </span><br><span class="line">```html</span><br><span class="line">&lt;!-- main/resource/rawfile/index.html --&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;Demo&lt;/title&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, user-scalable=no, viewport-fit=cover&quot;&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        function getFile() &#123;</span><br><span class="line">            var file = &quot;file:///data/storage/el1/bundle/entry/resources/resfile/js/script.js&quot;;</span><br><span class="line">      // Use file protocol to access local js files across origins via XMLHttpRequest</span><br><span class="line">            var xmlHttpReq = new XMLHttpRequest();</span><br><span class="line">            xmlHttpReq.onreadystatechange = function()&#123;</span><br><span class="line">                console.log(&quot;readyState:&quot; + xmlHttpReq.readyState);</span><br><span class="line">                console.log(&quot;status:&quot; + xmlHttpReq.status);</span><br><span class="line">                if(xmlHttpReq.readyState == 4)&#123;</span><br><span class="line">                    if (xmlHttpReq.status == 200) &#123;</span><br><span class="line">                // If the ets side correctly sets the path list, resources can be obtained here</span><br><span class="line">                        const element = document.getElementById(&#x27;text&#x27;);</span><br><span class="line">                        element.textContent = &quot;load &quot; + file + &quot; success&quot;;</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                // If the ets side does not set the path list, a CORS cross-origin check error will be triggered here</span><br><span class="line">                        const element = document.getElementById(&#x27;text&#x27;);</span><br><span class="line">                        element.textContent = &quot;load &quot; + file + &quot; failed&quot;;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            xmlHttpReq.open(&quot;GET&quot;, file);</span><br><span class="line">            xmlHttpReq.send(null);</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div class=&quot;page&quot;&gt;</span><br><span class="line">    &lt;button id=&quot;example&quot; onclick=&quot;getFile()&quot;&gt;stealFile&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;text&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br><span class="line">```  </span><br><span class="line">```javascript</span><br><span class="line">// main/resources/rawfile/js/script.js</span><br><span class="line">const body = document.body;</span><br><span class="line">const element = document.createElement(&#x27;div&#x27;);</span><br><span class="line">element.textContent = &#x27;success&#x27;;</span><br><span class="line">body.appendChild(element);</span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### 2. HarmonyOS Web: How to Implement Long-Press to Pop Up a Menu for Saving Images, Similar to getHitTestResult?  </span><br><span class="line">Refer to the `onContextMenuShow` event in the Web component. Long-pressing a specific element (e.g., image, link) or right-clicking the mouse will trigger the menu. For details, refer to: https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-web-V5#oncontextmenushow9  </span><br><span class="line">Currently, conditions for the long-press pop-up cannot be controlled. You can try to control the selection box via H5-side events and CSS.  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### 3. HarmonyOS Web: Demo for Intercepting App Navigation and Custom Request Responses  </span><br><span class="line">For Web interception and custom request responses, refer to the official documentation: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/web-resource-interception-request-mgmt-V5  </span><br><span class="line"></span><br><span class="line">The Web component supports custom response capabilities after the app intercepts page requests. Developers can use the `onInterceptRequest()` interface to implement custom resource request responses, which can be applied to scenarios such as custom Web page responses and custom file resource responses.  </span><br><span class="line"></span><br><span class="line">Process: The Web page initiates a resource loading request → the app layer receives the resource request message → the app layer constructs a local resource response message and sends it to the Web kernel → the Web kernel parses the app layer&#x27;s response information and loads page resources based on this response.  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### 4. HarmonyOS: How to Prevent Screen Recording/Screenshot for a Single Page or Dialog (e.g., Security Password Keyboard in a Dialog)  </span><br><span class="line">To prevent screen recording and screenshot for specific pages or dialogs, set the window to privacy mode using `setWindowPrivacyMode`. This will display a gray overlay during screen recording, screenshot, or screen sharing (privacy windows do not allow these operations).  </span><br><span class="line"></span><br><span class="line">Reference: https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-window-V5#setwindowprivacymode9  </span><br><span class="line"></span><br><span class="line">**setWindowPrivacyMode**  </span><br><span class="line">`setWindowPrivacyMode(isPrivacyMode: boolean, callback: AsyncCallback&lt;void&gt;): void`  </span><br><span class="line">Sets whether the window is in privacy mode using an asynchronous callback. A window in privacy mode cannot be screenshotted or screen-recorded, suitable for scenarios requiring protection against screenshots/screen recordings.  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### 5. HarmonyOS: How to Obtain Original Dimensions of a Base64 Image  </span><br><span class="line">In image verification code scenarios, the server returns two base64-encoded images (background image and verification image). The scaling factor needs to be calculated based on the dimensions of the background and original images to determine the size and positioning of the verification image.  </span><br><span class="line"></span><br><span class="line">Use Image Kit capabilities. Reference: https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-image-V5#imageinfo  </span><br><span class="line"></span><br><span class="line">**Demo**:  </span><br><span class="line">```typescript</span><br><span class="line">import util from &#x27;@ohos.util&#x27;;</span><br><span class="line">import &#123; image &#125; from &#x27;@kit.ImageKit&#x27;;</span><br><span class="line">@Entry</span><br><span class="line">@Component</span><br><span class="line">struct Index &#123;</span><br><span class="line">  @State message: string = &#x27;getImage&#x27;;</span><br><span class="line">  @StorageLink(&#x27;test&#x27;) test: object = new Object;</span><br><span class="line">  @State imageBase64: string =</span><br><span class="line">    &#x27;iVBORw0KGgoAAAANSUhEUgAAADwAAAAUCAYAAADRA14pAAABN0lEQVR42mP4P8IAAy0Mjf6xAYxHnIcHo6cZaOlZYj38VbESjIech5E9SayHYZ5FxnT1cL7uFwxMbt4lxtPYPElLjzNg8ywhMWp6GOZBeiVzDA/jinFySmZSkzUpHn5oLosXk+1hYj2NXliRUnjh8hy5MYzP0wzEeIzUvEyNGCY3WZMUw5Qm61EPjzQPkwIGjYfp4VlsnianIULIs3gbHvT2LLZWFzVLZ7xNS3p7lBqAGM+CPZy6o+w/DGfvrv5ffagTjtuOT/4/8cxcOF50Zc3/5dc3wvHeh0fh+PDjk/8vv74Bx/c+PPz/8utrOP7559fg8LD/uqT/A4GpHdB7Q/XBmFBAMyBLPv70DCWWTjw7h2L42pvbUCxGdlTPqRkoji7Y24DiqdCN6f8HKnCRMcNA5bmBCmgACwohlRAJ3H4AAAAASUVORK5CYII=&#x27;</span><br><span class="line">  @State pixelMap: image.PixelMap | undefined = undefined;</span><br><span class="line">  build() &#123;</span><br><span class="line">    Column() &#123;</span><br><span class="line">      Text(this.message)</span><br><span class="line">        .id(&#x27;HelloWorld&#x27;)</span><br><span class="line">        .fontSize(50)</span><br><span class="line">        .fontWeight(FontWeight.Bold)</span><br><span class="line">        .onClick(async () =&gt; &#123;</span><br><span class="line">          let helper = new util.Base64Helper();</span><br><span class="line">          let buffer: ArrayBuffer = helper.decodeSync(this.imageBase64, util.Type.MIME).buffer as ArrayBuffer;</span><br><span class="line">          let imageSource = image.createImageSource(buffer);</span><br><span class="line">          let opts: image.DecodingOptions = &#123; editable: true &#125;;</span><br><span class="line">          this.pixelMap = await imageSource.createPixelMap(opts);</span><br><span class="line">          this.pixelMap.getImageInfo().then((imageInfo: image.ImageInfo) =&gt; &#123;</span><br><span class="line">            if (imageInfo == undefined) &#123;</span><br><span class="line">              console.error(`Failed to obtain the image pixel map information.`);</span><br><span class="line">            &#125;</span><br><span class="line">            let wit = imageInfo.size.width;</span><br><span class="line">            let hig = imageInfo.size.height;</span><br><span class="line">            console.log(`Succeeded in obtaining the image pixel map information., $&#123;JSON.stringify(wit)&#125;, $&#123;JSON.stringify(hig)&#125;`);</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    .height(&#x27;100%&#x27;)</span><br><span class="line">    .width(&#x27;100%&#x27;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/27/122-Daily-Harmony-Learnings-on-HarmonyOS-Next-Web-File-Upload-Continuous-Click-Monitoring-in-Four-Directions-Fold-Hover-String-Operations-and-Sandbox-Video-Playback/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/27/122-Daily-Harmony-Learnings-on-HarmonyOS-Next-Web-File-Upload-Continuous-Click-Monitoring-in-Four-Directions-Fold-Hover-String-Operations-and-Sandbox-Video-Playback/" class="post-title-link" itemprop="url">[Daily Harmony Learnings on HarmonyOS Next] Web File Upload, Continuous Click Monitoring in Four Directions, Fold Hover, String Operations, and Sandbox Video Playback</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-27 09:57:22 / Modified: 09:57:40" itemprop="dateCreated datePublished" datetime="2025-06-27T09:57:22+08:00">2025-06-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Daily-Harmony-Learnings-on-HarmonyOS-Next-Web-File-Upload-Continuous-Click-Monitoring-in-Four-Directions-Fold-Hover-String-Operations-and-Sandbox-Video-Playback"><a href="#Daily-Harmony-Learnings-on-HarmonyOS-Next-Web-File-Upload-Continuous-Click-Monitoring-in-Four-Directions-Fold-Hover-String-Operations-and-Sandbox-Video-Playback" class="headerlink" title="[Daily Harmony Learnings on HarmonyOS Next] Web File Upload, Continuous Click Monitoring in Four Directions, Fold Hover, String Operations, and Sandbox Video Playback"></a>[Daily Harmony Learnings on HarmonyOS Next] Web File Upload, Continuous Click Monitoring in Four Directions, Fold Hover, String Operations, and Sandbox Video Playback</h3><h4 id="1-HarmonyOS-The-input-type-file-in-H5-native-webview-within-the-APP-fails-to-trigger-the-phone’s-upload-function"><a href="#1-HarmonyOS-The-input-type-file-in-H5-native-webview-within-the-APP-fails-to-trigger-the-phone’s-upload-function" class="headerlink" title="1. HarmonyOS: The input[type=&#39;file&#39;] in H5 native webview within the APP fails to trigger the phone’s upload function?"></a>1. HarmonyOS: The <code>input[type=&#39;file&#39;]</code> in H5 native webview within the APP fails to trigger the phone’s upload function?</h4><p>File upload requires using the corresponding picker.<br><a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/web-file-upload-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/web-file-upload-V5</a>  </p>
<p>The Web component supports file selection and upload for front-end pages. App developers can use the <code>onShowFileSelector()</code> interface to handle file upload requests from front-end pages. If developers do not handle it, the Web will provide default behavior for file uploads.  </p>
<p><strong>App-side code example</strong>:  </p>
<pre><code class="language-typescript">// xxx.ets
import &#123; webview &#125; from &#39;@kit.ArkWeb&#39;;
import &#123; BusinessError &#125; from &#39;@kit.BasicServicesKit&#39;;
import &#123; picker &#125; from &#39;@kit.CoreFileKit&#39;;

@Entry
@Component
struct WebComponent &#123;
  controller: webview.WebviewController = new webview.WebviewController();

  build() &#123;
    Column() &#123;
      Web(&#123; src: $rawfile(&#39;local.html&#39;), controller: this.controller &#125;)
        .onShowFileSelector((event) =&gt; &#123;
          console.log(&#39;MyFileUploader onShowFileSelector invoked&#39;);
          const documentSelectOptions = new picker.DocumentSelectOptions();
          let uri: string | null = null;
          const documentViewPicker = new picker.DocumentViewPicker();
          documentViewPicker.select(documentSelectOptions).then((documentSelectResult) =&gt; &#123;
            uri = documentSelectResult[0];
            console.info(&#39;documentViewPicker.select to file succeed and uri is:&#39; + uri);
            if (event) &#123;
              event.result.handleFileList([uri]);
            &#125;
          &#125;).catch((err: BusinessError) =&gt; &#123;
            console.error(`Invoke documentViewPicker.select failed, code is $&#123;err.code&#125;, message is $&#123;err.message&#125;`);
          &#125;)
          return true;
        &#125;)
    &#125;
  &#125;
&#125;
</code></pre>
<p><strong>local.html code</strong>:  </p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;title&gt;Document&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;!-- Click the file upload button --&gt;
&lt;input type=&quot;file&quot; value=&quot;file&quot;&gt;&lt;/br&gt;
&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width&quot; /&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h4 id="2-HarmonyOS-How-to-monitor-continuous-clicks-in-the-up-down-left-right-areas-on-the-current-page"><a href="#2-HarmonyOS-How-to-monitor-continuous-clicks-in-the-up-down-left-right-areas-on-the-current-page" class="headerlink" title="2. HarmonyOS: How to monitor continuous clicks in the up&#x2F;down&#x2F;left&#x2F;right areas on the current page?"></a>2. HarmonyOS: How to monitor continuous clicks in the up&#x2F;down&#x2F;left&#x2F;right areas on the current page?</h4><p>On a specific page, continuous clicks are used to launch a test page—for example, clicking left-left-left, right-right-right, up-up, down-down within 2 seconds to trigger a function or navigate to a page. How to monitor these events?<br>Refer to the document: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-arkui-uicontext-V5#ZH-CN_TOPIC_0000001884757690__onwillclick12">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-arkui-uicontext-V5#ZH-CN_TOPIC_0000001884757690__onwillclick12</a>  </p>
<h4 id="3-HarmonyOS-For-the-FolderStack-component-how-to-position-a-CustomDialog-in-the-lower-half-of-the-screen-when-in-fold-hover-mode"><a href="#3-HarmonyOS-For-the-FolderStack-component-how-to-position-a-CustomDialog-in-the-lower-half-of-the-screen-when-in-fold-hover-mode" class="headerlink" title="3. HarmonyOS: For the FolderStack component, how to position a CustomDialog in the lower half of the screen when in fold hover mode?"></a>3. HarmonyOS: For the FolderStack component, how to position a CustomDialog in the lower half of the screen when in fold hover mode?</h4><p>Refer to the document: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-container-folderstack-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-container-folderstack-V5</a><br>It is recommended to use <code>PromptAction.openCustomDialog</code>, which supports dynamic refresh. Listen for the fold hover state, dynamically adjust the dialog height in the builder, and position it in the lower half of the screen with an offset.  </p>
<p><strong>PromptAction.openCustomDialog reference</strong>: <a target="_blank" rel="noopener" href="https://gitee.com/openharmony/docs/blob/master/zh-cn/application-dev/reference/apis-arkui/js-apis-arkui-UIContext.md#opencustomdialog12">https://gitee.com/openharmony/docs/blob/master/zh-cn/application-dev/reference/apis-arkui/js-apis-arkui-UIContext.md#opencustomdialog12</a>  </p>
<p><strong>Example</strong>:  </p>
<pre><code class="language-typescript">import &#123; PromptAction, promptAction &#125; from &#39;@kit.ArkUI&#39;;
import &#123; BusinessError &#125; from &#39;@kit.BasicServicesKit&#39;;

let promptAction: PromptAction = uiContext.getPromptAction();
try &#123;
  promptAction.showActionMenu(&#123;
    title: &#39;showActionMenu Title Info&#39;,
    buttons: [
      &#123;
        text: &#39;item1&#39;,
        color: &#39;#666666&#39;
      &#125;,
      &#123;
        text: &#39;item2&#39;,
        color: &#39;#000000&#39;
      &#125;,
    ]
  &#125;)
    .then(data =&gt; &#123;
      console.info(&#39;showActionMenu success, click button: &#39; + data.index);
    &#125;)
    .catch((err: Error) =&gt; &#123;
      console.error(&#39;showActionMenu error: &#39; + err);
    &#125;)
&#125; catch (error) &#123;
  let message = (error as BusinessError).message;
  let code = (error as BusinessError).code;
  console.error(`showActionMenu args error code is $&#123;code&#125;, message is $&#123;message&#125;`);
&#125;;
</code></pre>
<h4 id="4-HarmonyOS-How-to-output-a-string-defined-in-ResourceStr"><a href="#4-HarmonyOS-How-to-output-a-string-defined-in-ResourceStr" class="headerlink" title="4. HarmonyOS: How to output a string defined in ResourceStr?"></a>4. HarmonyOS: How to output a string defined in ResourceStr?</h4><p>A string is defined in the resource file using ResourceStr. To obtain the string content of <code>buttonText</code> and compare it with a server string, how to output the string?  </p>
<p>Use the <code>getStringSync</code> method.<br>Reference: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-resource-manager-V5#ZH-CN_TOPIC_0000001847052344__getstringsync9-1">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-resource-manager-V5#ZH-CN_TOPIC_0000001847052344__getstringsync9-1</a>  </p>
<p><strong>Demo</strong>:  </p>
<pre><code class="language-typescript">import resourceManager from &#39;@ohos.resourceManager&#39;;
import &#123; common &#125; from &#39;@kit.AbilityKit&#39;;
import &#123; BusinessError &#125; from &#39;@kit.BasicServicesKit&#39;;

@Entry
@Component
struct Index2 &#123;
  @State message: string = &#39;Hello World&#39;;
  @State buttonText: Resource = $r(&#39;app.string.caijiOnly&#39;)
  context = getContext(this) as common.UIAbilityContext;

  aboutToAppear(): void &#123;
    let resource: resourceManager.Resource = &#123;
      bundleName: &quot;com.example.mydemo&quot;, // Modify to your package name
      moduleName: &quot;entry&quot;,
      id: $r(&#39;app.string.caijiOnly&#39;).id
    &#125;;
    try &#123;
      this.context.resourceManager.getStringSync(resource);
      console.log(&quot;Official example: &quot; + this.context.resourceManager.getStringSync(resource))
      console.log(&quot;buttonText: &quot; + this.context.resourceManager.getStringSync(this.buttonText))

    &#125; catch (error) &#123;
      let code = (error as BusinessError).code;
      let message = (error as BusinessError).message;
      console.error(`getStringSync failed, error code: $&#123;code&#125;, message: $&#123;message&#125;.`);
    &#125;

  &#125;

  build() &#123;
    Column() &#123;
      Text(this.message)
    &#125;
  &#125;
&#125;
</code></pre>
<h4 id="5-HarmonyOS-Videos-in-the-app-sandbox-path-cannot-be-played"><a href="#5-HarmonyOS-Videos-in-the-app-sandbox-path-cannot-be-played" class="headerlink" title="5. HarmonyOS: Videos in the app sandbox path cannot be played?"></a>5. HarmonyOS: Videos in the app sandbox path cannot be played?</h4><p>Attempting to play a video using the video component fails when the video is in the app sandbox path. The video shows a black screen, while the same video plays correctly when stored in the rawfile folder. How to play videos in the app sandbox?  </p>
<p><strong>Reasons for playback failure</strong>:<br>Due to the sandbox mechanism, each app has its own sandbox, and the app can only access files and resources within its sandbox. The sandbox path is inaccessible outside the app, causing the system to return a “file not found” error when trying to play a video in the sandbox.  </p>
<p><strong>Solutions</strong>:  </p>
<ol>
<li><strong>Push files via DevEco Studio</strong>: Place the required files in the app installation path to ensure access outside the sandbox.  </li>
<li><strong>Push files via hdc tool</strong>: Use hdc to push files to a location outside the app sandbox (e.g., the device’s storage directory), then obtain the media file URI via ContentResolver to play the video.  </li>
<li><strong>Path mapping</strong>: Understand the mapping between the app sandbox path and the actual physical path visible in the debugging process. For example, the sandbox path <code>/data/storage/el1/bundle</code> maps to the real path <code>/data/app/el1/bundle/public/&lt;PACKAGENAME&gt;</code>.</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/17/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/17/">17</a><span class="page-number current">18</span><a class="page-number" href="/page/19/">19</a><span class="space">&hellip;</span><a class="page-number" href="/page/36/">36</a><a class="extend next" rel="next" href="/page/19/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Qingkouwei</p>
  <div class="site-description" itemprop="description">Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">353</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Qingkouwei</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
