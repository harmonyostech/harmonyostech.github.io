<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"harmonyostech.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="[Daily HarmonyOS Next Knowledge] Web Page Height Acquisition, Action Menu Bottom Layout, Animation Issues, Web Cross-Origin Image Loading, System Dark Mode Immunity1. HarmonyOS: Discrepancy between ge">
<meta property="og:type" content="article">
<meta property="og:title" content="[Daily HarmonyOS Next Knowledge] Web Page Height Acquisition, Action Menu Bottom Layout, Animation Issues, Web Cross-Origin Image Loading, System Dark Mode Immunity">
<meta property="og:url" content="https://harmonyostech.github.io/2025/06/27/111-Daily-HarmonyOS-Next-Knowledge-Web-Page-Height-Acquisition-Action-Menu-Bottom-Layout-Animation-Issues-Web-Cross-Origin-Image-Loading-System-Dark-Mode-Immunity/index.html">
<meta property="og:site_name" content="HarmonyOS NEXT Knowledge Charging Station">
<meta property="og:description" content="[Daily HarmonyOS Next Knowledge] Web Page Height Acquisition, Action Menu Bottom Layout, Animation Issues, Web Cross-Origin Image Loading, System Dark Mode Immunity1. HarmonyOS: Discrepancy between ge">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2025-06-27T00:38:46.000Z">
<meta property="article:modified_time" content="2025-06-27T00:39:01.620Z">
<meta property="article:author" content="Qingkouwei">
<meta property="article:tag" content="HarmonyOS Next">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://harmonyostech.github.io/2025/06/27/111-Daily-HarmonyOS-Next-Knowledge-Web-Page-Height-Acquisition-Action-Menu-Bottom-Layout-Animation-Issues-Web-Cross-Origin-Image-Loading-System-Dark-Mode-Immunity/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>[Daily HarmonyOS Next Knowledge] Web Page Height Acquisition, Action Menu Bottom Layout, Animation Issues, Web Cross-Origin Image Loading, System Dark Mode Immunity | HarmonyOS NEXT Knowledge Charging Station</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">HarmonyOS NEXT Knowledge Charging Station</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Analysis of Core Technologies and Application Scenarios of HarmonyOS NEXT</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/27/111-Daily-HarmonyOS-Next-Knowledge-Web-Page-Height-Acquisition-Action-Menu-Bottom-Layout-Animation-Issues-Web-Cross-Origin-Image-Loading-System-Dark-Mode-Immunity/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          [Daily HarmonyOS Next Knowledge] Web Page Height Acquisition, Action Menu Bottom Layout, Animation Issues, Web Cross-Origin Image Loading, System Dark Mode Immunity
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-27 08:38:46 / Modified: 08:39:01" itemprop="dateCreated datePublished" datetime="2025-06-27T08:38:46+08:00">2025-06-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h3 id="Daily-HarmonyOS-Next-Knowledge-Web-Page-Height-Acquisition-Action-Menu-Bottom-Layout-Animation-Issues-Web-Cross-Origin-Image-Loading-System-Dark-Mode-Immunity"><a href="#Daily-HarmonyOS-Next-Knowledge-Web-Page-Height-Acquisition-Action-Menu-Bottom-Layout-Animation-Issues-Web-Cross-Origin-Image-Loading-System-Dark-Mode-Immunity" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Web Page Height Acquisition, Action Menu Bottom Layout, Animation Issues, Web Cross-Origin Image Loading, System Dark Mode Immunity"></a>[Daily HarmonyOS Next Knowledge] Web Page Height Acquisition, Action Menu Bottom Layout, Animation Issues, Web Cross-Origin Image Loading, System Dark Mode Immunity</h3><h4 id="1-HarmonyOS-Discrepancy-between-getPageHeight-and-actual-web-page-height-in-Web-control"><a href="#1-HarmonyOS-Discrepancy-between-getPageHeight-and-actual-web-page-height-in-Web-control" class="headerlink" title="1. HarmonyOS: Discrepancy between getPageHeight() and actual web page height in Web control?"></a>1. HarmonyOS: Discrepancy between getPageHeight() and actual web page height in Web control?</h4><p>Calling <code>getWebViewController().getPageHeight()</code> in the Web’s <code>onPageEnd()</code> method returns a height smaller than the actual web content height. Using <code>setTimeout(() =&gt; &#123; let webHeight1 = this.controller.getWebViewController().getPageHeight(); Logger.getInstance().error(&#39;Internal control height time&#39;, &#39; webHeight:&#39; + webHeight1 + &#39; webHeight:&#39; + vp2px(webHeight1)); &#125;, 200)</code> obtains the correct height. Is there a way to get the actual height without delay?  </p>
<p><code>onPageEnd</code> is a callback when page loading completes, not when page rendering finishes, hence the height discrepancy. Use <code>onFirstMeaningfulPaint</code>:<br>Documentation: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-web-V5#ZH-CN_TOPIC_0000001847049744__onfirstmeaningfulpaint12">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/ts-basic-components-web-V5#ZH-CN_TOPIC_0000001847049744__onfirstmeaningfulpaint12</a>  </p>
<h4 id="2-Does-HarmonyOS-promptAction-showActionMenu-support-bottom-layout"><a href="#2-Does-HarmonyOS-promptAction-showActionMenu-support-bottom-layout" class="headerlink" title="2. Does HarmonyOS promptAction.showActionMenu support bottom layout?"></a>2. Does HarmonyOS promptAction.showActionMenu support bottom layout?</h4><p>Does the <code>promptAction.showActionMenu</code> interface support pop-up layout at the bottom? The documentation does not mention alignment settings, and examples show centered layouts.  </p>
<p>Reference demo:  </p>
<pre><code class="language-typescript">import promptAction from &#39;@ohos.promptAction&#39;;
import &#123; BusinessError &#125; from &#39;@ohos.base&#39;;

function showActionMenu() &#123;
  try &#123;
    promptAction.showActionMenu(&#123;
      title: &#39;Title Info&#39;,
      buttons: [
        &#123;
          text: &#39;item1&#39;,
          color: &#39;#666666&#39;
        &#125;,
        &#123;
          text: &#39;item2&#39;,
          color: &#39;#000000&#39;
        &#125;,
      ]
    &#125;, (err, data) =&gt; &#123;
      if (err) &#123;
        console.info(&#39;showActionMenu err: &#39; + err);
        return;
      &#125;
      console.info(&#39;showActionMenu success callback, click button: &#39; + data.index);
    &#125;)
  &#125; catch (error) &#123;
    let message = (error as BusinessError).message;
    let code = (error as BusinessError).code;
    console.error(`showActionMenu args error code is $&#123;code&#125;, message is $&#123;message&#125;`);
  &#125;
&#125;

@Entry
@Component
struct Index &#123;
  @State message: string = &#39;Hello World&#39;;

  build() &#123;
    RelativeContainer() &#123;
      Text(this.message)
        .id(&#39;HelloWorld&#39;)
        .fontSize(50)
        .fontWeight(FontWeight.Bold)
        .alignRules(&#123;
          center: &#123; anchor: &#39;__container__&#39;, align: VerticalAlign.Center &#125;,
          middle: &#123; anchor: &#39;__container__&#39;, align: HorizontalAlign.Center &#125;
        &#125;)
        .onClick(() =&gt; &#123;
          showActionMenu();
        &#125;)
    &#125;
    .height(&#39;100%&#39;)
    .width(&#39;100%&#39;)
  &#125;
&#125;
</code></pre>
<h4 id="3-Must-HarmonyOS-animations-be-paired-with-State-decorated-variables-to-take-effect"><a href="#3-Must-HarmonyOS-animations-be-paired-with-State-decorated-variables-to-take-effect" class="headerlink" title="3. Must HarmonyOS animations be paired with @State-decorated variables to take effect?"></a>3. Must HarmonyOS animations be paired with @State-decorated variables to take effect?</h4><p>Generally, animations require <code>@State</code>-decorated variables. The following demo works with <code>Text().width(300).height(300).backgroundColor(Color.Black)</code>:  </p>
<pre><code class="language-typescript">@Entry
@Component
export default struct ParticleStar &#123;
  aboutToAppear(): void &#123;
  &#125;

  build() &#123;
    Stack() &#123;
      Text()
        .width(300).height(300).backgroundColor(Color.Black);
      Particle(&#123;
        particles: [
          &#123;
            emitter: &#123;
              particle: &#123;
                type: ParticleType.POINT, // Particle type
                config: &#123;
                  radius: 10 // Dot radius
                &#125;,
                count: 500, // Total particles
                lifetime: 10000 // Particle lifetime in ms
              &#125;,
              emitRate: 10, // Particles emitted per second
              position: [200, 0],
              shape: ParticleEmitterShape.RECTANGLE // Emitter shape
            &#125;,
            color: &#123;
              range: [Color.Red, Color.Yellow], // Initial color range
              updater: &#123;
                type: ParticleUpdater.CURVE, // Change mode: curve
                config: [
                  &#123;
                    from: Color.White, // Start value
                    to: Color.Pink, // End value
                    startMillis: 0, // Start time
                    endMillis: 3000, // End time
                    curve: Curve.EaseIn // Change curve
                  &#125;,
                  &#123;
                    from: Color.Pink,
                    to: Color.Orange,
                    startMillis: 3000,
                    endMillis: 5000,
                    curve: Curve.EaseIn
                  &#125;,
                  &#123;
                    from: Color.Orange,
                    to: Color.Pink,
                    startMillis: 5000,
                    endMillis: 8000,
                    curve: Curve.EaseIn
                  &#125;,
                ]
              &#125;
            &#125;,
            opacity: &#123;
              range: [0.0, 1.0], // Initial opacity range [0.0 to 1.0]
              updater: &#123;
                type: ParticleUpdater.CURVE, // Opacity change mode: curve
                config: [
                  &#123;
                    from: 0.0,
                    to: 1.0,
                    startMillis: 0,
                    endMillis: 3000,
                    curve: Curve.EaseIn
                  &#125;,
                  &#123;
                    from: 1.0,
                    to: 0.0,
                    startMillis: 5000,
                    endMillis: 10000,
                    curve: Curve.EaseIn
                  &#125;
                ]
              &#125;
            &#125;,
            scale: &#123;
              range: [0.0, 0.0],
              updater: &#123;
                type: ParticleUpdater.CURVE,
                config: [
                  &#123;
                    from: 0.0,
                    to: 0.5,
                    startMillis: 0,
                    endMillis: 3000,
                    curve: Curve.EaseIn
                  &#125;
                ]
              &#125;
            &#125;,
            acceleration: &#123;
              // Acceleration configuration: magnitude and direction
              speed: &#123;
                range: [3, 9],
                updater: &#123;
                  type: ParticleUpdater.RANDOM,
                  config: [1, 20]
                &#125;
              &#125;,
              angle: &#123;
                range: [90, 90]
              &#125;
            &#125;
          &#125;
        ]
      &#125;).width(300).height(300);
    &#125;.width(&quot;100%&quot;).height(&quot;100%&quot;).align(Alignment.Center);
  &#125;
&#125;
</code></pre>
<h4 id="4-HarmonyOS-Web-component-cannot-load-cross-origin-image-resources"><a href="#4-HarmonyOS-Web-component-cannot-load-cross-origin-image-resources" class="headerlink" title="4. HarmonyOS Web component cannot load cross-origin image resources?"></a>4. HarmonyOS Web component cannot load cross-origin image resources?</h4><p>When an app accesses a web page, some images fail to load due to cross-origin restrictions. How to resolve this?  </p>
<p>For cross-origin issues, refer to: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/web-cross-origin-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/web-cross-origin-V5</a>  </p>
<p>To enhance security, the ArkWeb kernel prohibits cross-origin requests from file or resource protocols. When loading local offline resources via the Web component, cross-origin access to file&#x2F;resource protocols is blocked. Two solutions:  </p>
<h5 id="Method-1"><a href="#Method-1" class="headerlink" title="Method 1"></a>Method 1</h5><p>Use http&#x2F;https protocols instead of file&#x2F;resource protocols. Intercept and replace local resources using the Web component’s <code>onInterceptRequest</code> method to avoid CORS blocking.  </p>
<h5 id="Method-2"><a href="#Method-2" class="headerlink" title="Method 2"></a>Method 2</h5><p>Set an allowed path list via <code>setPathAllowingUniversalAccess</code> to enable cross-origin access to local files via the file protocol. Path formats must comply with:  </p>
<ol>
<li>Application file directory (via <code>Context.filesDir</code>):  <ul>
<li><code>/data/storage/el2/base/files/example</code>  </li>
<li><code>/data/storage/el2/base/haps/entry/files/example</code></li>
</ul>
</li>
<li>Application resource directory (via <code>Context.resourceDir</code>):  <ul>
<li><code>/data/storage/el1/bundle/entry/resource/resfile</code>  </li>
<li><code>/data/storage/el1/bundle/entry/resource/resfile/example</code></li>
</ul>
</li>
</ol>
<pre><code class="language-typescript">// main/ets/pages/Index.ets
import &#123; webview &#125; from &#39;@kit.ArkWeb&#39;;
import &#123; BusinessError &#125; from &#39;@kit.BasicServicesKit&#39;;

@Entry
@Component
struct WebComponent &#123;
  controller: WebviewController = new webview.WebviewController();

  build() &#123;
    Row() &#123;
      Web(&#123; src: &quot;&quot;, controller: this.controller &#125;)
        .onControllerAttached(() =&gt; &#123;
          try &#123;
            // Set allowed cross-origin paths
            this.controller.setPathAllowingUniversalAccess([
              getContext().resourceDir,
              getContext().filesDir + &quot;/example&quot;
            ]);
            this.controller.loadUrl(&quot;file://&quot; + getContext().resourceDir + &quot;/index.html&quot;);
          &#125; catch (error) &#123;
            console.error(`ErrorCode: $&#123;(error as BusinessError).code&#125;,  Message: $&#123;(error as BusinessError).message&#125;`);
          &#125;
        &#125;)
        .javaScriptAccess(true)
        .fileAccess(true)
        .domStorageAccess(true);
    &#125;
  &#125;
&#125;
</code></pre>
<pre><code class="language-html">&lt;!-- main/resource/rawfile/index.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;

&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;title&gt;Demo&lt;/title&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, user-scalable=no, viewport-fit=cover&quot;&gt;
    &lt;script&gt;
        function getFile() &#123;
            var file = &quot;file:///data/storage/el1/bundle/entry/resources/resfile/js/script.js&quot;;
            var xmlHttpReq = new XMLHttpRequest();
            xmlHttpReq.onreadystatechange = function()&#123;
                console.log(&quot;readyState:&quot; + xmlHttpReq.readyState);
                console.log(&quot;status:&quot; + xmlHttpReq.status);
                if(xmlHttpReq.readyState == 4)&#123;
                    if (xmlHttpReq.status == 200) &#123;
                        const element = document.getElementById(&#39;text&#39;);
                        element.textContent = &quot;load &quot; + file + &quot; success&quot;;
                    &#125; else &#123;
                        const element = document.getElementById(&#39;text&#39;);
                        element.textContent = &quot;load &quot; + file + &quot; failed&quot;;
                    &#125;
                &#125;
            &#125;
            xmlHttpReq.open(&quot;GET&quot;, file);
            xmlHttpReq.send(null);
        &#125;
    &lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;div class=&quot;page&quot;&gt;
    &lt;button id=&quot;example&quot; onclick=&quot;getFile()&quot;&gt;stealFile&lt;/button&gt;
&lt;/div&gt;
&lt;div id=&quot;text&quot;&gt;&lt;/div&gt;
&lt;/body&gt;

&lt;/html&gt;
</code></pre>
<pre><code class="language-javascript">// main/resources/rawfile/js/script.js
const body = document.body;
const element = document.createElement(&#39;div&#39;);
element.textContent = &#39;success&#39;;
body.appendChild(element);
</code></pre>
<h4 id="5-HarmonyOS-How-to-prevent-adaptation-to-system-dark-mode"><a href="#5-HarmonyOS-How-to-prevent-adaptation-to-system-dark-mode" class="headerlink" title="5. HarmonyOS: How to prevent adaptation to system dark mode?"></a>5. HarmonyOS: How to prevent adaptation to system dark mode?</h4><p>To manually set light&#x2F;dark mode, refer to the official document: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-light-dark-color-adaptation-V5">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-light-dark-color-adaptation-V5</a></p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/HarmonyOS-Next/" rel="tag"># HarmonyOS Next</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2025/06/27/110-Daily-HarmonyOS-Next-Knowledge-Web-Network-Interception-Dialogs-Web-Redirects-Data-Scope-Multithreading/" rel="prev" title="[Daily HarmonyOS Next Knowledge] Web Network Interception, Dialogs, Web Redirects, Data Scope, Multithreading">
      <i class="fa fa-chevron-left"></i> [Daily HarmonyOS Next Knowledge] Web Network Interception, Dialogs, Web Redirects, Data Scope, Multithreading
    </a></div>
      <div class="post-nav-item">
    <a href="/2025/06/27/112-Daily-HarmonyOS-Next-Knowledge-Handwriting-Electronic-Signature-Waterfall-Layout-String-Height-Acquisition-WaterFlow-Crash-Web-Scrolling-Issues/" rel="next" title="[Daily HarmonyOS Next Knowledge] Handwriting Electronic Signature, Waterfall Layout String Height Acquisition, WaterFlow Crash, Web Scrolling Issues">
      [Daily HarmonyOS Next Knowledge] Handwriting Electronic Signature, Waterfall Layout String Height Acquisition, WaterFlow Crash, Web Scrolling Issues <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#Daily-HarmonyOS-Next-Knowledge-Web-Page-Height-Acquisition-Action-Menu-Bottom-Layout-Animation-Issues-Web-Cross-Origin-Image-Loading-System-Dark-Mode-Immunity"><span class="nav-number">1.</span> <span class="nav-text">[Daily HarmonyOS Next Knowledge] Web Page Height Acquisition, Action Menu Bottom Layout, Animation Issues, Web Cross-Origin Image Loading, System Dark Mode Immunity</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-HarmonyOS-Discrepancy-between-getPageHeight-and-actual-web-page-height-in-Web-control"><span class="nav-number">1.1.</span> <span class="nav-text">1. HarmonyOS: Discrepancy between getPageHeight() and actual web page height in Web control?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-Does-HarmonyOS-promptAction-showActionMenu-support-bottom-layout"><span class="nav-number">1.2.</span> <span class="nav-text">2. Does HarmonyOS promptAction.showActionMenu support bottom layout?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-Must-HarmonyOS-animations-be-paired-with-State-decorated-variables-to-take-effect"><span class="nav-number">1.3.</span> <span class="nav-text">3. Must HarmonyOS animations be paired with @State-decorated variables to take effect?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-HarmonyOS-Web-component-cannot-load-cross-origin-image-resources"><span class="nav-number">1.4.</span> <span class="nav-text">4. HarmonyOS Web component cannot load cross-origin image resources?</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Method-1"><span class="nav-number">1.4.1.</span> <span class="nav-text">Method 1</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Method-2"><span class="nav-number">1.4.2.</span> <span class="nav-text">Method 2</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-HarmonyOS-How-to-prevent-adaptation-to-system-dark-mode"><span class="nav-number">1.5.</span> <span class="nav-text">5. HarmonyOS: How to prevent adaptation to system dark mode?</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Qingkouwei</p>
  <div class="site-description" itemprop="description">Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">285</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Qingkouwei</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
