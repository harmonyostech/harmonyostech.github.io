<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"harmonyostech.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Background IntroductionDuring the development of IMSDK, the logic is extremely intricate. Take the message retrieval logic as an example: first, retrieve the hot message list by sequence number, then">
<meta property="og:type" content="article">
<meta property="og:title" content="HarmonyOS Next IM Practical Combat: Handling Logical Error Bugs Caused by the Lack of await in Asynchronous Operations">
<meta property="og:url" content="https://harmonyostech.github.io/2025/06/08/HarmonyOS-Next-IM-Practical-Combat-Handling-Logical-Error-Bugs-Caused-by-the-Lack-of-await-in-Asynchronous-Operations/index.html">
<meta property="og:site_name" content="HarmonyOS NEXT Knowledge Charging Station">
<meta property="og:description" content="Background IntroductionDuring the development of IMSDK, the logic is extremely intricate. Take the message retrieval logic as an example: first, retrieve the hot message list by sequence number, then">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://harmonyostech.github.io/images/HarmonyOS%20Next%20IM%E5%AE%9E%E6%88%98%EF%BC%9A%E5%BC%82%E6%AD%A5%E7%BC%BA%E4%B9%8Fawait%E5%AF%BC%E8%87%B4%E7%9A%84%E9%80%BB%E8%BE%91%E9%94%99%E8%AF%AFBug%E5%A4%84%E7%90%86.png">
<meta property="og:image" content="https://harmonyostech.github.io/images/HarmonyOS%20Next%20IM%E5%AE%9E%E6%88%98%EF%BC%9A%E5%BC%82%E6%AD%A5%E7%BC%BA%E4%B9%8Fawait%E5%AF%BC%E8%87%B4%E7%9A%84%E9%80%BB%E8%BE%91%E9%94%99%E8%AF%AFBug%E5%A4%84%E7%90%86-1.png">
<meta property="article:published_time" content="2025-06-08T09:09:32.000Z">
<meta property="article:modified_time" content="2025-06-24T07:55:34.606Z">
<meta property="article:author" content="Qingkouwei">
<meta property="article:tag" content="HarmonyOS Next">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://harmonyostech.github.io/images/HarmonyOS%20Next%20IM%E5%AE%9E%E6%88%98%EF%BC%9A%E5%BC%82%E6%AD%A5%E7%BC%BA%E4%B9%8Fawait%E5%AF%BC%E8%87%B4%E7%9A%84%E9%80%BB%E8%BE%91%E9%94%99%E8%AF%AFBug%E5%A4%84%E7%90%86.png">

<link rel="canonical" href="https://harmonyostech.github.io/2025/06/08/HarmonyOS-Next-IM-Practical-Combat-Handling-Logical-Error-Bugs-Caused-by-the-Lack-of-await-in-Asynchronous-Operations/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>HarmonyOS Next IM Practical Combat: Handling Logical Error Bugs Caused by the Lack of await in Asynchronous Operations | HarmonyOS NEXT Knowledge Charging Station</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">HarmonyOS NEXT Knowledge Charging Station</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Analysis of Core Technologies and Application Scenarios of HarmonyOS NEXT</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/08/HarmonyOS-Next-IM-Practical-Combat-Handling-Logical-Error-Bugs-Caused-by-the-Lack-of-await-in-Asynchronous-Operations/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          HarmonyOS Next IM Practical Combat: Handling Logical Error Bugs Caused by the Lack of await in Asynchronous Operations
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2025-06-08 17:09:32" itemprop="dateCreated datePublished" datetime="2025-06-08T17:09:32+08:00">2025-06-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-06-24 15:55:34" itemprop="dateModified" datetime="2025-06-24T15:55:34+08:00">2025-06-24</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h4 id="Background-Introduction"><a href="#Background-Introduction" class="headerlink" title="Background Introduction"></a>Background Introduction</h4><p>During the development of IMSDK, the logic is extremely intricate. Take the message retrieval logic as an example: first, retrieve the hot message list by sequence number, then process the messages by iterating through their contents and handling different message types accordingly. Insert the final messages into the message table. If a message initiates a new conversation, insert the conversation information into the conversation table, user information into the user table and user member table, etc. Finally, notify the UI to update with new messages. Many network requests and database operations are asynchronous. In this entire process, numerous asynchronous operations must complete before the next step can proceed. Often, developers inadvertently forget to use <code>await</code>, leading to inexplicable logical bugs.</p>
<p>When such bugs occur, it is challenging to pinpoint the root cause based solely on the symptoms. Developers must reexamine the logic to check for missing <code>await</code> statements. This approach is not only inefficient but also prone to oversight. Is there a better solution?</p>
<h4 id="Enter-Code-Linter"><a href="#Enter-Code-Linter" class="headerlink" title="Enter Code Linter"></a>Enter Code Linter</h4><p>This is where Code Linter comes in handy. It scans your code to help identify potential issues. Run Code Linter before each code submission to check for possible risks.</p>
<h5 id="Using-Code-Linter"><a href="#Using-Code-Linter" class="headerlink" title="Using Code Linter"></a>Using Code Linter</h5><p>Create a <code>code-linter.json</code> file in the root directory of your project with the following configuration format:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span>  </span><br><span class="line">  <span class="attr">&quot;files&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span>  </span><br><span class="line">    <span class="string">&quot;**/*.ets&quot;</span>  </span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span>  </span><br><span class="line">  <span class="attr">&quot;ignore&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span>  </span><br><span class="line">    <span class="string">&quot;**/src/ohosTest/**/*&quot;</span><span class="punctuation">,</span>  </span><br><span class="line">    <span class="string">&quot;**/src/test/**/*&quot;</span><span class="punctuation">,</span>  </span><br><span class="line">    <span class="string">&quot;**/src/mock/**/*&quot;</span><span class="punctuation">,</span>  </span><br><span class="line">    <span class="string">&quot;**/node_modules/**/*&quot;</span><span class="punctuation">,</span>  </span><br><span class="line">    <span class="string">&quot;**/oh_modules/**/*&quot;</span><span class="punctuation">,</span>  </span><br><span class="line">    <span class="string">&quot;**/build/**/*&quot;</span><span class="punctuation">,</span>  </span><br><span class="line">    <span class="string">&quot;**/.preview/**/*&quot;</span>  </span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span>  </span><br><span class="line">  <span class="attr">&quot;ruleSet&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span>  </span><br><span class="line">    <span class="string">&quot;plugin:@performance/recommended&quot;</span><span class="punctuation">,</span>  </span><br><span class="line">    <span class="string">&quot;plugin:@typescript-eslint/recommended&quot;</span>  </span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span>  </span><br><span class="line">  <span class="attr">&quot;rules&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span>  </span><br><span class="line">    <span class="attr">&quot;@typescript-eslint/return-await&quot;</span><span class="punctuation">:</span> <span class="string">&quot;error&quot;</span><span class="punctuation">,</span>  </span><br><span class="line">    <span class="attr">&quot;@typescript-eslint/require-await&quot;</span><span class="punctuation">:</span> <span class="string">&quot;error&quot;</span><span class="punctuation">,</span>  </span><br><span class="line">    <span class="attr">&quot;@typescript-eslint/await-thenable&quot;</span><span class="punctuation">:</span> <span class="string">&quot;error&quot;</span><span class="punctuation">,</span>  </span><br><span class="line">    <span class="attr">&quot;@typescript-eslint/promise-function-async&quot;</span><span class="punctuation">:</span> <span class="string">&quot;error&quot;</span>  </span><br><span class="line">  <span class="punctuation">&#125;</span>  </span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>This configuration has three main sections:</p>
<ul>
<li><strong>files</strong>: Specifies which files to inspect (typically all <code>.ets</code> files).</li>
<li><strong>ignore</strong>: Lists files to exclude (e.g., build artifacts, test files).</li>
<li><strong>ruleSet</strong>: Aggregates rule collections (performance recommendations and general rules in this example).</li>
<li><strong>rules</strong>: Defines specific linting rules.</li>
</ul>
<p>After configuration, right-click on the module to be inspected in your IDE, then select <strong>Code Linter &gt; Full Linter</strong>:<br><img src="/../images/HarmonyOS%20Next%20IM%E5%AE%9E%E6%88%98%EF%BC%9A%E5%BC%82%E6%AD%A5%E7%BC%BA%E4%B9%8Fawait%E5%AF%BC%E8%87%B4%E7%9A%84%E9%80%BB%E8%BE%91%E9%94%99%E8%AF%AFBug%E5%A4%84%E7%90%86.png"></p>
<p>The inspection results will appear in the Code Linter output:<br><img src="/../images/HarmonyOS%20Next%20IM%E5%AE%9E%E6%88%98%EF%BC%9A%E5%BC%82%E6%AD%A5%E7%BC%BA%E4%B9%8Fawait%E5%AF%BC%E8%87%B4%E7%9A%84%E9%80%BB%E8%BE%91%E9%94%99%E8%AF%AFBug%E5%A4%84%E7%90%86-1.png"></p>
<p>Modify the non-compliant code based on these results.</p>
<h5 id="Introduction-to-Asynchronous-Rules"><a href="#Introduction-to-Asynchronous-Rules" class="headerlink" title="Introduction to Asynchronous Rules"></a>Introduction to Asynchronous Rules</h5><p>We use three asynchronous-specific Code Linter rules:</p>
<h6 id="promise-function-async"><a href="#promise-function-async" class="headerlink" title="promise-function-async"></a>promise-function-async</h6><p>The <code>@typescript-eslint/promise-function-async</code> rule mandates that any function or method returning a <code>Promise</code> must be marked as <code>async</code>. This ensures that functions either:</p>
<ul>
<li>Return a rejected promise, or</li>
<li>Throw an <code>Error</code> object.</li>
</ul>
<p>In contrast, non-<code>async</code> functions returning <code>Promise</code> can technically do both, complicating error handling. This rule simplifies code by eliminating the need to handle both cases.</p>
<p>Key benefits of <code>promise-function-async</code>:</p>
<ol>
<li><strong>Improves code clarity</strong>: Explicitly marks Promise-returning functions.</li>
<li><strong>Prevents common errors</strong>: Avoids overlooked asynchronous operations.</li>
<li><strong>Standardizes code style</strong>: Ensures consistent declaration of Promise-returning functions.</li>
<li><strong>Simplifies error handling</strong>: Leverages <code>async</code> function‚Äôs automatic error propagation.</li>
<li><strong>Enhances type safety</strong>: Validates asynchronous behavior through TypeScript‚Äôs type system.</li>
</ol>
<p>Correct usage examples (all Promise-returning functions are marked <code>async</code>):</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">arrowFunctionReturnsPromise</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="string">&#x27;value&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">functionReturnsPromise</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="string">&#x27;value&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Explicit return type including non-Promise allows non-async function</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">functionReturnsUnionWithPromiseExplicitly</span>(<span class="params"></span></span><br><span class="line"><span class="params">  <span class="attr">p</span>: <span class="built_in">boolean</span></span></span><br><span class="line"><span class="params"></span>): <span class="built_in">string</span> | <span class="title class_">Promise</span>&lt;<span class="built_in">string</span>&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> p ? <span class="string">&#x27;value&#x27;</span> : <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="string">&#x27;value&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">functionReturnsUnionWithPromiseImplicitly</span>(<span class="params"><span class="attr">p</span>: <span class="built_in">boolean</span></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> p ? <span class="string">&#x27;value&#x27;</span> : <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="string">&#x27;value&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Non-compliant examples:</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">arrowFunctionReturnsPromise</span> = (<span class="params"></span>) =&gt; <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="string">&#x27;value&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">functionReturnsPromise</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="string">&#x27;value&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">functionReturnsUnionWithPromiseImplicitly</span>(<span class="params"><span class="attr">p</span>: <span class="built_in">boolean</span></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> p ? <span class="string">&#x27;value&#x27;</span> : <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="string">&#x27;value&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Full documentation: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/ide_promise-function-async-V5">Promise Function Async Rule</a></p>
<h6 id="await-thenable"><a href="#await-thenable" class="headerlink" title="await-thenable"></a>await-thenable</h6><p>The <code>@typescript-eslint/await-thenable</code> rule prohibits using the <code>await</code> keyword on non-‚ÄúThenable‚Äù values. A ‚ÄúThenable‚Äù object has a <code>.then()</code> method (e.g., <code>Promise</code>).</p>
<p>Correct usage:</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">await</span> <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="string">&#x27;value&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; test &#125;;</span><br></pre></td></tr></table></figure>

<p>Non-compliant code:</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">await</span> <span class="string">&#x27;value&#x27;</span>; <span class="comment">// Error: &#x27;value&#x27; is not a Thenable</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; test &#125;;</span><br></pre></td></tr></table></figure>

<p>Full documentation: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/ide_await-thenable-V5">Await Thenable Rule</a></p>
<h6 id="require-await"><a href="#require-await" class="headerlink" title="require-await"></a>require-await</h6><p>The <code>@typescript-eslint/require-await</code> rule is critical. It mandates that <code>async</code> functions must contain at least one <code>await</code> expression.</p>
<p>Key objectives:</p>
<ol>
<li><strong>Prevent misuse</strong>: Avoid <code>await</code> on non-asynchronous values, which is often a mistake.</li>
<li><strong>Improve clarity</strong>: Ensure <code>await</code> is used only for genuine asynchronous operations.</li>
<li><strong>Optimize performance</strong>: Eliminate unnecessary asynchronous overhead (microtask queue).</li>
<li><strong>Enhance type safety</strong>: Detect invalid <code>await</code> usage via TypeScript types.</li>
</ol>
<p>Example of missing <code>await</code>:</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">doSomething</span>(<span class="params"></span>): <span class="title class_">Promise</span>&lt;<span class="built_in">void</span>&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">resolve</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">doSomething</span>(); <span class="comment">// Linter error: Missing `await`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The linter flags <code>foo()</code> for missing <code>await</code>, helping uncover potential bugs.</p>
<p>Full documentation: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/ide_require-await-V5">Require Await Rule</a></p>
<h6 id="return-await"><a href="#return-await" class="headerlink" title="return-await"></a>return-await</h6><p>The <code>@typescript-eslint/return-await</code> rule dictates when to use <code>await</code> in <code>return</code> statements of <code>async</code> functions.</p>
<p>In <code>async</code> functions, both <code>return await promise;</code> and <code>return promise;</code> are valid, but <code>return await</code> offers advantages:</p>
<ul>
<li>Improves stack trace readability.</li>
<li>Captures promise rejections in <code>try...catch</code> blocks.</li>
<li>Has negligible performance impact.</li>
</ul>
<p>This rule enforces consistent handling of returned promises with four configurations:</p>
<ul>
<li><strong>never</strong>: Prohibit <code>await</code> on returned promises.</li>
<li><strong>error-handling-correctness-only</strong>: Require <code>await</code> in error-handling contexts (e.g., <code>try</code>&#x2F;<code>catch</code> blocks).</li>
<li><strong>in-try-catch</strong>: Require <code>await</code> in error-handling; prohibit elsewhere.</li>
<li><strong>always</strong>: Always use <code>await</code> when returning promises.</li>
</ul>
<p>The rule distinguishes between ‚Äúnormal contexts‚Äù and ‚Äúerror-handling contexts‚Äù:</p>
<ul>
<li><strong>Error-handling contexts</strong>: Use <code>return await</code> to ensure <code>catch</code>&#x2F;<code>finally</code> blocks execute correctly (e.g., inside <code>try</code>&#x2F;<code>catch</code>).</li>
<li><strong>Normal contexts</strong>: Style preference; direct <code>return promise</code> is acceptable.</li>
</ul>
<table>
<thead>
<tr>
<th>Option</th>
<th>Normal Context (Style)</th>
<th>Error-Handling Context (Bug Prevention)</th>
<th>Recommended?</th>
</tr>
</thead>
<tbody><tr>
<td><code>always</code></td>
<td><code>return await</code></td>
<td><code>return await</code></td>
<td>‚úÖ Yes</td>
</tr>
<tr>
<td><code>in-try-catch</code></td>
<td><code>return promise</code></td>
<td><code>return await</code></td>
<td>‚úÖ Yes</td>
</tr>
<tr>
<td><code>error-handling-only</code></td>
<td>No preference</td>
<td><code>return await</code></td>
<td>üü° Okay</td>
</tr>
<tr>
<td><code>never</code></td>
<td><code>return promise</code></td>
<td><code>return promise</code> (‚ö†Ô∏è Risky)</td>
<td>‚ùå Deprecated</td>
</tr>
</tbody></table>
<p>Example requiring <code>return await</code> in <code>try...catch</code>:</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">validInTryCatch1</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="string">&#x27;try&#x27;</span>); <span class="comment">// Linter error: Missing `await`</span></span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="string">&#x27;catch&#x27;</span>); <span class="comment">// Linter error: Missing `await`</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Best practices:</p>
<ol>
<li>Use <code>&quot;in-try-catch&quot;</code> for a balanced approach.</li>
<li>Always use <code>return await</code> inside <code>try-catch</code> blocks.</li>
<li>Return promises directly elsewhere.</li>
<li>Avoid redundant <code>await</code> where error handling isn‚Äôt needed.</li>
</ol>
<p>Full documentation: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/ide_return-await-V5">Return Await Rule</a></p>
<h6 id="no-floating-promises"><a href="#no-floating-promises" class="headerlink" title="no-floating-promises"></a>no-floating-promises</h6><p>The <code>@typescript-eslint/no-floating-promises</code> rule ensures proper handling of Promise expressions. A ‚Äúfloating promise‚Äù is one created without error handling, leading to silent failures, incorrect execution order, or uncaught rejections.</p>
<p>The rule flags unhandled Promise expressions unless they are:</p>
<ul>
<li>Handled with <code>.then(onFulfilled, onRejected)</code>.</li>
<li>Caught with <code>.catch()</code>.</li>
<li>Awaited with <code>await</code>.</li>
<li>Returned from a function.</li>
<li>Explicitly ignored with <code>void</code>.</li>
</ul>
<p>It also detects unhandled Promises in arrays. Use Promise combinators like <code>Promise.all()</code> to handle them collectively.</p>
<p>Examples of unhandled promises:</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">bar</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>&lt;<span class="built_in">string</span>&gt;(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">resolve</span>(<span class="string">&#x27;value&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;finish&#x27;</span>;</span><br><span class="line">  &#125;);</span><br><span class="line">  promise; <span class="comment">// Linter error: Unhandled promise</span></span><br><span class="line">  <span class="title class_">Promise</span>.<span class="title function_">reject</span>(<span class="string">&#x27;value&#x27;</span>).<span class="title function_">catch</span>(); <span class="comment">// Linter error: Empty catch</span></span><br><span class="line">  <span class="keyword">await</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(<span class="string">&#x27;value&#x27;</span>).<span class="title function_">finally</span>(); <span class="comment">// Linter error: No catch</span></span><br><span class="line">  [<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>].<span class="title function_">map</span>(<span class="keyword">async</span> x =&gt; x + <span class="string">&#x27;1&#x27;</span>); <span class="comment">// Linter error: Unhandled Promise array</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Key benefits:</p>
<ol>
<li><strong>Prevent silent failures</strong>: Ensure Promise rejections aren‚Äôt ignored.</li>
<li><strong>Improve reliability</strong>: Force explicit error handling.</li>
<li><strong>Simplify debugging</strong>: Trace all asynchronous errors.</li>
<li><strong>Enhance maintainability</strong>: Clarify asynchronous data flow.</li>
</ol>
<p>Full documentation: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/ide_no-floating-promises-V5">No Floating Promises Rule</a></p>
<h6 id="no-misused-promises"><a href="#no-misused-promises" class="headerlink" title="no-misused-promises"></a>no-misused-promises</h6><p>The <code>@typescript-eslint/no-misused-promises</code> rule prevents Promise misuse in non-asynchronous contexts, ensuring Promises are used only where appropriate.</p>
<p>Core objectives:</p>
<ol>
<li><strong>Block conditional misuse</strong>: Flag Promises used directly in conditions (e.g., <code>if (promise)</code>).</li>
<li><strong>Prevent logical operator misuse</strong>: Prohibit Promises in <code>&amp;&amp;</code>, <code>||</code>, <code>??</code> operations.</li>
<li><strong>Ensure correct callbacks</strong>: Prevent async callbacks in synchronous contexts (e.g., <code>forEach</code>).</li>
<li><strong>Protect void return types</strong>: Block Promises in functions expected to return <code>void</code> (e.g., event handlers).</li>
</ol>
<p>Problem scenarios and fixes:</p>
<p><strong>Scenario 1: Conditional misuse</strong></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ‚ùå Error: Using Promise directly in condition</span></span><br><span class="line"><span class="keyword">if</span> (<span class="title function_">fetchUserData</span>()) &#123; </span><br><span class="line">  <span class="comment">// Always executes (Promise is always truthy)</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Fetching user data...&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ‚úÖ Correct: Resolve Promise first</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">checkUser</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> userData = <span class="keyword">await</span> <span class="title function_">fetchUserData</span>();</span><br><span class="line">  <span class="keyword">if</span> (userData) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;User data loaded&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Scenario 2: Logical operator misuse</strong></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ‚ùå Error: Using Promise in logical operator</span></span><br><span class="line"><span class="keyword">const</span> config = <span class="title function_">loadConfig</span>() || defaultConfig; <span class="comment">// Always uses loadConfig()</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ‚úÖ Correct: Resolve Promise before comparison</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">getConfig</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> loadedConfig = <span class="keyword">await</span> <span class="title function_">loadConfig</span>();</span><br><span class="line">  <span class="keyword">return</span> loadedConfig ?? defaultConfig;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Scenario 3: Callback misuse</strong></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ‚ùå Error: Async callback in array method</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].<span class="title function_">forEach</span>(<span class="title function_">async</span> (id) =&gt; &#123;</span><br><span class="line">  <span class="keyword">await</span> <span class="title function_">deleteRecord</span>(id); <span class="comment">// Unintended concurrency</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ‚úÖ Correct: Sequential processing with for...of</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">deleteRecords</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> id <span class="keyword">of</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) &#123;</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">deleteRecord</span>(id);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ‚úÖ Correct: Parallel processing with Promise.all</span></span><br><span class="line"><span class="keyword">await</span> <span class="title class_">Promise</span>.<span class="title function_">all</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].<span class="title function_">map</span>(<span class="function"><span class="params">id</span> =&gt;</span> <span class="title function_">deleteRecord</span>(id)));</span><br></pre></td></tr></table></figure>

<p><strong>Scenario 4: Void return type misuse</strong></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ‚ùå Error: Returning Promise from event handler</span></span><br><span class="line"><span class="keyword">const</span> button = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;submit&#x27;</span>);</span><br><span class="line">button.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">submitForm</span>(); <span class="comment">// Event handlers should return void</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ‚úÖ Correct: Explicitly ignore Promise</span></span><br><span class="line">button.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">void</span> <span class="title function_">submitForm</span>(); <span class="comment">// Indicate Promise is intentionally unhandled</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ‚úÖ Correct: Handle errors with async/await</span></span><br><span class="line">button.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="title function_">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">submitForm</span>();</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="title function_">showError</span>(error);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>Full documentation: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/ide_no-misused-promises-V5">No Misused Promises Rule</a></p>
<h4 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h4><p>This article addressed issues caused by improper asynchronous operations in HarmonyOS development. By leveraging five specific Code Linter rules, we can effectively mitigate problems related to missing <code>await</code> keywords and other asynchronous pitfalls.</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/HarmonyOS-Next/" rel="tag"># HarmonyOS Next</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2025/06/08/HarmonyOS-Next-IM-Practical-Combat-Handling-Module-Uninitialized-Exceptions-in-Worker-Threads/" rel="prev" title="HarmonyOS Next IM Practical Combat: Handling Module Uninitialized Exceptions in Worker Threads">
      <i class="fa fa-chevron-left"></i> HarmonyOS Next IM Practical Combat: Handling Module Uninitialized Exceptions in Worker Threads
    </a></div>
      <div class="post-nav-item">
    <a href="/2025/06/08/HarmonyOS-Next-IM-Practical-Combat-Handling-So-Dynamic-Library-Crash-Issues-Caused-by-Worker-Threads/" rel="next" title="HarmonyOS Next IM Practical Combat: Handling So Dynamic Library Crash Issues Caused by Worker Threads">
      HarmonyOS Next IM Practical Combat: Handling So Dynamic Library Crash Issues Caused by Worker Threads <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#Background-Introduction"><span class="nav-number">1.</span> <span class="nav-text">Background Introduction</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Enter-Code-Linter"><span class="nav-number">2.</span> <span class="nav-text">Enter Code Linter</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Using-Code-Linter"><span class="nav-number">2.1.</span> <span class="nav-text">Using Code Linter</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Introduction-to-Asynchronous-Rules"><span class="nav-number">2.2.</span> <span class="nav-text">Introduction to Asynchronous Rules</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#promise-function-async"><span class="nav-number">2.2.1.</span> <span class="nav-text">promise-function-async</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#await-thenable"><span class="nav-number">2.2.2.</span> <span class="nav-text">await-thenable</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#require-await"><span class="nav-number">2.2.3.</span> <span class="nav-text">require-await</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#return-await"><span class="nav-number">2.2.4.</span> <span class="nav-text">return-await</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#no-floating-promises"><span class="nav-number">2.2.5.</span> <span class="nav-text">no-floating-promises</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#no-misused-promises"><span class="nav-number">2.2.6.</span> <span class="nav-text">no-misused-promises</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Conclusion"><span class="nav-number">3.</span> <span class="nav-text">Conclusion</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Qingkouwei</p>
  <div class="site-description" itemprop="description">Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">285</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Qingkouwei</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
