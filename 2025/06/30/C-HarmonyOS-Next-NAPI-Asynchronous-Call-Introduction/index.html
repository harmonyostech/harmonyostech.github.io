<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"harmonyostech.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="HarmonyOS Next NAPI Asynchronous Call IntroductionWhy Asynchronous Calls Are Needed?TS is single-threaded. If a TS-invoked C++ method performs time-consuming tasks (e.g., file operations, network requ">
<meta property="og:type" content="article">
<meta property="og:title" content="HarmonyOS Next NAPI Asynchronous Call Introduction">
<meta property="og:url" content="https://harmonyostech.github.io/2025/06/30/C-HarmonyOS-Next-NAPI-Asynchronous-Call-Introduction/index.html">
<meta property="og:site_name" content="HarmonyOS NEXT Knowledge Charging Station">
<meta property="og:description" content="HarmonyOS Next NAPI Asynchronous Call IntroductionWhy Asynchronous Calls Are Needed?TS is single-threaded. If a TS-invoked C++ method performs time-consuming tasks (e.g., file operations, network requ">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://harmonyostech.github.io/images/HarmonyOS%20Next%20NAPI%E5%BC%82%E6%AD%A5%E8%B0%83%E7%94%A8%E5%85%A5%E9%97%A8-1.png">
<meta property="article:published_time" content="2025-06-30T14:24:07.000Z">
<meta property="article:modified_time" content="2025-07-13T09:16:57.003Z">
<meta property="article:author" content="Qingkouwei">
<meta property="article:tag" content="HarmonyOS Next">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://harmonyostech.github.io/images/HarmonyOS%20Next%20NAPI%E5%BC%82%E6%AD%A5%E8%B0%83%E7%94%A8%E5%85%A5%E9%97%A8-1.png">

<link rel="canonical" href="https://harmonyostech.github.io/2025/06/30/C-HarmonyOS-Next-NAPI-Asynchronous-Call-Introduction/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>HarmonyOS Next NAPI Asynchronous Call Introduction | HarmonyOS NEXT Knowledge Charging Station</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">HarmonyOS NEXT Knowledge Charging Station</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Analysis of Core Technologies and Application Scenarios of HarmonyOS NEXT</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/30/C-HarmonyOS-Next-NAPI-Asynchronous-Call-Introduction/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          HarmonyOS Next NAPI Asynchronous Call Introduction
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2025-06-30 22:24:07" itemprop="dateCreated datePublished" datetime="2025-06-30T22:24:07+08:00">2025-06-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-13 17:16:57" itemprop="dateModified" datetime="2025-07-13T17:16:57+08:00">2025-07-13</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/HarmonyOS-Next-Tech/" itemprop="url" rel="index"><span itemprop="name">HarmonyOS Next Tech</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="HarmonyOS-Next-NAPI-Asynchronous-Call-Introduction"><a href="#HarmonyOS-Next-NAPI-Asynchronous-Call-Introduction" class="headerlink" title="HarmonyOS Next NAPI Asynchronous Call Introduction"></a>HarmonyOS Next NAPI Asynchronous Call Introduction</h1><h2 id="Why-Asynchronous-Calls-Are-Needed"><a href="#Why-Asynchronous-Calls-Are-Needed" class="headerlink" title="Why Asynchronous Calls Are Needed?"></a>Why Asynchronous Calls Are Needed?</h2><p>TS is single-threaded. If a TS-invoked C++ method performs time-consuming tasks (e.g., file operations, network requests, database operations, image processing), these tasks should be executed asynchronously via threads in the C++ layer. Asynchronous task results are typically obtained through callbacks. Maintaining synchronization between native and main threads requires effort, but NAPI (based on the asynchronous I&#x2F;O library libuv) provides an asynchronous call mechanism to manage threads uniformly, simplifying development.  </p>
<h2 id="Introduction-to-NAPI-Asynchronous-Calls"><a href="#Introduction-to-NAPI-Asynchronous-Calls" class="headerlink" title="Introduction to NAPI Asynchronous Calls"></a>Introduction to NAPI Asynchronous Calls</h2><p>HarmonyOS Next supports callback and promise-based asynchronous interfaces following the OpenHarmony Napi standard.  </p>
<h3 id="Introduction-to-Asynchronous-Call-APIs"><a href="#Introduction-to-Asynchronous-Call-APIs" class="headerlink" title="Introduction to Asynchronous Call APIs"></a>Introduction to Asynchronous Call APIs</h3><h4 id="Create-Async-Work-napi-create-async-work"><a href="#Create-Async-Work-napi-create-async-work" class="headerlink" title="Create Async Work: napi_create_async_work()"></a>Create Async Work: <code>napi_create_async_work()</code></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">napi_status napi_create_async_work(napi_env env,</span><br><span class="line">                                  napi_value async_resource,</span><br><span class="line">                                  napi_value async_resource_name,</span><br><span class="line">                                  napi_async_execute_callback execute,</span><br><span class="line">                                  napi_async_complete_callback complete,</span><br><span class="line">                                  void* data,</span><br><span class="line">                                  napi_async_work* result);</span><br></pre></td></tr></table></figure>

<p><strong>Parameters</strong>:  </p>
<ul>
<li><code>[in] env</code>: Execution environment provided by the framework (pass directly by default).  </li>
<li><code>[in] async_resource</code>: Optional, associated with <code>async_hooks</code>.  </li>
<li><code>[in] async_resource_name</code>: Identifier for async resource diagnostics via <code>async_hooks</code> API.  </li>
<li><code>[in] execute</code>: Business logic function executed by the worker thread pool (non-blocking).  </li>
<li><code>[in] complete</code>: Callback triggered after <code>execute</code> finishes or is canceled (runs in the EventLoop thread).  </li>
<li><code>[in] data</code>: User-provided context data for passing parameters.  </li>
<li><code>[out] result</code>: Pointer to the created async work item.  </li>
<li><strong>Return</strong>: <code>napi_ok</code> on success, otherwise an error code.</li>
</ul>
<h4 id="Queue-Async-Work-napi-queue-async-work"><a href="#Queue-Async-Work-napi-queue-async-work" class="headerlink" title="Queue Async Work: napi_queue_async_work()"></a>Queue Async Work: <code>napi_queue_async_work()</code></h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">napi_status <span class="title function_">napi_queue_async_work</span><span class="params">(napi_env env,</span></span><br><span class="line"><span class="params">                                 napi_async_work work)</span>;</span><br></pre></td></tr></table></figure>

<p><strong>Parameters</strong>:  </p>
<ul>
<li><code>[in] env</code>: Execution environment.  </li>
<li><code>[in] work</code>: Handle from <code>napi_create_async_work()</code>.</li>
</ul>
<h4 id="Cancel-Async-Work-napi-cancel-async-work"><a href="#Cancel-Async-Work-napi-cancel-async-work" class="headerlink" title="Cancel Async Work: napi_cancel_async_work()"></a>Cancel Async Work: <code>napi_cancel_async_work()</code></h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">napi_status <span class="title function_">napi_cancel_async_work</span><span class="params">(napi_env env,</span></span><br><span class="line"><span class="params">                                  napi_async_work work)</span>;</span><br></pre></td></tr></table></figure>

<p><strong>Parameters</strong>:  </p>
<ul>
<li><code>[in] env</code>: Execution environment.  </li>
<li><code>[in] work</code>: Handle from <code>napi_create_async_work()</code>.  </li>
<li><strong>Behavior</strong>: Cancels queued work if unstarted. Returns <code>napi_generic_failure</code> if started. The complete callback is invoked with <code>napi_cancelled</code> on success. Do not delete the work before the callback executes.</li>
</ul>
<h4 id="Delete-Async-Work-napi-delete-async-work"><a href="#Delete-Async-Work-napi-delete-async-work" class="headerlink" title="Delete Async Work: napi_delete_async_work()"></a>Delete Async Work: <code>napi_delete_async_work()</code></h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">napi_status <span class="title function_">napi_delete_async_work</span><span class="params">(napi_env env,</span></span><br><span class="line"><span class="params">                                  napi_async_work work)</span>;</span><br></pre></td></tr></table></figure>

<p><strong>Parameters</strong>:  </p>
<ul>
<li><code>[in] env</code>: Execution environment.  </li>
<li><code>[in] work</code>: Handle from <code>napi_create_async_work()</code>.</li>
</ul>
<h3 id="Principle-of-Asynchronous-Implementation"><a href="#Principle-of-Asynchronous-Implementation" class="headerlink" title="Principle of Asynchronous Implementation"></a>Principle of Asynchronous Implementation</h3><p>In synchronous mode, all code runs in the native method (main thread). Asynchronous mode uses <code>napi_create_async_work()</code> to create an async work item:  </p>
<ol>
<li>The native method receives and converts data, stores it in context, creates an async work item, queues it, and returns <code>nullptr</code> (callback) or a <code>Promise</code> (promise).  </li>
<li>The async work item defines two functions:  <ul>
<li><code>execute</code>: Runs in the worker thread (non-blocking), processes business logic, and writes results to context.  </li>
<li><code>complete</code>: Runs in the EventLoop thread after <code>execute</code> finishes&#x2F;cancels, converts results to JS types, and invokes callbacks or resolves promises.</li>
</ul>
</li>
</ol>
<p><strong>Asynchronous processing flow chart</strong>:<br><img src="/../images/HarmonyOS%20Next%20NAPI%E5%BC%82%E6%AD%A5%E8%B0%83%E7%94%A8%E5%85%A5%E9%97%A8-1.png"></p>
<h3 id="Advantages-Over-Native-Threads"><a href="#Advantages-Over-Native-Threads" class="headerlink" title="Advantages Over Native Threads"></a>Advantages Over Native Threads</h3><ul>
<li><strong>Thread Management</strong>: NodeJS abstracts thread lifecycle and synchronization. <code>napi_create_async_work()</code> executes tasks in the background and calls back to the JS thread automatically via libuv’s event loop.  </li>
<li><strong>Memory Management</strong>: NodeJS garbage collection integrates with async work. N-API manages resource lifecycles to prevent premature recycling.  </li>
<li><strong>Callback Mechanism</strong>: Provides a seamless callback mechanism for JS-C++ interaction, integrating with the JS event loop.  </li>
<li><strong>Thread Pool &amp; Concurrency</strong>: Leverages NodeJS’s libuv thread pool, eliminating manual thread management.  </li>
<li><strong>Error Handling</strong>: Simplifies error propagation from native code to JS via callback exceptions.</li>
</ul>
<h2 id="Asynchronous-Interface-Implementation"><a href="#Asynchronous-Interface-Implementation" class="headerlink" title="Asynchronous Interface Implementation"></a>Asynchronous Interface Implementation</h2><h3 id="Callback-Based-Asynchronous-Interface-Audio-Encoding-Example"><a href="#Callback-Based-Asynchronous-Interface-Audio-Encoding-Example" class="headerlink" title="Callback-Based Asynchronous Interface (Audio Encoding Example)"></a>Callback-Based Asynchronous Interface (Audio Encoding Example)</h3><h4 id="eTS-Definition-of-the-Example-Interface"><a href="#eTS-Definition-of-the-Example-Interface" class="headerlink" title="eTS Definition of the Example Interface"></a>eTS Definition of the Example Interface</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">encodePcmDataForOpusWithOgg</span>: <span class="function">(<span class="params"><span class="attr">inputBuffer</span>: <span class="title class_">ArrayBuffer</span>, <span class="attr">callback</span>: () =&gt; <span class="built_in">void</span></span>) =&gt;</span> <span class="built_in">void</span>;</span><br></pre></td></tr></table></figure>

<h4 id="Initialize-Context-Data"><a href="#Initialize-Context-Data" class="headerlink" title="Initialize Context Data"></a>Initialize Context Data</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">EncodeAudioData</span> &#123;</span>  </span><br><span class="line">    napi_async_work asyncWork = nullptr;  </span><br><span class="line">    napi_ref callback = nullptr;  </span><br><span class="line">    <span class="type">void</span>* inputBuffer = nullptr;  </span><br><span class="line">    <span class="type">size_t</span> inputSize = <span class="number">0</span>;  </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="Create-Async-Work-Item"><a href="#Create-Async-Work-Item" class="headerlink" title="Create Async Work Item"></a>Create Async Work Item</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">static</span> napi_value <span class="title function_">encodePCMToOpusOggNative</span><span class="params">(napi_env env, napi_callback_info info)</span> &#123;  </span><br><span class="line">    <span class="type">size_t</span> argc = <span class="number">2</span>;  </span><br><span class="line">    napi_value args[<span class="number">2</span>] = &#123;nullptr&#125;;  </span><br><span class="line">    napi_get_cb_info(env, info, &amp;argc, args, nullptr, nullptr);  </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">auto</span> audioData = new EncodeAudioData&#123;.asyncWork = nullptr&#125;;  </span><br><span class="line">    napi_get_arraybuffer_info(env, args[<span class="number">0</span>], &amp;audioData-&gt;inputBuffer, &amp;audioData-&gt;inputSize);  </span><br><span class="line">    napi_create_reference(env, args[<span class="number">1</span>], <span class="number">1</span>, &amp;audioData-&gt;callback);  </span><br><span class="line">    napi_value resourceName = nullptr;  </span><br><span class="line">    napi_create_string_utf8(env, <span class="string">&quot;encodePCMToOpusOggNative&quot;</span>, NAPI_AUTO_LENGTH, &amp;resourceName);  </span><br><span class="line">    napi_create_async_work(env, nullptr, resourceName, encodeExecuteCB, encodeAsyncCompleteCB, (<span class="type">void</span>*)audioData, &amp;audioData-&gt;asyncWork);  </span><br><span class="line">    napi_queue_async_work(env, audioData-&gt;asyncWork);  </span><br><span class="line">    <span class="keyword">return</span> nullptr;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="execute-Function"><a href="#execute-Function" class="headerlink" title="execute Function"></a><code>execute</code> Function</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">static</span> <span class="type">void</span> <span class="title function_">encodeExecuteCB</span><span class="params">(napi_env env, <span class="type">void</span>* data)</span> &#123;  </span><br><span class="line">    EncodeAudioData* encodeAudioData = (EncodeAudioData*)data;  </span><br><span class="line">    ope_encoder_write(pEnc, (<span class="type">short</span>*)encodeAudioData-&gt;inputBuffer, encodeAudioData-&gt;inputSize / <span class="number">2</span>);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="complete-Function"><a href="#complete-Function" class="headerlink" title="complete Function"></a><code>complete</code> Function</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">static</span> <span class="type">void</span> <span class="title function_">encodeAsyncCompleteCB</span><span class="params">(napi_env env, napi_status status, <span class="type">void</span>* data)</span> &#123;  </span><br><span class="line">    EncodeAudioData* encodeAudioData = (EncodeAudioData*)data;  </span><br><span class="line">    napi_value callback = nullptr;  </span><br><span class="line">    napi_value undefined = nullptr;  </span><br><span class="line">    napi_get_undefined(env, &amp;undefined);  </span><br><span class="line">    napi_get_reference_value(env, encodeAudioData-&gt;callback, &amp;callback);  </span><br><span class="line">    napi_call_function(env, undefined, callback, <span class="number">0</span>, nullptr, &amp;callbackResult);  </span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (encodeAudioData-&gt;callback != nullptr) &#123;  </span><br><span class="line">        napi_delete_reference(env, encodeAudioData-&gt;callback);  </span><br><span class="line">    &#125;  </span><br><span class="line">    napi_delete_async_work(env, encodeAudioData-&gt;asyncWork);  </span><br><span class="line">    delete encodeAudioData;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="eTS-Call-Interface"><a href="#eTS-Call-Interface" class="headerlink" title="eTS Call Interface"></a>eTS Call Interface</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="title function_">encodePcmDataForOpusOgg</span>(<span class="attr">inputBuffer</span>: <span class="title class_">ArrayBuffer</span>): <span class="built_in">void</span> &#123;  </span><br><span class="line">  opusOggEnc.<span class="title function_">encodePcmDataForOpusWithOgg</span>(inputBuffer, <span class="function">() =&gt;</span> &#123;  </span><br><span class="line">  &#125;);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Promise-Based-Asynchronous-Interface"><a href="#Promise-Based-Asynchronous-Interface" class="headerlink" title="Promise-Based Asynchronous Interface"></a>Promise-Based Asynchronous Interface</h3><h4 id="Create-Promise"><a href="#Create-Promise" class="headerlink" title="Create Promise"></a>Create Promise</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">napi_status <span class="title function_">napi_create_promise</span><span class="params">(napi_env env, napi_deferred* deferred, napi_value* promise)</span>;</span><br></pre></td></tr></table></figure>
<h4 id="Initialize-Context-Data-1"><a href="#Initialize-Context-Data-1" class="headerlink" title="Initialize Context Data"></a>Initialize Context Data</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">EncodeAudioData</span> &#123;</span>  </span><br><span class="line">    napi_async_work asyncWork = nullptr;  </span><br><span class="line">    napi_deferred deferred = nullptr;  </span><br><span class="line">    <span class="type">void</span>* inputBuffer = nullptr;  </span><br><span class="line">    <span class="type">size_t</span> inputSize = <span class="number">0</span>;  </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="Create-Async-Work-Item-1"><a href="#Create-Async-Work-Item-1" class="headerlink" title="Create Async Work Item"></a>Create Async Work Item</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">static</span> napi_value <span class="title function_">encodePromise</span><span class="params">(napi_env env, napi_callback_info info)</span> &#123;  </span><br><span class="line">    <span class="type">size_t</span> argc = <span class="number">1</span>;  </span><br><span class="line">    napi_value args[<span class="number">1</span>] = &#123;nullptr&#125;;  </span><br><span class="line">    napi_get_cb_info(env, info, &amp;argc, args, nullptr, nullptr);  </span><br><span class="line">    napi_value promise = nullptr;  </span><br><span class="line">    napi_deferred deferred = nullptr;  </span><br><span class="line">    napi_create_promise(env, &amp;deferred, &amp;promise);  </span><br><span class="line">    <span class="keyword">auto</span> audioData = new EncodeAudioData&#123;.asyncWork = nullptr, .deferred = deferred&#125;;  </span><br><span class="line">    napi_get_arraybuffer_info(env, args[<span class="number">0</span>], &amp;audioData-&gt;inputBuffer, &amp;audioData-&gt;inputSize);  </span><br><span class="line">    napi_value resourceName = nullptr;  </span><br><span class="line">    napi_create_string_utf8(env, <span class="string">&quot;encodeAudioAsyncCallback&quot;</span>, NAPI_AUTO_LENGTH, &amp;resourceName);  </span><br><span class="line">    napi_create_async_work(env, nullptr, resourceName, encodeExecuteCB, encodePromiseCompleteCB, (<span class="type">void</span>*)audioData, &amp;audioData-&gt;asyncWork);  </span><br><span class="line">    napi_queue_async_work(env, audioData-&gt;asyncWork);  </span><br><span class="line">    <span class="keyword">return</span> promise;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="complete-Callback"><a href="#complete-Callback" class="headerlink" title="complete Callback"></a><code>complete</code> Callback</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">static</span> <span class="type">void</span> <span class="title function_">encodePromiseCompleteCB</span><span class="params">(napi_env env, napi_status status, <span class="type">void</span>* data)</span> &#123;  </span><br><span class="line">    EncodeAudioData* encodeAudioData = (EncodeAudioData*)data;  </span><br><span class="line">    napi_value undefined;  </span><br><span class="line">    napi_get_undefined(env, &amp;undefined);  </span><br><span class="line">    napi_resolve_deferred(env, encodeAudioData-&gt;deferred, undefined);  </span><br><span class="line">    <span class="keyword">if</span> (encodeAudioData-&gt;callback != nullptr) &#123;  </span><br><span class="line">        napi_delete_reference(env, encodeAudioData-&gt;callback);  </span><br><span class="line">    &#125;  </span><br><span class="line">    napi_delete_async_work(env, encodeAudioData-&gt;asyncWork);  </span><br><span class="line">    delete encodeAudioData;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="eTS-Call-Interface-1"><a href="#eTS-Call-Interface-1" class="headerlink" title="eTS Call Interface"></a>eTS Call Interface</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="title function_">encodePcmDataForOpusOgg</span>(<span class="attr">inputBuffer</span>: <span class="title class_">ArrayBuffer</span>): <span class="built_in">void</span> &#123;  </span><br><span class="line">  opusOggEnc.<span class="title function_">encodePcmDataForOpusWithOggPromise</span>(inputBuffer).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;  </span><br><span class="line">  &#125;);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="Standardized-Asynchronous-Interface"><a href="#Standardized-Asynchronous-Interface" class="headerlink" title="Standardized Asynchronous Interface"></a>Standardized Asynchronous Interface</h3><p>If Promise support is enabled, async methods must support both callback and promise modes. Determine the mode by the number of parameters:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">encodePcmDataForOpusWithOgg</span>(<span class="params"><span class="attr">inputBuffer</span>: <span class="title class_">ArrayBuffer</span>, <span class="attr">callback</span>: () =&gt; <span class="built_in">void</span></span>): <span class="built_in">void</span>;  </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">encodePcmDataForOpusWithOgg</span>(<span class="params"><span class="attr">inputBuffer</span>: <span class="title class_">ArrayBuffer</span></span>): <span class="title class_">Promise</span>&lt;<span class="built_in">void</span>&gt;;</span><br></pre></td></tr></table></figure>

<h4 id="Unified-Context-Structure"><a href="#Unified-Context-Structure" class="headerlink" title="Unified Context Structure"></a>Unified Context Structure</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">EncodeAudioData</span> &#123;</span>  </span><br><span class="line">    napi_async_work asyncWork = nullptr;  </span><br><span class="line">    napi_ref callback = nullptr;  </span><br><span class="line">    napi_deferred deferred = nullptr;  </span><br><span class="line">    <span class="type">void</span>* inputBuffer = nullptr;  </span><br><span class="line">    <span class="type">size_t</span> inputSize = <span class="number">0</span>;  </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="Native-Method-Implementation"><a href="#Native-Method-Implementation" class="headerlink" title="Native Method Implementation"></a>Native Method Implementation</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">static</span> napi_value <span class="title function_">encodePCMToOpusOggNative</span><span class="params">(napi_env env, napi_callback_info info)</span> &#123;  </span><br><span class="line">    <span class="type">size_t</span> argc = <span class="number">2</span>;  </span><br><span class="line">    napi_value args[<span class="number">2</span>] = &#123;nullptr&#125;;  </span><br><span class="line">    napi_get_cb_info(env, info, &amp;argc, args, nullptr, nullptr);  </span><br><span class="line">    <span class="keyword">auto</span> audioData = new EncodeAudioData&#123;.asyncWork = nullptr&#125;;  </span><br><span class="line">    <span class="keyword">if</span> (argc == <span class="number">1</span>) &#123;  </span><br><span class="line">        napi_value promise = nullptr;  </span><br><span class="line">        napi_deferred deferred = nullptr;  </span><br><span class="line">        napi_create_promise(env, &amp;deferred, &amp;promise);  </span><br><span class="line">        audioData-&gt;deferred = deferred;  </span><br><span class="line">        napi_get_arraybuffer_info(env, args[<span class="number">0</span>], &amp;audioData-&gt;inputBuffer, &amp;audioData-&gt;inputSize);  </span><br><span class="line">        napi_value resourceName = nullptr;  </span><br><span class="line">        napi_create_string_utf8(env, <span class="string">&quot;encodePCMToOpusOggNativePromise&quot;</span>, NAPI_AUTO_LENGTH, &amp;resourceName);  </span><br><span class="line">        napi_create_async_work(env, nullptr, resourceName, encodeExecuteCB, encodePromiseCompleteCB, (<span class="type">void</span>*)audioData, &amp;audioData-&gt;asyncWork);  </span><br><span class="line">        napi_queue_async_work(env, audioData-&gt;asyncWork);  </span><br><span class="line">        <span class="keyword">return</span> promise;  </span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">        napi_get_arraybuffer_info(env, args[<span class="number">0</span>], &amp;audioData-&gt;inputBuffer, &amp;audioData-&gt;inputSize);  </span><br><span class="line">        napi_create_reference(env, args[<span class="number">1</span>], <span class="number">1</span>, &amp;audioData-&gt;callback);  </span><br><span class="line">        napi_value resourceName = nullptr;  </span><br><span class="line">        napi_create_string_utf8(env, <span class="string">&quot;encodePCMToOpusOggNativeCallback&quot;</span>, NAPI_AUTO_LENGTH, &amp;resourceName);  </span><br><span class="line">        napi_create_async_work(env, nullptr, resourceName, encodeExecuteCB, encodeAsyncCompleteCB, (<span class="type">void</span>*)audioData, &amp;audioData-&gt;asyncWork);  </span><br><span class="line">        napi_queue_async_work(env, audioData-&gt;asyncWork);  </span><br><span class="line">        <span class="keyword">return</span> nullptr;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/HarmonyOS-Next/" rel="tag"># HarmonyOS Next</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2025/06/30/C-A-Comprehensive-Guide-to-Data-Type-Conversion-Between-ArkTS-and-C-in-HarmonyOS-Next/" rel="prev" title="A Comprehensive Guide to Data Type Conversion Between ArkTS and C++ in HarmonyOS Next">
      <i class="fa fa-chevron-left"></i> A Comprehensive Guide to Data Type Conversion Between ArkTS and C++ in HarmonyOS Next
    </a></div>
      <div class="post-nav-item">
    <a href="/2025/06/30/C-Introduction-to-DevEco-Studio-for-HarmonyOS-Next-Development-ASan-and-TSan-Detection-to-Cure-Your-C-Phobia/" rel="next" title="Introduction to DevEco Studio for HarmonyOS Next Development: ASan and TSan Detection to Cure Your C++ Phobia">
      Introduction to DevEco Studio for HarmonyOS Next Development: ASan and TSan Detection to Cure Your C++ Phobia <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#HarmonyOS-Next-NAPI-Asynchronous-Call-Introduction"><span class="nav-number">1.</span> <span class="nav-text">HarmonyOS Next NAPI Asynchronous Call Introduction</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Why-Asynchronous-Calls-Are-Needed"><span class="nav-number">1.1.</span> <span class="nav-text">Why Asynchronous Calls Are Needed?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Introduction-to-NAPI-Asynchronous-Calls"><span class="nav-number">1.2.</span> <span class="nav-text">Introduction to NAPI Asynchronous Calls</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Introduction-to-Asynchronous-Call-APIs"><span class="nav-number">1.2.1.</span> <span class="nav-text">Introduction to Asynchronous Call APIs</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Create-Async-Work-napi-create-async-work"><span class="nav-number">1.2.1.1.</span> <span class="nav-text">Create Async Work: napi_create_async_work()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Queue-Async-Work-napi-queue-async-work"><span class="nav-number">1.2.1.2.</span> <span class="nav-text">Queue Async Work: napi_queue_async_work()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Cancel-Async-Work-napi-cancel-async-work"><span class="nav-number">1.2.1.3.</span> <span class="nav-text">Cancel Async Work: napi_cancel_async_work()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Delete-Async-Work-napi-delete-async-work"><span class="nav-number">1.2.1.4.</span> <span class="nav-text">Delete Async Work: napi_delete_async_work()</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Principle-of-Asynchronous-Implementation"><span class="nav-number">1.2.2.</span> <span class="nav-text">Principle of Asynchronous Implementation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Advantages-Over-Native-Threads"><span class="nav-number">1.2.3.</span> <span class="nav-text">Advantages Over Native Threads</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Asynchronous-Interface-Implementation"><span class="nav-number">1.3.</span> <span class="nav-text">Asynchronous Interface Implementation</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Callback-Based-Asynchronous-Interface-Audio-Encoding-Example"><span class="nav-number">1.3.1.</span> <span class="nav-text">Callback-Based Asynchronous Interface (Audio Encoding Example)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#eTS-Definition-of-the-Example-Interface"><span class="nav-number">1.3.1.1.</span> <span class="nav-text">eTS Definition of the Example Interface</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Initialize-Context-Data"><span class="nav-number">1.3.1.2.</span> <span class="nav-text">Initialize Context Data</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Create-Async-Work-Item"><span class="nav-number">1.3.1.3.</span> <span class="nav-text">Create Async Work Item</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#execute-Function"><span class="nav-number">1.3.1.4.</span> <span class="nav-text">execute Function</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#complete-Function"><span class="nav-number">1.3.1.5.</span> <span class="nav-text">complete Function</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#eTS-Call-Interface"><span class="nav-number">1.3.1.6.</span> <span class="nav-text">eTS Call Interface</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Promise-Based-Asynchronous-Interface"><span class="nav-number">1.3.2.</span> <span class="nav-text">Promise-Based Asynchronous Interface</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Create-Promise"><span class="nav-number">1.3.2.1.</span> <span class="nav-text">Create Promise</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Initialize-Context-Data-1"><span class="nav-number">1.3.2.2.</span> <span class="nav-text">Initialize Context Data</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Create-Async-Work-Item-1"><span class="nav-number">1.3.2.3.</span> <span class="nav-text">Create Async Work Item</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#complete-Callback"><span class="nav-number">1.3.2.4.</span> <span class="nav-text">complete Callback</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#eTS-Call-Interface-1"><span class="nav-number">1.3.2.5.</span> <span class="nav-text">eTS Call Interface</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Standardized-Asynchronous-Interface"><span class="nav-number">1.3.3.</span> <span class="nav-text">Standardized Asynchronous Interface</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Unified-Context-Structure"><span class="nav-number">1.3.3.1.</span> <span class="nav-text">Unified Context Structure</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Native-Method-Implementation"><span class="nav-number">1.3.3.2.</span> <span class="nav-text">Native Method Implementation</span></a></li></ol></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Qingkouwei</p>
  <div class="site-description" itemprop="description">Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">364</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Qingkouwei</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
