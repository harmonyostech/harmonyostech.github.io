<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"harmonyostech.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="[Daily HarmonyOS Next Knowledge] Opening Half-Screen via Routing, Custom Grid, Gestures, etc.1. How to open a half-screen via routing?Use component navigation (Navigation) uniformly and refer to the p">
<meta property="og:type" content="article">
<meta property="og:title" content="[Daily HarmonyOS Next Knowledge] Opening Half-Screen via Routing, Custom Grid, Gestures, etc.">
<meta property="og:url" content="https://harmonyostech.github.io/2025/06/30/4823-Daily-HarmonyOS-Next-Knowledge-Opening-Half-Screen-via-Routing-Custom-Grid-Gestures-etc/index.html">
<meta property="og:site_name" content="HarmonyOS NEXT Knowledge Charging Station">
<meta property="og:description" content="[Daily HarmonyOS Next Knowledge] Opening Half-Screen via Routing, Custom Grid, Gestures, etc.1. How to open a half-screen via routing?Use component navigation (Navigation) uniformly and refer to the p">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2025-06-30T09:28:18.000Z">
<meta property="article:modified_time" content="2025-06-30T09:29:11.132Z">
<meta property="article:author" content="Qingkouwei">
<meta property="article:tag" content="HarmonyOS Next">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://harmonyostech.github.io/2025/06/30/4823-Daily-HarmonyOS-Next-Knowledge-Opening-Half-Screen-via-Routing-Custom-Grid-Gestures-etc/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>[Daily HarmonyOS Next Knowledge] Opening Half-Screen via Routing, Custom Grid, Gestures, etc. | HarmonyOS NEXT Knowledge Charging Station</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">HarmonyOS NEXT Knowledge Charging Station</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Analysis of Core Technologies and Application Scenarios of HarmonyOS NEXT</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/30/4823-Daily-HarmonyOS-Next-Knowledge-Opening-Half-Screen-via-Routing-Custom-Grid-Gestures-etc/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          [Daily HarmonyOS Next Knowledge] Opening Half-Screen via Routing, Custom Grid, Gestures, etc.
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-30 17:28:18 / Modified: 17:29:11" itemprop="dateCreated datePublished" datetime="2025-06-30T17:28:18+08:00">2025-06-30</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily-HarmonyOS-Next-Knowledge/" itemprop="url" rel="index"><span itemprop="name">Daily HarmonyOS Next Knowledge</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="Daily-HarmonyOS-Next-Knowledge-Opening-Half-Screen-via-Routing-Custom-Grid-Gestures-etc"><a href="#Daily-HarmonyOS-Next-Knowledge-Opening-Half-Screen-via-Routing-Custom-Grid-Gestures-etc" class="headerlink" title="[Daily HarmonyOS Next Knowledge] Opening Half-Screen via Routing, Custom Grid, Gestures, etc."></a>[Daily HarmonyOS Next Knowledge] Opening Half-Screen via Routing, Custom Grid, Gestures, etc.</h1><h2 id="1-How-to-open-a-half-screen-via-routing"><a href="#1-How-to-open-a-half-screen-via-routing" class="headerlink" title="1. How to open a half-screen via routing?"></a>1. How to open a half-screen via routing?</h2><p>Use component navigation (Navigation) uniformly and refer to the page display type NavDestinationMode.DIALOG in the article: <a target="_blank" rel="noopener" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-navigation-navigation-V5">Component Navigation</a>.  </p>
<h2 id="2-Are-there-alternative-solutions-for-setting-Grid-onItemDragStart-time-and-universal-examples-for-multi-column-Grid-Items"><a href="#2-Are-there-alternative-solutions-for-setting-Grid-onItemDragStart-time-and-universal-examples-for-multi-column-Grid-Items" class="headerlink" title="2. Are there alternative solutions for setting Grid onItemDragStart time and universal examples for multi-column Grid Items?"></a>2. Are there alternative solutions for setting Grid onItemDragStart time and universal examples for multi-column Grid Items?</h2><p>The default onItemDragStart time for Grid dragging is 170 milliseconds. Currently, the onItemDragStart time cannot be set directly. You can customize the Grid and use the duration of the LongPressGesture in the long-press gesture to control the long-press trigger time for GridItem dragging.  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; curves &#125; <span class="keyword">from</span> <span class="string">&#x27;@kit.ArkUI&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Page</span> &#123;</span><br><span class="line">  <span class="comment">// Element array</span></span><br><span class="line">  <span class="meta">@State</span> <span class="attr">numbers</span>: <span class="built_in">number</span>[] = []</span><br><span class="line">  <span class="comment">// row sets the number of grid columns</span></span><br><span class="line">  <span class="keyword">private</span> <span class="attr">str</span>: <span class="built_in">string</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="meta">@State</span> <span class="attr">row</span>: <span class="built_in">number</span> = <span class="number">4</span></span><br><span class="line">  <span class="comment">// Index of the last element in the element array</span></span><br><span class="line">  <span class="meta">@State</span> <span class="attr">lastIndex</span>: <span class="built_in">number</span> = <span class="number">0</span>;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">dragItem</span>: <span class="built_in">number</span> = -<span class="number">1</span></span><br><span class="line">  <span class="meta">@State</span> <span class="attr">scaleItem</span>: <span class="built_in">number</span> = -<span class="number">1</span></span><br><span class="line">  <span class="meta">@State</span> <span class="attr">item</span>: <span class="built_in">number</span> = -<span class="number">1</span></span><br><span class="line">  <span class="keyword">private</span> <span class="attr">dragRefOffsetx</span>: <span class="built_in">number</span> = <span class="number">0</span></span><br><span class="line">  <span class="keyword">private</span> <span class="attr">dragRefOffsety</span>: <span class="built_in">number</span> = <span class="number">0</span></span><br><span class="line">  <span class="meta">@State</span> <span class="attr">offsetX</span>: <span class="built_in">number</span> = <span class="number">0</span></span><br><span class="line">  <span class="meta">@State</span> <span class="attr">offsetY</span>: <span class="built_in">number</span> = <span class="number">0</span></span><br><span class="line">  <span class="keyword">private</span> <span class="attr">FIX_VP_X</span>: <span class="built_in">number</span> = <span class="number">108</span></span><br><span class="line">  <span class="keyword">private</span> <span class="attr">FIX_VP_Y</span>: <span class="built_in">number</span> = <span class="number">120</span></span><br><span class="line"></span><br><span class="line">  <span class="title function_">aboutToAppear</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= <span class="number">110</span>; i++) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">numbers</span>.<span class="title function_">push</span>(i)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">lastIndex</span> = <span class="variable language_">this</span>.<span class="property">numbers</span>.<span class="property">length</span> - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Multi-column</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">this</span>.<span class="property">row</span>; i++) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">str</span> = <span class="variable language_">this</span>.<span class="property">str</span> + <span class="string">&#x27;1fr &#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">itemMove</span>(<span class="attr">index</span>: <span class="built_in">number</span>, <span class="attr">newIndex</span>: <span class="built_in">number</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="title function_">isDraggable</span>(newIndex)) &#123;</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> tmp = <span class="variable language_">this</span>.<span class="property">numbers</span>.<span class="title function_">splice</span>(index, <span class="number">1</span>)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">numbers</span>.<span class="title function_">splice</span>(newIndex, <span class="number">0</span>, tmp[<span class="number">0</span>])</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Swipe down</span></span><br><span class="line">  <span class="title function_">down</span>(<span class="attr">index</span>: <span class="built_in">number</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="comment">// Specify that fixed GridItems do not respond to events</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="title function_">isDraggable</span>(index + <span class="variable language_">this</span>.<span class="property">row</span>)) &#123;</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">offsetY</span> -= <span class="variable language_">this</span>.<span class="property">FIX_VP_Y</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">dragRefOffsety</span> += <span class="variable language_">this</span>.<span class="property">FIX_VP_Y</span></span><br><span class="line">    <span class="comment">// Multi-column</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">itemMove</span>(index, index + <span class="variable language_">this</span>.<span class="property">row</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Swipe down (empty lower right corner)</span></span><br><span class="line">  <span class="title function_">down2</span>(<span class="attr">index</span>: <span class="built_in">number</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="title function_">isDraggable</span>(index + <span class="number">3</span>)) &#123;</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">offsetY</span> -= <span class="variable language_">this</span>.<span class="property">FIX_VP_Y</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">dragRefOffsety</span> += <span class="variable language_">this</span>.<span class="property">FIX_VP_Y</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">itemMove</span>(index, index + <span class="number">3</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Swipe up</span></span><br><span class="line">  <span class="title function_">up</span>(<span class="attr">index</span>: <span class="built_in">number</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="title function_">isDraggable</span>(index - <span class="variable language_">this</span>.<span class="property">row</span>)) &#123;</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">offsetY</span> += <span class="variable language_">this</span>.<span class="property">FIX_VP_Y</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">dragRefOffsety</span> -= <span class="variable language_">this</span>.<span class="property">FIX_VP_Y</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">itemMove</span>(index, index - <span class="variable language_">this</span>.<span class="property">row</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Swipe left</span></span><br><span class="line">  <span class="title function_">left</span>(<span class="attr">index</span>: <span class="built_in">number</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="title function_">isDraggable</span>(index - <span class="number">1</span>)) &#123;</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">offsetX</span> += <span class="variable language_">this</span>.<span class="property">FIX_VP_X</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">dragRefOffsetx</span> -= <span class="variable language_">this</span>.<span class="property">FIX_VP_X</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">itemMove</span>(index, index - <span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Swipe right</span></span><br><span class="line">  <span class="title function_">right</span>(<span class="attr">index</span>: <span class="built_in">number</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="title function_">isDraggable</span>(index + <span class="number">1</span>)) &#123;</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">offsetX</span> -= <span class="variable language_">this</span>.<span class="property">FIX_VP_X</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">dragRefOffsetx</span> += <span class="variable language_">this</span>.<span class="property">FIX_VP_X</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">itemMove</span>(index, index + <span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Swipe down-right</span></span><br><span class="line">  <span class="title function_">lowerRight</span>(<span class="attr">index</span>: <span class="built_in">number</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="title function_">isDraggable</span>(index + <span class="variable language_">this</span>.<span class="property">row</span> + <span class="number">1</span>)) &#123;</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">offsetX</span> -= <span class="variable language_">this</span>.<span class="property">FIX_VP_X</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">dragRefOffsetx</span> += <span class="variable language_">this</span>.<span class="property">FIX_VP_X</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">offsetY</span> -= <span class="variable language_">this</span>.<span class="property">FIX_VP_Y</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">dragRefOffsety</span> += <span class="variable language_">this</span>.<span class="property">FIX_VP_Y</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">itemMove</span>(index, index + <span class="variable language_">this</span>.<span class="property">row</span> + <span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Swipe up-right</span></span><br><span class="line">  <span class="title function_">upperRight</span>(<span class="attr">index</span>: <span class="built_in">number</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="title function_">isDraggable</span>(index - (<span class="variable language_">this</span>.<span class="property">row</span> - <span class="number">1</span>))) &#123;</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">offsetX</span> -= <span class="variable language_">this</span>.<span class="property">FIX_VP_X</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">dragRefOffsetx</span> += <span class="variable language_">this</span>.<span class="property">FIX_VP_X</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">offsetY</span> += <span class="variable language_">this</span>.<span class="property">FIX_VP_Y</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">dragRefOffsety</span> -= <span class="variable language_">this</span>.<span class="property">FIX_VP_Y</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">itemMove</span>(index, index - (<span class="variable language_">this</span>.<span class="property">row</span> - <span class="number">1</span>))</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Swipe down-left</span></span><br><span class="line">  <span class="title function_">lowerLeft</span>(<span class="attr">index</span>: <span class="built_in">number</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="title function_">isDraggable</span>(index + (<span class="variable language_">this</span>.<span class="property">row</span> - <span class="number">1</span>))) &#123;</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">offsetX</span> += <span class="variable language_">this</span>.<span class="property">FIX_VP_X</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">dragRefOffsetx</span> -= <span class="variable language_">this</span>.<span class="property">FIX_VP_X</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">offsetY</span> -= <span class="variable language_">this</span>.<span class="property">FIX_VP_Y</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">dragRefOffsety</span> += <span class="variable language_">this</span>.<span class="property">FIX_VP_Y</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">itemMove</span>(index, index + (<span class="variable language_">this</span>.<span class="property">row</span> - <span class="number">1</span>))</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Swipe up-left</span></span><br><span class="line">  <span class="title function_">upperLeft</span>(<span class="attr">index</span>: <span class="built_in">number</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="title function_">isDraggable</span>(index - (<span class="variable language_">this</span>.<span class="property">row</span> + <span class="number">1</span>))) &#123;</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">offsetX</span> += <span class="variable language_">this</span>.<span class="property">FIX_VP_X</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">dragRefOffsetx</span> -= <span class="variable language_">this</span>.<span class="property">FIX_VP_X</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">offsetY</span> += <span class="variable language_">this</span>.<span class="property">FIX_VP_Y</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">dragRefOffsety</span> -= <span class="variable language_">this</span>.<span class="property">FIX_VP_Y</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">itemMove</span>(index, index - (<span class="variable language_">this</span>.<span class="property">row</span> + <span class="number">1</span>))</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Control whether an element can be moved and sorted by its index</span></span><br><span class="line">  <span class="title function_">isDraggable</span>(<span class="attr">index</span>: <span class="built_in">number</span>): <span class="built_in">boolean</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> index &gt; -<span class="number">1</span> <span class="comment">// Always true, all elements can be moved and sorted</span></span><br><span class="line">    <span class="comment">// return index &gt; 1 // Elements 1 and 2 are fixed and cannot be moved or sorted</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Grid</span>() &#123;</span><br><span class="line">        <span class="title class_">ForEach</span>(<span class="variable language_">this</span>.<span class="property">numbers</span>, <span class="function">(<span class="params"><span class="attr">item</span>: <span class="built_in">number</span></span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="title class_">GridItem</span>() &#123;</span><br><span class="line">            <span class="title class_">Text</span>(item + <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">              .<span class="title function_">fontSize</span>(<span class="number">16</span>)</span><br><span class="line">              .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">              .<span class="title function_">textAlign</span>(<span class="title class_">TextAlign</span>.<span class="property">Center</span>)</span><br><span class="line">              .<span class="title function_">height</span>(<span class="number">100</span>)</span><br><span class="line">              .<span class="title function_">borderRadius</span>(<span class="number">10</span>)</span><br><span class="line">              .<span class="title function_">backgroundColor</span>(<span class="number">0xFFFFFF</span>)</span><br><span class="line">              .<span class="title function_">shadow</span>(<span class="variable language_">this</span>.<span class="property">scaleItem</span> == item ? &#123;</span><br><span class="line">                <span class="attr">radius</span>: <span class="number">70</span>,</span><br><span class="line">                <span class="attr">color</span>: <span class="string">&#x27;#15000000&#x27;</span>,</span><br><span class="line">                <span class="attr">offsetX</span>: <span class="number">0</span>,</span><br><span class="line">                <span class="attr">offsetY</span>: <span class="number">0</span></span><br><span class="line">              &#125; :</span><br><span class="line">                &#123;</span><br><span class="line">                  <span class="attr">radius</span>: <span class="number">0</span>,</span><br><span class="line">                  <span class="attr">color</span>: <span class="string">&#x27;#15000000&#x27;</span>,</span><br><span class="line">                  <span class="attr">offsetX</span>: <span class="number">0</span>,</span><br><span class="line">                  <span class="attr">offsetY</span>: <span class="number">0</span></span><br><span class="line">                &#125;)</span><br><span class="line">              .<span class="title function_">animation</span>(&#123; <span class="attr">curve</span>: <span class="title class_">Curve</span>.<span class="property">Sharp</span>, <span class="attr">duration</span>: <span class="number">300</span> &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">          .<span class="title function_">onAreaChange</span>(<span class="function">(<span class="params">oldVal, newVal</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// Multi-column</span></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">FIX_VP_X</span> = <span class="title class_">Math</span>.<span class="title function_">round</span>(newVal.<span class="property">width</span> <span class="keyword">as</span> <span class="built_in">number</span>)</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">FIX_VP_Y</span> = <span class="title class_">Math</span>.<span class="title function_">round</span>(newVal.<span class="property">height</span> <span class="keyword">as</span> <span class="built_in">number</span>)</span><br><span class="line">          &#125;)</span><br><span class="line">          <span class="comment">// Specify that fixed GridItems do not respond to events</span></span><br><span class="line">          .<span class="title function_">hitTestBehavior</span>(<span class="variable language_">this</span>.<span class="title function_">isDraggable</span>(<span class="variable language_">this</span>.<span class="property">numbers</span>.<span class="title function_">indexOf</span>(item)) ? <span class="title class_">HitTestMode</span>.<span class="property">Default</span> : <span class="title class_">HitTestMode</span>.<span class="property">None</span>)</span><br><span class="line">          .<span class="title function_">scale</span>(&#123; <span class="attr">x</span>: <span class="variable language_">this</span>.<span class="property">scaleItem</span> == item ? <span class="number">1.05</span> : <span class="number">1</span>, <span class="attr">y</span>: <span class="variable language_">this</span>.<span class="property">scaleItem</span> == item ? <span class="number">1.05</span> : <span class="number">1</span> &#125;)</span><br><span class="line">          .<span class="title function_">zIndex</span>(<span class="variable language_">this</span>.<span class="property">dragItem</span> == item ? <span class="number">1</span> : <span class="number">0</span>)</span><br><span class="line">          .<span class="title function_">translate</span>(<span class="variable language_">this</span>.<span class="property">dragItem</span> == item ? &#123; <span class="attr">x</span>: <span class="variable language_">this</span>.<span class="property">offsetX</span>, <span class="attr">y</span>: <span class="variable language_">this</span>.<span class="property">offsetY</span> &#125; : &#123; <span class="attr">x</span>: <span class="number">0</span>, <span class="attr">y</span>: <span class="number">0</span> &#125;)</span><br><span class="line">          .<span class="title function_">padding</span>(<span class="number">10</span>)</span><br><span class="line">          .<span class="title function_">gesture</span>(</span><br><span class="line">            <span class="comment">// The following combined gestures are recognized in sequence. If the long-press gesture event is not triggered normally, the drag gesture event will not be triggered.</span></span><br><span class="line">            <span class="title class_">GestureGroup</span>(<span class="title class_">GestureMode</span>.<span class="property">Sequence</span>,</span><br><span class="line">              <span class="title class_">LongPressGesture</span>(&#123; <span class="attr">repeat</span>: <span class="literal">true</span>, <span class="attr">duration</span>: <span class="number">50</span> &#125;) <span class="comment">// Control the long-press event time for triggering dragging, default 500ms. Setting less than 0 uses the default; here set to 50ms</span></span><br><span class="line">                .<span class="title function_">onAction</span>(<span class="function">(<span class="params"><span class="attr">event</span>?: <span class="title class_">GestureEvent</span></span>) =&gt;</span> &#123;</span><br><span class="line">                  <span class="title function_">animateTo</span>(&#123; <span class="attr">curve</span>: <span class="title class_">Curve</span>.<span class="property">Friction</span>, <span class="attr">duration</span>: <span class="number">300</span> &#125;, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">                    <span class="variable language_">this</span>.<span class="property">scaleItem</span> = item</span><br><span class="line">                  &#125;)</span><br><span class="line">                &#125;)</span><br><span class="line">                .<span class="title function_">onActionEnd</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                  <span class="title function_">animateTo</span>(&#123; <span class="attr">curve</span>: <span class="title class_">Curve</span>.<span class="property">Friction</span>, <span class="attr">duration</span>: <span class="number">300</span> &#125;, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">                    <span class="variable language_">this</span>.<span class="property">scaleItem</span> = -<span class="number">1</span></span><br><span class="line">                  &#125;)</span><br><span class="line">                &#125;),</span><br><span class="line">              <span class="title class_">PanGesture</span>(&#123; <span class="attr">fingers</span>: <span class="number">1</span>, <span class="attr">direction</span>: <span class="literal">null</span>, <span class="attr">distance</span>: <span class="number">0</span> &#125;)</span><br><span class="line">                .<span class="title function_">onActionStart</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                  <span class="variable language_">this</span>.<span class="property">dragItem</span> = item</span><br><span class="line">                  <span class="variable language_">this</span>.<span class="property">dragRefOffsetx</span> = <span class="number">0</span></span><br><span class="line">                  <span class="variable language_">this</span>.<span class="property">dragRefOffsety</span> = <span class="number">0</span></span><br><span class="line">                &#125;)</span><br><span class="line">                .<span class="title function_">onActionUpdate</span>(<span class="function">(<span class="params"><span class="attr">event</span>: <span class="title class_">GestureEvent</span></span>) =&gt;</span> &#123;</span><br><span class="line">                  <span class="variable language_">this</span>.<span class="property">offsetY</span> = event.<span class="property">offsetY</span> - <span class="variable language_">this</span>.<span class="property">dragRefOffsety</span></span><br><span class="line">                  <span class="variable language_">this</span>.<span class="property">offsetX</span> = event.<span class="property">offsetX</span> - <span class="variable language_">this</span>.<span class="property">dragRefOffsetx</span></span><br><span class="line"></span><br><span class="line">                  <span class="title function_">animateTo</span>(&#123; <span class="attr">curve</span>: curves.<span class="title function_">interpolatingSpring</span>(<span class="number">0</span>, <span class="number">1</span>, <span class="number">400</span>, <span class="number">38</span>) &#125;, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">                    <span class="keyword">let</span> index = <span class="variable language_">this</span>.<span class="property">numbers</span>.<span class="title function_">indexOf</span>(<span class="variable language_">this</span>.<span class="property">dragItem</span>)</span><br><span class="line">                    <span class="comment">// 44 Half width minus spacing</span></span><br><span class="line">                    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">offsetY</span> &gt;= <span class="variable language_">this</span>.<span class="property">FIX_VP_Y</span> / <span class="number">2</span> &amp;&amp;</span><br><span class="line">                      (<span class="variable language_">this</span>.<span class="property">offsetX</span> &lt;= <span class="variable language_">this</span>.<span class="property">FIX_VP_X</span> / <span class="number">2</span> &amp;&amp; <span class="variable language_">this</span>.<span class="property">offsetX</span> &gt;= -<span class="variable language_">this</span>.<span class="property">FIX_VP_X</span> / <span class="number">2</span>)</span><br><span class="line">                      &amp;&amp; (index + <span class="variable language_">this</span>.<span class="property">row</span> &lt;= <span class="variable language_">this</span>.<span class="property">lastIndex</span>)) &#123;</span><br><span class="line">                      <span class="comment">// Swipe down</span></span><br><span class="line">                      <span class="variable language_">this</span>.<span class="title function_">down</span>(index)</span><br><span class="line">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">offsetY</span> &lt;= -<span class="variable language_">this</span>.<span class="property">FIX_VP_Y</span> / <span class="number">2</span> &amp;&amp;</span><br><span class="line">                      (<span class="variable language_">this</span>.<span class="property">offsetX</span> &lt;= <span class="variable language_">this</span>.<span class="property">FIX_VP_X</span> / <span class="number">2</span> &amp;&amp; <span class="variable language_">this</span>.<span class="property">offsetX</span> &gt;= -<span class="variable language_">this</span>.<span class="property">FIX_VP_X</span> / <span class="number">2</span>)</span><br><span class="line">                      &amp;&amp; index - <span class="variable language_">this</span>.<span class="property">row</span> &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                      <span class="comment">// Swipe up</span></span><br><span class="line">                      <span class="variable language_">this</span>.<span class="title function_">up</span>(index)</span><br><span class="line">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">offsetX</span> &gt;= <span class="variable language_">this</span>.<span class="property">FIX_VP_X</span> / <span class="number">2</span> &amp;&amp;</span><br><span class="line">                      (<span class="variable language_">this</span>.<span class="property">offsetY</span> &lt;= <span class="variable language_">this</span>.<span class="property">FIX_VP_Y</span> / <span class="number">2</span> &amp;&amp; <span class="variable language_">this</span>.<span class="property">offsetY</span> &gt;= -<span class="variable language_">this</span>.<span class="property">FIX_VP_Y</span> / <span class="number">2</span>)</span><br><span class="line">                      &amp;&amp; !(((index - (<span class="variable language_">this</span>.<span class="property">row</span> - <span class="number">1</span>)) % <span class="variable language_">this</span>.<span class="property">row</span> == <span class="number">0</span>) || index == <span class="variable language_">this</span>.<span class="property">lastIndex</span>)) &#123;</span><br><span class="line">                      <span class="comment">// ) &#123;</span></span><br><span class="line">                      <span class="comment">// Swipe right</span></span><br><span class="line">                      <span class="variable language_">this</span>.<span class="title function_">right</span>(index)</span><br><span class="line">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">offsetX</span> &lt;= -<span class="variable language_">this</span>.<span class="property">FIX_VP_X</span> / <span class="number">2</span> &amp;&amp;</span><br><span class="line">                      (<span class="variable language_">this</span>.<span class="property">offsetY</span> &lt;= <span class="variable language_">this</span>.<span class="property">FIX_VP_Y</span> / <span class="number">2</span> &amp;&amp; <span class="variable language_">this</span>.<span class="property">offsetY</span> &gt;= -<span class="variable language_">this</span>.<span class="property">FIX_VP_Y</span> / <span class="number">2</span>)</span><br><span class="line">                      &amp;&amp; !(index % <span class="variable language_">this</span>.<span class="property">row</span> == <span class="number">0</span>)) &#123;</span><br><span class="line">                      <span class="comment">// Swipe left</span></span><br><span class="line">                      <span class="variable language_">this</span>.<span class="title function_">left</span>(index)</span><br><span class="line">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">offsetX</span> &gt;= <span class="variable language_">this</span>.<span class="property">FIX_VP_X</span> / <span class="number">2</span> &amp;&amp; <span class="variable language_">this</span>.<span class="property">offsetY</span> &gt;= <span class="variable language_">this</span>.<span class="property">FIX_VP_Y</span> / <span class="number">2</span></span><br><span class="line">                      &amp;&amp; ((index + <span class="variable language_">this</span>.<span class="property">row</span> + <span class="number">1</span> &lt;= <span class="variable language_">this</span>.<span class="property">lastIndex</span> &amp;&amp; !((index - (<span class="variable language_">this</span>.<span class="property">row</span> - <span class="number">1</span>)) % <span class="variable language_">this</span>.<span class="property">row</span> == <span class="number">0</span>)) ||</span><br><span class="line">                        !((index - (<span class="variable language_">this</span>.<span class="property">row</span> - <span class="number">1</span>)) % <span class="variable language_">this</span>.<span class="property">row</span> == <span class="number">0</span>))) &#123;</span><br><span class="line">                      <span class="comment">// Swipe down-right</span></span><br><span class="line">                      <span class="variable language_">this</span>.<span class="title function_">lowerRight</span>(index)</span><br><span class="line">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">offsetX</span> &gt;= <span class="variable language_">this</span>.<span class="property">FIX_VP_X</span> / <span class="number">2</span> &amp;&amp; <span class="variable language_">this</span>.<span class="property">offsetY</span> &lt;= -<span class="variable language_">this</span>.<span class="property">FIX_VP_Y</span> / <span class="number">2</span></span><br><span class="line">                      &amp;&amp; !((index - <span class="variable language_">this</span>.<span class="property">row</span> &lt; <span class="number">0</span>) || ((index - (<span class="variable language_">this</span>.<span class="property">row</span> - <span class="number">1</span>)) % <span class="variable language_">this</span>.<span class="property">row</span> == <span class="number">0</span>))) &#123;</span><br><span class="line">                      <span class="comment">// Swipe up-right</span></span><br><span class="line">                      <span class="variable language_">this</span>.<span class="title function_">upperRight</span>(index)</span><br><span class="line">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">offsetX</span> &lt;= -<span class="variable language_">this</span>.<span class="property">FIX_VP_X</span> / <span class="number">2</span> &amp;&amp; <span class="variable language_">this</span>.<span class="property">offsetY</span> &gt;= <span class="variable language_">this</span>.<span class="property">FIX_VP_Y</span> / <span class="number">2</span></span><br><span class="line">                      &amp;&amp; (!(index % <span class="variable language_">this</span>.<span class="property">row</span> == <span class="number">0</span>) &amp;&amp; (index + (<span class="variable language_">this</span>.<span class="property">row</span> - <span class="number">1</span>) &lt;= <span class="variable language_">this</span>.<span class="property">lastIndex</span>))) &#123;</span><br><span class="line">                      <span class="comment">// Swipe down-left</span></span><br><span class="line">                      <span class="variable language_">this</span>.<span class="title function_">lowerLeft</span>(index)</span><br><span class="line">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">offsetX</span> &lt;= -<span class="variable language_">this</span>.<span class="property">FIX_VP_X</span> / <span class="number">2</span> &amp;&amp; <span class="variable language_">this</span>.<span class="property">offsetY</span> &lt;= -<span class="variable language_">this</span>.<span class="property">FIX_VP_Y</span> / <span class="number">2</span></span><br><span class="line">                      &amp;&amp; !((index &lt;= <span class="variable language_">this</span>.<span class="property">row</span> - <span class="number">1</span>) || (index % <span class="variable language_">this</span>.<span class="property">row</span> == <span class="number">0</span>))) &#123;</span><br><span class="line">                      <span class="comment">// Swipe up-left</span></span><br><span class="line">                      <span class="variable language_">this</span>.<span class="title function_">upperLeft</span>(index)</span><br><span class="line">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">offsetX</span> &gt;= <span class="variable language_">this</span>.<span class="property">FIX_VP_X</span> / <span class="number">2</span> &amp;&amp; <span class="variable language_">this</span>.<span class="property">offsetY</span> &gt;= <span class="variable language_">this</span>.<span class="property">FIX_VP_Y</span> / <span class="number">2</span></span><br><span class="line">                      &amp;&amp; (index == <span class="variable language_">this</span>.<span class="property">lastIndex</span>)) &#123;</span><br><span class="line">                      <span class="comment">// Swipe down-right (empty lower right corner)</span></span><br><span class="line">                      <span class="variable language_">this</span>.<span class="title function_">down2</span>(index)</span><br><span class="line">                    &#125;</span><br><span class="line">                  &#125;)</span><br><span class="line">                &#125;)</span><br><span class="line">                .<span class="title function_">onActionEnd</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                  <span class="title function_">animateTo</span>(&#123; <span class="attr">curve</span>: curves.<span class="title function_">interpolatingSpring</span>(<span class="number">0</span>, <span class="number">1</span>, <span class="number">400</span>, <span class="number">38</span>) &#125;, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">                    <span class="variable language_">this</span>.<span class="property">dragItem</span> = -<span class="number">1</span></span><br><span class="line">                  &#125;)</span><br><span class="line">                  <span class="title function_">animateTo</span>(&#123;</span><br><span class="line">                    <span class="attr">curve</span>: curves.<span class="title function_">interpolatingSpring</span>(<span class="number">14</span>, <span class="number">1</span>, <span class="number">170</span>, <span class="number">17</span>), <span class="attr">delay</span>: <span class="number">150</span></span><br><span class="line">                  &#125;, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">                    <span class="variable language_">this</span>.<span class="property">scaleItem</span> = -<span class="number">1</span></span><br><span class="line">                  &#125;)</span><br><span class="line">                &#125;)</span><br><span class="line">            )</span><br><span class="line">              .<span class="title function_">onCancel</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                <span class="title function_">animateTo</span>(&#123; <span class="attr">curve</span>: curves.<span class="title function_">interpolatingSpring</span>(<span class="number">0</span>, <span class="number">1</span>, <span class="number">400</span>, <span class="number">38</span>) &#125;, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">                  <span class="variable language_">this</span>.<span class="property">dragItem</span> = -<span class="number">1</span></span><br><span class="line">                &#125;)</span><br><span class="line">                <span class="title function_">animateTo</span>(&#123;</span><br><span class="line">                  <span class="attr">curve</span>: curves.<span class="title function_">interpolatingSpring</span>(<span class="number">14</span>, <span class="number">1</span>, <span class="number">170</span>, <span class="number">17</span>)</span><br><span class="line">                &#125;, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">                  <span class="variable language_">this</span>.<span class="property">scaleItem</span> = -<span class="number">1</span></span><br><span class="line">                &#125;)</span><br><span class="line">              &#125;)</span><br><span class="line">          )</span><br><span class="line">        &#125;, <span class="function">(<span class="params"><span class="attr">item</span>: <span class="built_in">number</span></span>) =&gt;</span> item.<span class="title function_">toString</span>())</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&#x27;90%&#x27;</span>)</span><br><span class="line">      .<span class="title function_">editMode</span>(<span class="literal">true</span>)</span><br><span class="line">      .<span class="title function_">scrollBar</span>(<span class="title class_">BarState</span>.<span class="property">Off</span>)</span><br><span class="line">      <span class="comment">// Multi-column</span></span><br><span class="line">      .<span class="title function_">columnsTemplate</span>(<span class="variable language_">this</span>.<span class="property">str</span>)</span><br><span class="line">    &#125;.<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>).<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>).<span class="title function_">backgroundColor</span>(<span class="string">&#x27;#0D182431&#x27;</span>).<span class="title function_">padding</span>(&#123; <span class="attr">top</span>: <span class="number">5</span> &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">## 3. When List, Scroll, Swiper, Web, etc., are nested, there is a sliding conflict. For example, nesting a horizontally sliding Swipe in a List, and nesting a Web in the Swipe, when setting gesture priority, the Web cannot interact with the List.  </span></span><br><span class="line"><span class="string">The problem may be caused by sliding conflicts when the List component is nested with the Web component. Touch test control can be used to avoid this situation.  </span></span><br><span class="line"><span class="string">Reference document: [Multi-Level Gesture Events](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-gesture-events-multi-level-gesture-V5).  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">## 4. How to disable the function of closing a custom popup by clicking on empty space?  </span></span><br><span class="line"><span class="string">Set the autoCancel of the custom popup to false to disable closing the popup by clicking on empty space.  </span></span><br><span class="line"><span class="string">Reference document: [@ohos.promptAction (Popup)](https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-promptaction-V5#ZH-CN_TOPIC_0000001884757698__basedialogoptions11).  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">## 5. For basic gestures of single-tap and double-tap, how to recognize only double-tap without recognizing single-tap?  </span></span><br><span class="line"><span class="string">Use the exclusive recognition mode of the combined gesture GestureGroup. The double-tap event should be placed before the single-tap event. Exclusive recognition is based on the order of arrangement. If the single-tap event is placed first, only the single-tap event will be recognized.  </span></span><br><span class="line"><span class="string">Reference document: [Combined Gestures](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-gesture-events-combined-gestures-V5#ZH-CN_TOPIC_0000001884756578__%E4%BA%92%E6%96%A5%E8%AF%86%E5%88%AB).  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>typescript</span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">TapGestureExample</span> &#123;</span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Column</span>() &#123;</span><br><span class="line">      <span class="title class_">Text</span>(<span class="string">&#x27;Click twice&#x27;</span>).<span class="title function_">fontSize</span>(<span class="number">28</span>)</span><br><span class="line">        .<span class="title function_">gesture</span>(<span class="title class_">GestureGroup</span>(<span class="title class_">GestureMode</span>.<span class="property">Exclusive</span>,</span><br><span class="line">          <span class="comment">// Note: Double-tap is placed first</span></span><br><span class="line">          <span class="title class_">TapGesture</span>(&#123; <span class="attr">count</span>: <span class="number">2</span> &#125;)</span><br><span class="line">            .<span class="title function_">onAction</span>(<span class="function">(<span class="params"><span class="attr">event</span>?: <span class="title class_">GestureEvent</span></span>) =&gt;</span> &#123;</span><br><span class="line">              <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;TapGesture 2&#x27;</span>)</span><br><span class="line">            &#125;),</span><br><span class="line">          <span class="title class_">TapGesture</span>(&#123; <span class="attr">count</span>: <span class="number">1</span> &#125;)</span><br><span class="line">            .<span class="title function_">onAction</span>(<span class="function">(<span class="params"><span class="attr">event</span>?: <span class="title class_">GestureEvent</span></span>) =&gt;</span> &#123;</span><br><span class="line">              <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;TapGesture 1&#x27;</span>)</span><br><span class="line">            &#125;)</span><br><span class="line">        )</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/HarmonyOS-Next/" rel="tag"># HarmonyOS Next</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2025/06/30/4822-Daily-HarmonyOS-Next-Knowledge-Video-Playback-Failure-Toggle-Dragging-Image-Cropping-Rotation-etc/" rel="prev" title="[Daily HarmonyOS Next Knowledge] Video Playback Failure, Toggle Dragging, Image Cropping/Rotation, etc.">
      <i class="fa fa-chevron-left"></i> [Daily HarmonyOS Next Knowledge] Video Playback Failure, Toggle Dragging, Image Cropping/Rotation, etc.
    </a></div>
      <div class="post-nav-item">
    <a href="/2025/06/30/4824-Daily-HarmonyOS-Next-Knowledge-View-Touch-Hotspot-Range-Direct-Clipboard-Assignment-Component-Screenshot-Portrait-Landscape-Switch-Screenshot-Prevention-etc/" rel="next" title="[Daily HarmonyOS Next Knowledge] View Touch Hotspot Range, Direct Clipboard Assignment, Component Screenshot, Portrait/Landscape Switch, Screenshot Prevention, etc.">
      [Daily HarmonyOS Next Knowledge] View Touch Hotspot Range, Direct Clipboard Assignment, Component Screenshot, Portrait/Landscape Switch, Screenshot Prevention, etc. <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Daily-HarmonyOS-Next-Knowledge-Opening-Half-Screen-via-Routing-Custom-Grid-Gestures-etc"><span class="nav-number">1.</span> <span class="nav-text">[Daily HarmonyOS Next Knowledge] Opening Half-Screen via Routing, Custom Grid, Gestures, etc.</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-How-to-open-a-half-screen-via-routing"><span class="nav-number">1.1.</span> <span class="nav-text">1. How to open a half-screen via routing?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Are-there-alternative-solutions-for-setting-Grid-onItemDragStart-time-and-universal-examples-for-multi-column-Grid-Items"><span class="nav-number">1.2.</span> <span class="nav-text">2. Are there alternative solutions for setting Grid onItemDragStart time and universal examples for multi-column Grid Items?</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Qingkouwei</p>
  <div class="site-description" itemprop="description">Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">347</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Qingkouwei</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
