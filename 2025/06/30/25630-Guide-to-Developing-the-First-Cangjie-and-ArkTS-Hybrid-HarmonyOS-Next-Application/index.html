<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"harmonyostech.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Guide to Developing the First Cangjie and ArkTS Hybrid HarmonyOS Next ApplicationI. Environment Preparation and Project CreationTo ensure optimal performance, this article is based on DevEco Studio 5.">
<meta property="og:type" content="article">
<meta property="og:title" content="Guide to Developing the First Cangjie and ArkTS Hybrid HarmonyOS Next Application">
<meta property="og:url" content="https://harmonyostech.github.io/2025/06/30/25630-Guide-to-Developing-the-First-Cangjie-and-ArkTS-Hybrid-HarmonyOS-Next-Application/index.html">
<meta property="og:site_name" content="HarmonyOS NEXT Knowledge Charging Station">
<meta property="og:description" content="Guide to Developing the First Cangjie and ArkTS Hybrid HarmonyOS Next ApplicationI. Environment Preparation and Project CreationTo ensure optimal performance, this article is based on DevEco Studio 5.">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2025-06-30T09:40:13.000Z">
<meta property="article:modified_time" content="2025-07-13T09:57:06.579Z">
<meta property="article:author" content="Qingkouwei">
<meta property="article:tag" content="HarmonyOS Next">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://harmonyostech.github.io/2025/06/30/25630-Guide-to-Developing-the-First-Cangjie-and-ArkTS-Hybrid-HarmonyOS-Next-Application/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Guide to Developing the First Cangjie and ArkTS Hybrid HarmonyOS Next Application | HarmonyOS NEXT Knowledge Charging Station</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">HarmonyOS NEXT Knowledge Charging Station</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Analysis of Core Technologies and Application Scenarios of HarmonyOS NEXT</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/30/25630-Guide-to-Developing-the-First-Cangjie-and-ArkTS-Hybrid-HarmonyOS-Next-Application/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Guide to Developing the First Cangjie and ArkTS Hybrid HarmonyOS Next Application
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2025-06-30 17:40:13" itemprop="dateCreated datePublished" datetime="2025-06-30T17:40:13+08:00">2025-06-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-13 17:57:06" itemprop="dateModified" datetime="2025-07-13T17:57:06+08:00">2025-07-13</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/HarmonyOS-Next-Cangjie/" itemprop="url" rel="index"><span itemprop="name">HarmonyOS Next Cangjie</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="Guide-to-Developing-the-First-Cangjie-and-ArkTS-Hybrid-HarmonyOS-Next-Application"><a href="#Guide-to-Developing-the-First-Cangjie-and-ArkTS-Hybrid-HarmonyOS-Next-Application" class="headerlink" title="Guide to Developing the First Cangjie and ArkTS Hybrid HarmonyOS Next Application"></a>Guide to Developing the First Cangjie and ArkTS Hybrid HarmonyOS Next Application</h1><h2 id="I-Environment-Preparation-and-Project-Creation"><a href="#I-Environment-Preparation-and-Project-Creation" class="headerlink" title="I. Environment Preparation and Project Creation"></a>I. Environment Preparation and Project Creation</h2><p>To ensure optimal performance, this article is based on DevEco Studio 5.0.2 Release and DevEco Studio-Cangjie Plugin 5.0.7.100 Beta1. Developers can download the latest version through the specified link.  </p>
<p><strong>Target Audience</strong>: This document is designed for HarmonyOS application developers who have mastered the basics of the Cangjie language, ArkTS language, and UI framework. It helps developers quickly familiarize themselves with the project structure and development process by building a hybrid application with page navigation&#x2F;return functionality.  </p>
<h3 id="Steps-to-Create-a-Hybrid-Project"><a href="#Steps-to-Create-a-Hybrid-Project" class="headerlink" title="Steps to Create a Hybrid Project"></a>Steps to Create a Hybrid Project</h3><ol>
<li>Open DevEco Studio, select <strong>File &gt; New &gt; Create Project</strong> to create a new project.  </li>
<li>Select the <strong>Application</strong> development type.  </li>
<li>Choose the <strong>[Cangjie] Hybrid Ability</strong> template and click <strong>Next</strong>.  </li>
<li>Keep the default configuration parameters unchanged.  </li>
<li>Click <strong>Finish</strong> and wait for the project to be created.</li>
</ol>
<p><strong>Note</strong>: For pure Cangjie project development, select the <strong>[Cangjie] Empty Ability</strong> template. For more information on templates, refer to the project module introduction document.  </p>
<h2 id="II-Analysis-of-Project-Directory-Structure"><a href="#II-Analysis-of-Project-Directory-Structure" class="headerlink" title="II. Analysis of Project Directory Structure"></a>II. Analysis of Project Directory Structure</h2><p>The successfully created Cangjie and ArkTS hybrid project has a specific directory structure, and understanding this structure is crucial for subsequent development.  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">Project_name</span><br><span class="line">├── .hvigor</span><br><span class="line">├── .idea</span><br><span class="line">├── AppScope</span><br><span class="line">│    ├── resources</span><br><span class="line">│    └── app.json5</span><br><span class="line">├── entry</span><br><span class="line">│    ├── build</span><br><span class="line">│    ├── har</span><br><span class="line">│    │    └── CJHyAPIRegister-v1.0.1.har</span><br><span class="line">│    ├── libs</span><br><span class="line">│    ├── oh_modules</span><br><span class="line">│    ├── src</span><br><span class="line">│    │    ├── main</span><br><span class="line">│    │    │    ├── cangjie</span><br><span class="line">│    │    │    │    ├── loader</span><br><span class="line">│    │    │    │    ├── cjpm.toml</span><br><span class="line">│    │    │    │    └── index.cj</span><br><span class="line">│    │    │    ├── ets</span><br><span class="line">│    │    │    │    ├── entryability</span><br><span class="line">│    │    │    │    ├── entrybackupability</span><br><span class="line">│    │    │    │    └── pages</span><br><span class="line">│    │    │    ├── resources</span><br><span class="line">│    │    │    └── module.json5</span><br><span class="line">│    │    ├── mock</span><br><span class="line">│    │    ├── ohosTest</span><br><span class="line">│    │    └── test</span><br><span class="line">│    ├── build-profile.json5</span><br><span class="line">│    ├── hvigorfile.ts</span><br><span class="line">│    ├── obfuscation-rules.txt</span><br><span class="line">│    ├── oh-package.json5</span><br><span class="line">│    └── oh-package-lock.json5</span><br><span class="line">├── hvigor</span><br><span class="line">│    ├── cangjie-build-support-x.y.z.tgz</span><br><span class="line">│    └── hvigor-config.json5</span><br><span class="line">├── oh_modules</span><br><span class="line">├── build-profile.json5</span><br><span class="line">├── code-linter.json5</span><br><span class="line">├── hvigorfile.ts</span><br><span class="line">├── local.properties</span><br><span class="line">├── oh-package.json5</span><br><span class="line">└── oh-package-lock.json5</span><br></pre></td></tr></table></figure>

<h3 id="Key-File-Descriptions"><a href="#Key-File-Descriptions" class="headerlink" title="Key File Descriptions"></a>Key File Descriptions</h3><ul>
<li><strong>AppScope &gt; app.json5</strong>: Global configuration information for the application.  </li>
<li><strong>entry</strong>: The HarmonyOS project module, which generates a HAP package after compilation.  </li>
<li><strong>src &gt; har</strong>: Stores HAR modules dependent on Cangjie and ArkTS interoperation.  </li>
<li><strong>src &gt; main &gt; cangjie</strong>: Cangjie source code directory.  </li>
<li><strong>src &gt; main &gt; cangjie &gt; loader</strong>: Dependency library for Cangjie and ArkTS interoperation.  </li>
<li><strong>src &gt; main &gt; cangjie &gt; cjpm.toml</strong>: Cangjie package management configuration file.  </li>
<li><strong>src &gt; main &gt; ets</strong>: ArkTS source code directory.  </li>
<li><strong>src &gt; main &gt; resources</strong>: Application resource file directory.  </li>
<li><strong>src &gt; main &gt; module.json5</strong>: Module configuration file, including HAP and application configuration information.</li>
</ul>
<h2 id="III-Building-the-First-Page-Pure-ArkTS-Page"><a href="#III-Building-the-First-Page-Pure-ArkTS-Page" class="headerlink" title="III. Building the First Page (Pure ArkTS Page)"></a>III. Building the First Page (Pure ArkTS Page)</h2><p>This section guides you to create a basic ArkTS page with text and button components.  </p>
<h3 id="Creating-a-Basic-Page-with-Text-Components"><a href="#Creating-a-Basic-Page-with-Text-Components" class="headerlink" title="Creating a Basic Page with Text Components"></a>Creating a Basic Page with Text Components</h3><p>Open the <strong>Index.ets</strong> file in the <strong>entry &gt; src &gt; main &gt; ets &gt; pages</strong> directory and write the following code:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Index.ets</span></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Index</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">message</span>: <span class="built_in">string</span> = <span class="string">&#x27;Hello World&#x27;</span></span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Row</span>() &#123;</span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">message</span>)</span><br><span class="line">          .<span class="title function_">fontSize</span>(<span class="number">50</span>)</span><br><span class="line">          .<span class="title function_">fontWeight</span>(<span class="title class_">FontWeight</span>.<span class="property">Bold</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>This code creates a simple page displaying “Hello World” text in the center.  </p>
<h3 id="Adding-Button-Components-for-Page-Navigation"><a href="#Adding-Button-Components-for-Page-Navigation" class="headerlink" title="Adding Button Components for Page Navigation"></a>Adding Button Components for Page Navigation</h3><p>Add a button component to the existing page:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Index.ets</span></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Index</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">message</span>: <span class="built_in">string</span> = <span class="string">&#x27;Hello World&#x27;</span></span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Row</span>() &#123;</span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">message</span>)</span><br><span class="line">          .<span class="title function_">fontSize</span>(<span class="number">50</span>)</span><br><span class="line">          .<span class="title function_">fontWeight</span>(<span class="title class_">FontWeight</span>.<span class="property">Bold</span>)</span><br><span class="line">        <span class="comment">// Add button component</span></span><br><span class="line">        <span class="title class_">Button</span>() &#123;</span><br><span class="line">          <span class="title class_">Text</span>(<span class="string">&#x27;Next&#x27;</span>)</span><br><span class="line">            .<span class="title function_">fontSize</span>(<span class="number">30</span>)</span><br><span class="line">            .<span class="title function_">fontWeight</span>(<span class="title class_">FontWeight</span>.<span class="property">Bold</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        .<span class="title function_">type</span>(<span class="title class_">ButtonType</span>.<span class="property">Capsule</span>)</span><br><span class="line">        .<span class="title function_">margin</span>(&#123;</span><br><span class="line">          <span class="attr">top</span>: <span class="number">20</span></span><br><span class="line">        &#125;)</span><br><span class="line">        .<span class="title function_">backgroundColor</span>(<span class="string">&#x27;#0D9FFB&#x27;</span>)</span><br><span class="line">        .<span class="title function_">width</span>(<span class="string">&#x27;40%&#x27;</span>)</span><br><span class="line">        .<span class="title function_">height</span>(<span class="string">&#x27;5%&#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>This button will be used to implement page navigation in the next section.  </p>
<h2 id="IV-Building-the-Second-Page-ArkTS-and-Cangjie-Hybrid-Page"><a href="#IV-Building-the-Second-Page-ArkTS-and-Cangjie-Hybrid-Page" class="headerlink" title="IV. Building the Second Page (ArkTS and Cangjie Hybrid Page)"></a>IV. Building the Second Page (ArkTS and Cangjie Hybrid Page)</h2><p>In a hybrid development scenario, a Cangjie page is embedded as a component in an ArkTS page, requiring specific configuration and encapsulation.  </p>
<h3 id="Steps-to-Create-a-Hybrid-Page"><a href="#Steps-to-Create-a-Hybrid-Page" class="headerlink" title="Steps to Create a Hybrid Page"></a>Steps to Create a Hybrid Page</h3><ol>
<li>In the <strong>Project</strong> window, open <strong>entry &gt; src &gt; main</strong>.  </li>
<li>Right-click the <strong>cangjie</strong> folder.  </li>
<li>Select <strong>New &gt; Cangjie Page &gt; Empty Page</strong>.  </li>
<li>Name it <strong>Second</strong>.  </li>
<li>Select the <strong>With ArkTS Wrapper</strong> option.  </li>
<li>Click <strong>OK</strong>.</li>
</ol>
<p>After completing the operations, the project directory will be updated as follows:  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">entry</span><br><span class="line">├── .preview</span><br><span class="line">├── build</span><br><span class="line">├── libs</span><br><span class="line">├── oh_modules</span><br><span class="line">└── src</span><br><span class="line">     └── main</span><br><span class="line">          ├── cangjie</span><br><span class="line">          │    ├── loader</span><br><span class="line">          │    ├── cjpm.toml</span><br><span class="line">          │    └── index.cj</span><br><span class="line">          ├── ets</span><br><span class="line">          │    ├── entryability</span><br><span class="line">          │    ├── entrybackupability</span><br><span class="line">          │    └── pages</span><br><span class="line">          │         ├── Index.ets</span><br><span class="line">          │         └── Second.ets  </span><br><span class="line">          ├── resources</span><br><span class="line">          └── module.json5</span><br></pre></td></tr></table></figure>

<p>Two key files will be automatically generated:  </p>
<ul>
<li><strong>second.cj</strong> (Cangjie source code) in <strong>src &gt; main &gt; cangjie</strong>.  </li>
<li><strong>second.ets</strong> (ArkTS source code) in <strong>src &gt; ets &gt; pages</strong>.</li>
</ul>
<p>Additionally, the system will:  </p>
<ol>
<li>Generate the <strong>CJHybridView-vx.y.z.har</strong> package in <strong>entry &gt; har</strong>.  </li>
<li>Add this HAR package dependency to the <strong>dependencies</strong> field of <strong>entry &gt; oh-package.json5</strong>.</li>
</ol>
<h3 id="Configuring-the-Cangjie-Page-Component"><a href="#Configuring-the-Cangjie-Page-Component" class="headerlink" title="Configuring the Cangjie Page Component"></a>Configuring the Cangjie Page Component</h3><p>Edit the <strong>second.cj</strong> file and add UI components:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// second.cj</span></span><br><span class="line">package ohos_app_cangjie_entry</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> ohos.<span class="property">base</span>.*</span><br><span class="line"><span class="keyword">import</span> ohos.<span class="property">component</span>.*</span><br><span class="line"><span class="keyword">import</span> ohos.<span class="property">hybrid_base</span>.*</span><br><span class="line"><span class="keyword">import</span> ohos.<span class="property">state_macro_manage</span>.*</span><br><span class="line"><span class="keyword">import</span> ohos.<span class="property">state_manage</span>.*</span><br><span class="line"><span class="keyword">import</span> cj_res_entry.<span class="property">app</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@HybridComponentEntry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Second</span> &#123;</span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">var</span> <span class="attr">msg</span>: <span class="title class_">String</span> = <span class="string">&quot;Hello Cangjie&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> func <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title class_">Row</span>() &#123;</span><br><span class="line">            <span class="title class_">Column</span>() &#123;</span><br><span class="line">                <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">msg</span>)</span><br><span class="line">                    .<span class="title function_">fontSize</span>(<span class="number">50</span>)</span><br><span class="line">                    .<span class="title function_">fontWeight</span>(<span class="title class_">FontWeight</span>.<span class="property">Bold</span>)</span><br><span class="line"></span><br><span class="line">                <span class="title class_">Button</span>() &#123;</span><br><span class="line">                    <span class="title class_">Text</span>(<span class="string">&quot;Back&quot;</span>)</span><br><span class="line">                        .<span class="title function_">fontSize</span>(<span class="number">30</span>)</span><br><span class="line">                        .<span class="title function_">fontWeight</span>(<span class="title class_">FontWeight</span>.<span class="property">Bold</span>)</span><br><span class="line">                &#125;</span><br><span class="line">                .<span class="title function_">shape</span>(<span class="title class_">ShapeType</span>.<span class="property">Capsule</span>)</span><br><span class="line">                .<span class="title function_">margin</span>(<span class="attr">top</span>: <span class="number">20</span>)</span><br><span class="line">                .<span class="title function_">backgroundColor</span>(<span class="title class_">Color</span>(<span class="number">0x0D9FFB</span>))</span><br><span class="line">                .<span class="title function_">width</span>(<span class="number">40.</span>percent)</span><br><span class="line">                .<span class="title function_">height</span>(<span class="number">5.</span>percent)</span><br><span class="line">            &#125;</span><br><span class="line">            .<span class="title function_">width</span>(<span class="number">100.</span>percent)</span><br><span class="line">        &#125;</span><br><span class="line">        .<span class="title function_">height</span>(<span class="number">100.</span>percent)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Configuring-the-ArkTS-Wrapper-Page"><a href="#Configuring-the-ArkTS-Wrapper-Page" class="headerlink" title="Configuring the ArkTS Wrapper Page"></a>Configuring the ArkTS Wrapper Page</h3><p>The automatically generated <strong>second.ets</strong> file provides an ArkTS wrapper template:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// second.ets</span></span><br><span class="line"><span class="comment">// Embed Cangjie page in ArkTS page</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">CJHybridComponentV</span>2 &#125; <span class="keyword">from</span> <span class="string">&#x27;cjhybridview&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; register_hsp_api &#125; <span class="keyword">from</span> <span class="string">&#x27;cjhyapiregister&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">register_hsp_api</span>()</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Second</span> &#123;</span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Row</span>() &#123;</span><br><span class="line">      <span class="comment">// Embed Cangjie page via CJHybridComponentV2 interface</span></span><br><span class="line">      <span class="title class_">CJHybridComponentV</span>2(&#123;</span><br><span class="line">        <span class="attr">library</span>: <span class="string">&quot;ohos_app_cangjie_entry&quot;</span>, <span class="comment">// Package name of the Cangjie page</span></span><br><span class="line">        <span class="attr">component</span>: <span class="string">&quot;Second&quot;</span>                <span class="comment">// Class name of the Cangjie page</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="V-Implementing-Navigation-Between-Pages"><a href="#V-Implementing-Navigation-Between-Pages" class="headerlink" title="V. Implementing Navigation Between Pages"></a>V. Implementing Navigation Between Pages</h2><p>This section details how to implement navigation between ArkTS and Cangjie pages.  </p>
<h3 id="Navigating-from-the-First-Page-to-the-Second-Page"><a href="#Navigating-from-the-First-Page-to-the-Second-Page" class="headerlink" title="Navigating from the First Page to the Second Page"></a>Navigating from the First Page to the Second Page</h3><p>Add a click event handler to the button in <strong>Index.ets</strong>:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Index.ets</span></span><br><span class="line"><span class="comment">// Import page routing module</span></span><br><span class="line"><span class="keyword">import</span> &#123; router &#125; <span class="keyword">from</span> <span class="string">&#x27;@kit.ArkUI&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">BusinessError</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@kit.BasicServicesKit&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Index</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="attr">message</span>: <span class="built_in">string</span> = <span class="string">&#x27;Hello World&#x27;</span></span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Row</span>() &#123;</span><br><span class="line">      <span class="title class_">Column</span>() &#123;</span><br><span class="line">        <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">message</span>)</span><br><span class="line">          .<span class="title function_">fontSize</span>(<span class="number">50</span>)</span><br><span class="line">          .<span class="title function_">fontWeight</span>(<span class="title class_">FontWeight</span>.<span class="property">Bold</span>)</span><br><span class="line">        <span class="comment">// Add button to respond to user clicks</span></span><br><span class="line">        <span class="title class_">Button</span>() &#123;</span><br><span class="line">          <span class="title class_">Text</span>(<span class="string">&#x27;Next&#x27;</span>)</span><br><span class="line">            .<span class="title function_">fontSize</span>(<span class="number">30</span>)</span><br><span class="line">            .<span class="title function_">fontWeight</span>(<span class="title class_">FontWeight</span>.<span class="property">Bold</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        .<span class="title function_">type</span>(<span class="title class_">ButtonType</span>.<span class="property">Capsule</span>)</span><br><span class="line">        .<span class="title function_">margin</span>(&#123;</span><br><span class="line">          <span class="attr">top</span>: <span class="number">20</span></span><br><span class="line">        &#125;)</span><br><span class="line">        .<span class="title function_">backgroundColor</span>(<span class="string">&#x27;#0D9FFB&#x27;</span>)</span><br><span class="line">        .<span class="title function_">width</span>(<span class="string">&#x27;40%&#x27;</span>)</span><br><span class="line">        .<span class="title function_">height</span>(<span class="string">&#x27;5%&#x27;</span>)</span><br><span class="line">        <span class="comment">// Bind onClick event to the navigation button</span></span><br><span class="line">        .<span class="title function_">onClick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">`Succeeded in clicking the &#x27;Next&#x27; button.`</span>)</span><br><span class="line">          <span class="comment">// Navigate to the second page</span></span><br><span class="line">          router.<span class="title function_">pushUrl</span>(&#123; <span class="attr">url</span>: <span class="string">&#x27;pages/second&#x27;</span> &#125;).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&#x27;Succeeded in jumping to the second page.&#x27;</span>)</span><br><span class="line">          &#125;).<span class="title function_">catch</span>(<span class="function">(<span class="params"><span class="attr">err</span>: <span class="title class_">BusinessError</span></span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`Failed to jump to the second page. Code is <span class="subst">$&#123;err.code&#125;</span>, message is <span class="subst">$&#123;err.message&#125;</span>`</span>)</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">      .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Returning-from-the-Second-Page-to-the-First-Page"><a href="#Returning-from-the-Second-Page-to-the-First-Page" class="headerlink" title="Returning from the Second Page to the First Page"></a>Returning from the Second Page to the First Page</h3><p>Since the routing systems of Cangjie and ArkTS are not directly interoperable, callbacks must be implemented through an interoperation mechanism.  </p>
<h4 id="Registering-ArkTS-Functions-on-the-Cangjie-Side"><a href="#Registering-ArkTS-Functions-on-the-Cangjie-Side" class="headerlink" title="Registering ArkTS Functions on the Cangjie Side"></a>Registering ArkTS Functions on the Cangjie Side</h4><p>Edit the <strong>index.cj</strong> file in <strong>entry &gt; src &gt; main &gt; cangjie</strong>:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.cj</span></span><br><span class="line">package ohos_app_cangjie_entry</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> ohos.<span class="property">base</span>.*</span><br><span class="line"><span class="keyword">import</span> ohos.<span class="property">ark_interop</span>.*</span><br><span class="line"><span class="keyword">import</span> ohos.<span class="property">ark_interop_macro</span>.*</span><br><span class="line"><span class="keyword">import</span> std.<span class="property">collection</span>.*</span><br><span class="line"></span><br><span class="line"><span class="comment">// Define a global HashMap to store ArkTS-registered functions</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">let</span> globalJSFunction = <span class="title class_">HashMap</span>&lt;<span class="title class_">String</span>, ()-&gt;<span class="title class_">Unit</span>&gt;()</span><br><span class="line"></span><br><span class="line"><span class="meta">@Interop</span>[<span class="title class_">ArkTS</span>]</span><br><span class="line"><span class="keyword">public</span> func <span class="title function_">registerJSFunc</span>(<span class="attr">name</span>: <span class="title class_">String</span>, <span class="attr">fn</span>: ()-&gt;<span class="title class_">Unit</span>): <span class="title class_">Unit</span> &#123;</span><br><span class="line">    <span class="comment">// Check if the function is already registered</span></span><br><span class="line">    <span class="keyword">if</span> (globalJSFunction.<span class="title function_">contains</span>(name)) &#123;</span><br><span class="line">        <span class="title class_">AppLog</span>.<span class="title function_">error</span>(<span class="string">&quot;registerJSFunc failed(err: func $&#123;name&#125; already exists)&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// Save the function reference</span></span><br><span class="line">    globalJSFunction.<span class="title function_">put</span>(name, fn)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Interop</span>[<span class="title class_">ArkTS</span>]</span><br><span class="line"><span class="keyword">public</span> func <span class="title function_">unregisterJSFunc</span>(<span class="attr">name</span>: <span class="title class_">String</span>): <span class="title class_">Unit</span> &#123;</span><br><span class="line">    globalJSFunction.<span class="title function_">remove</span>(name)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>To generate the interoperation interface file, right-click in the <strong>index.cj</strong> editing window and select <strong>Generate… &gt; Cangjie-ArkTS Interop API</strong>. The auto-generated interface declaration is in <strong>entry &gt; src &gt; main &gt; cangjie &gt; ark_interop_api &gt; ark_interop_api.d.ts</strong>.  </p>
<h4 id="Registering-Routing-Functions-on-the-ArkTS-Side"><a href="#Registering-Routing-Functions-on-the-ArkTS-Side" class="headerlink" title="Registering Routing Functions on the ArkTS Side"></a>Registering Routing Functions on the ArkTS Side</h4><p>Edit <strong>second.ets</strong> and add function registration logic:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// second.ets</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">CJHybridComponentV</span>2 &#125; <span class="keyword">from</span> <span class="string">&#x27;cjhybridview&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; register_hsp_api &#125; <span class="keyword">from</span> <span class="string">&#x27;cjhyapiregister&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Import page routing module</span></span><br><span class="line"><span class="keyword">import</span> &#123; router &#125; <span class="keyword">from</span> <span class="string">&#x27;@kit.ArkUI&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">BusinessError</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@kit.BasicServicesKit&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Import Cangjie-ArkTS interoperation library</span></span><br><span class="line"><span class="keyword">import</span> &#123; requireCJLib &#125; <span class="keyword">from</span> <span class="string">&#x27;libark_interop_loader.so&#x27;</span>;</span><br><span class="line"><span class="comment">// Import auto-generated interoperation interface</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">CustomLib</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;libark_interop_api.so&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">register_hsp_api</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// Load the Cangjie so library containing registerJSFunc</span></span><br><span class="line"><span class="keyword">let</span> cjlib = <span class="title function_">requireCJLib</span>(<span class="string">&quot;libohos_app_cangjie_entry.so&quot;</span>) <span class="keyword">as</span> <span class="title class_">CustomLib</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Entry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line">struct <span class="title class_">Second</span> &#123;</span><br><span class="line">  <span class="title function_">aboutToAppear</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="comment">// Register callback before page appears</span></span><br><span class="line">    cjlib.<span class="title function_">registerJSFunc</span>(<span class="string">&#x27;SecondPageRouterBack&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// Perform return operation</span></span><br><span class="line">        router.<span class="title function_">back</span>()</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&#x27;Succeeded in returning to the first page.&#x27;</span>)</span><br><span class="line">      &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">        <span class="keyword">let</span> code = (err <span class="keyword">as</span> <span class="title class_">BusinessError</span>).<span class="property">code</span>;</span><br><span class="line">        <span class="keyword">let</span> message = (err <span class="keyword">as</span> <span class="title class_">BusinessError</span>).<span class="property">message</span>;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`Failed to return to the first page. Code is <span class="subst">$&#123;code&#125;</span>, message is <span class="subst">$&#123;message&#125;</span>`</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">aboutToDisappear</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="comment">// Unregister callback before page is destroyed</span></span><br><span class="line">    cjlib.<span class="title function_">unregisterJSFunc</span>(<span class="string">&#x27;SecondPageRouterBack&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Row</span>() &#123;</span><br><span class="line">      <span class="comment">// Embed Cangjie page component</span></span><br><span class="line">      <span class="title class_">CJHybridComponentV</span>2(&#123;</span><br><span class="line">        <span class="attr">library</span>: <span class="string">&quot;ohos_app_cangjie_entry&quot;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="string">&quot;Second&quot;</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="title function_">height</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">    .<span class="title function_">width</span>(<span class="string">&#x27;100%&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Calling-ArkTS-Functions-on-the-Cangjie-Side"><a href="#Calling-ArkTS-Functions-on-the-Cangjie-Side" class="headerlink" title="Calling ArkTS Functions on the Cangjie Side"></a>Calling ArkTS Functions on the Cangjie Side</h4><p>Edit <strong>second.cj</strong> and add event handling for the return button:  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// second.cj</span></span><br><span class="line">package ohos_app_cangjie_entry</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> ohos.<span class="property">base</span>.*</span><br><span class="line"><span class="keyword">import</span> ohos.<span class="property">component</span>.*</span><br><span class="line"><span class="keyword">import</span> ohos.<span class="property">hybrid_base</span>.*</span><br><span class="line"><span class="keyword">import</span> ohos.<span class="property">state_macro_manage</span>.*</span><br><span class="line"><span class="keyword">import</span> ohos.<span class="property">state_manage</span>.*</span><br><span class="line"><span class="keyword">import</span> cj_res_entry.<span class="property">app</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@HybridComponentEntry</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Second</span> &#123;</span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">var</span> <span class="attr">msg</span>: <span class="title class_">String</span> = <span class="string">&quot;Hello Cangjie&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> func <span class="title function_">build</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title class_">Row</span>() &#123;</span><br><span class="line">            <span class="title class_">Column</span>() &#123;</span><br><span class="line">                <span class="title class_">Text</span>(<span class="variable language_">this</span>.<span class="property">msg</span>)</span><br><span class="line">                    .<span class="title function_">fontSize</span>(<span class="number">50</span>)</span><br><span class="line">                    .<span class="title function_">fontWeight</span>(<span class="title class_">FontWeight</span>.<span class="property">Bold</span>)</span><br><span class="line"></span><br><span class="line">                <span class="title class_">Button</span>() &#123;</span><br><span class="line">                    <span class="title class_">Text</span>(<span class="string">&quot;Back&quot;</span>)</span><br><span class="line">                        .<span class="title function_">fontSize</span>(<span class="number">30</span>)</span><br><span class="line">                        .<span class="title function_">fontWeight</span>(<span class="title class_">FontWeight</span>.<span class="property">Bold</span>)</span><br><span class="line">                &#125;</span><br><span class="line">                .<span class="title function_">shape</span>(<span class="title class_">ShapeType</span>.<span class="property">Capsule</span>)</span><br><span class="line">                .<span class="title function_">margin</span>(<span class="attr">top</span>: <span class="number">20</span>)</span><br><span class="line">                .<span class="title function_">backgroundColor</span>(<span class="title class_">Color</span>(<span class="number">0x0D9FFB</span>))</span><br><span class="line">                .<span class="title function_">width</span>(<span class="number">40.</span>percent)</span><br><span class="line">                .<span class="title function_">height</span>(<span class="number">5.</span>percent)</span><br><span class="line">                <span class="comment">// Bind click event to the return button</span></span><br><span class="line">                .<span class="property">onClick</span> &#123;</span><br><span class="line">                    <span class="title class_">AppLog</span>.<span class="title function_">info</span>(<span class="string">&quot;Succeeded in clicking the &#x27;Back&#x27; button.&quot;</span>)</span><br><span class="line">                    <span class="keyword">let</span> optFn = globalJSFunction.<span class="title function_">get</span>(<span class="string">&quot;SecondPageRouterBack&quot;</span>)</span><br><span class="line">                    <span class="keyword">if</span> (<span class="keyword">let</span> <span class="title class_">Some</span>(fn) &lt;- optFn) &#123;</span><br><span class="line">                        <span class="title function_">fn</span>() <span class="comment">// Call the callback registered by ArkTS</span></span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="title class_">AppLog</span>.<span class="title function_">error</span>(<span class="string">&quot;Failed to return to the first page. Callback not exists&quot;</span>)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            .<span class="title function_">width</span>(<span class="number">100.</span>percent)</span><br><span class="line">        &#125;</span><br><span class="line">        .<span class="title function_">height</span>(<span class="number">100.</span>percent)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="VI-Running-and-Testing-the-Application"><a href="#VI-Running-and-Testing-the-Application" class="headerlink" title="VI. Running and Testing the Application"></a>VI. Running and Testing the Application</h2><p>After completing development, test the application on a real device or simulator.  </p>
<h3 id="Running-on-a-Local-Real-Device"><a href="#Running-on-a-Local-Real-Device" class="headerlink" title="Running on a Local Real Device"></a>Running on a Local Real Device</h3><ol>
<li>Connect a HarmonyOS device to the computer via USB.  </li>
<li>In DevEco Studio, go to <strong>File &gt; Project Structure… &gt; Project &gt; SigningConfigs</strong>.  </li>
<li>Check <strong>Support HarmonyOS</strong> and <strong>Automatically generate signature</strong>.  </li>
<li>Click <strong>Sign In</strong> and log in with a Huawei account.  </li>
<li>Wait for automatic signing to complete, then click <strong>OK</strong>.  </li>
<li>Click the run button in the upper-right toolbar of the editing window.</li>
</ol>
<h3 id="Running-on-a-Simulator"><a href="#Running-on-a-Simulator" class="headerlink" title="Running on a Simulator"></a>Running on a Simulator</h3><ol>
<li>Create a Phone-type simulator device.  </li>
<li>Select the simulator in the DevEco Studio device list.  </li>
<li>Note: The default compilation architecture for Cangjie projects is arm64-v8a.  </li>
<li>For x86 simulators (Windows&#x2F;x86_64 or MacOS&#x2F;x86_64), add x86_64 support in <strong>entry &gt; build-profile.json5</strong>:</li>
</ol>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;buildOption&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;cangjieOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;./src/main/cangjie/cjpm.toml&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;abiFilters&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;arm64-v8a&quot;</span><span class="punctuation">,</span> <span class="string">&quot;x86_64&quot;</span><span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<ol start="5">
<li>Click the run button to test.</li>
</ol>
<h2 id="VII-Summary-and-Extensions"><a href="#VII-Summary-and-Extensions" class="headerlink" title="VII. Summary and Extensions"></a>VII. Summary and Extensions</h2><p>Congratulations on completing the development of your first Cangjie and ArkTS hybrid application! Through this tutorial, you have mastered</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/HarmonyOS-Next/" rel="tag"># HarmonyOS Next</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2025/06/30/4830-Daily-HarmonyOS-Next-Knowledge-TensorFlow-Lite-Compilation-Audio-Encoding-Threads-Immersive-Status-Bar-TextArea-Byte-Limit-etc/" rel="prev" title="[Daily HarmonyOS Next Knowledge] TensorFlow Lite Compilation, Audio Encoding Threads, Immersive Status Bar, TextArea Byte Limit, etc.">
      <i class="fa fa-chevron-left"></i> [Daily HarmonyOS Next Knowledge] TensorFlow Lite Compilation, Audio Encoding Threads, Immersive Status Bar, TextArea Byte Limit, etc.
    </a></div>
      <div class="post-nav-item">
    <a href="/2025/06/30/25630-Introduction-to-HarmonyOS-Next-Data-Base-Vector-Database/" rel="next" title="Introduction to HarmonyOS Next Data Base Vector Database">
      Introduction to HarmonyOS Next Data Base Vector Database <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Guide-to-Developing-the-First-Cangjie-and-ArkTS-Hybrid-HarmonyOS-Next-Application"><span class="nav-number">1.</span> <span class="nav-text">Guide to Developing the First Cangjie and ArkTS Hybrid HarmonyOS Next Application</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#I-Environment-Preparation-and-Project-Creation"><span class="nav-number">1.1.</span> <span class="nav-text">I. Environment Preparation and Project Creation</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Steps-to-Create-a-Hybrid-Project"><span class="nav-number">1.1.1.</span> <span class="nav-text">Steps to Create a Hybrid Project</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#II-Analysis-of-Project-Directory-Structure"><span class="nav-number">1.2.</span> <span class="nav-text">II. Analysis of Project Directory Structure</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Key-File-Descriptions"><span class="nav-number">1.2.1.</span> <span class="nav-text">Key File Descriptions</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#III-Building-the-First-Page-Pure-ArkTS-Page"><span class="nav-number">1.3.</span> <span class="nav-text">III. Building the First Page (Pure ArkTS Page)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Creating-a-Basic-Page-with-Text-Components"><span class="nav-number">1.3.1.</span> <span class="nav-text">Creating a Basic Page with Text Components</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Adding-Button-Components-for-Page-Navigation"><span class="nav-number">1.3.2.</span> <span class="nav-text">Adding Button Components for Page Navigation</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#IV-Building-the-Second-Page-ArkTS-and-Cangjie-Hybrid-Page"><span class="nav-number">1.4.</span> <span class="nav-text">IV. Building the Second Page (ArkTS and Cangjie Hybrid Page)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Steps-to-Create-a-Hybrid-Page"><span class="nav-number">1.4.1.</span> <span class="nav-text">Steps to Create a Hybrid Page</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Configuring-the-Cangjie-Page-Component"><span class="nav-number">1.4.2.</span> <span class="nav-text">Configuring the Cangjie Page Component</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Configuring-the-ArkTS-Wrapper-Page"><span class="nav-number">1.4.3.</span> <span class="nav-text">Configuring the ArkTS Wrapper Page</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#V-Implementing-Navigation-Between-Pages"><span class="nav-number">1.5.</span> <span class="nav-text">V. Implementing Navigation Between Pages</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Navigating-from-the-First-Page-to-the-Second-Page"><span class="nav-number">1.5.1.</span> <span class="nav-text">Navigating from the First Page to the Second Page</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Returning-from-the-Second-Page-to-the-First-Page"><span class="nav-number">1.5.2.</span> <span class="nav-text">Returning from the Second Page to the First Page</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Registering-ArkTS-Functions-on-the-Cangjie-Side"><span class="nav-number">1.5.2.1.</span> <span class="nav-text">Registering ArkTS Functions on the Cangjie Side</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Registering-Routing-Functions-on-the-ArkTS-Side"><span class="nav-number">1.5.2.2.</span> <span class="nav-text">Registering Routing Functions on the ArkTS Side</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Calling-ArkTS-Functions-on-the-Cangjie-Side"><span class="nav-number">1.5.2.3.</span> <span class="nav-text">Calling ArkTS Functions on the Cangjie Side</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#VI-Running-and-Testing-the-Application"><span class="nav-number">1.6.</span> <span class="nav-text">VI. Running and Testing the Application</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Running-on-a-Local-Real-Device"><span class="nav-number">1.6.1.</span> <span class="nav-text">Running on a Local Real Device</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Running-on-a-Simulator"><span class="nav-number">1.6.2.</span> <span class="nav-text">Running on a Simulator</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#VII-Summary-and-Extensions"><span class="nav-number">1.7.</span> <span class="nav-text">VII. Summary and Extensions</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Qingkouwei</p>
  <div class="site-description" itemprop="description">Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">364</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Qingkouwei</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
