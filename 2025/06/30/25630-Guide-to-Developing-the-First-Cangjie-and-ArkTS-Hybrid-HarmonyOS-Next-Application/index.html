<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"harmonyostech.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Guide to Developing the First Cangjie and ArkTS Hybrid HarmonyOS Next ApplicationI. Environment Preparation and Project CreationTo ensure optimal performance, this article is based on DevEco Studio 5.">
<meta property="og:type" content="article">
<meta property="og:title" content="25630-Guide to Developing the First Cangjie and ArkTS Hybrid HarmonyOS Next Application">
<meta property="og:url" content="https://harmonyostech.github.io/2025/06/30/25630-Guide-to-Developing-the-First-Cangjie-and-ArkTS-Hybrid-HarmonyOS-Next-Application/index.html">
<meta property="og:site_name" content="HarmonyOS NEXT Knowledge Charging Station">
<meta property="og:description" content="Guide to Developing the First Cangjie and ArkTS Hybrid HarmonyOS Next ApplicationI. Environment Preparation and Project CreationTo ensure optimal performance, this article is based on DevEco Studio 5.">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2025-06-30T09:40:13.000Z">
<meta property="article:modified_time" content="2025-06-30T09:43:33.669Z">
<meta property="article:author" content="Qingkouwei">
<meta property="article:tag" content="HarmonyOS Next">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://harmonyostech.github.io/2025/06/30/25630-Guide-to-Developing-the-First-Cangjie-and-ArkTS-Hybrid-HarmonyOS-Next-Application/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>25630-Guide to Developing the First Cangjie and ArkTS Hybrid HarmonyOS Next Application | HarmonyOS NEXT Knowledge Charging Station</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">HarmonyOS NEXT Knowledge Charging Station</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Analysis of Core Technologies and Application Scenarios of HarmonyOS NEXT</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://harmonyostech.github.io/2025/06/30/25630-Guide-to-Developing-the-First-Cangjie-and-ArkTS-Hybrid-HarmonyOS-Next-Application/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Qingkouwei">
      <meta itemprop="description" content="Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HarmonyOS NEXT Knowledge Charging Station">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          25630-Guide to Developing the First Cangjie and ArkTS Hybrid HarmonyOS Next Application
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-06-30 17:40:13 / Modified: 17:43:33" itemprop="dateCreated datePublished" datetime="2025-06-30T17:40:13+08:00">2025-06-30</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/HarmonyOS-Next-Cangjie/" itemprop="url" rel="index"><span itemprop="name">HarmonyOS Next Cangjie</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="Guide-to-Developing-the-First-Cangjie-and-ArkTS-Hybrid-HarmonyOS-Next-Application"><a href="#Guide-to-Developing-the-First-Cangjie-and-ArkTS-Hybrid-HarmonyOS-Next-Application" class="headerlink" title="Guide to Developing the First Cangjie and ArkTS Hybrid HarmonyOS Next Application"></a>Guide to Developing the First Cangjie and ArkTS Hybrid HarmonyOS Next Application</h1><h2 id="I-Environment-Preparation-and-Project-Creation"><a href="#I-Environment-Preparation-and-Project-Creation" class="headerlink" title="I. Environment Preparation and Project Creation"></a>I. Environment Preparation and Project Creation</h2><p>To ensure optimal performance, this article is based on DevEco Studio 5.0.2 Release and DevEco Studio-Cangjie Plugin 5.0.7.100 Beta1. Developers can download the latest version through the specified link.  </p>
<p><strong>Target Audience</strong>: This document is designed for HarmonyOS application developers who have mastered the basics of the Cangjie language, ArkTS language, and UI framework. It helps developers quickly familiarize themselves with the project structure and development process by building a hybrid application with page navigation&#x2F;return functionality.  </p>
<h3 id="Steps-to-Create-a-Hybrid-Project"><a href="#Steps-to-Create-a-Hybrid-Project" class="headerlink" title="Steps to Create a Hybrid Project"></a>Steps to Create a Hybrid Project</h3><ol>
<li>Open DevEco Studio, select <strong>File &gt; New &gt; Create Project</strong> to create a new project.  </li>
<li>Select the <strong>Application</strong> development type.  </li>
<li>Choose the <strong>[Cangjie] Hybrid Ability</strong> template and click <strong>Next</strong>.  </li>
<li>Keep the default configuration parameters unchanged.  </li>
<li>Click <strong>Finish</strong> and wait for the project to be created.</li>
</ol>
<p><strong>Note</strong>: For pure Cangjie project development, select the <strong>[Cangjie] Empty Ability</strong> template. For more information on templates, refer to the project module introduction document.  </p>
<h2 id="II-Analysis-of-Project-Directory-Structure"><a href="#II-Analysis-of-Project-Directory-Structure" class="headerlink" title="II. Analysis of Project Directory Structure"></a>II. Analysis of Project Directory Structure</h2><p>The successfully created Cangjie and ArkTS hybrid project has a specific directory structure, and understanding this structure is crucial for subsequent development.  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line">Project_name</span><br><span class="line">├── .hvigor</span><br><span class="line">├── .idea</span><br><span class="line">├── AppScope</span><br><span class="line">│    ├── resources</span><br><span class="line">│    └── app.json5</span><br><span class="line">├── entry</span><br><span class="line">│    ├── build</span><br><span class="line">│    ├── har</span><br><span class="line">│    │    └── CJHyAPIRegister-v1.0.1.har</span><br><span class="line">│    ├── libs</span><br><span class="line">│    ├── oh_modules</span><br><span class="line">│    ├── src</span><br><span class="line">│    │    ├── main</span><br><span class="line">│    │    │    ├── cangjie</span><br><span class="line">│    │    │    │    ├── loader</span><br><span class="line">│    │    │    │    ├── cjpm.toml</span><br><span class="line">│    │    │    │    └── index.cj</span><br><span class="line">│    │    │    ├── ets</span><br><span class="line">│    │    │    │    ├── entryability</span><br><span class="line">│    │    │    │    ├── entrybackupability</span><br><span class="line">│    │    │    │    └── pages</span><br><span class="line">│    │    │    ├── resources</span><br><span class="line">│    │    │    └── module.json5</span><br><span class="line">│    │    ├── mock</span><br><span class="line">│    │    ├── ohosTest</span><br><span class="line">│    │    └── test</span><br><span class="line">│    ├── build-profile.json5</span><br><span class="line">│    ├── hvigorfile.ts</span><br><span class="line">│    ├── obfuscation-rules.txt</span><br><span class="line">│    ├── oh-package.json5</span><br><span class="line">│    └── oh-package-lock.json5</span><br><span class="line">├── hvigor</span><br><span class="line">│    ├── cangjie-build-support-x.y.z.tgz</span><br><span class="line">│    └── hvigor-config.json5</span><br><span class="line">├── oh_modules</span><br><span class="line">├── build-profile.json5</span><br><span class="line">├── code-linter.json5</span><br><span class="line">├── hvigorfile.ts</span><br><span class="line">├── local.properties</span><br><span class="line">├── oh-package.json5</span><br><span class="line">└── oh-package-lock.json5</span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line">### Key File Descriptions  </span><br><span class="line"></span><br><span class="line">- **AppScope &gt; app.json5**: Global configuration information for the application.  </span><br><span class="line">- **entry**: The HarmonyOS project module, which generates a HAP package after compilation.  </span><br><span class="line">- **src &gt; har**: Stores HAR modules dependent on Cangjie and ArkTS interoperation.  </span><br><span class="line">- **src &gt; main &gt; cangjie**: Cangjie source code directory.  </span><br><span class="line">- **src &gt; main &gt; cangjie &gt; loader**: Dependency library for Cangjie and ArkTS interoperation.  </span><br><span class="line">- **src &gt; main &gt; cangjie &gt; cjpm.toml**: Cangjie package management configuration file.  </span><br><span class="line">- **src &gt; main &gt; ets**: ArkTS source code directory.  </span><br><span class="line">- **src &gt; main &gt; resources**: Application resource file directory.  </span><br><span class="line">- **src &gt; main &gt; module.json5**: Module configuration file, including HAP and application configuration information.  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## III. Building the First Page (Pure ArkTS Page)  </span><br><span class="line"></span><br><span class="line">This section guides you to create a basic ArkTS page with text and button components.  </span><br><span class="line"></span><br><span class="line">### Creating a Basic Page with Text Components  </span><br><span class="line"></span><br><span class="line">Open the **Index.ets** file in the **entry &gt; src &gt; main &gt; ets &gt; pages** directory and write the following code:  </span><br><span class="line"></span><br><span class="line">```typescript</span><br><span class="line">// Index.ets</span><br><span class="line">@Entry</span><br><span class="line">@Component</span><br><span class="line">struct Index &#123;</span><br><span class="line">  @State message: string = &#x27;Hello World&#x27;</span><br><span class="line"></span><br><span class="line">  build() &#123;</span><br><span class="line">    Row() &#123;</span><br><span class="line">      Column() &#123;</span><br><span class="line">        Text(this.message)</span><br><span class="line">          .fontSize(50)</span><br><span class="line">          .fontWeight(FontWeight.Bold)</span><br><span class="line">      &#125;</span><br><span class="line">      .width(&#x27;100%&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">    .height(&#x27;100%&#x27;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line">This code creates a simple page displaying &quot;Hello World&quot; text in the center.  </span><br><span class="line"></span><br><span class="line">### Adding Button Components for Page Navigation  </span><br><span class="line"></span><br><span class="line">Add a button component to the existing page:  </span><br><span class="line"></span><br><span class="line">```typescript</span><br><span class="line">// Index.ets</span><br><span class="line">@Entry</span><br><span class="line">@Component</span><br><span class="line">struct Index &#123;</span><br><span class="line">  @State message: string = &#x27;Hello World&#x27;</span><br><span class="line"></span><br><span class="line">  build() &#123;</span><br><span class="line">    Row() &#123;</span><br><span class="line">      Column() &#123;</span><br><span class="line">        Text(this.message)</span><br><span class="line">          .fontSize(50)</span><br><span class="line">          .fontWeight(FontWeight.Bold)</span><br><span class="line">        // Add button component</span><br><span class="line">        Button() &#123;</span><br><span class="line">          Text(&#x27;Next&#x27;)</span><br><span class="line">            .fontSize(30)</span><br><span class="line">            .fontWeight(FontWeight.Bold)</span><br><span class="line">        &#125;</span><br><span class="line">        .type(ButtonType.Capsule)</span><br><span class="line">        .margin(&#123;</span><br><span class="line">          top: 20</span><br><span class="line">        &#125;)</span><br><span class="line">        .backgroundColor(&#x27;#0D9FFB&#x27;)</span><br><span class="line">        .width(&#x27;40%&#x27;)</span><br><span class="line">        .height(&#x27;5%&#x27;)</span><br><span class="line">      &#125;</span><br><span class="line">      .width(&#x27;100%&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">    .height(&#x27;100%&#x27;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line">This button will be used to implement page navigation in the next section.  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## IV. Building the Second Page (ArkTS and Cangjie Hybrid Page)  </span><br><span class="line"></span><br><span class="line">In a hybrid development scenario, a Cangjie page is embedded as a component in an ArkTS page, requiring specific configuration and encapsulation.  </span><br><span class="line"></span><br><span class="line">### Steps to Create a Hybrid Page  </span><br><span class="line"></span><br><span class="line">1. In the **Project** window, open **entry &gt; src &gt; main**.  </span><br><span class="line">2. Right-click the **cangjie** folder.  </span><br><span class="line">3. Select **New &gt; Cangjie Page &gt; Empty Page**.  </span><br><span class="line">4. Name it **Second**.  </span><br><span class="line">5. Select the **With ArkTS Wrapper** option.  </span><br><span class="line">6. Click **OK**.  </span><br><span class="line"></span><br><span class="line">After completing the operations, the project directory will be updated as follows:  </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>entry<br>├── .preview<br>├── build<br>├── libs<br>├── oh_modules<br>└── src<br>     └── main<br>          ├── cangjie<br>          │    ├── loader<br>          │    ├── cjpm.toml<br>          │    └── index.cj<br>          ├── ets<br>          │    ├── entryability<br>          │    ├── entrybackupability<br>          │    └── pages<br>          │         ├── Index.ets<br>          │         └── Second.ets<br>          ├── resources<br>          └── module.json5</p>
<pre><code>
Two key files will be automatically generated:  
- **second.cj** (Cangjie source code) in **src &gt; main &gt; cangjie**.  
- **second.ets** (ArkTS source code) in **src &gt; ets &gt; pages**.  

Additionally, the system will:  
1. Generate the **CJHybridView-vx.y.z.har** package in **entry &gt; har**.  
2. Add this HAR package dependency to the **dependencies** field of **entry &gt; oh-package.json5**.  

### Configuring the Cangjie Page Component  

Edit the **second.cj** file and add UI components:  

```typescript
// second.cj
package ohos_app_cangjie_entry

import ohos.base.*
import ohos.component.*
import ohos.hybrid_base.*
import ohos.state_macro_manage.*
import ohos.state_manage.*
import cj_res_entry.app

@HybridComponentEntry
@Component
class Second &#123;
    @State var msg: String = &quot;Hello Cangjie&quot;

    public func build() &#123;
        Row() &#123;
            Column() &#123;
                Text(this.msg)
                    .fontSize(50)
                    .fontWeight(FontWeight.Bold)

                Button() &#123;
                    Text(&quot;Back&quot;)
                        .fontSize(30)
                        .fontWeight(FontWeight.Bold)
                &#125;
                .shape(ShapeType.Capsule)
                .margin(top: 20)
                .backgroundColor(Color(0x0D9FFB))
                .width(40.percent)
                .height(5.percent)
            &#125;
            .width(100.percent)
        &#125;
        .height(100.percent)
    &#125;
&#125;
</code></pre>
<h3 id="Configuring-the-ArkTS-Wrapper-Page"><a href="#Configuring-the-ArkTS-Wrapper-Page" class="headerlink" title="Configuring the ArkTS Wrapper Page"></a>Configuring the ArkTS Wrapper Page</h3><p>The automatically generated <strong>second.ets</strong> file provides an ArkTS wrapper template:  </p>
<pre><code class="language-typescript">// second.ets
// Embed Cangjie page in ArkTS page
import &#123; CJHybridComponentV2 &#125; from &#39;cjhybridview&#39;;
import &#123; register_hsp_api &#125; from &#39;cjhyapiregister&#39;;

register_hsp_api()

@Entry
@Component
struct Second &#123;
  build() &#123;
    Row() &#123;
      // Embed Cangjie page via CJHybridComponentV2 interface
      CJHybridComponentV2(&#123;
        library: &quot;ohos_app_cangjie_entry&quot;, // Package name of the Cangjie page
        component: &quot;Second&quot;                // Class name of the Cangjie page
      &#125;)
    &#125;
    .height(&#39;100%&#39;)
    .width(&#39;100%&#39;)
  &#125;
&#125;
</code></pre>
<h2 id="V-Implementing-Navigation-Between-Pages"><a href="#V-Implementing-Navigation-Between-Pages" class="headerlink" title="V. Implementing Navigation Between Pages"></a>V. Implementing Navigation Between Pages</h2><p>This section details how to implement navigation between ArkTS and Cangjie pages.  </p>
<h3 id="Navigating-from-the-First-Page-to-the-Second-Page"><a href="#Navigating-from-the-First-Page-to-the-Second-Page" class="headerlink" title="Navigating from the First Page to the Second Page"></a>Navigating from the First Page to the Second Page</h3><p>Add a click event handler to the button in <strong>Index.ets</strong>:  </p>
<pre><code class="language-typescript">// Index.ets
// Import page routing module
import &#123; router &#125; from &#39;@kit.ArkUI&#39;;
import &#123; BusinessError &#125; from &#39;@kit.BasicServicesKit&#39;;

@Entry
@Component
struct Index &#123;
  @State message: string = &#39;Hello World&#39;

  build() &#123;
    Row() &#123;
      Column() &#123;
        Text(this.message)
          .fontSize(50)
          .fontWeight(FontWeight.Bold)
        // Add button to respond to user clicks
        Button() &#123;
          Text(&#39;Next&#39;)
            .fontSize(30)
            .fontWeight(FontWeight.Bold)
        &#125;
        .type(ButtonType.Capsule)
        .margin(&#123;
          top: 20
        &#125;)
        .backgroundColor(&#39;#0D9FFB&#39;)
        .width(&#39;40%&#39;)
        .height(&#39;5%&#39;)
        // Bind onClick event to the navigation button
        .onClick(() =&gt; &#123;
          console.info(`Succeeded in clicking the &#39;Next&#39; button.`)
          // Navigate to the second page
          router.pushUrl(&#123; url: &#39;pages/second&#39; &#125;).then(() =&gt; &#123;
            console.info(&#39;Succeeded in jumping to the second page.&#39;)
          &#125;).catch((err: BusinessError) =&gt; &#123;
            console.error(`Failed to jump to the second page. Code is $&#123;err.code&#125;, message is $&#123;err.message&#125;`)
          &#125;)
        &#125;)
      &#125;
      .width(&#39;100%&#39;)
    &#125;
    .height(&#39;100%&#39;)
  &#125;
&#125;
</code></pre>
<h3 id="Returning-from-the-Second-Page-to-the-First-Page"><a href="#Returning-from-the-Second-Page-to-the-First-Page" class="headerlink" title="Returning from the Second Page to the First Page"></a>Returning from the Second Page to the First Page</h3><p>Since the routing systems of Cangjie and ArkTS are not directly interoperable, callbacks must be implemented through an interoperation mechanism.  </p>
<h4 id="Registering-ArkTS-Functions-on-the-Cangjie-Side"><a href="#Registering-ArkTS-Functions-on-the-Cangjie-Side" class="headerlink" title="Registering ArkTS Functions on the Cangjie Side"></a>Registering ArkTS Functions on the Cangjie Side</h4><p>Edit the <strong>index.cj</strong> file in <strong>entry &gt; src &gt; main &gt; cangjie</strong>:  </p>
<pre><code class="language-typescript">// index.cj
package ohos_app_cangjie_entry

import ohos.base.*
import ohos.ark_interop.*
import ohos.ark_interop_macro.*
import std.collection.*

// Define a global HashMap to store ArkTS-registered functions
public let globalJSFunction = HashMap&lt;String, ()-&gt;Unit&gt;()

@Interop[ArkTS]
public func registerJSFunc(name: String, fn: ()-&gt;Unit): Unit &#123;
    // Check if the function is already registered
    if (globalJSFunction.contains(name)) &#123;
        AppLog.error(&quot;registerJSFunc failed(err: func $&#123;name&#125; already exists)&quot;)
        return
    &#125;
    // Save the function reference
    globalJSFunction.put(name, fn)
&#125;

@Interop[ArkTS]
public func unregisterJSFunc(name: String): Unit &#123;
    globalJSFunction.remove(name)
&#125;
</code></pre>
<p>To generate the interoperation interface file, right-click in the <strong>index.cj</strong> editing window and select <strong>Generate… &gt; Cangjie-ArkTS Interop API</strong>. The auto-generated interface declaration is in <strong>entry &gt; src &gt; main &gt; cangjie &gt; ark_interop_api &gt; ark_interop_api.d.ts</strong>.  </p>
<h4 id="Registering-Routing-Functions-on-the-ArkTS-Side"><a href="#Registering-Routing-Functions-on-the-ArkTS-Side" class="headerlink" title="Registering Routing Functions on the ArkTS Side"></a>Registering Routing Functions on the ArkTS Side</h4><p>Edit <strong>second.ets</strong> and add function registration logic:  </p>
<pre><code class="language-typescript">// second.ets
import &#123; CJHybridComponentV2 &#125; from &#39;cjhybridview&#39;;
import &#123; register_hsp_api &#125; from &#39;cjhyapiregister&#39;;

// Import page routing module
import &#123; router &#125; from &#39;@kit.ArkUI&#39;;
import &#123; BusinessError &#125; from &#39;@kit.BasicServicesKit&#39;;

// Import Cangjie-ArkTS interoperation library
import &#123; requireCJLib &#125; from &#39;libark_interop_loader.so&#39;;
// Import auto-generated interoperation interface
import &#123; CustomLib &#125; from &#39;libark_interop_api.so&#39;;

register_hsp_api()

// Load the Cangjie so library containing registerJSFunc
let cjlib = requireCJLib(&quot;libohos_app_cangjie_entry.so&quot;) as CustomLib

@Entry
@Component
struct Second &#123;
  aboutToAppear(): void &#123;
    // Register callback before page appears
    cjlib.registerJSFunc(&#39;SecondPageRouterBack&#39;, () =&gt; &#123;
      try &#123;
        // Perform return operation
        router.back()
        console.info(&#39;Succeeded in returning to the first page.&#39;)
      &#125; catch (err) &#123;
        let code = (err as BusinessError).code;
        let message = (err as BusinessError).message;
        console.error(`Failed to return to the first page. Code is $&#123;code&#125;, message is $&#123;message&#125;`)
      &#125;
    &#125;)
  &#125;

  aboutToDisappear(): void &#123;
    // Unregister callback before page is destroyed
    cjlib.unregisterJSFunc(&#39;SecondPageRouterBack&#39;)
  &#125;

  build() &#123;
    Row() &#123;
      // Embed Cangjie page component
      CJHybridComponentV2(&#123;
        library: &quot;ohos_app_cangjie_entry&quot;,
        component: &quot;Second&quot;
      &#125;)
    &#125;
    .height(&#39;100%&#39;)
    .width(&#39;100%&#39;)
  &#125;
&#125;
</code></pre>
<h4 id="Calling-ArkTS-Functions-on-the-Cangjie-Side"><a href="#Calling-ArkTS-Functions-on-the-Cangjie-Side" class="headerlink" title="Calling ArkTS Functions on the Cangjie Side"></a>Calling ArkTS Functions on the Cangjie Side</h4><p>Edit <strong>second.cj</strong> and add event handling for the return button:  </p>
<pre><code class="language-typescript">// second.cj
package ohos_app_cangjie_entry

import ohos.base.*
import ohos.component.*
import ohos.hybrid_base.*
import ohos.state_macro_manage.*
import ohos.state_manage.*
import cj_res_entry.app

@HybridComponentEntry
@Component
class Second &#123;
    @State var msg: String = &quot;Hello Cangjie&quot;

    public func build() &#123;
        Row() &#123;
            Column() &#123;
                Text(this.msg)
                    .fontSize(50)
                    .fontWeight(FontWeight.Bold)

                Button() &#123;
                    Text(&quot;Back&quot;)
                        .fontSize(30)
                        .fontWeight(FontWeight.Bold)
                &#125;
                .shape(ShapeType.Capsule)
                .margin(top: 20)
                .backgroundColor(Color(0x0D9FFB))
                .width(40.percent)
                .height(5.percent)
                // Bind click event to the return button
                .onClick &#123;
                    AppLog.info(&quot;Succeeded in clicking the &#39;Back&#39; button.&quot;)
                    let optFn = globalJSFunction.get(&quot;SecondPageRouterBack&quot;)
                    if (let Some(fn) &lt;- optFn) &#123;
                        fn() // Call the callback registered by ArkTS
                    &#125; else &#123;
                        AppLog.error(&quot;Failed to return to the first page. Callback not exists&quot;)
                    &#125;
                &#125;
            &#125;
            .width(100.percent)
        &#125;
        .height(100.percent)
    &#125;
&#125;
</code></pre>
<h2 id="VI-Running-and-Testing-the-Application"><a href="#VI-Running-and-Testing-the-Application" class="headerlink" title="VI. Running and Testing the Application"></a>VI. Running and Testing the Application</h2><p>After completing development, test the application on a real device or simulator.  </p>
<h3 id="Running-on-a-Local-Real-Device"><a href="#Running-on-a-Local-Real-Device" class="headerlink" title="Running on a Local Real Device"></a>Running on a Local Real Device</h3><ol>
<li>Connect a HarmonyOS device to the computer via USB.  </li>
<li>In DevEco Studio, go to <strong>File &gt; Project Structure… &gt; Project &gt; SigningConfigs</strong>.  </li>
<li>Check <strong>Support HarmonyOS</strong> and <strong>Automatically generate signature</strong>.  </li>
<li>Click <strong>Sign In</strong> and log in with a Huawei account.  </li>
<li>Wait for automatic signing to complete, then click <strong>OK</strong>.  </li>
<li>Click the run button in the upper-right toolbar of the editing window.</li>
</ol>
<h3 id="Running-on-a-Simulator"><a href="#Running-on-a-Simulator" class="headerlink" title="Running on a Simulator"></a>Running on a Simulator</h3><ol>
<li>Create a Phone-type simulator device.  </li>
<li>Select the simulator in the DevEco Studio device list.  </li>
<li>Note: The default compilation architecture for Cangjie projects is arm64-v8a.  </li>
<li>For x86 simulators (Windows&#x2F;x86_64 or MacOS&#x2F;x86_64), add x86_64 support in <strong>entry &gt; build-profile.json5</strong>:</li>
</ol>
<pre><code class="language-json">&quot;buildOption&quot;: &#123;
  &quot;cangjieOptions&quot;: &#123;
    &quot;path&quot;: &quot;./src/main/cangjie/cjpm.toml&quot;,
    &quot;abiFilters&quot;: [&quot;arm64-v8a&quot;, &quot;x86_64&quot;]
  &#125;
&#125;
</code></pre>
<ol start="5">
<li>Click the run button to test.</li>
</ol>
<h2 id="VII-Summary-and-Extensions"><a href="#VII-Summary-and-Extensions" class="headerlink" title="VII. Summary and Extensions"></a>VII. Summary and Extensions</h2><p>Congratulations on completing the development of your first Cangjie and ArkTS hybrid application! Through this tutorial, you have mastered</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/HarmonyOS-Next/" rel="tag"># HarmonyOS Next</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2025/06/30/4830-Daily-HarmonyOS-Next-Knowledge-TensorFlow-Lite-Compilation-Audio-Encoding-Threads-Immersive-Status-Bar-TextArea-Byte-Limit-etc/" rel="prev" title="[Daily HarmonyOS Next Knowledge] TensorFlow Lite Compilation, Audio Encoding Threads, Immersive Status Bar, TextArea Byte Limit, etc.">
      <i class="fa fa-chevron-left"></i> [Daily HarmonyOS Next Knowledge] TensorFlow Lite Compilation, Audio Encoding Threads, Immersive Status Bar, TextArea Byte Limit, etc.
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Guide-to-Developing-the-First-Cangjie-and-ArkTS-Hybrid-HarmonyOS-Next-Application"><span class="nav-number">1.</span> <span class="nav-text">Guide to Developing the First Cangjie and ArkTS Hybrid HarmonyOS Next Application</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#I-Environment-Preparation-and-Project-Creation"><span class="nav-number">1.1.</span> <span class="nav-text">I. Environment Preparation and Project Creation</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Steps-to-Create-a-Hybrid-Project"><span class="nav-number">1.1.1.</span> <span class="nav-text">Steps to Create a Hybrid Project</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#II-Analysis-of-Project-Directory-Structure"><span class="nav-number">1.2.</span> <span class="nav-text">II. Analysis of Project Directory Structure</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Configuring-the-ArkTS-Wrapper-Page"><span class="nav-number">1.2.1.</span> <span class="nav-text">Configuring the ArkTS Wrapper Page</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#V-Implementing-Navigation-Between-Pages"><span class="nav-number">1.3.</span> <span class="nav-text">V. Implementing Navigation Between Pages</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Navigating-from-the-First-Page-to-the-Second-Page"><span class="nav-number">1.3.1.</span> <span class="nav-text">Navigating from the First Page to the Second Page</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Returning-from-the-Second-Page-to-the-First-Page"><span class="nav-number">1.3.2.</span> <span class="nav-text">Returning from the Second Page to the First Page</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Registering-ArkTS-Functions-on-the-Cangjie-Side"><span class="nav-number">1.3.2.1.</span> <span class="nav-text">Registering ArkTS Functions on the Cangjie Side</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Registering-Routing-Functions-on-the-ArkTS-Side"><span class="nav-number">1.3.2.2.</span> <span class="nav-text">Registering Routing Functions on the ArkTS Side</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Calling-ArkTS-Functions-on-the-Cangjie-Side"><span class="nav-number">1.3.2.3.</span> <span class="nav-text">Calling ArkTS Functions on the Cangjie Side</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#VI-Running-and-Testing-the-Application"><span class="nav-number">1.4.</span> <span class="nav-text">VI. Running and Testing the Application</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Running-on-a-Local-Real-Device"><span class="nav-number">1.4.1.</span> <span class="nav-text">Running on a Local Real Device</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Running-on-a-Simulator"><span class="nav-number">1.4.2.</span> <span class="nav-text">Running on a Simulator</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#VII-Summary-and-Extensions"><span class="nav-number">1.5.</span> <span class="nav-text">VII. Summary and Extensions</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Qingkouwei</p>
  <div class="site-description" itemprop="description">Welcome to the HarmonyOS NEXT Knowledge Charging Station!  This is a hub for knowledge about HarmonyOS Next`s new-generation system. With its self-developed kernel, HarmonyOS NEXT achieves native smoothness, security, intelligence, and interconnectivity. We deeply analyze how its new distributed soft bus revolutionizes device connectivity experiences and explain the principles behind the enhanced perception and reasoning capabilities of the Xiaoyi intelligent agent based on the Pangu large model. Whether you are a developer exploring application development or an ordinary user eager to understand system features, you can "recharge" here and quickly grasp the essence of HarmonyOS NEXT.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">343</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Qingkouwei</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
